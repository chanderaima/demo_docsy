<!doctype html>
<html itemscope itemtype="http://schema.org/WebPage" lang="en" class="no-js">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="generator" content="Hugo 0.110.0">
<link rel="canonical" type="text/html" href="http://localhost:8080/docs/">
<link rel="alternate" type="application/rss&#43;xml" href="http://localhost:8080/docs/index.xml">
<meta name="robots" content="noindex, nofollow">


<link rel="shortcut icon" href="/favicons/favicon.ico" >
<link rel="apple-touch-icon" href="/favicons/apple-touch-icon-180x180.png" sizes="180x180">
<link rel="icon" type="image/png" href="/favicons/favicon-16x16.png" sizes="16x16">
<link rel="icon" type="image/png" href="/favicons/favicon-32x32.png" sizes="32x32">
<link rel="icon" type="image/png" href="/favicons/android-36x36.png" sizes="36x36">
<link rel="icon" type="image/png" href="/favicons/android-48x48.png" sizes="48x48">
<link rel="icon" type="image/png" href="/favicons/android-72x72.png" sizes="72x72">
<link rel="icon" type="image/png" href="/favicons/android-96x96.png" sizes="96x96">
<link rel="icon" type="image/png" href="/favicons/android-144x144.png" sizes="144x144">
<link rel="icon" type="image/png" href="/favicons/android-192x192.png" sizes="192x192">

<title>Documentation | Cisco Intersight Help Center</title>
<meta name="description" content="Intersight Help Center">
<meta property="og:title" content="Documentation" />
<meta property="og:description" content="Intersight Help Center" />
<meta property="og:type" content="website" />
<meta property="og:url" content="http://localhost:8080/docs/" /><meta property="og:site_name" content="Cisco Intersight Help Center" />
<meta itemprop="name" content="Documentation">
<meta itemprop="description" content="Intersight Help Center"><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Documentation"/>
<meta name="twitter:description" content="Intersight Help Center"/>




<link rel="preload" href="/scss/main.min.e11efc06b81857df9076372682bad7c32557f08e26a3110dc68e0400e7c28a9c.css" as="style">
<link href="/scss/main.min.e11efc06b81857df9076372682bad7c32557f08e26a3110dc68e0400e7c28a9c.css" rel="stylesheet" integrity="">

<script
  src="https://code.jquery.com/jquery-3.6.0.min.js"
  integrity="sha384-vtXRMe3mGCbOeY7l30aIg8H9p3GdeSe4IFlP6G8JMa7o7lXvnz3GFKzPxzJdPfGK"
  crossorigin="anonymous"></script>
<script defer
  src="https://unpkg.com/lunr@2.3.9/lunr.min.js"
  integrity="sha384-203J0SNzyqHby3iU6hzvzltrWi/M41wOP5Gu+BiJMz5nwKykbkUx8Kp7iti0Lpli"
  crossorigin="anonymous"></script>
<link rel="stylesheet" href="/css/prism.css"/>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-00000000-0"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'UA-00000000-0');
}
</script>
  </head>
  <body class="td-section">
    <header>
      <nav class="js-navbar-scroll navbar navbar-expand navbar-dark flex-column flex-md-row td-navbar">
  <a class="navbar-brand" href="/"><span class="navbar-brand__logo navbar-logo"></span><span class="navbar-brand__name">Cisco Intersight Help Center</span></a>
  <div class="td-navbar-nav-scroll ml-md-auto" id="main_navbar">
    <ul class="navbar-nav mt-2 mt-lg-0">
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link active" href="/docs/"><span class="active">Documentation</span></a>
      </li>
      <li class="nav-item mr-4 mb-2 mb-lg-0">
        <a class="nav-link" href="/community/"><span>Community</span></a>
      </li>
      <li class="nav-item dropdown mr-4 d-none d-lg-block">
        

<a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	English
</a>
<div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
	
	<a class="dropdown-item" href="/no/docs/">Norsk</a>
	
	<a class="dropdown-item" href="/fa/docs/">فارسی</a>
	
</div></li>
      </ul>
  </div>
  <div class="navbar-nav d-none d-lg-block">
    <div class="td-search td-search--offline">
  <div class="td-search__icon"></div>
  <input
    type="search"
    class="td-search__input form-control"
    placeholder="Search this site…"
    aria-label="Search this site…"
    autocomplete="off"
    
    data-offline-search-index-json-src="/offline-search-index.be7c0104b838904556a506e9b6669232.json"
    data-offline-search-base-href="/"
    data-offline-search-max-results="10"
  >
</div>

  </div>
</nav>
    </header>
    <div class="container-fluid td-outer">
      <div class="td-main">
        <div class="row flex-xl-nowrap">
          <main class="col-12 col-md-9 col-xl-8 pl-md-5" role="main">
            




<div class="td-content">
<div class="pageinfo pageinfo-primary d-print-none">
<p>
This is the multi-page printable view of this section.
<a href="#" onclick="print();return false;">Click here to print</a>.
</p><p>
<a href="/docs/">Return to the regular view of this page</a>.
</p>
</div>



<h1 class="title">Documentation</h1>





    <ul>
    
  
  
  
  

  
    
    
	
<li>1: <a href="#pg-f70b4a12904b125c12a9118d07a5aeb5">Home</a></li>


    
    <ul>
        
  
  
  
  

  

    </ul>
    
  
    
    
	
<li>2: <a href="#pg-93aadc1aba179e6928539400a09b9e4e">Overview</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>2.1: <a href="#pg-15d4db02af753ef0ddf6af0cdfc2fd71">Account Creation</a></li>


    
  
    
    
	
<li>2.2: <a href="#pg-792cf232c54cded2b018b362c0b97b48">Claim Target</a></li>


    
  

    </ul>
    
  
    
    
	
<li>3: <a href="#pg-81e8bbc2ad106436c6d1fb919a9e6c6e">What&#39;s New</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>3.1: <a href="#pg-0c5fd77eb3c5d174f8fa44a1e3f94da9">2023</a></li>


    
  
    
    
	
<li>3.2: <a href="#pg-07bef9cdcd9a2137d371197bc18d10ed">2022</a></li>


    
  
    
    
	
<li>3.3: <a href="#pg-7707fa6185e9e47b7ae1af3565444b67">2021</a></li>


    
  
    
    
	
<li>3.4: <a href="#pg-aea0fe5e0b9b6c03c866b12b9739b28d">New What&#39;s New</a></li>


    
  

    </ul>
    
  
    
    
	
<li>4: <a href="#pg-92b3b1c77c15dbc4e2e1bec50d460eea">Intersight Cloud Ochestrator</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>4.1: <a href="#pg-202707fab7ead400a82be320a417b7c0">Workflow Designer</a></li>


    
  
    
    
	
<li>4.2: <a href="#pg-deebdd453e4ca3228c0a70d160dfa157">Task Designer</a></li>


    
  
    
    
	
<li>4.3: <a href="#pg-d8b9188a7b25467baa07c92b61f2f4cb">Data Type</a></li>


    
  
    
    
	
<li>4.4: <a href="#pg-d9df99bb438514660e58283c6bc600ea">Sample Topic</a></li>


    
  
    
    
	
<li>4.5: <a href="#pg-b48fb96aa1374aab4778c038f49fc60f">Template Syntax (Go Template)</a></li>


    
  
    
    
	
<li>4.6: <a href="#pg-7d1d99224bd455b4117a9fc8a07ea532">Cisco Intersight ICO</a></li>


    
  
    
    
	
<li>4.7: <a href="#pg-1d00da7bb216ac1ee5476bd131f920a8">Cisco Intersight ICO - Post-conversion Cleanup</a></li>


    
  
    
    
	
<li>4.8: <a href="#pg-650637181459c1c25669ba2fc67c40dd">Executors</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>4.8.1: <a href="#pg-4cfa2155ed48e5d2c70094bc9e28d849">Ansible</a></li>


    
  
    
    
	
<li>4.8.2: <a href="#pg-44ac04f730d33a9fa74fb36f863cb2ce">Ansible Resuable</a></li>


    
  
    
    
	
<li>4.8.3: <a href="#pg-ab1b24fab9dd0f0511926c1acc3c654f">Powershell</a></li>


    
  
    
    
	
<li>4.8.4: <a href="#pg-0046162e1873ec9b264b5e8ca7cf2245">SSH Commands</a></li>


    
  
    
    
	
<li>4.8.5: <a href="#pg-f9a3efd1d619b84748a90c844dfa331b">SSH Commands - Reusable</a></li>


    
  
    
    
	
<li>4.8.6: <a href="#pg-7b3c262dd7e4461a6491d762ea4d9103">Sample File</a></li>


    
  
    
    
	
<li>4.8.7: <a href="#pg-c69e288e27b8f8f2f2965c7f6b956d58">WebAPI</a></li>


    
  

    </ul>
    
  

    </ul>
    
  
    
    
	
<li>5: <a href="#pg-9e470549caf2c9c9987843201c17a631">Hulk 2.0</a></li>


    
    <ul>
        
  
  
  
  

  
    
    
	
<li>5.1: <a href="#pg-de977687b193f14fb37dca60bc10d171">New Features 1</a></li>


    
  
    
    
	
<li>5.2: <a href="#pg-fbc9820f28944b92d7fd077b4dddecf9">New Features 2</a></li>


    
  
    
    
	
<li>5.3: <a href="#pg-9cc44fa1c2f5f05c3c9083462372f9d8"></a></li>


    
  

    </ul>
    
  
    
    
	
<li>6: <a href="#pg-722d8a43dd56a6b08d3f26a23ad4fc53">Caveats</a></li>


    
  
    
    
	
<li>7: <a href="#pg-f8c39addb5d2f863afb2dfccf7c82b32">FAQs</a></li>


    
  
    
    
	
<li>8: <a href="#pg-1953ab71c2b09eb2bae84a9b3d4c8ffd">Videos</a></li>


    
  

    </ul>


<div class="content">
      

<div class="pageinfo pageinfo-primary">
<p>This is a placeholder page that shows you how to use this template site.</p>

</div>

<p>This section is where the user documentation for your project lives - all the information your users need to understand and successfully use your project.</p>
<p>For large documentation sets we recommend adding content under the headings in this section, though if some or all of them don&rsquo;t apply to your project feel free to remove them or add your own. You can see an example of a smaller Docsy documentation site in the <a href="https://docsy.dev/docs/">Docsy User Guide</a>, which lives in the <a href="https://github.com/google/docsy/tree/master/userguide">Docsy theme repo</a> if you&rsquo;d like to copy its docs section.</p>
<p>Other content such as marketing material, case studies, and community updates should live in the <a href="/about/">About</a> and <a href="/community/">Community</a> pages.</p>
<p>Find out how to use the Docsy theme in the <a href="https://docsy.dev/docs/">Docsy User Guide</a>. You can learn more about how to organize your documentation (and how we organized this site) in <a href="https://docsy.dev/docs/best-practices/organizing-content/">Organizing Your Content</a>.</p>

</div>
</div>


  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f70b4a12904b125c12a9118d07a5aeb5">1 - Home</h1>
    <div class="lead">Here&rsquo;s where your user finds out if your project is for them.</div>
	<p>The Overview is where your users find out about your project. Depending on the size of your docset, you can have a separate overview page (like this one) or put your overview contents in the Documentation landing page (like in the Docsy User Guide).</p>
<p>Try answering these questions for your user in this page:</p>
<h2 id="what-is-it">What is it?</h2>
<p>Introduce your project, including what it does or lets you do, why you would use it, and its primary goal (and how it achieves it). This should be similar to your README description, though you can go into a little more detail here if you want.</p>
<h2 id="why-do-i-want-it">Why do I want it?</h2>
<p>Help your user know if your project will help them. Useful information can include:</p>
<ul>
<li>
<p><strong>What is it good for?</strong>: What types of problems does your project solve? What are the benefits of using it?</p>
</li>
<li>
<p><strong>What is it not good for?</strong>: For example, point out situations that might intuitively seem suited for your project, but aren&rsquo;t for some reason. Also mention known limitations, scaling issues, or anything else that might let your users know if the project is not for them.</p>
</li>
<li>
<p><strong>What is it <em>not yet</em> good for?</strong>: Highlight any useful features that are coming soon.</p>
</li>
</ul>
<h2 id="where-should-i-go-next">Where should I go next?</h2>
<p>Give your users next steps from the Overview. For example:</p>
<ul>
<li><a href="/docs/getting-started/">Getting Started</a>: Get started with $project</li>
<li><a href="/docs/examples/">Examples</a>: Check out some example code!</li>
</ul>

</div>



    
      
  
  
  
  

  
  

  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-93aadc1aba179e6928539400a09b9e4e">2 - Overview</h1>
    <div class="lead">What does your user need to know to try your project?</div>
	<p>Cisco Intersight is a cloud operations platform that consists of optional, modular capabilities of advanced infrastructure, workload optimization, and Kubernetes services. Cisco Intersight infrastructure services include the deployment, monitoring, management, and support of your physical and virtual infrastructure. It supports Cisco Unified Computing System (Cisco UCS) and Cisco HyperFlex hyperconverged infrastructure (HCI), and other third-party Intersight-connected targets. The level of functionality may vary by target type.</p>
<p>With Intersight, you get all of the benefits of SaaS delivery and full lifecycle management of distributed Intersight-connected servers and third-party storage across data centers, remote sites, branch offices, and edge environments. This empowers you to analyze, update, fix, and automate your environment in ways that were not possible with prior generations&rsquo; tools. As a result, your organization can achieve significant TCO savings and deliver applications faster in support of new business initiatives.</p>
<p>The Intersight platform works in conjunction with Cisco UCS Manager, Cisco Integrated Management Controller (IMC), and Cisco HyperFlex Connect. You can simply associate a model-based configuration to provision servers and associated storage and fabric automatically, regardless of form factor. Using profiles, IT staff can consistently align policy, server personality, and workloads. These policies can be created once and used to simplify server deployments, resulting in improved productivity and compliance, and lower risk of failures due to inconsistent configuration. In addition, Cisco provides integrations to third-party operations tools, starting with ServiceNow, to allow customers to use their existing solutions more efficiently.</p>
<p>Cisco Intersight offers flexible deployment either as Software as a Service (SaaS) on Intersight.com or running on your premises as Cisco Intersight Virtual Appliance. The virtual appliance provides the benefits of Cisco Intersight while allowing more flexibility for those with additional data locality and security requirements. The Cisco Intersight connected Virtual Appliance software can be deployed on premises, allowing users to take advantage of the SaaS functionality. The Private Virtual Appliance can be deployed on premises with further security restrictions. To learn more about the virtual appliance, see the Cisco Intersight Virtual Appliance Getting Started Guide.</p>
<p>Cisco Intersight includes an API that supports the OpenAPI Specification, a powerful definition format to describe RESTful APIs. Support for the OpenAPI specification provides access to an interoperable REST API with tools that automate the generation of the Intersight API documentation, API schemas, and SDKs. The Intersight API includes fully functional Python and PowerShell SDKs.</p>
<p>To get started with Intersight, watch the Getting Started with Cisco Intersight Infrastructure Services video.</p>

</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-15d4db02af753ef0ddf6af0cdfc2fd71">2.1 - Account Creation</h1>
    <div class="lead">A short lead description about this content page. It can be <strong>bold</strong> or <em>italic</em> and can be split over multiple paragraphs.</div>
	<h1 id="create-a-cisco-intersight-account">Create a Cisco Intersight Account</h1>
<div class="body refbody">
<div class="section">
<p>To get started with Cisco Intersight, create a Cisco Intersight account:</p>
<ol>
<li>
<div
id="Cisco_Reference.dita_efc3aa2d-db50-4b94-8833-a045c8b74929__li_8FCCA39C338E44A0A84FA4B729A80BAA">
<p>Visit <a href="https://intersight.com/" class="xref"
target="_blank">https://intersight.com/</a> to create your
Intersight account. You must have a valid Cisco ID to create a Cisco
Intersight account. If you do not have a Cisco ID, create one
<a href="https://id.cisco.com/ui/v1.0/profile-ui" class="xref"
target="_blank">here</a>.</p>
</div>
</li>
<li>
<p>In the <span class="keyword wintitle">Welcome to Intersight</span>
screen, click the <span class="ph uicontrol">Create an
account</span> link.</p>
</li>
<li>
<p>In the <span class="ph uicontrol">End User License Agreement</span>,
click the checkbox next to <span class="ph uicontrol">I
accept</span>, and then click <span
class="ph uicontrol">Next</span>.</p>
</li>
<li>
<p>In the <span class="keyword wintitle">Account Creation</span> dialog
box, enter a name for your account in the <span
class="ph uicontrol">Account Name</span> field.</p>
<div class="note note">
<p><span class="notetitle">Note:</span>
An <span class="ph uicontrol">Account Name</span> can only contain
letters(a-z, A-Z), numbers(0-9) or hyphen(-).</p>
</div>
</li>
<li>
<p>Click <span class="ph uicontrol">Create</span>.</p>
</li>
<li>
<p>Do one of the following:</p>
<ul>
<li>
<p><a
href="/help/getting_started/licensing_requirements#enabling_trial_license"
class="xref" target="_blank">Enable Trial License</a>.</p>
</li>
<li>
<p><a
href="/help/getting_started/licensing_requirements#registering_product_license"
class="xref" target="_blank">Register Product License</a>.</p>
</li>
</ul>
</li>
</ol>
<p>After creating an Intersight account, you can begin claiming targets to
manage your endpoints.</p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    It is possible to bypass the Intersight main page during login by using
a link containing the Intersight account and SSO ID, which takes take
you directly to your identity provider for authentication. The link
should be structured to include the Account ID, as well as the user ID
being authenticated. An example of the link is: <a
href="https://5eb2e1e47564612d3079fe92.intersight.com/iam/weblogin?email=abc@domain.com"
class="xref"
target="_blank"><a href="https://5eb2e1e47564612d3079fe92.intersight.com/iam/weblogin?email=abc@domain.com">https://5eb2e1e47564612d3079fe92.intersight.com/iam/weblogin?email=abc@domain.com</a>&lt;/a

</div>

<p><strong>To know more about the Cisco Intersight account creation process, watch
the video:</strong></p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/oFzOqjoQ7t0" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-792cf232c54cded2b018b362c0b97b48">2.2 - Claim Target</h1>
    <div class="lead">A short lead description about this content page. It can be <strong>bold</strong> or <em>italic</em> and can be split over multiple paragraphs.</div>
	<h2 id="minimum-permissions-for-targets">Minimum Permissions for Targets</h2>
<p>The following table lists the minimum endpoint privileges required for
targets:</p>
<div class="tablenoborder">
<table>
<thead>
<tr>
<th>Targets</th>
<th>Endpoint Privileges</th>
</tr>
</thead>
<tbody>
<tr>
<td>Hitachi Virtual Storage Platform</td>
<td>Administrator</td>
</tr>
<tr>
<td>VMware vCenter</td>
<td>Administrator</td>
</tr>
<tr>
<td>Pure Storage FlashArray</td>
<td>Array Administrator</td>
</tr>
<tr>
<td>NetApp Active IQ Unified Manager for NetApp ONTAP</td>
<td>Administrator</td>
</tr>
<tr>
<td>Cisco UCS C890 M5 Rack Server</td>
<td>Administrator</td>
</tr>
<tr>
<td>Dell PowerEdge and HPE ProLiant Redfish Servers</td>
<td>Administrator</td>
</tr>
<tr>
<td>Cisco Nexus Switch</td>
<td>Administrator</td>
</tr>
<tr>
<td>Cisco MDS Switch</td>
<td>Administrator</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section">
<h2 id="target-claim">Target Claim</h2>
<p>To claim a new target, do the following:</p>
<ol>
<li>
<p>Log into Intersight with the Account Administrator, Device
Administrator, or Device Technician privileges.</p>
</li>
<li>
<p>From the <strong>Service Selector</strong>
drop-down list, select <strong>System</strong>.</p>
</li>
<li>
<p>Navigate to <span class="ph menucascade"><span
class="ph-uicontrol">ADMIN** &gt; <span
class="ph-uicontrol">Targets** &gt; <span
class="ph-uicontrol">Claim a New Target****.</p>
</li>
<li>
<p>Choose <strong>Available for Claiming</strong> and
select the target type you want to claim. Click <span
class="ph-uicontrol">Start**.</p>
</li>
<li>
<p>Enter the required details and click <span
class="ph-uicontrol">Claim** to complete the claiming process.</p>
</li>
</ol>
</div>
<div class="section">
<h3 id="target-claim-for-computefabric-hyperconverged-orchestrator-and-platform-services-targets">Target Claim for Compute/Fabric, Hyperconverged, Orchestrator, and Platform Services Targets</h3>
<ol>
<li>
<p>From the Targets table view, click <strong>Claim a
New Target</strong>, select the target type, and enter the following
details:</p>
</li>
<li>
<p>Enter the applicable <strong>Device ID</strong>.
Endpoint targets connect to the Cisco Intersight portal through a
Device Connector that is embedded in the management controller
(Management VM for Cisco UCS Director) of each system. The Device
Connector provides a secure way for connected targets to send
information and receive control instructions from the Cisco
Intersight portal, using a secure Internet connection. The following
table provides the format of the device ID and the device connector
location:</p>
</li>
<li>
<p><strong>Claim Code</strong>&mdash;Enter the device claim
code and click <strong>Claim</strong>. You can find
this code in the Device Connector.</p>
<div class="note note">
<p><span class="notetitle">Note:**
Before you gather the Claim Code, ensure that the Device Connector
has outbound network access to Cisco Intersight, and is in the &ldquo;Not
Claimed&rdquo; state.</p>
</div>
</li>
<li>
<p><strong>Resource Groups</strong>&mdash;Select the
Resource Group from the list to add it to the Organization.</p>
<div class="note note">
<p><span class="notetitle">Note:**
The Resource Group selection is enabled for the supported targets.
Refer **Note** added in the following
targets table to view supported target list.</p>
</div>
</li>
<li>
<p>Click <strong>Claim</strong>.</p>
<p>After the targets are claimed, you can view the managed targets in
the <strong>Targets</strong> table view.</p>
<p><strong>Device ID Format and Device Connector
Location</strong></p>
<div class="tablenoborder">
<table data-frame="border" data-border="1"  >
<colgroup>
<col style="width: 30%" />
<col style="width: 35%" />
<col style="width: 33%" />
</colgroup>
<thead class="thead" >
<tr class="header row">
<th id="d33e326" class="entry cellrowborder"
style="vertical-align: top"><p>Targets</p></th>
<th id="d33e332" class="entry cellrowborder"
style="vertical-align: top"><p>Device ID Format and Example</p></th>
<th id="d33e338" class="entry cellrowborder"
style="vertical-align: top"><p>Device Connector Location</p></th>
</tr>
</thead>
<tbody class="tbody">
<tr class="odd row">
<td colspan="3" class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 d33e332 d33e338 "><p>**Compute
/ Fabric**</p></td>
</tr>
<tr class="even row">
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 "><p>Cisco UCS Server (Standalone)</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e332 "><p>Serial Number</p>
<p>Example: NGTR12345</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e338 "><p>From <span class="ph menucascade"><span
class="ph-uicontrol">Admin** &gt; **
Device Connector**** in Cisco IMC</p></td>
</tr>
<tr class="odd row">
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 "><p>Cisco UCS Domain (UCSM Managed)</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e332 "><p>Device serial ID of the primary and subordinate
Fabric Interconnects</p>
<p>Example: [SAL1924GKV6&amp;SAL1913CJ7V]</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e338 "><p>From <span class="ph menucascade"><span
class="ph-uicontrol">Admin** &gt; **
Device Connector**** in Cisco UCS Manager</p></td>
</tr>
<tr class="even row">
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 "><p>Cisco UCS Domain (Intersight Managed)</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e332 "><p>Device serial ID of the primary and subordinate
Fabric Interconnects</p>
<p>Example: [SAL1924GKV6&amp;SAL1913CJ7V]</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e338 "><p>Device Connector in Device Console</p></td>
</tr>
<tr class="odd row">
<td colspan="3" class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 d33e332 d33e338 "><p><span
class="ph-uicontrol">Platform Services**</p></td>
</tr>
<tr class="even row">
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 "><p>Cisco Intersight Appliance</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e332 "><p>xxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e338 "><p>From <span class="ph menucascade"><span
class="ph-uicontrol">Settings** &gt; <span
class="ph-uicontrol">Cloud Connection** &gt; <span
class="ph-uicontrol">Device Connector**** in Intersight
Appliance</p></td>
</tr>
<tr class="odd row">
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 "><p>Cisco Intersight Assist</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e332 "><p>xxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e338 "><p>From <span class="ph menucascade"><span
class="ph-uicontrol">Settings** &gt; <span
class="ph-uicontrol">Cloud Connection** &gt; <span
class="ph-uicontrol">Device Connector**** in Intersight
Assist</p></td>
</tr>
<tr class="even row">
<td colspan="3" class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 d33e332 d33e338 "><p>Hyperconverged Target</p></td>
</tr>
<tr class="odd row">
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 "><p>Cisco HyperFlex Cluster</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e332 "><p>Cluster UUID</p>
<p>Example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e338 "><p>From <span class="ph menucascade"><span
class="ph-uicontrol">HyperFlex Connect UI** &gt; <span
class="ph-uicontrol"> Settings** &gt; <span
class="ph-uicontrol">Device Connector**** in Cisco
HyperFlex</p></td>
</tr>
<tr class="even row">
<td colspan="3" class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 d33e332 d33e338 "><p><span
class="ph-uicontrol">Orchestrator**</p></td>
</tr>
<tr class="odd row">
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 "><p>Cisco UCS Director</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e332 "><p>Device ID</p>
<p>Example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e338 "><p>From <span class="ph menucascade"><span
class="ph-uicontrol">Administration** &gt; <span
class="ph-uicontrol">Device Connector**** in Cisco UCS
Director</p></td>
</tr>
<tr class="even row">
<td colspan="3" class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 d33e332 d33e338 "><p><span
class="ph-uicontrol">Others**</p></td>
</tr>
<tr class="odd row">
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 "><p>Cisco Data Center Network Manager (DCNM)</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e332 "><p>Device ID</p>
<p>Example: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e338 "><p>From <span class="ph menucascade"><span
class="ph-uicontrol">Administration** &gt; <span
class="ph-uicontrol">DCNM Server ** &gt; <span
class="ph-uicontrol">Device Connector**** in Cisco
DCNM</p></td>
</tr>
<tr class="even row">
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 "><p>Cisco Application Policy Infrastructure Controller
(APIC)</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e332 "><p>Device ID made up of the serial ID of the APIC
nodes</p>
<p>Example: DIF1123FGFG&amp; DIF2345GHJK &amp; DIS5678SDFG</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e338 "><p>From <span class="ph menucascade"><span
class="ph-uicontrol">System** &gt; <span
class="ph-uicontrol">System Settings** &gt; <span
class="ph-uicontrol">Intersight** &gt; <span
class="ph-uicontrol">Intersight Device Connector**** in Cisco
APIC</p></td>
</tr>
<tr class="odd row">
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 "><p>Cisco Application Services Engine</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e332 "><p>Device ID made up of the serial ID of the Service
nodes</p>
<p>Example: DIF1123FGFG&amp; DIF2345GHJK &amp; DIS5678SDFG</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e338 "><p>From <span class="ph menucascade"><span
class="ph-uicontrol">Cisco APIC** &gt; <span
class="ph-uicontrol">Apps** &gt; **Cisco
Application Services Engine** &gt; <span
class="ph-uicontrol">Intersight**** for Cisco Application
Services Engine</p></td>
</tr>
<tr class="even row">
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e326 "><p>Cisco Nexus Dashboard</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e332 "><p>Device ID made up of the serial ID of the Service
nodes</p>
<p>Example:WMP24070021&amp;WMP240700ED&amp;WMP240700FN&amp;WMP241000RJ&amp;WMP241000UQ&amp;WMP241000UR</p></td>
<td class="entry cellrowborder" style="vertical-align: top"
headers="d33e338 "><p>From <span class="ph menucascade"><span
class="ph-uicontrol">Cisco Nexus Dashboard** &gt; <span
class="ph-uicontrol">Infrastructure** &gt; <span
class="ph-uicontrol">Intersight ** &gt; <span
class="ph-uicontrol">Intersight Device Connector****</p></td>
</tr>
</tbody>
</table>
</div>
</li>
</ol>
<div class="note note">
<p><span class="notetitle">Note:**</p>
<ul>
<li>
<p>Following are the targets that support target claim for the
Organization using Resource Groups:</p>
<ul>
<li>
<p>Cisco UCS Server (Standalone)</p>
</li>
<li>
<p>Cisco UCS Domain (UCSM Managed)</p>
</li>
<li>
<p>Cisco UCS Domain (Intersight Managed)</p>
</li>
<li>
<p>Cisco Intersight Appliance</p>
</li>
<li>
<p>Cisco Intersight Assist</p>
</li>
<li>
<p>Cisco HyperFlex Cluster</p>
</li>
<li>
<p>Cisco UCS Director</p>
</li>
<li>
<p>Cisco Data Center Network Manager (DCNM)</p>
</li>
<li>
<p>Cisco Application Policy Infrastructure Controller (APIC)</p>
</li>
<li>
<p>Cisco Nexus Dashboard</p>
</li>
</ul>
</li>
<li>
<p>For more information about Enabling Intersight Management and
Configuring the Device Connector on the Management Interfaces, see the
appropriate documentation that is listed below:</p>
<ul>
<li>
<p><a
href="https://www.cisco.com/c/en/us/td/docs/unified_computing/ucs/ucs-manager/GUI-User-Guides/Admin-Management/4-2/b_Cisco_UCS_Admin_Mgmt_Guide_4-2/m_gui_cisco_intersight_management.html#concept_BBBDE52F9AFB484B880F625B14CE6483"
class="xref" target="_blank">Cisco UCS Manager Administration Guide</a></p>
</li>
<li>
<p><a
href="https://www.cisco.com/c/en/us/td/docs/unified_computing/ucs/c/sw/gui/config/guide/4_2/b_cisco_ucs_c-series_gui_configuration_guide_42/b_Cisco_UCS_C-series_GUI_Configuration_Guide_41_chapter_010001.html#task_D1C22EDEC0BA41A59475EDA920AB6B13"
class="xref" target="_blank">Cisco UCS C-Series Integrated Management
Controller GUI Configuration Guide</a></p>
</li>
<li>
<p><a
href="https://www.cisco.com/c/en/us/td/docs/hyperconverged_systems/HyperFlex_HX_DataPlatformSoftware/HyperFlex_Installation_Guide_for_Intersight/b_HyperFlex_Installation_Guide_for_Intersight/b_HyperFlex_Installation_Guide_for_Intersight_chapter_011.html?bookSearch=true"
class="xref" target="_blank">Cisco HyperFlex Systems Installation Guide
for Cisco Intersight</a></p>
</li>
<li>
<p><a
href="https://www.cisco.com/c/en/us/td/docs/unified_computing/ucs/ucs-director/administration-guide/6-8/cisco-ucs-director-administration-68/cisco-ucs-director-administration-67_chapter_0101.html#concept_x1p_4lv_mcb"
class="xref" target="_blank">Cisco UCS Director Administration Guide</a></p>
</li>
<li>
<p><a
href="https://www.cisco.com/c/en/us/support/data-center-analytics/network-insights-advisor/model.html"
class="xref" target="_blank">Cisco Network Insights Documentation</a></p>
</li>
<li>
<p><a href="/help/resources/cisco_intersight_managed_mode_configuration"
class="xref" target="_blank">Cisco Intersight Managed Mode Guide</a></p>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section">
<h3 id="target-claim-in-intersight-managed-mode">Target Claim in Intersight Managed Mode</h3>
<p>Target Claim in Intersight Managed Mode has the following
considerations:</p>
<ul>
<li>
<p>You can choose between the native UCSM Managed Mode (UMM) or
Intersight Managed Mode (IMM) for the Fabric attached UCS Systems
during initial setup of the Fabric Interconnects. If you choose to
switch back between UMM and IMM, you must erase the present
configuration and start from initial setup.</p>
<div class="note note">
<p><span class="notetitle">Note:**
Before erasing the configuration, you must ensure to unclaim the
device from Intersight and decommission all rack servers.</p>
</div>
</li>
<li>
<p>For the complete set of hardware and software requirements, see <a
href="/help/supported_systems#supported_hardware_for_intersight_managed_mode"
class="xref" target="_blank">Supported Hardware for Intersight Managed
Mode</a> and
<a href="/help/getting_started/software_compatibility" class="xref"
target="_blank">Software Compatibility</a>.</p>
</li>
</ul>
<p>Complete these steps to claim these targets in Intersight Managed Mode:</p>
<ol>
<li>
<p>From the Targets table view, click <strong>Claim
a New Target</strong> &gt; <strong>Cisco UCS Domain
(Intersight Managed)</strong>. Click <span
class="ph-uicontrol">Start**.</p>
<div class="note important">
<p><span class="importanttitle">Important:**
Complete the initial configuration of the Fabric Interconnects
before claiming them for use with the Cisco Intersight platform.</p>
</div>
</li>
<li>
<p>Enter the following details to complete the target claim:</p>
<ol>
<li>
<p><strong>Device ID</strong>&mdash;Device serial ID of
the primary or subordinate Fabric Interconnect. Example:
[SAL1924GKV6&amp;SAL1913CJ7V].</p>
</li>
<li>
<p><strong>Claim Code</strong>&mdash;Device claim code
of Fabric Interconnect.</p>
</li>
</ol>
<p>To get the device ID and claim code after completing the initial
configuration of the Fabric Interconnects, run the following
commands in Fabric Interconnect CLI:</p>
<pre tabindex="0"><code class="language-pre" data-lang="pre">connect device-connector
show status
</code></pre><p>The command displays the device serial ID and claim code only when
Fabric Interconnects have formed the cluster and connection to
Intersight has been established.</p>
<p>Alternately, you can get the device ID and claim code from the <span
class="ph-uicontrol">Device Connector** tab of Device Console
that is accessed using the Fabric Interconnect IP address.</p>
</li>
<li>
<p><strong>Resource Groups</strong>&mdash;Select the
Resource Group from the list to add it to the Organization.</p>
<div class="note note">
<p><span class="notetitle">Note:**
The Resource Group selection is enabled for the supported targets.
Refer **Note** section in the above
targets table to view supported target list.</p>
</div>
</li>
<li>
<p>Click <strong>Claim</strong>.</p>
<p>After the targets are claimed, you can view Intersight Managed
targets in the <strong>Targets</strong> table view.</p>
</li>
</ol>
</div>
<div class="section">
<h2 id="unclaim-targets">Unclaim Targets</h2>
<p>You can unclaim a target directly from the Intersight portal or from the
Device Connector on the endpoints. Cisco recommends that you unclaim a
target from the Intersight portal, when possible. Use the <span
class="ph-uicontrol">Unclaim** option on the Device Connector only
when you do not have access to the account that the target was
originally claimed to, or if you lose connection to Intersight and you
want to unclaim the target locally from the endpoint.</p>
<p>Unclaiming a target directly from the Intersight portal ensures that the
target inventory is completely removed and the target gets reset to the
onboarding account. The target can next be reclaimed. However, when you
unclaim a target from the endpoint, the target stays in the <span
class="ph-uicontrol">Unclaimed ** status in the current Intersight
account or the virtual appliance it is claimed to. You must remove the
target inventory from the Intersight UI to enable the target to move to
the onboarding account before you can claim the target again.</p>
<ul>
<li>
<p>When you unclaim a target, you will no longer be able to manage it
from Intersight.</p>
</li>
<li>
<p>When a target is unclaimed, it is immediately detached from the
corresponding Intersight account.</p>
</li>
<li>
<p>The target retains any configuration applied before the unclaim
operation, but any subsequent attempt to change the configuration
fails. Any associated profiles will be detached from the corresponding
targets. Before you assign the profiles again or perform any other
action, you must reclaim the target into another Intersight account,
and then recreate and redeploy the policies, profiles, and other
configuration settings.</p>
</li>
</ul>
<p><strong>To unclaim a target from the Intersight
UI:</strong></p>
<ol>
<li>
<p>Log into Intersight.</p>
</li>
<li>
<p>From the <strong>Service Selector</strong>
drop-down list, select <strong>System</strong>.</p>
</li>
<li>
<p>Click <strong>Targets</strong> to view the Targets
table view.</p>
</li>
<li>
<p>Select the target(s) that you want to unclaim and click the <span
class="ph-uicontrol">Trash can** icon. You can reclaim the
target(s) later as required by following the steps in the <span class="ph-uicontrol">Claim a Target** wizard.</p>
<div class="note note">
<p><span class="notetitle">Note:**
Unclaiming a target does not change the target configuration but
just removes it from the Intersight account it is claimed to. Access
to the target by Intersight after unclaiming would only be possible
if you claim the target again.</p>
</div>
</li>
</ol>
<p><strong>To unclaim a target from the Device Connector
on the endpoint</strong>&mdash;Do this only if you do not have access to the
Intersight account the target was claimed to.</p>
<ol>
<li>
<p>Log in directly to the target and navigate to the Device Connector.</p>
</li>
<li>
<p>Click <strong>Unclaim</strong>. The target now
becomes available for Claim. After the unclaim from account is
complete from the endpoint, verify that the <span
class="ph-uicontrol">Targets** table view displays <span
class="ph-uicontrol">Unclaimed** status for the targets that
are detached from the account. Complete the unclaim process in the
Intersight UI before you claim this target in Intersight again.</p>
</li>
</ol>
</div>
<div class="section">
<h2 id="target-claim-using-intersight-assist">Target Claim Using Intersight Assist</h2>
<p>You can add endpoint targets, such as Pure Storage, Hitachi Virtual
Storage Platform devices, NetApp Active IQ Unified Manager, Cisco UCS
C890 M5, HTTP Endpoint, SSH Endpoint, Ansible Endpoint, PowerShell
Endpoint, Cisco Nexus Switch, Cisco MDS Switch, and VMware vCenter, into
Cisco Intersight only if you use Cisco Intersight Assist to claim them.</p>
<div class="note note">
<p><span class="notetitle">Note:**</p>
<p>The HTTP endpoint targets can be added either directly or via Intersight
Assist.</p>
</div>
<p>Complete the following steps to claim these targets using Intersight
Assist:</p>
<ol>
<li>
<p>Log into Intersight with the Account Administrator, Device
Administrator, or Device Technician privileges.</p>
</li>
<li>
<p>From the <strong>Service Selector</strong>
drop-down list, select <strong>System</strong>.</p>
</li>
<li>
<p>Navigate to <strong>ADMIN</strong> &gt; <span
class="ph-uicontrol">Targets** &gt; <span
class="ph-uicontrol">Claim a New Target**.</p>
</li>
<li>
<p>Choose <strong>Available for Claiming</strong> and
select the target type that you want to claim. Click <span
class="ph-uicontrol">Start**.</p>
</li>
<li>
<p>Enter the following details to complete the target claim:</p>
<ol>
<li>
<p><strong>Connect through an Intersight
Assist</strong>&mdash;For HTTP endpoint targets, enable if the target is
reachable via Intersight Assist only. This option is applicable
for endpoint targets that can be reached either directly or via
Intersight Assist.</p>
</li>
<li>
<p><strong>Intersight Assist</strong>&mdash;If there is
more than one Intersight Assist, select one from the list to
use.</p>
</li>
<li>
<p><strong>Name</strong>&mdash;A user provided name for
the managed target for SSH, Ansible, or PowerShell endpoint
target.</p>
</li>
<li>
<p><strong>Hostname/IP Address/Management
Address</strong>&mdash;Management address of the Pure Storage
FlashArray, Hitachi Virtual Storage Platform devices, NetApp
Active IQ Unified Manager, Cisco UCS C890 M5, HTTP Endpoint, SSH
Endpoint, Ansible Endpoint, PowerShell Endpoint, Nexus Switch,
MDS Switch, or the VMware vCenter. It can be IPv4 or a Fully
Qualified Domain Name (FQDN). For Hitachi, specify ctl1Ip,
ctl2Ip, or svpIp from Hitachi Ops Center API Configuration
Manager. Use the same entry that is assigned to targetCtl
(ctl1Ip or ctl2Ip).</p>
</li>
<li>
<p><strong>Port</strong>&mdash;Port number to connect to
the managed target. This is an optional field. If you do not
specify a port number, the default port is chosen.</p>
</li>
<li>
<p><strong>Authentication
Required</strong>&mdash;Disable if the HTTP endpoint does not require
any authentication or when the authentication required for the
endpoint is not supported in the Authentication Scheme.</p>
</li>
<li>
<p><strong>Authentication Scheme</strong>&mdash;If <span
class="ph-uicontrol">Authentication Required** is enabled,
select the athentication scheme for the HTTP endpoint as <span
class="ph-uicontrol">Basic** to provide the <em>Username</em> and
<em>Password</em> or select <strong>Bearer
Token</strong> to provide the bearer token.</p>
</li>
<li>
<p><strong>Authentication Mode</strong>&mdash;Select the
authentication protocol as <em>Password</em> or <em>Key Based</em> for the SSH
or Ansible endpoint.</p>
</li>
<li>
<p><strong>Username</strong>&mdash;Login credential for
the managed target.</p>
<p>For VMware vCenter targets, NetApp Active IQ Unified Manager,
HTTP Endpoint, SSH Endpoint, Ansible Endpoint, PowerShell
Endpoint, Nexus Switch, MDS Switch, or Cisco UCS C890 M5
targets, enter the username of the administrator.</p>
<p>For Pure Storage targets, enter the username of the array
administrator.</p>
</li>
<li>
<p><strong>Password</strong>&mdash;Password associated
with the username.</p>
</li>
<li>
<p><strong>Private Key</strong>&mdash;The private key
that is used to authenticate a managed target for the SSH or
Ansible endpoint. When you generate the SSH Key for an endpoint,
do the following:</p>
<ul>
<li>
<p><strong>SSH Keys in PEM format:</strong></p>
<p><code>ssh-keygen -m PEM -t &lt;rsa, ecdsa, ed25519, or dsa&gt;</code></p>
<p>OpenSSH has deprecated DSA keys due to security weakness. You
must update the SSH configuration to enable it to work with
DSA keys.</p>
</li>
<li>
<p><strong>SSH Keys in OpenSSH format:</strong></p>
<p><code>``ssh-keygen -t &lt;rsa, ed25519&gt;``</code></p>
<p>DSA and ECDSA keys are not supported.</p>
</li>
</ul>
<p>You need to provide the passphrase if required.</p>
<p>The private key and passphrase are treated as a single entity.
When you modify the private key, the passphrase field is
cleared.</p>
<p>The corresponding public key needs to be added to the authorized
list of the remote SSH or Ansible endpoint.</p>
<div class="note note">
<p><span class="notetitle">Note:**
The authorized keys are by default configured in
<code>.ssh/authorized_keys</code> in the home directory.</p>
</div>
</li>
<li>
<p><strong>Passphrase</strong>&mdash;(Optional) The
passphrase associated with the private key.</p>
</li>
<li>
<p><strong>Hitachi Ops Center API Configuration
Manager Address</strong>&mdash;Management address of the Hitachi Ops
Center API Configuration Manager. It can be IPv4 or a Fully
Qualified Domain Name (FQDN).</p>
</li>
<li>
<p><strong>Enable HTTPS Protocol</strong>&mdash;Select
if the connection to the HTTP endpoint target should be
established using HTTPS.</p>
</li>
</ol>
</li>
<li>
<p>Click <strong>Claim</strong>.</p>
</li>
</ol>
<p>After the targets are claimed, you can view Pure Storage, Hitachi
Virtual Storage Platform, NetApp Active IQ Unified Manager, Cisco UCS
C890 M5, HTTP Endpoint, SSH Endpoint, Ansible Endpoint, PowerShell
Endpoint, Nexus Switch, MDS Switch, and VMware vCenter targets in the
<strong>Targets</strong> tab. In addition, you can view
the <strong>Storage</strong> and <span
class="ph-uicontrol">Virtualization** tabs on the left panel.</p>
<p>For more information on Cisco Intersight with NetApp Storage see, <a
href="https://docs.netapp.com/us-en/flexpod/ontap-connector-for-intersight/index.html"
class="xref" target="_blank">Cisco Intersight with NetApp Storage Quick
Start Guide</a>.</p>
<div class="note note">
<p><span class="notetitle">Note:**</p>
<p>You must ensure that NX-API is enabled through HTTPS on the MDS or Nexus
endpoint target to claim an MDS or a Nexus switch.</p>
<p>To verify that NX-API is enabled and to get the HTTPS port number, run
the <span class="keyword cmdname">show nxapi** command on the MDS
or Nexus endpoint target. The following is an example of the <span
class="keyword cmdname">show nxapi** command:</p>
<pre tabindex="0"><code class="language-pre" data-lang="pre">switch# show nxapi
NX-API:       Enabled         Sandbox:      Disabled
HTTPS Port:   8443
</code></pre></div>
<p>To enable NX-API, run the <code> </code><strong><code>nxapi https port</code></strong><code> </code><em><code>port</code></em><code> </code>
command on the MDS or Nexus endpoint target.</p>
<p>To know more about the process of claiming a target, watch the
<a href="https://www.youtube.com/watch?v=oFzOqjoQ7t0&amp;t=156s"
class="xref" target="_blank">Claim Target</a> video.</p>
</div>
<div class="section">
<h2 id="target-claim-using-vmware-vcenter">Target Claim Using VMware vCenter</h2>
<p>You can add VMware vCenter endpoint targets into Cisco Intersight only,
if you use Cisco Intersight Assist to claim them. Hence, before claiming
a target, ensure you have deployed and claimed Intersight Assist.</p>
<p>Complete the following steps to claim these targets using VMware
vCenter:</p>
<ol>
<li>
<p>Log into Intersight with the Account Administrator, Device
Administrator, or Device Technician privileges.</p>
</li>
<li>
<p>From the <strong>Service Selector</strong>
drop-down list, select <strong>System</strong>.</p>
</li>
<li>
<p>Navigate to <strong>ADMIN</strong> &gt; <span
class="ph-uicontrol">Targets** &gt; <span
class="ph-uicontrol">Claim a New Target**.</p>
</li>
<li>
<p>Choose <strong>Available for Claiming</strong> and
select the <strong>VMware vCenter</strong> target
type that you want to claim. Click <span
class="ph-uicontrol">Start**.</p>
</li>
<li>
<p>Enter the following details to complete the target claim:</p>
<ol>
<li>
<p><strong>Intersight Assist</strong>&mdash;Select the
appropriate Intersight Assist from the list to use.</p>
</li>
<li>
<p><strong>Hostname/IP Address</strong>&mdash;Enter the
hostname or IP address.</p>
</li>
<li>
<p><strong>Port</strong>&mdash;Enter the port number to
connect to the target. This is an optional field. If you do not
specify a port number, the default port is chosen.</p>
</li>
<li>
<p><strong>Username</strong>&mdash;Enter the username of
the target. For VMware vCenter targets, you can enter the
username of the administrator.</p>
</li>
<li>
<p><strong>Password</strong>&mdash;Enter the password
associated with the username.</p>
</li>
<li>
<p><strong>Secure</strong>&mdash;Select to establish the
HTTP endpoint target using HTTPS. This option is enabled by
default.</p>
</li>
<li>
<p><strong>Datastore Browsing
Enabled</strong>&mdash;Select to control the Workload Optimizer scanning
the vCenter datastores to identify files which are not used and
can be deleted to reclaim space and improve actual disk
utilization. For example, orphaned VMDK files.</p>
</li>
<li>
<p><strong>Guest Metrics Enabled</strong>&mdash;Select
to enable retrieval of advanced memory metrics by Workload
optimizerService. It issupported only on vCenterServer version
6.5U3 or later. Guest Virtual Machines must run VMware Tools
10.3.2 Build 10338 or later.</p>
</li>
<li>
<p><strong>Enable HSM</strong>&mdash;Select to enable
Hardware Support Manager (HSM) in VMware vCenter targets. This
option allows you to perform firmware upgrade on UCS servers
claimed in Cisco Intersight.</p>
<p>To enable HSM for the previously created VMware vCenter targets,
you can select the target and use edit option. HSM also can be
enabled while claiming the VMware vCenter targets in Cisco
Intersight.</p>
<div class="note note">
<p><span class="notetitle">Note:**</p>
<ul>
<li>
<p>The HSM allows you to manage the server firmware upgrade
operations outside of the Intersight application, from VMware
vSphere Lifecycle Manager (vLCM) plug-in. For more
information, see <a
href="/help/resources#managing_firmware_using_hardware_support_manager"
class="xref" target="_blank">Managing Firmware Using Hardware Support
Manager</a>.</p>
</li>
<li>
<p>Before using vLCM plug-in, ensure to upgrade the vCenter
server and all ESXi hosts in the cluster to vSphere 7.0 or
later versions.</p>
</li>
<li>
<p>The HSM is supported on Cisco UCS C-Series Standalone and
Intersight Managed Mode (IMM) servers.</p>
</li>
</ul>
</div>
</li>
</ol>
</li>
<li>
<p>Click <strong>Claim</strong>.</p>
</li>
</ol>
<p>To know more about the process of claiming a target, watch the
<a href="https://www.youtube.com/watch?v=oFzOqjoQ7t0&amp;t=156s"
class="xref" target="_blank">Claim Target</a> video.</p>
</div>
<div
id="Cisco_Reference.dita_3c4ad70c-a54a-4e6f-9999-c8d415652a9e__section_d3y_nrf_nsb"
class="section">
<h2 id="claim-a-public-cloud-as-a-target">Claim a Public Cloud as a Target</h2>
<p>Public cloud endpoints such as Amazon Web Services (AWS) can be added to
Cisco Intersight by claiming them as a target.</p>
<p>To claim a public cloud as a target, perform the following steps:</p>
<ol>
<li>
<p>Log into Intersight with the Account Administrator, Device
Administrator, or Device Technician privileges.</p>
</li>
<li>
<p>From the <strong>Service Selector</strong>
drop-down list, select <strong>System</strong>.</p>
</li>
<li>
<p>From the Admin grouping in the left navigation pane in the home
Intersight screen, click <strong>Targets</strong>.</p>
<p>Intersight displays the targets list in the All Targets tab that
contains existing targets and columns of information about each
including their connection status, the time of their claim, and who
claimed them.</p>
</li>
<li>
<p>Click <strong>Claim a New Target</strong>.</p>
<p>Intersight displays the Select a Target Type screen.</p>
</li>
<li>
<p>In the Categories section under Filters in the lefthand side of the
screen, ensure the <strong>All</strong> radio
button is selected (default).</p>
</li>
<li>
<p>In the Cloud section of the main part of the Select a Target screen,
click <strong>Amazon Web Services</strong> and
click the <strong>Start</strong> button at the
bottom of the screen.</p>
<p>Intersight displays the Claim Amazon Web Services Target screen.
Provide the required information here.</p>
<ul>
<li>
<p><strong>Name</strong> &mdash; Provide a name for the
Amazon Web Service target.</p>
</li>
<li>
<p><strong>Access Key &amp; Secret Access Key</strong> &mdash;
Ensure you have generated an AWS access key and AWS secret access
key. Locate the access key and type it in the Access Key field.
Locate the secret access key and type it in the Secret Access Key
field.</p>
</li>
<li>
<p><strong>Regional Distribution</strong> &mdash; Optional
for users with an Essential license, but mandatory with Intersight
Advantage or Premier licenses and will enable access to public
cloud inventory and operations management features within
Intersight.</p>
<ul>
<li>
<p><strong>Region Group</strong> &mdash; Click the list
box and select the appropriate region for your public cloud
account</p>
</li>
<li>
<p><strong>Region(s)</strong> &mdash; Click the Edit
Region (pencil) icon and browse the resulting region list until
you find the region you want to apply to the AWS cloud, click
the checkbox to the left of it and then click Select. Public
cloud inventory is collected only for those regions that are
enabled here</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Click <strong>Claim</strong>.</p>
<p>After the targets are claimed, you can view the managed targets in
the Targets tablie view.</p>
</li>
</ol>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-81e8bbc2ad106436c6d1fb919a9e6c6e">3 - What&#39;s New</h1>
    
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-0c5fd77eb3c5d174f8fa44a1e3f94da9">3.1 - 2023</h1>
    
	<h2 id="february">February</h2>
<h3 id="february-23">February 23</h3>
<ul>
<li>Placeholder</li>
</ul>
<h3 id="february-16">February 16</h3>
<HTML>
                <ul>
                    <li>
                        <p>Added support for Encryption Key management in IPMI Over LAN Policy on C-Series Intersight
                            Managed Mode servers. For more information, see the Creating an IPMI Over LAN Policy section
                            in the <a
                                href='/help/resources/cisco_intersight_managed_mode_configuration#supported_ucs_server_policies'>Cisco
                                Intersight Managed Mode Configuration Guide</a>.</p>
                    </li>
                </ul>
            </HTML>
<h3 id="february-9">February 9</h3>
<HTML>
                <ul>
                    <li>
                        <p>Added OS installation support for Red Hat Enterprise Linux (RHEL) 8.6, 8.7,
                            9.0, and 9.1 and Ubuntu 22.04 LTS on UCS C-Series Standalone and Intersight
                            Managed Mode servers. For more information, see <a
                                href='/help/resources/operating_system_installation_overview#supported_operating_systems_for_ucs_c-series_standalone_servers'>Supported
                                Operating Systems for Standalone Servers</a> and <a
                                href='/help/resources/operating_system_installation_overview#supported_operating_systems_for_intersight_managed_mode_servers'>Supported
                                Operating Systems for Intersight Managed Mode Servers</a>.</p>
                    </li>
                </ul>
            </HTML>
<h3 id="february-2">February 2</h3>
<HTML>
                <ul>
                    <li>
                        <p>Cisco UCS Tools VIB Version 1.3.1-1OEM release includes support for VMware ESXi version 8.0
                            and is available for download on cisco.com. For more information, see <a
                                href='/help/saas/resources/cisco_ucs_tools'>Cisco UCS Tools</a>. </p>
                    </li>
                    <li>
                        <p>Added support for HyperFlex Data Platform version 5.0(2b) for B200 M6 compute node support.
                            For more information, see <a
                                href='/help/features/hyperflex/configure#cisco_hyperflex_cluster_deployment'>Cisco
                                HyperFlex Cluster Deployment</a> and <a
                                href='/help/resources/expand_cisco_hyperflex_clusters_in_intersight'>Expand Cisco
                                HyperFlex Clusters in Cisco Intersight</a>. </p>
                    </li>
                    <li>
                        <p>Added API support in Intersight Workload Optimizer (IWO). For more information, see the <a
                                href='https://developer.cisco.com/docs/intersight-workload-optimizer/'>Cisco IWO API
                                documentation</a>. </p>
                    </li>                
                </ul>
</HTML>
<h2 id="january">January</h2>
<h3 id="january-19">January 19</h3>
<HTML>
                <ul>
                    <li>
                        <p>Added support for creating orchestration tasks by importing an OpenAPI 3.x specification
                            file. For more information, see <a
                                href='/help/orchestration/task_designer_mn#creating_orchestration_tasks_from_an_openapi_specifications_file'>Creating
                                Orchestration Tasks from OpenAPI Specifications File</a>. </p>
                    </li>
                    <li>
                        <p>Added support for OS Installation on remote Storage Area Network LUN targets in C-Series
                            Standalone and all Intersight Managed Mode servers. For more information, see <a
                                href='/help/resources/install_target_selection'>Install Target Selection</a>. </p>
                    </li>
                    <li>
                        <p>Added support for UCS-IOM-2304 and UCS-IOM-2304V2 with Cisco UCS 6536 Fabric
                            Interconnect. For more information, see <a
                                href='/help/supported_systems#supported_hardware_for_intersight_managed_mode'>Supported
                                Hardware for Intersight Managed Mode</a>. </p>
                    </li>                
                    </ul>
            </HTML>
<h3 id="january-12">January 12</h3>
<ul>
                    <li>
                        <p>Added support for the following Graphics Processing Units in Intersight Managed Mode:</p>
                        <ul>
                            <li>
                                <p>UCSC-GPU-A16 on Cisco UCS C-Series M6 server</p>
                            </li>
                            <li>
                                <p>UCSC-GPU-A100 on Cisco UCS C-Series M5 and M6 servers</p>
                            </li>
                        </ul>
                        <p>For more information, see <a
                                href='/help/supported_systems#supported_hardware_for_intersight_managed_mode'>Supported
                                Hardware for Intersight Managed Mode</a>.</p>
                    </li>
                    <li>
                        <p>Added Integrated Systems Administrator and Integrated Systems Operator privileges to
                            manage Integrated Systems. For more information, see <a
                                href='/help/resources/RBAC#roles_and_privileges'>Organizations
                                and Roles in Intersight</a>.</p>
                    </li>
                    <li>
                        <p>Added support for NVMe over RDMA over Converged Ethernet V2 (RoCE V2) with ESXi on Cisco
                            UCS
                            VIC 15000 series adapters. For more information, see <a
                                href='/help/resources#rdma_over_converged_ethernet_(roce)'>RDMA Over Converged
                                Ethernet
                                (RoCE)</a>.</p>
                    </li>
                </ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-07bef9cdcd9a2137d371197bc18d10ed">3.2 - 2022</h1>
    
	
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0193)file:///private/var/folders/y8/w3010y691lz8bn4ztfk_r3w80000gn/T/OxygenXMLTemp/asthttp___rtp_aspw_ccms1.cisco.com_astoria/out/topic-xhtml/_id_00000018WHA526C8BGYZ_Intersight_whatsnew_jan_10.html -->
<html lang="en_US" xml:lang="en_US">

<head>

    <title>What's New in Cisco Intersight</title>
</head>

<body><a name="reference_r5b_jct_rz"></a>



    <div>
        <div>
            <div class="section">
                <h2 class="sectiontitle">December 8</h2>
            </div>
            <div class="section">
                <ul>
                    <li>
                        <p>Added support for Cisco UCS VIC 1300 Series adapters on Cisco UCS B-Series and
                            C-Series M5 servers in Intersight Managed Mode. For more information, see <a
                                href='/help/supported_systems#supported_hardware_for_intersight_managed_mode'>Supported
                                Hardware for Intersight Managed Mode</a> and Creating a LAN Connectivity Policy
                            in <a
                                href='/help/resources/cisco_intersight_managed_mode_configuration#supported_ucs_server_policies'>Supported
                                UCS Server Policies</a>.</p>
                    </li>
                </ul>
                </ul>
            </div>


            <div class="section">
                <h2 class="sectiontitle">December 1</h2>
            </div>
            <div class="section">
                <ul>
                    <li>
                        <p>Introducing Nexus Cloud in Controlled Availability. Contact your account representative to
                            get access.<br />
                            For complete list of the new Nexus Cloud features, click
                            <a href='/help/nexuscloud/ncdocs'>here</a>.
                        </p>
                    </li>
                    <li>
                        <p>Added support for node redeployment workflow using Cisco Intersight for HyperFlex clusters.
                            For more
                            information, see <a
                                href='/help/resources/node_redeployment_requirements#hyperflex_node_redeployment_workflow'>HyperFlex
                                Node Redeployment Workflow</a>.</p>
                    </li>
                    <li>
                        <p>Enhanced Hardware Support Manager capability to support VMware vSphere 8.0 and manage
                            firmware upgrade operations on Standalone and Intersight Managed Mode servers from VMware
                            vSphere Life Cycle Manager. For more
                            information, see <a
                                href='/help/saas/resources/Upgrading_Server_Firmware_Using_Hardware_Support_Manager'>Managing
                                Firmware using Hardware Support Manager</a>.</p>
                    </li>
                    <li>
                        <p>Enhancements to Intersight Managed Mode:</p>
                        <ul>
                            <li>
                                <p>Added the ability to set the default drive state for new disks on M6 servers. For
                                    more
                                    information, see the Creating a Storage Policy section in <a
                                        href='/help/resources/cisco_intersight_managed_mode_configuration#supported_ucs_server_policies'>Supported
                                        UCS Server Policies</a>.</p>
                            </li>
                            <li>
                                <p>Enhanced Port VLAN count to 108000 with VLAN Port Count Optimization Enabled on Cisco
                                    UCS
                                    6400 Series and 6500 Series Fabric Interconnects. For more information, see the
                                    Creating
                                    a Switch Control Policy section in <a
                                        href='/help/resources/cisco_intersight_managed_mode_configuration#configuring_ucs_domain_policies'>Configuring
                                        UCS Domain Policies</a>.</p>
                            </li>
                        </ul>
                    <li>
                        <p>Enhancements to Intersight Cloud Orchestrator (ICO):</p>
                        <ul>
                            <li>
                                <p>Added port channel and virtual port channel management tasks in the ICO Task Library
                                    for
                                    Cisco Nexus. For more information, see <a
                                        href='/help/resources/Task_Designer#supported_tasks_for_network_targets'>Supported
                                        Tasks for Network Targets</a>.</p>
                            </li>
                            <li>
                                <p>Added the ability to view port channels and virtual port channels of Cisco Nexus
                                    targets.
                                    For more information, see <a
                                        href='/help/features/network/operate#ethernet_switch_details_view'>Ethernet
                                        Switches
                                        Details View</a>.</p>
                            </li>

                            <li>
                                <p>Added User Interface support and inventory object for managing the remote replication
                                    in
                                    Hitachi storage in Cisco Intersight.
                                </p>
                            </li>




                        </ul>
                </ul>
            </div>
            <div>
                <div class="section">
                    <h2 class="sectiontitle">November 19</h2>
                </div>
                <div class="section">
                    <ul>
                        <li>
                            <p>Added support for Oracle database and Azure Billing as new targets, vCPU Scaling
                                Controls,
                                and Maintenance Automation Avoidance in Intersight Workload Optimizer (IWO). For more
                                information, see <a
                                    href='/help/resources#cisco_intersight_workload_optimizer'>Intersight
                                    Workload Optimizer</a>.</p>
                        </li>
                    </ul>
                </div>

                <div class="section">
                    <h2 class="sectiontitle">November 10</h2>
                </div>
                <div class="section">
                    <ul>
                        <li>
                            <p>Cisco Intersight User Interface new look is now Generally Available. For more information
                                and
                                help on understanding the changes, see <a href='/help/resources/new_ui_look'>Cisco
                                    Intersight
                                    New Look</a>.</p>
                        </li>
                        <li>
                            <p>Enhanced the Licensing User Interface in Cisco Intersight. For more information, see <a
                                    href='/help/getting_started/licensing_requirements'>License Management</a>.</p>
                        </li>
                        <li>
                            <p>Enhancements to Cisco HyperFlex Systems:</p>
                            <ul>
                                <li>
                                    <p>HyperFlex Upgrade enhancements:</p>
                                    <ul>
                                        <li>
                                            <p>Support for a workflow retry for a failed HyperFlex cluster upgrade. For
                                                more
                                                information, see <a
                                                    href='/help/resources/upgrade_cisco_hyperflex_systems_with_cisco_intersight'>Upgrade
                                                    Cisco HyperFlex Systems in Cisco Intersight</a>.</p>
                                        </li>
                                        <li>
                                            <p>Increased the supported maximum cluster size for upgrade of HyperFlex
                                                ESXi
                                                clusters from 16 to 32 converged nodes when upgrading to HyperFlex Data
                                                Platform
                                                version 5.0(2a) or later. For more information, see <a
                                                    href='/help/resources/upgrade_cisco_hyperflex_systems_with_cisco_intersight'>Upgrade
                                                    Cisco HyperFlex Systems in Cisco Intersight</a>.</p>
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <p>iSCSI management on HyperFlex Edge, Fabric Interconnect, and Datacenter without
                                        Fabric
                                        Interconnect (DC-No-FI) clusters. For more information, see <a
                                            href='/help/resources/cisco_hyperflex_systems_administration_guide'>Cisco
                                            HyperFlex
                                            Systems Administration Guide for Intersight</a>.</p>
                                </li>
                                <li>
                                    <p>HyperFlex Expansion recommendation for additional CPU, memory, and storage
                                        capacity.
                                        This
                                        is a Feature Preview. For more information, see <a
                                            href='/help/resources/hyperflex_cluster_capacity_planning'>HyperFlex Cluster
                                            Capacity Planning</a>.</p>
                                </li>

                            </ul>
                        <li>
                            <p>Added support for select server actions on Redfish servers. This is a feature preview.
                                For
                                more
                                information, see <a
                                    href='/help/resources#redfish_server_target_management_in_intersight'>Redfish Server
                                    Target
                                    Management in Intersight</a>.</p>
                        </li>
                        <li>
                            <p>Added support for monitoring health and generating alarms for Intersight managed Cisco
                                Nexus devices. For more information, see <a
                                    href='/help/features/network/operate#ethernet_switches_table_view'>Ethernet
                                    Switches Table View</a>.</p>
                        </li>
                        <li>
                            <p>Added support for monitoring health and reporting alarms for Cisco Nexus devices that are
                                part
                                of the Intersight Integrated Systems. For more information, see <a
                                    href='/help/features/integratedsystems/operate#cisco_intersight_integrated_systems'>Cisco
                                    Intersight Integrated Systems</a>.</p>
                        </li>
                    </ul>
                </div>
                <div class="section">
                    <h2 class="sectiontitle">October 20</h2>
                </div>
                <div class="section">
                    <ul>
                        <li>
                            <p>Added the ability to install SUSE Linux Enterprise Server (SLES) Operating System on UCS
                                C-Series
                                Standalone and Intersight Managed Mode servers. For more information, see <a
                                    href='/help/resources/operating_system_installation_overview'>Operating System
                                    Installation
                                    Overview</a> and <a href='/help/resources/os_install'>Installing an Operating
                                    System</a>.
                            </p>
                        </li>

                </div>

                <div class="section">
                    <h2 class="sectiontitle">October 13</h2>
                </div>
                <div class="section">
                    <ul>
                        <li>
                            <p>Added End of Life (EoL) Advisories for VMware ESXi 6.5/6.7 running on HyperFlex clusters.
                                For
                                more information, see <a href='/help/resources/cisco_end_of_life_advisories'>Cisco End
                                    of
                                    Life
                                    Advisories</a>.</p>
                        </li>
                        <li>
                            <p>Enhancements to Intersight Managed Mode:</p>
                            <ul>
                                <li>
                                    <p>Added the ability to pre-allocate connected device type and device number to a
                                        chassis or
                                        rack server for Server Port Roles. For more information, see the Creating a Port
                                        Policy
                                        section in the <a
                                            href='/help/resources/cisco_intersight_managed_mode_configuration#configuring_ucs_domain_policies'>Cisco
                                            Intersight Managed Mode Configuration Guide</a>.</p>
                                </li>
                                <li>
                                    <p>Added the ability to configure Private VLANs on a Fabric Interconnect and to
                                        apply
                                        them
                                        on the vNICs of server profiles. For more information, see the Creating a VLAN
                                        Configuration Policy section in the <a
                                            href='/help/resources/cisco_intersight_managed_mode_configuration#configuring_ucs_domain_policies'>Cisco
                                            Intersight Managed Mode Configuration Guide</a>.</p>
                                </li>
                            </ul>
                        </li>
                </div>
                <div>
                    <div class="section">
                        <h2 class="sectiontitle">October 6</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>Added the ability to manually configure vNICs or VHBAs on the adapters with Simple or
                                    Advanced Placement options in LAN Connectivity and SAN Connectivity Policies, on
                                    Intersight
                                    Managed Mode servers. For more information, see Creating a LAN Connectivity Policy
                                    and
                                    Creating a SAN Connectivity Policy sections in the <a
                                        href='/help/resources/cisco_intersight_managed_mode_configuration#configuring_ucs_server_policies'>Cisco
                                        Intersight Managed Mode Configuration Guide</a>.</p>
                            </li>
                            <li>
                                <p>Added support for HyperFlex NIC-based deployment starting with HXDP version 5.0(2a)
                                    for
                                    HX
                                    Edge and DC-No-FI clusters. For more information, see <a
                                        href='/help/features/hyperflex/configure#cisco_hyperflex_cluster_deployment'>
                                        Cisco
                                        HyperFlex Cluster Deployment</a>.</p>
                            </li>
                    </div>
                    <div class="section">
                        <h2 class="sectiontitle">September 30</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>

                                <p>Added the ability for Intersight to collect user session recording data to optimize
                                    customer
                                    experience, proactively fix bugs, and improve the product. For more information, see
                                    <a href='/help/saas/features/cisco_intersight/settings#user_session_recording'>User
                                        Session
                                        Recording</a>.
                                </p>
                            </li>

                        </ul>

                    </div>
                    <div class="section">
                        <h2 class="sectiontitle">September 29</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>Added the ability to create, using API, reserved identifiers for Fabric
                                    Interconnect-attached
                                    servers and to view and delete them in Intersight. For more information, see <a
                                        href='/help/resources/cisco_intersight_managed_mode_configuration#reserved_identifiers'>Reserved
                                        Identifiers</a>.</p>
                            </li>
                            <li>
                                <p>Added support for Tomcat, WebSphere, and Java Virtual Machine as new cloud targets in
                                    Intersight
                                    Workload Optimizer. For more information, see Cisco Intersight Workload Optimizer
                                    Target
                                    Configuration Guide under <a
                                        href='/help/resources#cisco_intersight_workload_optimizer'>Intersight Workload
                                        Optimizer</a>.</p>
                            </li>
                        </ul>

                    </div>

                    <div class="section">
                        <h2 class="sectiontitle">September 22</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>Introducing the new look for the Intersight User Interface available to try at <a
                                        href='https://intersight.com/uirefresh'>Welcome to Intersight</a>. This is a
                                    feature
                                    preview. For more information, see <a
                                        href='/help/resources#cisco_intersight_new_look'>Cisco
                                        Intersight New Look</a>.</p>
                            </li>
                            <li>
                                <p>Enhancements to Intersight Managed Mode:</p>
                                <ul>
                                    <li>
                                        <p>Added the ability to clear or reset Trusted Platform Module (TPM)
                                            configuration
                                            using
                                            the
                                            TPM Clear option. For more information, see <a
                                                href='/help/features/servers/operate#server_inventory_view'>Server
                                                Inventory
                                                View</a>.</p>
                                    </li>

                                    <li>
                                        <p>Added the ability to view the power consumption telemetry data for Cisco UCS
                                            X-Series
                                            servers. For more information, see <a
                                                href='/help/features/servers/operate#servers_details_view'>Server
                                                Details
                                                View</a>.
                                        </p>
                                    </li>
                                </ul>
                            </li>
                        </ul>

                    </div>
                    <div class="section">
                        <h2 class="sectiontitle">September 15</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>Enhancements to Cisco HyperFlex Systems:</p>
                                <ul>
                                    <li>
                                        <p>Added HyperFlex Data Platform 4.5(2e) support for HyperFlex cluster
                                            deployment
                                            and
                                            upgrade. For more information, see <a
                                                href='/help/resources#cisco_hyperflex_cluster_deployment'>Cisco
                                                HyperFlex
                                                Cluster
                                                Deployment</a> and <a
                                                href='/help/resources#upgrade_cisco_hyperflex_systems_in_cisco_intersight'>Upgrade
                                                Cisco HyperFlex Systems in Cisco Intersight</a>.</p>
                                    </li>
                                    <li>
                                        <p>Added Dynamic Cause and Resolution information specific to the node
                                            environment
                                            accessible at the Health Check level. For more information, see <a
                                                href='/help/resources#health_check_for_cisco_hyperflex_clusters'>Health
                                                Check
                                                for
                                                Cisco HyperFlex Clusters</a>.</p>
                                    </li>
                                    <li>
                                        <p>Added new Security Checks with Cause and Resolution information for HyperFlex
                                            health
                                            check. For more information, see <a
                                                href='/help/resources#health_check_for_cisco_hyperflex_clusters'>Health
                                                Check
                                                for
                                                Cisco HyperFlex Clusters</a>.</p>
                                    </li>
                                </ul>
                            </li>
                            <li>
                                <p>New features and enhancements to Intersight Cloud Orchestrator (ICO):</p>
                                <ul>
                                    <li>
                                        <p>Added Syslog and SNMP server management tasks in the ICO Task Library for
                                            Cisco
                                            Nexus
                                            and
                                            Cisco MDS targets. For more information, see <a
                                                href='/help/resources/Task_Designer#supported_tasks_for_network_targets'>Supported
                                                Tasks for Network Targets</a>.</p>
                                    </li>
                                    <li>
                                        <p>Added the ability to view SNMP and Syslog server details for Cisco Nexus and
                                            Cisco
                                            MDS
                                            targets. For more information, see <a
                                                href='/help/features/network/operate#ethernet_switch_details_view'>Ethernet
                                                Switches
                                                Details View</a> and <a
                                                href='/help/features/network/operate#san_switch_details_view'>SAN
                                                Switches
                                                Details
                                                View</a>.</p>
                                    </li>

                                    <li>
                                        <p>Added Pure storage tasks for creating and managing snapshots. For more
                                            information,
                                            see
                                            <a href='/help/resources/Task_Designer#supported_tasks_for_storage_targets'>Supported
                                                Tasks for Storage Targets</a>.
                                        </p>
                                    </li>

                                    <li>
                                        <p>Added REST API 2.x support for Pure Storage FlashArray. For more information,
                                            see
                                            <a href='/help/supported_systems'> Supported Systems</a>.
                                        </p>
                                    </li>


                                </ul>
                            </li>
                            <li>
                                <p>Added the ability for an account admin to collect tech support bundles from the
                                    Intersight
                                    application. For more information, see <a
                                        href='/help/features/servers/operate#server_actions'>
                                        Server Actions</a>, <a href='/help/features/chassis/operate#chassis_actions'>
                                        Chassis
                                        Actions</a>, and <a
                                        href='/help/features/fabric_interconnects/operate#fabric_interconnect_actions'>
                                        Fabric
                                        Interconnect Actions</a>.</p>
                            </li>
                        </ul>

                    </div>
                    <div class="section">
                        <h2 class="sectiontitle">September 8</h2>
                    </div>
                    <div class="section">
                        <ul>

                            <li>
                                <p>Enhancements to Cisco Intersight with NetApp ONTAP storage:</p>
                                <ul>
                                    <li>
                                        <p>Added the ability to view the configurations of a NetApp storage system on
                                            the
                                            Checks
                                            tab
                                            under the Storage UI section.</p>
                                    </li>
                                    <li>
                                        <p>Enhancements to NetApp storage views under the Storage UI section.</p>
                                    </li>

                                </ul>
                            </li>
                        </ul>

                    </div>
                    <div class="section">
                        <h2 class="sectiontitle">September 1</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>Added HyperFlex Data Platform 5.0(2a) support for HyperFlex cluster deployment and
                                    upgrade
                                    including:</p>
                                <ul>
                                    <li>
                                        <p>Cisco HyperFlex HX245C/225C M6 All Flash/Hybrid Server nodes support.</p>
                                    </li>
                                    <li>
                                        <p>Support for ESXi 7.0 U3—HXDP 5.0(2a) provides support for VMware ESXi 7.0 U3.
                                        </p>
                                    </li>
                                    <li>
                                        <p>Software Encryption support on HyperFlex stretch cluster.</p>
                                        <p>For more information, see <a
                                                href='/help/resources#cisco_hyperflex_cluster_deployment'>Cisco
                                                HyperFlex
                                                Cluster
                                                Deployment</a> and <a
                                                href='/help/resources#upgrade_cisco_hyperflex_systems_in_cisco_intersight'>Upgrade
                                                Cisco HyperFlex Systems in Cisco Intersight</a>.</p>
                                    </li>
                                </ul>

                    </div>
                    <div class="section">
                        <h2 class="sectiontitle">August 25</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>Added Logical Availability Zones (LAZ) support for HyperFlex cluster deployment and
                                    expansion
                                    in
                                    Datacenter without Fabric Interconnect (DC-no-FI) mode with 8 or more nodes. For
                                    more
                                    information, see <a
                                        href='/help/saas/features/hyperflex/configure#dc-no-fi_overview'>DC-No-FI
                                        Overview</a>.</p>
                            </li>
                            <li>
                                <p>Enhancements to Intersight Kubernetes Service (IKS):</p>
                                <ul>
                                    <li>
                                        <p>Support for Kubernetes 1.22. For more information, see <a
                                                href='https://www.cisco.com/c/en/us/td/docs/unified_computing/Intersight/b-intersight-kubernetes-service-feature-compatibility-matrix.html'>Intersight
                                                Kubernetes Service Feature Compatibility Matrix</a>.</p>
                                    </li>
                                    <li>
                                        <p>Support for running the Intersight Device Connector inside IKS clusters on
                                            vSphere.
                                        </p>
                                    </li>
                                    <li>
                                        <p>Support for configuring proxy connection to Intersight using the Device
                                            Connector
                                            Proxy
                                            policy. For more information, see <a
                                                href='/help/resources/intersight_kubernetes_service_user_guide#creating_http_proxy_policy'>HTTP
                                                Proxy policy</a>.</p>
                                    </li>
                                    <li>
                                        <p>Updates to the <a
                                                href='/help/resources/intersight_kubernetes_service_change_log'>Changelog</a>
                                            on
                                            new
                                            and deprecated features, fixed issues, and important notices.</p>
                                    </li>
                                </ul>
                            <li>
                                <p>Added the ability to configure Cisco ID using Cisco Software Download services for
                                    Cisco
                                    Repository-based firmware upgrades. For more information, see <a
                                        href='/help/system/settings#cisco_software_download'>Cisco Software
                                        Download</a>.</p>
                            </li>
                        </ul>

                    </div>
                    <div class="section">
                        <h2 class="sectiontitle">August 11</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>Enhancements to OS Installation for UCS C-Series Standalone and Intersight Managed
                                    Mode
                                    servers:
                                </p>
                                <ul>
                                    <li>
                                        <p>Added support for Unified Extensible Firmware Interface (UEFI) Secure Boot.
                                        </p>
                                    </li>
                                    <li>
                                        <p>Added support for ESXi 7.0 Update 3 and RHEL 8.5 OS.</p>
                                    </li>
                                    <li>
                                        <p>Added support for Ubuntu 20.04.1 LTS, 20.04.2 LTS, 20.04.3 LTS, and 20.04.4
                                            LTS
                                            OS.
                                        </p>
                                    </li>

                                </ul>
                                <p>For more information, see <a
                                        href='/help/resources/os_install#os_installation_with_uefi_secure_boot'>OS
                                        Installation
                                        with
                                        UEFI Secure Boot</a>, <a
                                        href='/help/resources/operating_system_installation_overview#supported_operating_systems_for_ucs_c-series_standalone_servers'>Supported
                                        Operating Systems for Standalone Servers</a>, and <a
                                        href='/help/resources/operating_system_installation_overview#supported_operating_systems_for_intersight_managed_mode_servers'>Supported
                                        Operating Systems for Intersight Managed Mode Servers</a>.</p>
                            </li>

                            <li>
                                <p>Added the ability to configure static pin groups for breakout ports in Cisco UCS 6400
                                    and
                                    6500
                                    Series Fabric Interconnects. For more information, see the Creating a Port Policy
                                    section in
                                    <a
                                        href='/help/resources/cisco_intersight_managed_mode_configuration#configuring_ucs_domain_policies'>Configuring
                                        UCS Domain Policies</a>.
                                </p>
                            </li>


                            <li>
                                <p>Added DNS and NTP tasks in the ICO Task Library for Cisco Nexus targets. For more
                                    information,
                                    see <a
                                        href='/help/resources/Task_Designer#supported_tasks_for_network_targets'>Supported
                                        Tasks
                                        for Network Targets</a>.</p>
                            </li>


                            <li>
                                <p>Added the ability to view L2 neighbor details for Cisco Nexus targets. For more
                                    information,
                                    see
                                    <a href='/help/features/network/operate#ethernet_switch_details_view'>Ethernet
                                        Switches
                                        Details
                                        View</a>.
                                </p>
                            </li>
                            <li>
                                <p>Added support for Interoperability compliance (Cisco UCS HCL and NetApp IMT) for
                                    FlexPod
                                    integrated system. For more information, see <a
                                        href='/help/features/integratedsystems/operate'>Cisco Intersight Integrated
                                        Systems</a>.
                                </p>
                            </li>
                            <li>
                                <p>Added support for Google Cloud Platform as a new cloud target in Intersight Workload
                                    Optimizer.
                                    For more information, see the Google Cloud Platform section in the <a
                                        href='/help/resources#cisco_intersight_workload_optimizer'>IWO Target
                                        Configuration
                                        Guide</a>.</p>
                            </li>
                        </ul>
                    </div>
                    <div class="section">
                        <h2 class="sectiontitle">August 4</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>Added support for monitoring select Dell PowerEdge and HPE ProLiant servers as
                                    Redfish
                                    servers.
                                    This is a feature preview. For more information, see <a
                                        href='/help/resources#redfish_server_target_management_in_intersight'>Redfish
                                        Server
                                        Target
                                        Management in Intersight</a>.</p>
                            </li>
                            <li>
                                <p>Added support for viewing the undeployed changes in UCS Domain Profiles. For more
                                    information,
                                    see <a href='/help/features/fabric_interconnects/configure#domain_profile'>Domain
                                        Profile</a>.
                                </p>
                            </li>
                            <li>
                                <p>Added Inventory, Health Monitoring, and Online Insertion and Removal support for the
                                    following
                                    Graphics Processing Units on UCS X440P with UCSX-210C-M6 servers:</p>
                                <ul>
                                    <li>
                                        <p>UCSX-GPU-T4-16</p>
                                    </li>
                                    <li>
                                        <p>UCSX-GPU-A40</p>
                                    </li>
                                    <li>
                                        <p>UCSX-GPU-A100-80</p>
                                    </li>
                                    <li>
                                        <p>UCSX-GPU-A16</p>
                                    </li>
                                </ul>
                                <p>For more information, see <a
                                        href='/help/supported_systems#supported_hardware_for_intersight_managed_mode'>Supported
                                        Systems for Intersight Managed Mode</a>.</p>
                            </li>
                            <li>
                                <p>Enhancements to Cisco Intersight with NetApp ONTAP storage: </p>
                                <ul>
                                    <li>
                                        <p>Added new NetApp storage tasks in the Intersight Cloud Orchestrator task
                                            library.
                                        </p>
                                    </li>
                                    <li>
                                        <p>Enhancements to NetApp storage views under the Storage UI section.</p>
                                    </li>


                                </ul>
                                <p>For more information, see <a
                                        href='/help/resources/Task_Designer#supported_tasks_for_storage_targets'>Supported
                                        Tasks
                                        for
                                        Storage Targets</a>.</p>

                            </li>
                    </div>
                    <div class="section">
                        <h2 class="sectiontitle">August 2</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>New features and enhancements to Intersight Workload Optimizer (IWO):</p>
                                <ul>
                                    <li>
                                        <p>Support for AWS EC2 C6a instances.</p>

                                    </li>
                                    <li>
                                        <p>Support for Azure SQL Databases managed under the vCore pricing model.</p>

                                    </li>
                                    <li>
                                        <p>Support for Instance Store Aware Scaling for Azure VMs to ensure cloud
                                            scaling
                                            actions
                                            respect instance store requirements.</p>

                                    </li>
                                    <li>
                                        <p>IWO now adds injected sidecars to a new group called "Injected Sidecars/All
                                            ContainerSpecs".</p>

                                    </li>
                                    <li>
                                        <p>VMs can now be filtered by target name, type, or category when you use Search
                                            or
                                            create
                                            groups.</p>

                                    </li>
                                </ul>For more information, see <a
                                    href='/help/saas/resources#cisco_intersight_workload_optimizer'>Cisco Intersight
                                    Workload
                                    Optimizer</a>.
                            </li>
                        </ul>
                    </div>

                    <div class="section">
                        <h2 class="sectiontitle">July 28</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>Enhancements to Cisco HyperFlex Systems:</p>
                                <ul>
                                    <li>
                                        <p>Added HyperFlex Data Platform 4.5(2d) support for HyperFlex cluster
                                            deployment
                                            and
                                            upgrade. For more information, see <a
                                                href='/help/resources#cisco_hyperflex_cluster_deployment'>Cisco
                                                HyperFlex
                                                Systems
                                                Installation Guide for Intersight</a> and <a
                                                href='/help/resources#upgrade_cisco_hyperflex_systems_in_cisco_intersight'>Upgrade
                                                Cisco HyperFlex Systems in Intersight</a>.</p>
                                    </li>
                                    <li>
                                        <p>Added Datacenter without Fabric Interconnect (DC-No-FI) HyperFlex cluster
                                            support
                                            with
                                            3-12 nodes. Added NVMe cache in All Flash models, All NVMe server models,
                                            and
                                            40/100
                                            GE
                                            Networking support with DC-No-FI HyperFlex clusters, new workflow for
                                            DC-No-FI
                                            install,
                                            and compute only node support. For more information, see <a
                                                href='/help/saas/features/hyperflex/configure#dc-no-fi_overview'>DC-No-FI
                                                Overview</a>.</p>
                                    </li>
                                </ul>

                            <li>
                                <p>Enhanced Hardware Support Manager capability to manage firmware upgrade operations on
                                    Intersight
                                    Managed Mode servers from VMware vSphere Life Cycle Manager. For more information,
                                    see
                                    <a href='/help/getting_started/claim_targets#target_claim_using_vmware_vcenter'>Claim
                                        Targets
                                        Using VMware vCenter</a> and <a
                                        href='/help/resources#managing_firmware_using_hardware_support_manager'>Managing
                                        Firmware
                                        using Hardware Support Manager</a>.
                                </p>
                            </li>
                    </div>
                    <div class="section">
                        <h2 class="sectiontitle">July 21</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>Enhancements to Intersight Managed Mode:</p>
                                <ul>
                                    <li>
                                        <p>Added configuration and inventory support for Cisco UCS 6536 Fabric
                                            Interconnect.
                                            For
                                            more information, see <a
                                                href='/help/resources/cisco_intersight_managed_mode_configuration#migrating_to_cisco_ucs_6500_series_fabric_interconnects'>Migrating
                                                to Cisco UCS 6500 Series Fabric Interconnects.</a></p>
                                    </li>
                                    <li>
                                        <p>Added the capability for 100-Gbps end-to-end support with the following:</p>
                                        <ul>
                                            <li>
                                                <p>UCS-FI-6536 Fabric Interconnect</p>
                                            </li>
                                            <li>
                                                <p>UCSX-I-9108-100G Intelligent Fabric Module (IFM)</p>
                                            </li>
                                            <li>
                                                <p>UCSX-ML-V5D200G modular LAN on motherboard (mLOM) adapter for Cisco
                                                    UCS
                                                    X210
                                                    Compute Node</p>
                                            </li>
                                        </ul>
                                    <li>
                                        <p>Added the following Graphics Processing Units (GPU) for UCSX-210C-M6 servers:
                                        </p>
                                        <ul>
                                            <li>
                                                <p>Inventory and Online Insertion and Removal (OIR) support for UCS
                                                    X210C
                                                    server
                                                    Compute Node Front Mezz (UCSX-X10C-GPUFM).</p>
                                            </li>
                                            <li>
                                                <p>Inventory, Health Monitoring, and OIR support for NVIDIA T4 GPU
                                                    (UCSX-GPU-T4-MEZZ).</p>
                                            </li>
                                        </ul>
                                        For more information, see <a
                                            href='/help/supported_systems#supported_hardware_for_intersight_managed_mode'>Supported
                                            Systems for Intersight Managed Mode.</a></p>
                                    </li>
                                    <li>
                                        <p>Added the ability to configure breakout ports for Cisco UCS 6400 Series and
                                            6500
                                            Series
                                            Fabric Interconnects. For more information, see Creating a Port Policy
                                            section
                                            in <a
                                                href='/help/resources/cisco_intersight_managed_mode_configuration#configuring_ucs_domain_policies'>Configuring
                                                UCS Domain Policies.</a></p>
                                    </li>
                                    <li>
                                        <p>Extended Drift Detection and Remediation to server profiles deployed on the
                                            Fabric
                                            Interconnect-attached servers. For more information, see the Server Profiles
                                            Drift
                                            section in <a href='/help/features/servers/operate#server_profiles'>Server
                                                Profiles.</a>
                                        </p>
                                    </li>
                                </ul>
                            </li>

                        </ul>
                    </div>
                    <div class="section">
                        <h2 class="sectiontitle">July 14</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>Cisco Intersight Integrated Systems management capabilities are now Generally
                                    Available.
                                    These
                                    features enable the management of FlexPod environment as an integrated system that
                                    consists
                                    of a
                                    single management control plane for the underlying compute, network, storage, and
                                    virtualization
                                    resources. For more information, see <a
                                        href='/help/features/integratedsystems/operate'>Cisco
                                        Intersight Integrated Systems</a>.</p>
                            </li>
                            <li>
                                <p>Support for managing Cisco UCS C890 M5 targets in Intersight is now Generally
                                    Available.
                                    For
                                    more
                                    information, see <a
                                        href='/help/resources#cisco_ucs_c890_m5_target_management_in_intersight'>Managing
                                        Cisco
                                        UCS
                                        C890 M5 Targets</a>.</p>
                            </li>
                            <li>
                                <p>New features and enhancements to Intersight Cloud Orchestrator:</p>
                                <ul>
                                    <li>
                                        <p>Enhanced the ICO Task Library to list the Network tasks based on device
                                            types.
                                            For
                                            more
                                            information, see <a
                                                href='/help/resources/Task_Designer#supported_tasks_for_network_targets'>Supported
                                                Tasks for Network Targets</a>.</p>
                                    </li>
                                    <li>
                                        <p>Added new Hitachi storage tasks in the ICO Task Library to create and manage
                                            snapshots.
                                            For more information, see <a
                                                href='/help/resources/Task_Designer#supported_tasks_for_storage_targets'>Supported
                                                Tasks for Storage Targets</a>.</p>
                                    </li>
                                    <li>
                                        <p>Added the ability to view NTP details for Cisco Nexus targets. For more
                                            information,
                                            see
                                            <a href='/help/features/network/operate#ethernet_switch_details_view'>Ethernet
                                                Switches
                                                Details View</a>.
                                        </p>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </div>

                    <div class="section">
                        <h2 class="sectiontitle">July 7</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>Added VLAN management tasks in the ICO Task Library for Cisco Nexus targets. For more
                                    information, see <a
                                        href='/help/resources/Task_Designer#supported_tasks_for_network_targets'>Supported
                                        Tasks
                                        for
                                        Network Targets</a>.</p>
                            </li>


                            <li>
                                <p>Added the ability to view VLAN inventory for Cisco Nexus targets. For more
                                    information,
                                    see
                                    <a href='/help/features/network/operate#ethernet_switch_details_view'>Ethernet
                                        Switches
                                        Details
                                        View</a>.
                                </p>
                            </li>
                            <li>
                                <p>Added VSAN management tasks in the ICO Task Library for Cisco MDS targets. For more
                                    information,
                                    see <a
                                        href='/help/resources/Task_Designer#supported_tasks_for_network_targets'>Supported
                                        Tasks
                                        for Network Targets</a>.</p>
                            </li>
                            <li>
                                <p>Added the ability to view VSAN inventory for Cisco MDS targets. For more information,
                                    see
                                    <a href='/help/features/network/operate#san_switch_details_view'>SAN Switches
                                        Details
                                        View</a>.
                                </p>
                            </li>




                        </ul>
                    </div>

                    <div class="section">
                        <h2 class="sectiontitle">June 30</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>Added the ability to view FC port neighbor details of Cisco MDS targets. This is a
                                    feature
                                    preview. For more information, see <a
                                        href='/help/features/network/operate#san_switch_details_view'>SAN Switches
                                        Details
                                        View</a>.
                                </p>
                            </li>
                        </ul>
                    </div>
                    <div>

                        <div class="section">
                            <h2 class="sectiontitle">June 16</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <li>
                                    <p>Added the ability to create an FC Zone Policy containing direct access storage
                                        paths
                                        configuration, and attach this policy to a vHBA to provision zones for the vHBA.
                                        For
                                        more
                                        information, see Create an FC Zone Policy and Creating a SAN Connectivity policy
                                        sections in
                                        the <a href='/help/resources/cisco_intersight_managed_mode_configuration'>Cisco
                                            Intersight
                                            Managed Mode Configuration Guide</a>.</p>
                                </li>
                            </ul>
                        </div>
                        <div>
                            <div class="section">
                                <h2 class="sectiontitle">June 8</h2>
                            </div>
                            <div class="section">
                                <ul>
                                    <li>
                                        <p>Added HyperFlex Data Platform 5.0(1c) support for HyperFlex cluster
                                            deployment
                                            and
                                            upgrade. For more information, see <a
                                                href='/help/resources#cisco_hyperflex_cluster_deployment'>Cisco
                                                HyperFlex
                                                Systems
                                                Installation Guide for Intersight</a> and <a
                                                href='/help/resources#upgrade_cisco_hyperflex_systems_in_cisco_intersight'>Upgrade
                                                Cisco HyperFlex Systems in Intersight</a>.</p>
                                    </li>
                                </ul>
                            </div>
                            <div class="section">
                                <h2 class="sectiontitle">May 26</h2>
                            </div>
                            <div class="section">
                                <ul>
                                    <li>
                                        <p>Added the ability to enable Hardware Support Manager (HSM) in VMware vCenter
                                            targets.
                                            HSM
                                            provides the capability to manage firmware upgrade operations on Cisco UCS
                                            C-Series
                                            Standalone servers from VMware vCenter Life Cycle Manager (vLCM). For more
                                            information,
                                            see <a href='/help/getting_started/claim_targets'>Claim Targets</a> and <a
                                                href='/help/resources#managing_firmware_using_hardware_support_manager
                    '>Managing Firmware using Hardware Support Manager</a>.</p>
                                    </li>
                                </ul>
                            </div>

                            <div class="section">
                                <h2 class="sectiontitle">May 19</h2>
                            </div>
                            <div class="section">
                                <ul>
                                    <li>
                                        <p>Added the ability to configure rack server and chassis IDs on recommission.
                                            For
                                            more
                                            information, see <a
                                                href='/help/features/servers/operate#servers_table_view'>Servers
                                                Table View</a> and <a
                                                href='/help/features/servers/operate#chassis_table_view'>Chassis Table
                                                View</a>.
                                        </p>
                                    </li>
                                    <li>
                                        <p>New features and enhancements to Intersight Cloud Orchestrator:</p>
                                        <ul>
                                            <li>
                                                <p>Added the following tasks to manage Cisco MDS targets:</p>
                                                <ul>
                                                    <li>
                                                        <p>Set DNS Server</p>
                                                    </li>
                                                    <li>
                                                        <p>Remove DNS Server</p>
                                                    </li>
                                                    <li>
                                                        <p>Set NTP Server</p>
                                                    </li>
                                                    <li>
                                                        <p>Remove NTP Server</p>
                                                    </li>
                                                </ul>
                                                <p>This is a feature preview. For more information, see <a
                                                        href='/help/resources/Task_Designer#supported_tasks_for_network_targets'>Supported
                                                        Tasks for Network Targets</a>.</p>

                                            </li>
                                            <li>
                                                <p>Added the ability to view DNS and NTP server details of Cisco MDS
                                                    targets.
                                                    This
                                                    is a feature preview. For more information, see <a
                                                        href='/help/features/network/operate#san_switch_details_view'>SAN
                                                        Switches
                                                        Details View</a>.</p>
                                            </li>
                                            <li>
                                                <p>Added the ability to view the features and the licenses of Cisco
                                                    Nexus
                                                    targets.
                                                    This is a feature preview. For more information, see <a
                                                        href='/help/features/network/operate#ethernet_switch_details_view'>Ethernet
                                                        Switches Details View</a>.</p>
                                            </li>

                                    </li>


                                </ul>
                            </div>

                            <div class="section">
                                <h2 class="sectiontitle">May 12</h2>
                            </div>
                            <div class="section">
                                <ul>
                                    <li>
                                        <p>Added support for NVMe cache in All Flash models, All NVMe hardware models,
                                            and
                                            40/100 GE
                                            Networking with DC-no-FI HyperFlex clusters. For more information, see <a
                                                href='/help/features/hyperflex/configure#hyperflex_datacenter_no_fabric_interconnect_cluster_deployment'>HyperFlex
                                                DC-no-FI Deployment</a>.</p>
                                    </li>
                                </ul>
                            </div>

                            <div>
                                <div class="section">
                                    <h2 class="sectiontitle">May 5</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            <p>Spring Framework fix is now available in Intersight. For more
                                                information,
                                                see <a
                                                    href='https://tools.cisco.com/security/center/content/CiscoSecurityAdvisory/cisco-sa-java-spring-rce-Zx9GUc67'>Cisco
                                                    Security Advisory for Spring Framework</a>.</p>
                                        </li>
                                        <li>
                                            <p>Enhancements to Cisco Intersight Workload Optimizer:</p>
                                        </li>
                                        <ul>
                                            <li>
                                                <p>Application Performance Management—Added the capability to use
                                                    percentile
                                                    calculations for AppDynamics.</p>
                                            </li>
                                            <li>
                                                <p>Cloud Resource Management—Added the ability to view cost breakdown by
                                                    Tag
                                                    Chart.
                                                </p>
                                            </li>
                                            <li>
                                                <p>On-Prem Resource Management—Improved actions detail for virtual
                                                    machines
                                                    and
                                                    added support for NetApp ONTAP 9.</p>
                                            </li>
                                            <li>
                                                <p>Container Platform Management—Added the capability to obtain resizing
                                                    recommendations. Added the ability to manually execute actions for
                                                    Azure
                                                    Kubernetes Service.</p>
                                            </li>
                                        </ul>
                                        <p>For more information, see <a
                                                href='/help/resources#cisco_intersight_workload_optimizer'
                                                target='_blank' class='Updates-link'>Intersight Workload Optimizer
                                                Target
                                                Configuration Guide</a> and <a
                                                href='/help/resources#cisco_intersight_workload_optimizer'
                                                target='_blank' class='Updates-link'>Intersight Workload Optimizer User
                                                Guide.</a></p>
                                        </li>
                                        <li>
                                            <p>Added the ability to send real-time notifications using webhooks when
                                                events
                                                occur
                                                within the local Intersight environment. For more information, see <a
                                                    href='/help/system/settings#configuring_webhooks'>Configuring
                                                    Webhooks</a>.</p>
                                        </li>
                                    </ul>
                                </div>
                                <div class="section">
                                    <h2 class="sectiontitle">April 28</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            <p>Enhancements to Cisco HyperFlex Systems:</p>
                                            <ul>
                                                <li>
                                                    <p>Added the capability to manage encrypted datastores in
                                                        Intersight.
                                                        For
                                                        more
                                                        information, see <a
                                                            href='/help/resources/cisco_hyperflex_systems_administration_guide#manage_datastores'>Manage
                                                            Datastores</a>.</p>
                                                </li>
                                                <li>
                                                    <p>Added support to expand HyperFlex clusters with M6 HyperFlex
                                                        nodes.
                                                        For
                                                        more
                                                        information, see <a
                                                            href='/help/resources/expand_cisco_hyperflex_clusters_in_intersight'>Expand
                                                            Cisco HyperFlex Clusters in Intersight</a>.</p>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <p>Added the ability to change the type of an AWS virtual machine instance
                                                in
                                                Intersight
                                                Virtualization Service. For more information, see <a
                                                    href='/help/features/virtualization/operate#resizing_an_aws_virtual_machine_instance'>Resizing
                                                    an AWS Virtual Machine Instance</a>.</p>
                                        </li>
                                        <li>
                                            <p>Added new NetApp Smart LUN storage tasks in the Intersight Cloud
                                                Orchestrator
                                                task
                                                library. For more information, see <a
                                                    href='/help/resources/Task_Designer#supported_tasks_for_storage_targets'>Supported
                                                    Tasks for Storage Targets</a>.</p>
                                        </li>
                                        <li>
                                            <p>Added the ability to view the power state telemetry data for UCS servers.
                                                For
                                                more
                                                information, see <a
                                                    href='/help/features/servers/operate#servers_details_view'>Servers
                                                    Details
                                                    View</a>.</p>
                                        </li>
                                    </ul>
                                </div>
                                <div class="section">
                                    <h2 class="sectiontitle">April 21</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            <p>Enhanced sort and filter capability for additional columns in the Servers
                                                Table
                                                View
                                                including HCL Status, Contract Status, and more. For more information,
                                                see
                                                <a href='/help/features/servers/operate#servers_table_view'>Servers
                                                    Table
                                                    View</a>.
                                            </p>
                                        </li>
                                        <li>
                                            <p>Added HyperFlex Data Platform 4.5(2c) support for HyperFlex cluster
                                                deployment
                                                and
                                                upgrade. For more information, see <a
                                                    href='/help/saas/features/hyperflex/configure#cisco_hyperflex_cluster_deployment'>Cisco
                                                    HyperFlex Cluster Deployment</a> and <a
                                                    href='/help/resources#upgrade_cisco_hyperflex_systems_in_cisco_intersight'>Upgrade
                                                    Cisco HyperFlex Systems in Intersight</a>.</p>
                                        </li>
                                        <li>
                                            <p>New features and enhancements to Intersight Cloud Orchestrator:</p>
                                            <ul>
                                                <li>
                                                    <p>Added new tasks to manage the Cisco Nexus and MDS targets
                                                        available
                                                        in
                                                        Cisco
                                                        Intersight. This is a feature preview. For more information, see
                                                        <a
                                                            href='/help/resources/Task_Designer#supported_tasks_for_network_targets'>Supported
                                                            Tasks for Network Targets</a>.
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>Added the ability to view ports of Cisco Nexus and MDS targets,
                                                        and
                                                        port
                                                        channels of Cisco MDS targets. This is a feature preview. For
                                                        more
                                                        information, see <a
                                                            href='/help/features/network/operate#ethernet_switches_table_view_(feature_preview)'>Ethernet
                                                            Switches Table View</a> and <a
                                                            href='/help/features/network/operate#san_switches_table_view_(feature_preview)'>SAN
                                                            Switches Table View</a>.</p>
                                                </li>
                                                <li>
                                                    <p>Added the Serial Loop task to iteratively run tasks based on a
                                                        specified
                                                        count or condition. For more information, see <a
                                                            href='/help/resources/Workflow_Designer#operations_-_serial_loop_task'>Operations
                                                            – Serial Loop Task</a>.</p>
                                                </li>
                                                <li>
                                                    <p>Added the ability to enable automatic rollback of a workflow when
                                                        the
                                                        workflow execution fails. For more information, see <a
                                                            href='/help/resources/Workflow_Designer#defining_a_workflow'>Defining
                                                            a
                                                            Workflow</a>.</p>
                                                </li>
                                                <li>
                                                    <p>
                                                        Added the ability to support Cisco UCS Director as one of the
                                                        endpoints
                                                        for
                                                        the Invoke Web API task. For more information, see <a
                                                            href='/help/resources/web_api_request'> Executors - Invoke
                                                            Web
                                                            API
                                                            Request</a>.
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>
                                                        Added support for custom mode of installation in the OS
                                                        installation
                                                        workflow. For more information, see <a
                                                            href='/help/resources/os_install#adding_an_os_installation_workflow_to_workflow_designer'>
                                                            Adding an OS Installation Workflow to Workflow Designer</a>.
                                                    </p>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <p>Enhancements to Cisco Intersight with NetApp ONTAP storage: </p>
                                            <ul>
                                                <li>
                                                    <p>Enhancements to NetApp storage views under the Storage UI
                                                        section.
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>Added new NetApp storage tasks in the Intersight Cloud
                                                        Orchestrator
                                                        task
                                                        library.</p>
                                                </li>

                                            </ul>
                                            <p>For more information, see <a
                                                    href='/help/resources/Task_Designer#supported_tasks_for_storage_targets'>Supported
                                                    Tasks for Storage Targets</a>.</p>

                                        </li>
                                        </li>
                                    </ul>
                                </div>
                                <div class="section">
                                    <h2 class="sectiontitle">April 14</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            <p>Enhancements to Cisco Intersight Workload Optimizer (IWO):</p>
                                        </li>
                                        <ul>
                                            <li>
                                                <p>Added support to manage Microsoft SQL Server and My SQL Server
                                                    targets in
                                                    IWO.
                                                </p>
                                            </li>
                                            <li>
                                                <p>Added the ability to dynamically adjust the number of pod replicas
                                                    for
                                                    horizontally scalable Kubernetes services.</p>
                                            </li>
                                            <li>
                                                <p>Added support for the new AWS M6i family of instances and improved
                                                    cost
                                                    calculations for AWS.</p>
                                            </li>
                                            <li>
                                                <p>Added support for Azure Dv5-series and Ev5-series instance types.</p>
                                            </li>
                                        </ul>
                                        <p>For more information, see <a
                                                href='/help/resources#cisco_intersight_workload_optimizer'
                                                target='_blank' class='Updates-link'>Intersight Workload Optimizer
                                                Target
                                                Configuration Guide</a> and <a
                                                href='/help/resources#cisco_intersight_workload_optimizer'
                                                target='_blank' class='Updates-link'>Intersight Workload Optimizer User
                                                Guide.</a></p>
                                        <li>
                                            <p>Added the ability to log in to Intersight using Account Name URL, as well
                                                as
                                                add
                                                and
                                                verify Domain Names, which can then be added to IdPs. For more
                                                information,
                                                see
                                                <a href='/help/system/settings#account_settings_configuration'>Configuring
                                                    Account Settings</a> and <a
                                                    href='/help/resources#single_sign-on_with_intersight'>Single Sign-on
                                                    with
                                                    Intersight.</a>
                                            </p>
                                        </li>

                                        <li>
                                            <p>Added the ability to configure static pin groups for managing Ethernet
                                                and
                                                Fibre
                                                Channel traffic in Intersight Managed Mode servers. For more
                                                information,
                                                see
                                                the
                                                Creating a Port Policy section in the <a
                                                    href='/help/resources/cisco_intersight_managed_mode_configuration'>Cisco
                                                    Intersight Managed Mode Configuration Guide</a>.</p>
                                        </li>

                                </div>
                                <div class="section">
                                    <h2 class="sectiontitle">April 7</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            Added the ability in HyperFlex Cluster Device Connector to view connectivity
                                            details
                                            and
                                            help remediate issues. For more information, see <a
                                                href='/help/resources#configuring_device_connector'>Configuring Device
                                                Connector</a>.</p>
                                        </li>
                                        <li>
                                            Added support for HashiCorp Configuration Language variables and downloading
                                            Terraform
                                            state version contents. For more information, see <a
                                                href='/help/resources#cisco_intersight_service_for_hashicorp_terraform'>Configuring
                                                Intersight Services for Hashicorp Terraform</a>.</p>
                                        </li>
                                    </ul>
                                </div>
                                <div class="section">
                                    <h2 class="sectiontitle">March 24</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            <p>Added the ability to claim Cisco MDS and Nexus switch endpoint targets,
                                                and
                                                view
                                                the
                                                inventory information. This is a feature preview. For more information,
                                                see
                                                <a href='/help/getting_started/claim_targets'>Claim Targets</a>, <a
                                                    href='/help/features/network/operate#ethernet_switches_table_view_(feature_preview)'>Ethernet
                                                    Switches Table View</a>, and <a
                                                    href='/help/features/network/operate#san_switches_table_view_(feature_preview)'>SAN
                                                    Switches Table View</a>.
                                            </p>
                                        </li>
                                        <li>Added the following privileges:
                                            <ul>
                                                <li>
                                                    <p>Network Administrator and Network Operator to support Cisco Nexus
                                                        endpoints.
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>SAN Administrator and SAN Operator to support Cisco MDS
                                                        endpoints.
                                                    </p>
                                                </li>
                                            </ul>
                                        </li>
                                        <p>For more information, see <a href='/help/resources/RBAC'>Organizations and
                                                Roles
                                                in
                                                Intersight</a>.</p>
                                        <li>Enhancements to Intersight Kubernetes Service (IKS):
                                            <ul>
                                                <li>
                                                    <p>Support for Kubernetes 1.21 in IKS using ContainerD CRI. For more
                                                        information, see <a
                                                            href='https://www.cisco.com/c/en/us/td/docs/unified_computing/Intersight/b-intersight-kubernetes-service-feature-compatibility-matrix.html'>Intersight
                                                            Kubernetes Service Feature Compatibility Matrix</a>.</p>
                                                </li>
                                                <li>
                                                    <p>Support for Cisco Intersight Service Mesh Manager 1.8.2. For more
                                                        information, see <a
                                                            href='/help/resources#cisco_intersight_service_mesh_manager'>Cisco
                                                            Intersight Service Mesh Manager</a>.</p>
                                                </li>
                                                <li>
                                                    <p>For more information on new or deprecated features, enhancements,
                                                        and
                                                        issues
                                                        in IKS, see <a
                                                            href='/help/resources/intersight_kubernetes_service_change_log'>Changelog</a>.
                                                    </p>
                                                </li>
                                            </ul>

                                        </li>
                                    </ul>

                                </div>
                                <div class="section">
                                    <h2 class="sectiontitle">March 10</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            <p>Enhancements to Cisco HyperFlex Systems:</p>
                                            <ul>
                                                <li>
                                                    <p>Added the ability to upgrade server firmware for HyperFlex Fabric
                                                        Interconnect-attached clusters. For more information, see <a
                                                            href='/help/resources#upgrade_cisco_hyperflex_systems_in_cisco_intersight'>Upgrade
                                                            Cisco HyperFlex Systems in Intersight</a>.</p>
                                                </li>
                                                <li>
                                                    <p>Added the ability to expand HyperFlex 2-Node Edge clusters. For
                                                        more
                                                        information, see <a
                                                            href='/help/resources#expand_cisco_hyperflex_clusters_in_cisco_intersight'>Expand
                                                            Cisco HyperFlex Clusters in Intersight</a>.</p>
                                                </li>
                                            </ul>
                                    </ul>
                                    <ul>
                                        <li>
                                            <p>Added the ability to launch vKVM on all servers in UCSM Managed Mode
                                                without
                                                the
                                                need
                                                for secondary authentication with UCS Manager. For more information, see
                                                <a href='/help/features/servers/operate#launch_virtual_kvm'>Launch
                                                    Virtual
                                                    KVM</a>.
                                            </p>
                                        </li>
                                        <li>
                                            <p>Added the following capabilities for Hitachi storage in Intersight Cloud
                                                Orchestrator:</p>
                                            <ul>
                                                <li>
                                                    <p>Find Storage Volume by ID task. For more information, see <a
                                                            href='/help/resources/Task_Designer'>Task Designer</a>.</p>
                                                </li>
                                                <li>
                                                    <p>Remove or Update VMFS Datastore workflows. For more information,
                                                        see
                                                        <a href='/help/resources/Workflow_Designer'>Workflow
                                                            Designer</a>.
                                                    </p>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>
                                <div class="section">
                                    <h2 class="sectiontitle">March 3</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            <p>Added support for the following features for Cisco UCS C890 M5 Rack
                                                Server
                                                Management:</p>
                                            <ul>
                                                <li>
                                                    <p>General Server Actions</p>
                                                </li>
                                                <li>
                                                    <p>Inventory and Alarms</p>
                                                </li>
                                                <li>
                                                    <p>vKVM Launch</p>
                                                </li>
                                                <li>
                                                    <p>Integration with Cisco TAC</p>
                                                </li>
                                                <li>
                                                    <p>Managing Foreign Drive Configurations</p>
                                                </li>
                                                <li>
                                                    <p>Setting Disk State</p>
                                                </li>
                                                <li>
                                                    <p>Virtual Disk Management</p>
                                                </li>
                                                <li>
                                                    <p>Trusted Platform Module Support</p>
                                                </li>
                                            </ul>
                                            <p>For more information, see <a
                                                    href='/help/saas/resources/claiming_ucs_c890_m5_targets'>Managing
                                                    Cisco
                                                    UCS
                                                    C890
                                                    M5 Targets</a>.</p>
                                        </li>
                                    </ul>
                                </div>
                                <div class="section">
                                    <h2 class="sectiontitle">February 17</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            <p>Added the ability to view EC2 inventory for Amazon Web Services and
                                                perform
                                                power
                                                operations on EC2 virtual machines. For more information, see <a
                                                    href='/help/features/virtualization/operate'>Virtualization
                                                    Service</a>.
                                            </p>
                                        </li>
                                        <li>
                                            <p>Added support in Intersight Cloud Orchestrator to create variables for a
                                                workflow.
                                                For more information, see <a
                                                    href='/help/resources/Workflow_Designer#workflow_variables'>Workflow
                                                    Variables</a>.</p>
                                        </li>
                                    </ul>
                                </div>
                                <div class="section">
                                    <h2 class="sectiontitle">February 10</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            <p>Added the ability to configure and launch Tunneled vKVM on all servers in
                                                Intersight
                                                Managed Mode. For more information, see <a href='/help/resources/cisco_intersight_managed_mode_configuration#creating_a_virtual_kvm_policy
                '>Creating a Virtual KVM Policy</a>.</p>
                                        </li>
                                        <li>
                                            <p>Added new tasks for VMware vCenter networking operations to manage
                                                distributed
                                                virtual switches and distributed virtual networks. For more information,
                                                see
                                                <a href='/help/resources/Task_Designer'>Task Designer</a>.
                                            </p>
                                        </li>
                                        <li>
                                            <p>Added new tasks for managing networks and assigning IP addresses to the
                                                virtual
                                                machines. For more information, see <a
                                                    href='/help/resources/Task_Designer'>Task
                                                    Designer</a>.</p>
                                        </li>
                                    </ul>
                                </div>
                                <div class="section">
                                    <h2 class="sectiontitle">February 3</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            <p>Enhancements to Device Contract Coverage widgets to include:</p>
                                            <ul>
                                                <li>
                                                    <p>Enhanced view of devices with contract status now allows up to
                                                        three
                                                        device
                                                        types.</p>
                                                </li>
                                                <li>
                                                    <p>Ability to view and export contract status details from the
                                                        Device
                                                        Contract
                                                        Coverage page.</p>
                                                </li>
                                            </ul>
                                            <p>For more information, see <a
                                                    href='/help/my_dashboard/dashboard_elements#contract_status_widgets'>Contract
                                                    Status Widgets</a>.</p>
                                        <li>
                                            <p>Added a new task for UCS C-Series standalone and Intersight Managed Mode
                                                servers
                                                in
                                                the workflow designer to create server profiles from templates. For more
                                                information, see <a
                                                    href='/help/resources/Task_Designer#compute_tasks_matrix'>Compute
                                                    Tasks
                                                    Matrix</a>.</p>
                                        </li>
                                        <li>
                                            <p>Added support for Kubernetes 1.20 in Intersight Kubernetes Service. For
                                                more
                                                information, see <a
                                                    href='https://www.cisco.com/c/en/us/td/docs/unified_computing/Intersight/b-intersight-kubernetes-service-feature-compatibility-matrix.html'>Intersight
                                                    Kubernetes Service Feature Compatibility Matrix</a>.</p>
                                        </li>
                                        <li>
                                            <p>Enhanced chassis and server power policies by adding support for Power
                                                Save
                                                Mode,
                                                Dynamic Power Rebalancing and setting the Power Priority. For more
                                                information,
                                                see
                                                <a href='/help/resources/cisco_intersight_managed_mode_configuration#creating_a_power_policy_for_chassis
                    '>Creating a Power Policy for Chassis</a> and <a
                                                    href='/help/resources/cisco_intersight_managed_mode_configuration#creating_a_power_policy_for_server'>Creating
                                                    a Power Policy for Server</a>.
                                            </p>
                                        </li>
                                    </ul>
                                </div>
                                <div class="section">
                                    <h2 class="sectiontitle">January 27</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            <p>Added HyperFlex Data Platform 5.0(1b) support for HyperFlex cluster
                                                deployment
                                                and
                                                upgrade. For more information, see <a
                                                    href='/help/resources#cisco_hyperflex_cluster_deployment'>Cisco
                                                    HyperFlex
                                                    Systems Installation Guide for Intersight</a> and <a
                                                    href='/help/resources#upgrade_cisco_hyperflex_systems_in_cisco_intersight'>Upgrade
                                                    Cisco HyperFlex Systems in Intersight</a>.</p>
                                        </li>
                                    </ul>
                                    <ul>
                                        <li>
                                            <p>Added capability to configure Software encryption on ESXi-based HyperFlex
                                                Edge
                                                clusters and Fabric Interconnect clusters:</p>
                                            <ul>
                                                <li>
                                                    <p>Ability to manage keys natively in Intersight with Intersight Key
                                                        Manager.
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>Ability to re-key and validate encryption keys.</p>
                                                </li>
                                            </ul>
                                            <p>For more information, see <a
                                                    href='/help/resources/hyperflex_software_encryption'>HyperFlex
                                                    Software
                                                    Encryption</a>.</p>
                                    </ul>
                                    <ul>
                                        <li>
                                            <p>Added capability to protect encrypted datastores with N:1 Replication.
                                                For
                                                more
                                                information, see <a
                                                    href='/help/resources#n:1_replication_for_cisco_hyperflex_clusters'>N:1
                                                    Replication for Cisco HyperFlex Clusters</a>.</p>
                                        </li>
                                    </ul>
                                    <ul>
                                        <li>
                                            <p>Enhancements to Cisco Intersight with NetApp ONTAP storage:</p>
                                            <ul>
                                                <li>
                                                    <p>Added Intersight alarms for events generated from NetApp Active
                                                        IQ
                                                        Unified
                                                        Manager. This support is applicable from Active IQ Unified
                                                        Manager
                                                        9.10
                                                        or
                                                        later releases.
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>Added storage VM and volume details in the Storage Inventory
                                                        page.
                                                    </p>
                                                </li>
                                            </ul>
                                        </li>
                                        <li>
                                            <p>Added Graphical View support for Cisco UCS S3260 servers in standalone
                                                mode.
                                                For
                                                more
                                                information, see <a
                                                    href='/help/features/servers/operate#servers_details_view'>Servers
                                                    Details
                                                    View</a>.</p>
                                        </li>
                                    </ul>
                                    </ul>
                                </div>
                                <div class="section">
                                    <h2 class="sectiontitle">January 20</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            <p>Enhancements to <a
                                                    href='https://status.intersight.com/'>status.intersight.com</a>
                                                page:</p>
                                            <ul>
                                                <li>
                                                    <p>Enhanced classification and categorization of Intersight
                                                        services.
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>Added Slack subscription option for notification of Intersight
                                                        status
                                                        updates.</p>
                                                </li>
                                                <li>
                                                    <p>Added capability to get Intersight status updates for specific
                                                        components.
                                                    </p>
                                                </li>
                                            </ul>
                                            <p>For more information, see <a
                                                    href='/help/resources/intersight_status_page'>Intersight
                                                    Status Page</a>.</p>
                                    </ul>
                                    <ul>
                                        <li>
                                            <p>Added workflow tasks for claiming, getting target details, and removing
                                                SSH,
                                                Ansible,
                                                PowerShell, and HTTP endpoint targets in Intersight. For more
                                                information,
                                                see
                                                <a
                                                    href='/help/resources/Task_Designer#supported_target_management_tasks'>Supported
                                                    Target Management Tasks</a>.
                                            </p>
                                        </li>
                                        <li>
                                            <p>Added support for a graceful termination of firmware upgrade in
                                                standalone
                                                servers.
                                                For more information, see <a
                                                    href='/help/resources#managing_firmware_in_standalone_mode'>Managing
                                                    Firmware in
                                                    Standalone Mode</a>.</p>
                                        </li>
                                        <li>
                                            <p>Added new Cisco Security Advisories. For a complete list of advisories
                                                and
                                                more
                                                information, see <a
                                                    href='/help/resources#intersight_advisories'>Intersight
                                                    Advisories.</a></p>
                                        </li>
                                        <ul>
                                </div>
                                <div class="section">
                                    <h2 class="sectiontitle">January 13</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            <p>Enhancements to Cisco HyperFlex Systems:</p>
                                            <ul>
                                                <li>
                                                    <p>Added ability to view hosts, virtual machines, and drives.</p>
                                                </li>
                                                <li>
                                                    <p>Added capability to view, create, and manage datastores and
                                                        storage
                                                        containers.</p>
                                                </li>
                                                <p>For more information, see <a
                                                        href='/help/resources/cisco_hyperflex_systems_administration_guide'>Cisco
                                                        HyperFlex Systems Administration Guide</a>.</p>
                                                <li>
                                                    <p>Added ability to open a TAC case directly from the HyperFlex
                                                        Clusters
                                                        table
                                                        view. For more information, see <a
                                                            href='/help/system/settings#integration_with_cisco_tac'>Integration
                                                            with Cisco TAC</a>.</p>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>

                                    </li>
                                    </ul>
                                    <ul>
                                        <li>
                                            <p> Enhancements to Intersight Cloud Orchestrator (ICO):</p>
                                            <ul>
                                                <li>
                                                    <p>Added ability to create reusable tasks to invoke Ansible Playbook
                                                        and
                                                        SSH
                                                        commands to automate operations on the target devices. For more
                                                        information,
                                                        see <a
                                                            href='/help/resources/Executor_Ansible_Reusable'>Executors –
                                                            Invoke
                                                            Ansible Playbook - Reusable Task</a> and <a
                                                            href='/help/resources/Executor_SSH_Reusable'>Executors –
                                                            Invoke
                                                            SSH
                                                            Commands - Reusable Task</a>.</p>
                                                </li>
                                                <li>
                                                    <p>Added support for key-based authentication for SSH and Ansible
                                                        target
                                                        devices. For more information, see <a
                                                            href='/help/getting_started/claim_targets'>Claim
                                                            Targets</a>.
                                                    </p>
                                                </li>
                                            </ul>
                                        </li>
                                    </ul>
                                </div>

                                <div>
                                    <div class="section">
                                        <h2 class="sectiontitle">January 6</h2>
                                    </div>
                                    <div class="section">
                                        <ul>
                                            <li>
                                                <p>Enhancements to Cisco Intersight Workload Optimizer (IWO):</p>
                                            </li>
                                            <ul>
                                                <li>
                                                    <p>Added ability to perform multiple Azure volume actions together
                                                        on a
                                                        single
                                                        VM.</p>
                                                </li>
                                                <li>
                                                    <p>Added capability to recommend scaling actions for AWS RDS
                                                        database
                                                        servers.
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>Added capability to run Buy VM Reservation plan for Cloud
                                                        Resource
                                                        Management
                                                        to view RI purchase opportunities.</p>
                                                </li>
                                                <li>
                                                    <p>Added capability to discover the app services and plans for Azure
                                                        App
                                                        deployment.</p>
                                                </li>
                                                <li>
                                                    <p>Added capability to analyze on-premises volumes and ability to
                                                        view
                                                        blade
                                                        servers as hosts in a datacenter for on-premises Resource
                                                        Management.
                                                    </p>
                                                </li>
                                                <li>
                                                    <p>Improved Savings and Investments charts, Top Accounts chart, and
                                                        improvements
                                                        for AWS and Azure targets.</p>
                                                </li>
                                            </ul>
                                            <p>For more information, see <a
                                                    href='/help/resources#cisco_intersight_workload_optimizer'
                                                    target='_blank' class='Updates-link'>Intersight Workload Optimizer
                                                    Target Configuration
                                                    Guide</a> and <a
                                                    href='/help/resources#cisco_intersight_workload_optimizer'
                                                    target='_blank' class='Updates-link'>Intersight Workload Optimizer
                                                    User
                                                    Guide.</a></p>
                                        </ul>
                                    </div>
                                </div>
</body>

</html>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7707fa6185e9e47b7ae1af3565444b67">3.3 - 2021</h1>
    
	<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0193)file:///private/var/folders/y8/w3010y691lz8bn4ztfk_r3w80000gn/T/OxygenXMLTemp/asthttp___rtp_aspw_ccms1.cisco.com_astoria/out/topic-xhtml/_id_00000018WHA526C8BGYZ_Intersight_whatsnew_jan_10.html -->
<html lang="en_US" xml:lang="en_US">

<head>

    <title>What's New in Cisco Intersight</title>
</head>

<body><a name="reference_r5b_jct_rz"><!-- --></a>


    <div>
        <div class="section">
            <h2 class="sectiontitle">December 20</h2>
        </div>
        <div class="section">
            <ul>
                <li>
                    <p>Log4j fix is now available in Intersight. For more information, see <a
                            href='https://tools.cisco.com/security/center/content/CiscoSecurityAdvisory/cisco-sa-apache-log4j-qRuKNEbd'
                            target='_blank' class='Updates-link'>Cisco Security Advisory for Apache Log4j</a></p>
                </li>
            </ul>
        </div>
        <div class="section">
            <h2 class="sectiontitle">December 9</h2>
        </div>
        <div class="section">
            </ul>
            <ul>
                <li>
                    <p>Enhancements to Cisco HyperFlex Systems in Intersight:</p>
                    <ul>
                        <li>
                            <p>Added HyperFlex Data Platform 4.5(2b) support for HyperFlex cluster deployment and
                                upgrade. For more information, see <a
                                    href='/help/features/hyperflex/configure#hyperflex_cluster_management'
                                    target='_blank' class='Updates-link'>Cisco HyperFlex Systems Installation Guide for
                                    Intersight</a> and <a
                                    href=/help/resources/upgrade_cisco_hyperflex_systems_with_cisco_intersight
                                    target='_blank' class='Updates-link'>Upgrade Cisco HyperFlex Systems in
                                    Intersight</a></p>
                        </li>
                        <li>
                            <p>Added capability to alert users about End of Life and End of Support dates for Cisco
                                HyperFlex Data Platform software releases that are no longer supported. For more
                                information, see <a href='/help/resources/cisco_end_of_life_advisories' target='_blank'
                                    class='Updates-link'>Cisco End of Life Advisories</a></p>
                        </li>
                    </ul>
                </li>
            </ul>
            <ul>
                <li>
                    <p> Enhancements to Intersight Cloud Orchestrator (ICO):</p>
                </li>
                <ul>
                    <li>
                        <p>Added ability to execute PowerShell scripts using Invoke PowerShell Script tasks to automate
                            operations on the PowerShell target endpoints. For more information, see <a
                                href='/help/resources/Executor_PowerShell'>Executors – Invoke PowerShell Script</a></p>
                    </li>
                    <li>
                        <p>Added ability to support Cisco Application Policy Infrastructure Controller (APIC) as one of
                            the target endpoints in Invoke Web API task. For more information, see <a
                                href='/help/resources/web_api_request'>Executors - Invoke Web API Request</a></p>
                    </li>
                </ul>
            </ul>
            <ul>
                <li>
                    <p>Added support for launching VMware ESXi host console. For more information, see <a
                            href='/help/resources/Host_General_View'>General Information on Hosts</a></p>
                </li>
                <li>
                    <p>Added support for VMware ESXi host maintenance mode actions. For more information, see <a
                            href='/help/resources/Host_General_View'>General Information on Hosts</a></p>
                </li>
                <li>
                    <p> Added OS Installation support for Windows 2022 and RHEL 8.4 for standalone and Intersight
                        Managed Mode (IMM) servers. For more information, see <a
                            href='/help/resources/operating_system_installation_overview#supported_operating_systems_for_standalone_servers'
                            target='_blank' class='Updates-link'>Supported Operating Systems for Standalone Servers</a>
                        and <a
                            href='/help/resources/operating_system_installation_overview#supported_operating_systems_for_intersight_managed_mode_servers'
                            target='_blank' class='Updates-link'>Supported Operating Systems for Intersight Managed Mode
                            Servers</a></p>
                </li>
                <li>
                    <p>Added support for Image Views and Health Overlay on the UCSM Managed Mode (UMM) Fabric
                        Interconnects Details View. For more information, see <a
                            href='/help/features/servers/operate#fabric_interconnects_details_view' target='_blank'
                            class='Updates-link'>Fabric Interconnects Details View</a></p>
                </li>
                <li>
                    <p>Added support for specifying the switching mode for Ethernet and Fibre Channel ports. For more
                        information, see <a
                            href='/help/resources/cisco_intersight_managed_mode_configuration#creating_a_switch_control_policy'
                            target='_blank' class='Updates-link'>Creating a Switch Control Policy</a></p>
                </li>
                <li>
                    <p>Added support for specifying the VSAN scope of an FC port and for specifying the role of the FC
                        port as FC Storage or FC Uplink. For more information, see <a
                            href='/help/resources/cisco_intersight_managed_mode_configuration#creating_a_port_policy'
                            target='_blank' class='Updates-link'>Creating a Port Policy</a> and <a
                            href='/help/resources/cisco_intersight_managed_mode_configuration#creating_a_vsan_configuration_policy'
                            target='_blank' class='Updates-link'>Creating a VSAN Configuration Policy</a></p>
                </li>
                <li>
                    <p>Added the ability to configure Out-Of-Band IP addresses to route traffic using the management
                        port of the Fabric Interconnect. For more information, see <a
                            href='/help/resources/cisco_intersight_managed_mode_configuration#creating_an_imc_access_policy'
                            target='_blank' class='Updates-link'>Creating an IMC Access Policy</a></p>
                </li>
                <li>
                    <p>Ability to enable the Get Subscription Information option to obtain subscription details such as
                        usage, status, and expiration date to be displayed on the Licensing page. For more information,
                        see <a
                            href='/help/getting_started/licensing_requirements#registering_intersight_with_cisco_smart_licensing'>Registering
                            Intersight with Cisco Smart Licensing</a></p>
                    </p>
                </li>
                <li>
                    <p>Added IKS licensing support (Trial and Advantage) for clusters running on VMware, which will
                        report vCPU usage of IKS clusters running on VMware. For more information, see <a
                            href='/help/getting_started/licensing_requirements#cisco_intersight_kubernetes_service_licensing'>Cisco
                            Intersight Kubernetes Service Licensing</a></p>
                    </p>
                </li>
            </ul>

        </div>
        <div class="section">
            <h2 class="sectiontitle">December 2</h2>
        </div>
        <div class="section">
            <ul>
                <li>
                    <p>The Cisco Intersight Service Mesh Manager (Intersight SMM) extension, a managed Istio offering,
                        is now Generally Available. Intersight SMM enables you to observe, inspect, and manage
                        application traffic, control the ingress/egress gateways, and use policy-based secure
                        connectivity. For more information, see <a
                            href='/help/resources#cisco_intersight_service_mesh_manager' target='_blank'
                            class='Updates-link'>Cisco Intersight Service Mesh Manager</a></p>
                </li>
                <li>
                    <p>Enhancements for the Add Terraform Workspace workflow selections including Execution Mode, Apply
                        Method, User Interface, and Share State Globally. For more information, see <a
                            href='/help/resources/Cisco_Intersight_Service_for_HashiCorp_Terraform_User_Guide#terraform_cloud_integration_with_ico'
                            target='_blank' class='Updates-link'>Terraform Service enhancements for the Add Terraform
                            Workspace workflow</a></p>
                </li>
                <li>
                    <p>Added Parallel Loop task in Intersight Cloud Orchestrator (ICO) to iteratively run a single task
                        or sub-workflow based on the specified count. For more information, see <a
                            href='/help/resources/Workflow_Designer#operations_-_parallel_loop_task' target='_blank'
                            class='Updates-link'>Operations - Parallel Loop Task</a></p>
                </li>
            </ul>
        </div>
        <div class="section">
            <h2 class="sectiontitle">November 19</h2>
        </div>
        <div class="section">
            <ul>
                <li>
                    <p>Enhancements for standalone and Intersight Managed Mode (IMM) servers:</p>
                </li>
                <ul>
                    <li>
                        <p>Added network device and VLAN ID configuration support in Cisco Mode of OS Installation. For
                            more information, see <a
                                href='/help/resources/os_install#performing_os_installation_in_cisco_mode'
                                target='_blank' class='Updates-link'>Performing OS Installation in Cisco mode</a></p>
                    </li>
                    <li>
                        <p>Added ability to reset vKVM. For more information, see <a
                                href='/help/features/servers/operate#server_actions' target='_blank'
                                class='Updates-link'>Server Actions</a> and <a
                                href='/help/features/servers/operate#supported_virtual_kvm' target='_blank'
                                class='Updates-link'>Supported Virtual KVM</a></p>
                        </p>
                    </li>
                </ul>
                <li>
                    <p>Added new targets to support target claim, using Resource Groups, for the Organization. For more
                        information, see <a
                            href='/help/getting_started/claim_targets#target_claim_for_compute/fabric_hyperconverged_orchestrator_and_platform_services_targets'>Target
                            Claim for Compute/Fabric, Hyperconverged, Orchestrator, and Platform Services Targets</a>
                    </p>
                    </p>
                </li>
                <li>
                    <p>Enhancements to Intersight Cloud Orchestrator (ICO):</p>
                </li>
                <ul>
                    <li>
                        <p>Added tasks for creating and managing virtual machine templates</p>
                    </li>
                    <li>
                        <p>Added support for viewing virtual machine template inventory.
                        </p>
                    </li>
                    <p>For more information, see <a
                            href='/help/resources#viewing_virtualized_objects_in_cisco_intersight' target='_blank'
                            class='Updates-link'>General Information on Virtual Machine Templates</a>
                    </p>
                </ul>
            </ul>
            <ul>
                <li>
                    <p>Enhancements to Cisco Intersight Workload Optimizer (IWO): </p>
                </li>
                <ul>
                    <li>
                        <p>Added ability to recommend scale actions for Azure VMs based on the number of NICs supported
                            by an Azure pricing tier.</p>
                    </li>
                    <li>
                        <p>Added support for node pools to deploy and scale compute resources for Kubernetes services.
                        </p>
                    </li>
                    <li>
                        <p>Added improvements in cumulative savings and investments charts and actions for Azure
                            resource groups.</p>
                    </li>
                    <li>
                        <p>Added ability to view additional information for container platform actions, services, and
                            vStorage resize actions.</p>
                    </li>
                    <li>
                        <p>Added capability to discover tags assigned to workloads and view them from the Actions
                            Details page for pending actions.</p>
                    </li>
                </ul>
                <p>For more information, see <a href='/help/resources#cisco_intersight_workload_optimizer'
                        target='_blank' class='Updates-link'>Intersight Workload Optimizer Target Configuration
                        Guide</a> and <a href='/help/resources#cisco_intersight_workload_optimizer' target='_blank'
                        class='Updates-link'>Intersight Workload Optimizer User Guide</a></p>
            </ul>
        </div>
        <div class="section">
            <h2 class="sectiontitle">November 12</h2>
        </div>
        <div class="section">
            <ul>
                <li>
                    <p>Cisco HyperFlex Data Platform 5.0(1a) release provides the following features in Intersight:</p>
                </li>
                <ul>
                    <li>
                        <p>Support for install and upgrade of a HyperFlex converged node on HyperFlex-Series M6 servers.
                            You can use HyperFlex-Series M6 servers, as well as compliant UCS C-Series M6 servers, to
                            deploy HyperFlex clusters.</p>
                        <p>For more information, see <a href='/help/resources#cisco_hyperflex_cluster_deployment'
                                target='_blank' class='Updates-link'>Cisco HyperFlex Systems Installation Guide for
                                Intersight</a> and <a
                                href=/help/resources#upgrade_cisco_hyperflex_systems_in_cisco_intersight target='_blank'
                                class='Updates-link'>Upgrade Cisco HyperFlex Systems in Intersight</a> </p>
                    </li>
                    <li>
                        <p>Added ability to take snapshots of virtual machines and restore, using N:1 Replication for
                            HyperFlex Clusters in Intersight:</p>
                    </li>
                    <ul>
                        <li>
                            <p>Ability to configure different retention counts on the source and target clusters.</p>
                        </li>
                        <li>
                            <p>Ability to use HyperFlex Fabric Interconnected clusters as source clusters.</p>
                        </li>
                        <li>
                            <p>Backup dashboard enhancements to include error reporting for failed snapshots and
                                replication, drill down options, and consolidated view of failed backups and restores in
                                the last 24 hours.</p>
                        </li>
                    </ul>
                    <p>For more information, see <a href='/help/resources/replication_for_cisco_hyperFlex_clusters'
                            target='_blank' class='Updates-link'>N:1 Replication for HyperFlex Clusters</a></p>
                </ul>
                <li>
                    <p>Added Non-Volatile Memory Express (NVMe) configuration support in Boot Order policy for
                        standalone and Intersight Managed Mode (IMM) servers. For more information, see <a
                            href='/help/features/servers/operate#server_policies' target='_blank'
                            class='Updates-link'>Boot Order Policy</a></p>
                </li>
                <li>
                    <p>Added embedded tasks in Intersight Cloud Orchestrator (ICO) to invoke Ansible Playbook and SSH
                        commands to automate operations on the target devices. For more information, see <a
                            href='/help/resources/Executor_Ansible' target='_blank' class='Updates-link'>Executors -
                            Invoke Ansible Playbook
                        </a> and <a href='/help/resources/Executor_SSH' target='_blank' class='Updates-link'>Executors -
                            Invoke SSH Commands
                        </a></p>
                </li>
            </ul>
        </div>
        <div class="section">
            <h2 class="sectiontitle">October 28</h2>
        </div>
        <div class="section">
            <ul>
                <li>
                    <p>Added support to integrate Cisco Intersight Workload Optimizer (IWO) with ServiceNow for change
                        management of actions and recommendations. For more information, see <a
                            href='/help/resources#cisco_intersight_workload_optimizer' target='_blank'
                            class='Updates-link'>Intersight Workload Optimizer Target Configuration Guide</a> and <a
                            href='/help/resources#cisco_intersight_workload_optimizer' target='_blank'
                            class='Updates-link'>Intersight Workload Optimizer User Guide</a></p>
                </li>
                <li>
                    <p>Added support for the configuration of Disjoint Layer 2 VLANs on UCS Fabric Interconnect uplink
                        ports. For more information, see <a
                            href='/help/resources/cisco_intersight_managed_mode_configuration#creating_a_vlan_configuration_policy'
                            target='_blank' class='Updates-link'>Creating a VLAN Configuration Policy
                        </a></p>
                </li>
                <li>
                    <p>Enhancements to Intersight Kubernetes Service (IKS):</p>
                </li>
                <ul>
                    <li>
                        <p>Added support for the Service Mesh Manager (SMM) add-on. This is a feature preview. For more
                            information, see <a href='/help/resources#cisco_intersight_kubernetes_service'
                                target='_blank' class='Updates-link'>Service Mesh Manager for IKS</a></p>
                    </li>
                    <li>
                        <p>Added support for deleting cluster profiles using Intersight API.
                        </p>
                    </li>
                </ul>

            </ul>
        </div>
        <div class="section">
            <h2 class="sectiontitle">October 22</h2>
        </div>
        <div class="section">
            <ul>
                <li>
                    <p>Enhancements to Cisco Intersight with NetApp ONTAP storage:</p>
                    <ul>
                        <li>
                            <p>Added Health status information to Storage General page</p>
                        </li>
                        <li>
                            <p>Enhanced Storage Inventory page to include:</p>
                            <ul>
                                <li>
                                    <p>NTP Server details</p>
                                </li>
                                <li>
                                    <p>Sensor details which include PSU, FRU, and Fan details for each Node</p>
                                </li>
                                <li>
                                    <p>CIFS and NVMe information for Storage Virtual Machines</p>
                                </li>
                                <li>
                                    <p>Latency, IOPS, and Throughput statistics for Volumes, LUNs, VMs, Aggregates, and
                                        Nodes </p>
                                </li>
                                <li>
                                    <p>Total Data Capacity details for Volumes</p>
                                </li>
                                <li>
                                    <p>VLAN and link aggregation details for Ports </p>
                                </li>
                            </ul>
                        </li>

                    </ul>
                </li>
            </ul>
        </div>
        <div class="section">
            <h2 class="sectiontitle">October 14</h2>
        </div>
        <div class="section">
            <ul>
                <li>
                    <p>Enhancements to Cisco Intersight Workload Optimizer (IWO): </p>
                </li>
                <ul>
                    <li>
                        <p>Added support to manage New Relic target.</p>
                    </li>
                    <li>
                        <p>Added ability to collect Guest Metrics from vCenter targets.</p>
                    </li>
                    <p>For more information, see <a href='/help/resources#cisco_intersight_workload_optimizer'
                            target='_blank' class='Updates-link'>Intersight Workload Optimizer Target Configuration
                            Guide</a> and <a href='/help/resources#cisco_intersight_workload_optimizer' target='_blank'
                            class='Updates-link'>Intersight Workload Optimizer User Guide</a></p>
                </ul>
                <li>
                    <p>Added tasks for mounting and connecting external datastores on the ESXi hosts via iSCSI software
                        adapters.
                </li>
                <li>
                    <p>Added support for Cisco UCS C225 M6 server in Standalone mode and in Intersight Managed Mode
                        (IMM). For more information, see <a href='/help/supported_systems' target='_blank'
                            class='Updates-link'>Supported Systems</a></p>
                </li>
            </ul>
        </div>
        <div class="section">
            <h2 class="sectiontitle">October 7</h2>
        </div>
        <div class="section">
            <ul>
                <li>
                    <p>Enhancements to Intersight Service for Terraform (IST):</p>
                </li>
                <ul>
                    <li>
                        <p>Added workflow to create a workspace in Terraform Cloud.</p>
                    </li>
                    <li>
                        <p>Added rollback option for Add Terraform Variables workflow.</p>
                    </li>
                    <li>
                        <p>Added an option to destroy plan (destroy existing infrastructure managed by Terraform) to
                            Start New Terraform Plan workflow.
                        </p>
                    </li>
                    <p>For more information, see <a
                            href='/help/resources#cisco_intersight_service_for_hashicorp_terraform' target='_blank'
                            class='Updates-link'>TFC-ICO Integration: Out-of-Box ICO Workflows</a>
                    </p>
                </ul>
            </ul>
            <ul>
                <li>
                    <p>Enhancements to Server Profile management:</p>
                </li>
                <ul>
                    <li>
                        <p>Added Resource Pools to group homogeneous resources and automate configuration of Cisco UCS
                            Standalone and Fabric Interconnect-attached servers. For more information, see <a
                                href='/help/resources/cisco_intersight_managed_mode_configuration#resource_pools'
                                target='_blank' class='Updates-link'>Resource Pools</a> and <a
                                href='/help/resources/cisco_intersight_managed_mode_configuration#configuring_server_profiles'
                                target='_blank' class='Updates-link'>Configuring Server Profiles</a>
                        </p>
                    </li>
                    <li>
                        <p>Added support for Universally Unique Identifier (UUID) pools and UUID static address on
                            Fabric Interconnect-attached servers. For more information, see <a
                                href='/help/resources/cisco_intersight_managed_mode_configuration#uuid_pools'
                                target='_blank' class='Updates-link'>UUID Pools</a> and <a
                                href='/help/resources/cisco_intersight_managed_mode_configuration#configuring_server_profiles'
                                target='_blank' class='Updates-link'>Configuring Server Profiles</a>
                        </p>
                    </li>
                </ul>
                <li>
                    <p>Added tasks for creating and managing storage pools in the storage targets available in
                        Intersight. For more information, see <a
                            href='/help/resources/Task_Designer#supported_tasks_for_storage_targets' target='_blank'
                            class='Updates-link'> Supported Tasks for Storage Targets</a>
                </li>
                <li>
                    <p>Added capability to define Parameter Set and Progressive Disclosure rules for workflow inputs.
                        For more information, see <a
                            href='/help/resources/Workflow_Designer#workflow_input_parameter_set_and_progressive_disclosure_rules'
                            target='_blank' class='Updates-link'>Workflow Input Parameter Set and Progressive Disclosure
                            Rules</a>
                </li>
                <li>
                    <p>Added capability to define Parameter Set rules for composite data types. For more information,
                        see <a href='/help/resources/Data_Types#data_type_parameter_set_rule' target='_blank'
                            class='Updates-link'>Data Type Parameter Set Rule</a>
                </li>
            </ul>
        </div>
        <div class="section">
            <h2 class="sectiontitle">October 5</h2>
        </div>
        <div class="section">
            <ul>
                <li>
                    <p>Enhancements to Cisco Intersight Workload Optimizer (IWO): </p>
                </li>
                <ul>
                    <li>
                        <p>Improved Container Resource Management for Kubernetes CPU Metrics and Kubernetes Node
                            Actions.</p>
                    </li>
                    <li>
                        <p>Improved Cloud Resource Management to include uptime data in cost calculations for cloud VMs,
                            cumulative savings and cumulative investments charts, and AWS Savings plans utilization and
                            coverage.</p>
                    </li>
                    <li>
                        <p>Added recommendation in Container Resize Action to increase the vCPU limit capacity for
                            addressing slow response times associated with CPU throttling.</p>
                    </li>
                    <p>For more information, see <a href='/help/resources#cisco_intersight_workload_optimizer'
                            target='_blank' class='Updates-link'>Intersight Workload Optimizer Target Configuration
                            Guide</a> and <a href='/help/resources#cisco_intersight_workload_optimizer' target='_blank'
                            class='Updates-link'>Intersight Workload Optimizer User Guide</a></p>
                </ul>
            </ul>

        </div>
        <div class="section">
            <h2 class="sectiontitle">September 30</h2>
        </div>
        <div class="section">
            <ul>

                <li>
                    <p>Added the ability to configure the timezone for Standalone servers. For more information, see <a
                            href='/help/resources/cisco_intersight_managed_mode_configuration#creating_an_ntp_policy'
                            target='_blank' class='Updates-link'>Creating an NTP Policy</a></p>
                </li>
        </div>
        <div class="section">
            <h2 class="sectiontitle">September 24</h2>
        </div>
        <div class="section">
            <ul>
                <li>
                    <p>Added the ability to configure a retention period for audit logs as part of account settings
                        configuration. For more information, see <a
                            href='/help/system/settings#account_settings_configuration' target='_blank'
                            class='Updates-link'>Account Settings Configuration</a>​</p>
                <li>
                    <p>Enhanced Intersight Target Claim:</p>
                </li>
                <ul>
                    <li>
                        <p>Added Resource Group to classify and manage resources for Organizations. For more
                            information, see <a
                                href='/help/resources/Managing_Roles_and_Privileges#creating_a_resource_group'
                                target='_blank' class='Updates-link'>Creating a Resource Group</a>
                    </li>
                    <li>
                        <p>Added Device Administrator and Device Technician privileges to support Organization user
                            role. For more information, see <a
                                href='/help/resources/Managing_Roles_and_Privileges#creating_a_user_defined_role'
                                target='_blank' class='Updates-link'>Creating a User Defined role</a>
                </ul>
            </ul>
        </div>
        <div class="section">
            <h2 class="sectiontitle">September 16</h2>
        </div>
        <div class="section">
            <ul>
                <li>
                    <p>Support for Cisco UCS X-series in Intersight Managed Mode (IMM) is now Generally Available. For
                        more information, see <a
                            href='/help/supported_systems#supported_hardware_for_intersight_managed_mode'
                            target='_blank' class='Updates-link'>Supported Systems</a>​ and <a
                            href='/help/features/servers/operate#chassis_inventory_view' target='_blank'
                            class='Updates-link'>Chassis Inventory View</a></p>
                </li>
                <li>
                    <p>Added support for managing Cisco UCS C890 M5 targets in Intersight. This is a feature preview.
                        For more information, see <a href='/help/resources#managing_cisco_ucs_c890_m5_targets'
                            target='_blank' class='Updates-link'>Managing Cisco UCS C890 M5 Targets</a>​</p>
                </li>
                <li>
                    <p>Enhancements to Intersight Cloud Orchestrator (ICO):</p>
                </li>
                <ul>
                    <li>
                        <p>Added support for exporting and importing workflows, tasks, and data types from one account
                            to another. For more information, see <a href='/help/resources/Workflow_Designer'
                                target='_blank' class='Updates-link'>Workflow Designer</a>, <a
                                href='/help/resources/Task_Designer' target='_blank' class='Updates-link'>Task
                                Designer</a>, and <a href='/help/resources/Data_Types' target='_blank'
                                class='Updates-link'>Data Types</a></p>
                    </li>
                    <li>
                        <p>Added support for viewing execution graph after the successful execution of user-defined
                            workflows. For more information, see <a href='/help/resources/Workflow_Designer'
                                target='_blank' class='Updates-link'>Workflow Designer</a></p>
                    </li>
                    <li>
                        <p>Added new tasks for creating and managing virtual machine snapshots. For more information,
                            see <a href='/help/resources/Virtual_Machine_General_View' target='_blank'
                                class='Updates-link'>General Information on Virtual Machines</a></p>
                    </li>
                    <li>
                        <p>Added new tasks for creating and managing VMware datastore clusters associated with VMware
                            vCenter devices such as datacenters, datastores, virtual machines, and host.</p>
                    </li>
                    <li>
                        <p>Added support for cloning Orchestration tasks. For more information, see <a
                                href='/help/resources/Task_Designer' target='_blank' class='Updates-link'>Task
                                Designer</a></p>
                    </li>
                </ul>

                </li>

            </ul>
        </div>
        <div>
            <div class="section">
                <h2 class="sectiontitle">September 9</h2>
            </div>
            <div class="section">
                <ul>
                    <li>
                        <p>Automated generation of TAC Service Request and Return Material Authorization from
                            Intersight, is now Generally Available. For more information, see <a
                                href='/help/system/settings#proactive_support_enabled_through_intersight'
                                target='_blank' class='Updates-link'>Enabling Proactive Support through Intersight</a>​
                        </p>
                    </li>
                    <li>
                        <p>Cisco Hardware Compatibility List (HCL) to determine hardware compliance is available for
                            Cisco UCS C245 M6 and C225 M6 servers in Standalone Mode. For more information, see <a
                                href='/help/resources#compliance_with_hardware_compatibility_list_(hcl)' target='_blank'
                                class='Updates-link'>Compliance with Hardware Compatibility List (HCL)</a>​</p>
                    </li>
                    <li>
                        <p>Added support for viewing virtual machine snapshot inventory. For more information, see <a
                                href='/help/resources/Virtual_Machine_General_View' target='_blank'
                                class='Updates-link'>General Information on Virtual Machines</a></p>
                    </li>
                    <li>
                        <p>Added new Cisco Security Advisories. For a complete list of advisories and more information,
                            see <a href='/help/resources#intersight_advisories' target='_blank'
                                class='Updates-link'>Intersight Advisories</a></p>
                    </li>
                </ul>
            </div>
            <div class="section">
                <h2 class="sectiontitle">September 2</h2>
            </div>
            <div class="section">
                <ul>
                    <li>
                        <p>Added ability to select and view the location information of VMware datastore clusters
                            associated with VMware vCenter devices such as datacenters, datastores, virtual machines,
                            and host. For more information, see <a href='/help/resources/Datastore_Cluster_General_View'
                                target='_blank' class='Updates-link'>General Information on Datastore Clusters</a></p>
                    </li>
                    <li>
                        <p>Added support for managing the inventory information of VMware datastore clusters. For more
                            information, see <a href='/help/resources/Datastore_Cluster_General_View' target='_blank'
                                class='Updates-link'>General Information on Datastore Clusters</a></p>
                    </li>
                    <li>
                        <p>Enhanced UI for Task Input and Rollback Task Input mappings in Task Designer. For more
                            information, see <a href='/help/resources/Task_Designer' target='_blank'
                                class='Updates-link'>Task Designer</a></p>
                    </li>
                    <li>
                        <p>Added new Cisco Security Advisories. For a complete list of advisories and more information,
                            see <a href='/help/resources#intersight_advisories' target='_blank'
                                class='Updates-link'>Intersight Advisories</a></p>
                    </li>
                </ul>
            </div>
            <div class="section">
                <h2 class="sectiontitle">August 26</h2>
            </div>
            <div class="section">
                <ul>
                    <li>
                        <p>Enhanced Storage Policy to simplify storage configuration. For more information, see <a
                                href='/help/resources/cisco_intersight_managed_mode_configuration#creating_a_storage_policy'
                                target='_blank' class='Updates-link'>Creating a Storage Policy</a></p>
                    </li>
                    <li>
                        <p>Added support for Cisco UCS C245 M6 server in Intersight Managed Mode (IMM). For more
                            information, see <a href='/help/supported_systems' target='_blank'
                                class='Updates-link'>Supported Systems</a></p>
                    </li>
                    <li>
                        <p>Added support for Cisco UCS C220 M6, C240 M6, and B200 M6 servers in UCSM Managed Mode (UMM).
                            For more information, see <a href='/help/supported_systems' target='_blank'
                                class='Updates-link'>Supported Systems</a></p>
                    </li>
                    <li>
                        <p>Added support for operating system installation for Cisco UCS C245 M6 server in Intersight
                            Managed Mode (IMM). For more information, see <a
                                href='/help/resources/operating_system_installation_overview' target='_blank'
                                class='Updates-link'>Operating System Installation Overview</a></p>
                    </li>
                    <li>
                        <p>Cisco Hardware Compatibility List (HCL) to determine hardware compliance is available for:
                        </p>
                    </li>
                    <ul>
                        <li>
                            <p>Cisco UCS C245 M6 server in Standalone and in Intersight Managed Mode (IMM)</p>
                        </li>
                        <li>
                            <p>Cisco UCS C220 M6, C240 M6, and B200 M6 servers in UCSM Managed Mode (UMM)</p>
                        </li>
                    </ul>
                    <p>For more information, see <a
                            href='/help/resources#compliance_with_hardware_compatibility_list_(hcl)' target='_blank'
                            class='Updates-link'>Compliance with Hardware Compatibility List (HCL)</a></p>
                    </li>

                    <li>
                        <p>Added ability to support vCenter as one of the endpoints in Invoke Web API task. For more
                            information, see <a href='/help/resources/web_api_request' target='_blank'
                                class='Updates-link'>Executors - Invoke Web API Request
                            </a></p>
                    </li>

                </ul>
            </div>

            <div class="section">
                <h2 class="sectiontitle">August 19</h2>
            </div>
            <div class="section">
                <ul>
                    <li>
                        <p>Added capability to run HyperFlex health checks for network retransmits, and ability to
                            validate the disk state, DNS latency, keystore file consistency, and ESXi HyperFlex user
                            password on HyperFlex clusters. For more information, see <a
                                href='/help/resources#health_check_for_hyperflex_clusters' target='_blank'
                                class='Updates-link'>Health Check for HyperFlex Clusters</a></p>
                    </li>
                    <li>
                        <p>Added support for operating system installation for Cisco UCS C220 M6, C240 M6, and B200 M6
                            servers in Intersight Managed Mode (IMM). For more information, see <a
                                href='/help/resources/operating_system_installation_overview' target='_blank'
                                class='Updates-link'>Operating System Installation Overview</a></p>
                    </li>
                    <li>
                        <p>Added support for streamlining replacement of Fabric Interconnects. For more information, see
                            <a href='/help/resources/cisco_intersight_managed_mode_configuration#rma_upgrades'
                                target='_blank' class='Updates-link'>RMA Upgrades and Replacement</a>
                    </li>

                    <li>
                        <p>Added ability to filter dashboards by tags and organizations. Also, added dashboard presets
                            that allow for easier custom dashboard builds. For more information, see <a
                                href='/help/my_dashboard/dashboard_management#dashboard_management' target='_blank'
                                class='Updates-link'>Dashboard Management</a></p>
                </ul>
            </div>
            <div class="section">
                <h2 class="sectiontitle">August 12</h2>
            </div>
            <div class="section">
                <ul>
                    <li>
                        <p>Added support for HyperFlex cluster expansion for Edge and FI-Attached clusters. For more
                            information, see <a href='/help/resources/expand_cisco_hyperflex_clusters_in_intersight'
                                target='_blank' class='Updates-link'>Expand Cisco HyperFlex Clusters in Intersight</a>
                        </p>
                    </li>
                    <li>
                        <p>Added support for operating system installation for standalone Cisco UCS C-Series M6 servers.
                            For more information, see <a href='/help/resources#installing_an_operating_system'
                                target='_blank' class='Updates-link'>Supported Operating Systems for Standalone
                                Servers</a></p>
                    </li>
                    <li>
                        <p>Cisco Hardware Compatibility List (HCL) to determine hardware compliance is available for
                            Cisco UCS C220 M6, C240 M6, and B200 M6 servers. For more information, see <a
                                href='/help/resources#compliance_with_hardware_compatibility_list_(hcl)' target='_blank'
                                class='Updates-link'>Compliance with Hardware Compatibility List (HCL)</a></p>
                    </li>
                    <li>
                        <p>Enhancements to Intersight managed devices:</p>
                        <ul>
                            <li>
                                <p>Intersight Managed Mode features including functionalities such as Policies, Pools,
                                    Profiles, and Templates are now Generally Available for Private Virtual Appliance.
                                    These features are supported on Intersight Private Virtual Appliance starting with
                                    version 1.0.9-302. For more information, see <a
                                        href='/help/resources#intersight_managed_mode' target='_blank'
                                        class='Updates-link'>Intersight Managed Mode</a></p>
                            </li>
                            <li>
                                <p>Added support for Cisco UCS C220 M6, C240 M6, and B200 M6 servers in Intersight
                                    Managed Mode. The support is also available on Intersight Virtual Appliance starting
                                    with version 1.0.9-302. For more information, see <a href='/help/supported_systems'
                                        target='_blank' class='Updates-link'>Supported Systems</a></p>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            <div class="section">
                <h2 class="sectiontitle">July 30</h2>
            </div>
            <div class="section">
                <ul>
                    <li>
                        <p>Added support for Cisco UCS C-Series M6 servers in Standalone mode. For more information, see
                            <a href='/help/supported_systems' target='_blank' class='Updates-link'>Supported Systems</a>
                        </p>
                    </li>
                    <li>
                        <p>Added support for streamlining replacement of Fabric Interconnects. For more information, see
                            <a href='/help/resources/cisco_intersight_managed_mode_configuration#rma_upgrades'
                                target='_blank' class='Updates-link'>RMA Upgrades and Replacement</a>
                        </p>
                    </li>
                    <li>
                        <p>Added support for Power and Thermal policies for B-Series chassis. For more information, see
                            <a href='/help/features/servers/operate#chassis_policies' target='_blank'
                                class='Updates-link'>Chassis Policies</a> and <a
                                href='/help/features/servers/operate#server_policies' target='_blank'
                                class='Updates-link'>Server Policies</a>
                        </p>
                    </li>
                    <li>
                        <p>Added support for configuring CA signed certificates on Intersight Managed Mode servers. For
                            more information, see <a href='/help/features/servers/operate#server_actions'
                                target='_blank' class='Updates-link'>Server Actions</a></p>
                    </li>
                    <li>
                        <p>Enhancements to Intersight Cloud Orchestrator:</p>
                        <ul>
                            <li>
                                <p>Added new tasks for UCS C-Series standalone servers to support precision boot device
                                    operations. For more information, see <a
                                        href='/help/resources/Task_Designer#compute_tasks_matrix' target='_blank'
                                        class='Updates-link'>Compute Tasks Matrix</a></p>
                            <li>
                                <p>Added OS installation workflow to the ICO automation library, which can be included
                                    as a part of another comprehensive workflow. For more information, see <a
                                        href='/help/resources/os_install' target='_blank'
                                        class='Updates-link'>Installing an Operating System</a></p>
                            </li>
                            <li>
                                <p>Added support for cloning Orchestration data types. For more information, see <a
                                        href='/help/resources/Data_Types' target='_blank' class='Updates-link'>Data
                                        Types</a></p>
                            </li>
                        </ul>
                    </li>

                </ul>
            </div>
            <div class="section">
                <h2 class="sectiontitle">July 22</h2>
            </div>
            <div class="section">
                <ul>
                    <li>
                        <p>Added support to lock/unlock the front panel and reset CMOS for IMM servers. For more
                            information, see <a href='/help/features/servers/operate#server_actions' target='_blank'
                                class='Updates-link'>Server Actions</a></p>
                    </li>
                    <li>
                        <p>Added support for login using Identity Provider (IdP) initiated SSO, which enables login to
                            Intersight through an IdP user portal, or through an App URL supported by some IdPs. For
                            more information, see <a
                                href='/help/resources/sso_in_intersight_overview#overview_of_single_sign-on_(sso)_with_cisco_intersight'
                                target='_blank' class='Updates-link'>Overview of Single Sign-On with Cisco
                                Intersight</a></p>
                    </li>
                    <li>
                        <p>Added capability to automatically allocate MAC Prefix during HyperFlex cluster profile
                            configuration. For more information, see <a
                                href='/help/resources#cisco_hyperflex_cluster_deployment' target='_blank'
                                class='Updates-link'>Cisco HyperFlex Systems Installation Guide for Intersight</a></p>
                    </li>
                    <li>
                        <p>Cisco Hardware Compatibility List (HCL) to determine hardware compliance is available for
                            Cisco UCS S-Series servers. For more information, see <a
                                href='/help/resources#compliance_with_hardware_compatibility_list_(hcl)' target='_blank'
                                class='Updates-link'>Compliance with Hardware Compatibility List (HCL)</a></p>
                    </li>
                    <li>
                        <p>Added support for cloning or creating a new version of the existing workflow in workflow
                            designer. For more information, see <a href='/help/resources/Workflow_Designer'
                                target='_blank' class='Updates-link'>Workflow Designer</a></p>
                    </li>
                </ul>
            </div>
            <div class="section">
                <h2 class="sectiontitle">July 15</h2>
            </div>
            <div class="section">
                <ul>
                    <li>
                        <p>Added capability to run NTP Client Service Status, Package Version, and Stale Node health
                            checks on HyperFlex clusters. For more information, see <a
                                href='/help/resources/hyperflex_cluster_health_check#hyperflex_cluster_health_check_causes_and_resolution'
                                target='_blank' class='Updates-link'>HyperFlex Health Check</a></p>

                    </li>
                </ul>
                <ul>
                    <li>
                        <p>Enhanced the Terraform cloud integration by enabling users to add/update the default list of
                            managed hosts for an agent. For more information, see <a
                                href='/help/resources/Cisco_Intersight_Service_for_HashiCorp_Terraform_User_Guide#deploy_a_terraform_cloud_agent'
                                target='_blank' class='Updates-link'>Deploy a Terraform Cloud Agent</a></p>

                    </li>
                </ul>
            </div>
            <div class="section">
                <h2 class="sectiontitle">July 8</h2>
            </div>
            <div class="section">
                <ul>
                    <li>
                        <p>Added out-of-box workflows in Intersight Cloud Orchestrator (ICO) which allows users to
                            add/update variables, queue a plan, and approve a run on a Terraform Cloud workspace. For
                            more information, see <a
                                href='/help/resources/Cisco_Intersight_Service_for_HashiCorp_Terraform_User_Guide#orchestration_ui'
                                target='_blank' class='Updates-link'>Intersight Service for Terraform</a></p>
                    </li>

                    <li>
                        <p>Added ability to update managed hosts and other Terraform Agent properties. For more
                            information, see <a
                                href='/help/resources/Cisco_Intersight_Service_for_HashiCorp_Terraform_User_Guide#deploy_a_terraform_cloud_agent'
                                target='_blank' class='Updates-link'>Deploy a Terraform Cloud Agent</a></p>
                    </li>

                    <li>
                        <p>Added ability to manage vKVM, Tunneled vKVM, and VMRC console sessions launched from
                            Intersight. For more information, see <a
                                href='/help/my_dashboard/dashboard_management#managing_sessions' target='_blank'
                                class='Updates-link'>Managing Sessions</a></p>
                    </li>

                    <li>
                        <p>Added support to manage Dynatrace and Cloud Foundry targets in Intersight Workload Optimizer
                            (IWO). For more information, see <a
                                href='/help/resources#cisco_intersight_workload_optimizer' target='_blank'
                                class='Updates-link'>Intersight Workload Optimizer Target Configuration Guide</a> and <a
                                href='/help/resources#cisco_intersight_workload_optimizer' target='_blank'
                                class='Updates-link'>Intersight Workload Optimizer User Guide</a></p>
                    </li>

                    <li>
                        <p>Added support to send email notifications for alarms raised in Intersight. For more
                            information, see <a href='/help/system/settings#configuring_email_notifications'
                                target='_blank' class='Updates-link'>Configuring Email Notifications</a></p>
                    </li>
                </ul>
            </div>

            <div class="section">
                <h2 class="sectiontitle">July 1</h2>
            </div>
            <div class="section">
                <ul>
                    <li>
                        <p>Added support for enabling the Azure Stack QoS capability, GENEVE offload protocol, and
                            selecting FC-NVMe protocol for Intersight Managed Mode servers. For more information, see <a
                                href='/help/resources/cisco_intersight_managed_mode_configuration#creating_a_lan_connectivity_policy'
                                target='_blank' class='Updates-link'>Creating a LAN Connectivity Policy</a>, <a
                                href='/help/resources/cisco_intersight_managed_mode_configuration#creating_an_ethernet_adapter_policy'
                                target='_blank' class='Updates-link'>Creating an Ethernet Adapter Policy</a>, and <a
                                href='/help/resources/cisco_intersight_managed_mode_configuration#creating_a_san_connectivity_policy'
                                target='_blank' class='Updates-link'>Creating a SAN Connectivity Policy</a></p>
                    </li>
                    <li>
                        <p>Added HyperFlex Data Platform 4.5(2a) support for HyperFlex cluster deployment and upgrade.
                            For more information, see <a
                                href='/help/features/hyper_flex_clusters/configure#hyperflex_cluster_management'
                                target='_blank' class='Updates-link'>HyperFlex Cluster Management</a> and <a
                                href='/help/resources#upgrade_cisco_hyperflex_systems_in_cisco_intersight'
                                target='_blank' class='Updates-link'> Upgrading Cisco HyperFlex Systems with Cisco
                                Intersight</a></p>
                    </li>
                </ul>
            </div>

            <div class="section">
                <h2 class="sectiontitle">June 24</h2>
            </div>
            <div class="section">
                <ul>
                    <li>
                        <p>Enhancements to Cisco Intersight Workload Optimizer (IWO):</p>
                    </li>
                    <ul>
                        <li>
                            <p>Improved AWS Savings Plans and Kubernetes Analytics, ability to identify performance and
                                efficiency opportunities for a single Kubernetes Cluster, and Currency Settings
                                enhancements. For more information, see <a
                                    href='/help/resources#cisco_intersight_workload_optimizer' target='_blank'
                                    class='Updates-link'>Intersight Workload Optimizer User Guide</a></p>
                        </li>
                        <li>
                            <p>Enhancements for Kubernetes pod “Move” actions and the “Number of Replicas” chart. To use
                                this feature, the Kubernetes Collector for Cisco Intersight Workload Optimizer must be
                                updated to the latest version. For more information, see <a
                                    href='/help/resources#cisco_intersight_workload_optimizer' target='_blank'
                                    class='Updates-link'>Intersight Workload Optimizer Target Configuration Guide</a>
                            </p>
                        </li>
                    </ul>
                    </li>
                    <li>
                        <p>Added ability to select and view the location information of VMware vCenter objects such as
                            datacenters, clusters, datastores, virtual machines, or folders in which the objects reside.
                        </p>
                    </li>
                    <li>
                        <p>Added a single task to support invoke guest customization for VMware vCenter in Workflow
                            Designer for Linux or Windows virtual machines.</p>
                    </li>
                </ul>
            </div>
            <div>
                <div>
                    >>>>>>> c40a51f58caa9d91bcbb736eef6530f9c840e6b4
                    <div class="section">
                        <h2 class="sectiontitle">June 17</h2>
                    </div>
                    <div class="section">
                        <ul>
                            <li>
                                <p>Added ability to support Bearer Token authentication scheme in HTTP endpoint target
                                    with an optional ability to add endpoint without authentication. For more
                                    information, see <a href='/help/resources/web_api_request' target='_blank'
                                        class='Updates-link'>Executors -Invoke Web API Request</a></p>
                            </li>
                            <li>
                                <p>Added ability to skip execution of a custom web API task based on the task inputs or
                                    previous API outputs. This will skip execution of all the subsequent APIs in the
                                    task. For more information, see <a href='/help/resources/Task_Designer'
                                        target='_blank' class='Updates-link'>Task Designer</a></p>
                            </li>
                            <li>
                                <p>Added a new task for formatting storage volumes in various storage targets available
                                    in Intersight. For more information, see <a
                                        href='/help/resources/Task_Designer#supported_tasks_for_storage_targets'
                                        target='_blank' class='Updates-link'>Supported Tasks for Storage Targets
                                    </a></p>
                            </li>
                        </ul>
                    </div>
                    <div>
                        <div class="section">
                            <h2 class="sectiontitle">June 10</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <li>
                                    <p>Added HyperFlex Data Platform 4.0(2f) support for HyperFlex cluster deployment
                                        and upgrade. For more information, see <a
                                            href='/help/features/hyper_flex_clusters/configure#hyperflex_cluster_management'
                                            target='_blank' class='Updates-link'>HyperFlex Cluster Management</a> and <a
                                            href='/help/resources#upgrade_cisco_hyperflex_systems_in_cisco_intersight'
                                            target='_blank' class='Updates-link'> Upgrading Cisco HyperFlex Systems with
                                            Cisco Intersight</a></p>
                                </li>
                                <li>
                                    <p>Added ability to specify Task Status Outcomes in Web API task, which allows
                                        customization of task execution status and/or message based on API response. For
                                        more information, see <a href='/help/resources/web_api_request' target='_blank'
                                            class='Updates-link'>Executors -Invoke Web API Request</a></p>
                                </li>
                            </ul>
                        </div>
                        <div class="section">
                            <h2 class="sectiontitle">June 3</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <li>
                                    <p>Added capability to configure the interval and start date for the data used in
                                        calculating capacity forecast for HyperFlex clusters. This enables faster
                                        replanning and allows known capacity change windows to be skipped from the
                                        capacity planning calculation. For more information, see <a
                                            href='/help/resources/hyperflex_cluster_capacity_planning' target='_blank'
                                            class='Updates-link'>HyperFlex Cluster Capacity Planning</a></p>
                                </li>
                                <li>
                                    <p>Added new tasks for VMware vCenter networking operations to provision and manage
                                        vSphere standard switches, distributed virtual switches, and VMkernel networks.
                                        For more information, see <a href='/help/resources/Workflow_Designer'
                                            target='_blank' class='Updates-link'>Workflow Designer</a></p>
                                </li>
                                <li>
                                    <p>Updated support to accommodate recent changes to Cisco ID for Multi-Factor
                                        Authentication (MFA). If MFA for your individual Cisco ID user account was
                                        enabled before April 16, 2021, you will be asked to re-enable it as part of your
                                        next login to Intersight.</p>
                                </li>
                            </ul>
                        </div>
                        <div class="section">
                            <h2 class="sectiontitle">May 27</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <li>
                                    <p>Support for NetApp ONTAP storage to simplify management and orchestration of
                                        NetApp FlexPod and ONTAP data storage environments is now Generally Available.
                                        For more information, see <a
                                            href='/help/features/orchestration/configure#intersight_cloud_orchestrator'
                                            target='_blank' class='Updates-link'>Intersight Cloud Orchestrator</a> and
                                        <a href='/help/resources/intersight_assist' target='_blank'
                                            class='Updates-link'>Intersight Assist</a>
                                    </p>
                                </li>
                                <li>
                                    <p>Added capability to use multiple Intersight Assists in an Intersight Account with
                                        Cisco Intersight Workload Optimizer (IWO) service. For more information, see <a
                                            href='/help/resources/cisco_intersight_workload_optimizer_getting_started'
                                            target='_blank' class='Updates-link'>Intersight Workload Optimizer Getting
                                            Started Guide</a></p>
                                </li>

                            </ul>
                        </div>
                        <div class="section">
                            <h2 class="sectiontitle">May 20</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <li>
                                    <p>Added ability to perform server and Fabric Interconnect firmware upgrade in UCS
                                        Manager Mode for Private Virtual Appliance. For more information, see <a
                                            href='/help/resources#managing_firmware_in_ucsm_managed_mode'
                                            target='_blank' class='Updates-link'>Managing Firmware in UCS Manager
                                            Mode</a></p>
                                </li>
                                <li>
                                    <p>Added support for viewing the network inventory information of VMware vCenter
                                        devices such as datacenters, hosts, or virtual machines. For more information,
                                        see <a href='/help/resources/datacenter_general_view' target='_blank'
                                            class='Updates-link'>General Information on Datacenters</a>, <a
                                            href='/help/resources/host_general_view' target='_blank'
                                            class='Updates-link'>General Information on Hosts</a>, and <a
                                            href='/help/resources/Virtual_Machine_General_View#virtual_machine_general_view'
                                            target='_blank' class='Updates-link'>General Information on Virtual Machines
                                        </a></p>
                                </li>
                                <li>
                                    <p>Added support to manage Nutanix Hybrid Cloud Platform (HCI) and Nutanix Acropolis
                                        (AOS) targets in Cisco Intersight Workload Optimizer (IWO). For more
                                        information, see <a href='/help/resources#cisco_intersight_workload_optimizer'
                                            target='_blank' class='Updates-link'>Intersight Workload Optimizer Target
                                            Configuration Guide</a></p>
                                </li>
                            </ul>
                        </div>
                        <div class="section">
                            <h2 class="sectiontitle">May 6</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <li>
                                    <p>Cisco Intersight Cloud Orchestrator features are now Generally Available. For
                                        more information, see <a
                                            href='/help/resources#cisco_intersight_cloud_orchestrator' target='_blank'
                                            class='Updates-link'>Cisco Intersight Cloud Orchestrator</a></p>
                                </li>
                                <li>
                                    <p>Added support for cloning workflows. For more information, see <a
                                            href='/help/resources/Workflow_Designer' target='_blank'
                                            class='Updates-link'>Workflow Designer</a></p>
                                </li>
                                <li>
                                    <p>Added support to automatically upgrade the HyperFlex compatibility catalog on
                                        connected HyperFlex clusters. This capability seamlessly introduces support for
                                        new drive models, without requiring a HyperFlex Data Platform upgrade</p>
                                </li>
                                <li>
                                    <p>Added ability to filter dashboards by tags and organizations. Also, added
                                        dashboard presets that allow for easier custom dashboard builds. For more
                                        information, see <a
                                            href='/help/my_dashboard/dashboard_management#dashboard_management'
                                            target='_blank' class='Updates-link'>Dashboard Management</a></p>
                                </li>
                                <li>Added new Cisco
                                    Security Advisories. For a complete list of advisories and more information, see <a
                                        href=/help/resources#intersight_advisories>Intersight Advisories</a></li>
                            </ul>
                        </div>
                        <div class="section">
                            <h2 class="sectiontitle">April 29</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <li>
                                    <p>Enhancements to Cisco Intersight Cloud Orchestrator:</p>
                                </li>
                                <ul>
                                    <li>Added ability to easily retrieve design-time debug logs for the Invoke Web API
                                        tasks to achieve easier troubleshooting for workflow designers. For more
                                        information, see <a href='/help/resources/Workflow_Designer' target='_blank'
                                            class='Updates-link'>Workflow Designer</a></li>
                                    <li>Added support to apply data transformation of various types such as string
                                        formatting, date time processing, convert data from one format to the other, so
                                        that data can be made available between different workflow tasks in the required
                                        format. For more information, see <a
                                            href='/help/resources/Workflow_Designer#input_and_output_mapping'
                                            target='_blank' class='Updates-link'>Input and Output Mapping</a> </li>
                                    <li>Added support for displaying summary dashboards for Workflow Designer, Task
                                        Designer, and Data Types tabs. The tabs display user-defined and
                                        system-generated workflows, tasks, and data types. For more information, see
                                        Workflow Designer <a href='/help/resources/Workflow_Designer' target='_blank'
                                            class='Updates-link'>Workflow Designer</a> </li>
                                </ul>
                                <li>Added Online Insertion and Removal (OIR) support for blade and rack server
                                    sub-components, rack server fans and power supply units, chassis enclosure and IOM,
                                    chassis and IOM cable changes, and FI and FEX fan and power supply units. For more
                                    information, see <a
                                        href='/help/features/servers/operate#online_insertion_and_removal'
                                        target='_blank' class='Updates-link'>Online Insertion and Removal</a></li>
                                <li>Dashboard widget that displays contract status based on the current validity of the
                                    service contracts, now includes UCS Chassis and Intersight Managed Mode devices. For
                                    more information, see <a
                                        href='/help/my_dashboard/dashboard_elements#contract_status_widgets'
                                        target='_blank' class='Updates-link'>Contract Status Widgets</a></li>
                                <li>Added the ability to create IPMI users by using the Local User Policy. For more
                                    information, see <a href='/help/features/servers/operate#server_policies'
                                        target='_blank' class='Updates-link'>Server Policies</a></li>
                                <li>Cisco Intersight Service for HashiCorp Terraform Service (IST) features are now
                                    Generally Available. For more information, see <a
                                        href='/help/features/terraform_cloud/admin#cisco_intersight_service_for_hashicorp_terraformm'
                                        target='_blank' class='Updates-link'>Intersight Service for HashiCorp
                                        Terraform</a></li>
                                <li>Added new Cisco
                                    Field Notices. For a complete list of advisories and more information, see <a
                                        href=/help/resources#intersight_advisories>Intersight Advisories</a></li>
                            </ul>
                        </div>
                        <div class="section">
                            <h2 class="sectiontitle">April 22</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <li>
                                    <p>Intersight Managed Mode features are now Generally Available. Enhancements to
                                        Intersight managed devices are: </p>
                                </li>
                                <ul>
                                    <li>Added support for online insertion and removal of servers in a blade chassis and
                                        chassis power supply units and fans. The insertion and removal is done
                                        transparently and without disrupting other components in the chassis, thereby
                                        ensuring better service and platform management.</li>
                                    <li>Added support to configure and assign Flow Control, Link Aggregation, and Link
                                        Control policies in Intersight Managed domains. For more information, see <a
                                            href='/help/features/servers/operate#domain_policies' target='_blank'
                                            class='Updates-link'>Domain Policies</a> </li>
                                    <li>Added support for monitoring the Hardware Compatibility List (HCL) status on the
                                        Intersight Managed Mode (IMM) servers. For more information, see <a
                                            href='/help/resources#compliance_with_hardware_compatibility_list_(hcl)'
                                            target='_blank' class='Updates-link'>Compliance with Hardware Compatibility
                                            List (HCL)</a> </li>
                                </ul>
                                <li>
                                    <p>Added ability to easily create and manage Server Profiles at scale with Server
                                        Profile Templates. For more information, see <a
                                            href='/help/features/servers/operate#server_profile_templatess'
                                            target='_blank' class='Updates-link'>Server Profile Templates</a></p>
                                </li>
                                <li>
                                    <p>Added ability to deploy operating system configurations to multiple servers using
                                        values in a CSV file. For more information, see <a
                                            href='/help/resources/installos_csv' target='_blank'
                                            class='Updates-link'>Uploading CSV Files for Operating System Deployment</a>
                                    </p>
                                </li>
                                <li>
                                    <p>Added support to show folder details for VMware vCenter objects such as clusters,
                                        datacenters, datastores, and virtual machines. For more information, see <a
                                            href='/help/resources#viewing_virtualized_objects_in_cisco_intersight'
                                            target='_blank' class='Updates-link'>Viewing Virtualized Objects in Cisco
                                            Intersight</a></p>
                                </li>
                                <li>
                                    <p>Added new tasks for UCS C-Series standalone and Intersight Managed Mode (IMM)
                                        servers in the workflow designer to support server profile management and server
                                        storage operations. For more information, see <a
                                            href='/help/resources/Workflow_Designer#compute_tasks_matrix'
                                            target='_blank' class='Updates-link'>Compute Tasks Matrix</a></p>
                                </li>
                                <li>
                                    <p>Enhancements in Cisco Intersight Workload Optimizer (IWO) include ability to
                                        recommend scaling throughput capacity for Azure VMs, integration with Azure
                                        Monitor Log Analytics, support for Azure Site Recovery and Backup Volumes,
                                        improved Cloud Analytics, support for AWS Savings Plans, and License Policy
                                        Enhancements. For more information, see <a
                                            href='/help/resources#cisco_intersight_workload_optimizer' target='_blank'
                                            class='Updates-link'>Intersight Workload Optimizer User Guide</a></p>
                                </li>
                                <li>Added new Cisco
                                    Security Advisories. For a complete list of advisories and more information, see <a
                                        href=/help/system/settings#advisories>Advisories</a></li>
                            </ul>
                        </div>
                        <div class="section">
                            <h2 class="sectiontitle">April 15</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <li>
                                    <p>Added Cisco Intersight Workload Optimizer targets including Microsoft Hyper-V,
                                        Red Hat Enterprise Virtualization (RHEV), HPE OneView, Dell EMC SC Series, and
                                        HPE 3PAR. For more information, see the <a
                                            href='/help/resources#cisco_intersight_workload_optimizer' target='_blank'
                                            class='Updates-link'>Intersight Workload Optimizer Target Configuration
                                            Guide</a></p>
                                </li>
                                <li>
                                    <p>Added ability to query Smart License status information for HyperFlex clusters
                                        using Intersight API. For more information, see <a
                                            href='/apidocs/introduction/overview/' target='_blank'
                                            class='Updates-link'>Intersight API</a></p>
                                </li>
                            </ul>
                        </div>
                        <div class="section">
                            <h2 class="sectiontitle">April 8</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <li>
                                    <p>Added support for managing AppDynamics instances running on public cloud or SaaS
                                        directly from Intersight, without the need for Cisco Intersight Assist. For more
                                        information, see <a href='/help/resources#cisco_intersight_workload_optimizer'
                                            target='_blank' class='Updates-link'>Intersight Workload Optimizer</a></p>
                                </li>
                            </ul>
                        </div>
                        <div class="section">
                            <h2 class="sectiontitle">April 1</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <li>
                                    <p>Introducing Cisco Intersight Kubernetes Service (IKS), a fully curated,
                                        lightweight container management platform for delivering multi-cloud,
                                        production-grade, and upstream Kubernetes clusters. As part of this release:
                                    </p>
                                </li>
                                <ul>
                                    <li>Added the ability to deploy and manage the lifecycle of Kubernetes clusters in
                                        VMware ESXi environments.</li>
                                    <li>Added support to install Cisco Intersight Workload Optimizer (IWO) agent Helm
                                        charts on IKS clusters for full-stack app visualization, Machine Learning
                                        (AIOps) based right-sizing, and intelligent top-down auto-scaling.</li>
                                </ul>
                                <p>For more information, see <a
                                        href='/help/features/kubernetes/operate#cisco_intersight_kubernetes_service'
                                        target='_blank' class='Updates-link'>Cisco Intersight Kubernetes Service</a></p>
                                </li>
                                <li>
                                    <p> Introducing Cisco Intersight Service for HashiCorp Terraform Service (IST) to
                                        deliver consistent infrastructure automation using IaC across hybrid clouds.
                                        This is a feature preview. For more information, see <a
                                            href='/help/features/terraform_cloud/admin#cisco_intersight_service_for_hashicorp_terraform'
                                            target='_blank' class='Updates-link'>Intersight Service for HashiCorp
                                            Terraform</a></p>
                                </li>
                                <li>
                                    <p>Added support for operating system installation on Intersight Managed Mode
                                        servers. For more information, see <a
                                            href='/help/resources#installing_an_operating_system' target='_blank'
                                            class='Updates-link'>Operating System Installation Overview</a></p>
                                </li>
                            </ul>
                        </div>

                        <div class="section">
                            <h2 class="sectiontitle">March 29</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <li>
                                    <p>Added support for inventory of virtual disks that are attached to a virtual
                                        machine. For more information, see <a
                                            href=/help/resources/Virtual_Machine_General_View#inventory_of_virtual_disks
                                            target='_blank' class='Updates-link'>Inventory of Virtual Disks</a></p>
                                </li>
                                <li>
                                    <p>Added support for adding and removing virtual disks from a virtual machine. For
                                        more information, see <a
                                            href=/help/resources/Virtual_Machine_General_View#virtual_disks_operations
                                            target='_blank' class='Updates-link'>Virtual Disk Operations</a></p>
                                </li>
                            </ul>
                        </div>
                        <div class="section">
                            <h2 class="sectiontitle">March 25</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <!--li>
                <p>Introducing Intersight Kubernetes Service (IKS), a fully curated, lightweight container management platform for delivering multi-cloud, production-grade, upstream Kubernetes. This is a feature preview. As part of this release: 
                </p>
                <ul>
                <li>Added the ability to deploy and manage the lifecycle of Kubernetes clusters in an on-premise VMware ESXi environment.</li>
                <li>Added support for quick and easy configuration of Intersight Workload Optimizer (IWO) on IKS clusters for gaining visibility into and right-sizing IKS applications.</li>
                <li>Added the ability to deploy and manage the lifecycle of IKS clusters, and manage IKS applications using Intersight Service for HashiCorp Terraform (IST) from Terraform cloud.</li></ul>
           <p>For more information, see <a href=/help/features#intersight_kubernetes_service>Intersight Kubernetes Service</a></p>
           <li-->
                                <li>
                                    <p>Enhancements in HyperFlex
                                    </p>
                                </li>
                                <ul>
                                    <li>Added the ability to upgrade HyperFlex Data Platform and VMware ESXi for Fabric
                                        Interconnect-attached HyperFlex clusters. For more information, see <a
                                            href=/help/resources#upgrade_cisco_hyperflex_systems_in_cisco_intersight
                                            target='_blank' class='Updates-link'>Upgrading Cisco HyperFlex Systems with
                                            Cisco Intersight</a></li>
                                    <li>Added HyperFlex Data Platform 4.0(2e) support for HyperFlex cluster deployment
                                        and upgrade. For more information, see <a
                                            href='/help/features/hyper_flex_clusters/configure#hyperflex_cluster_management'
                                            target='_blank' class='Updates-link'>HyperFlex Cluster Management</a> and <a
                                            href='/help/resources#upgrade_cisco_hyperflex_systems_in_cisco_intersight'
                                            target='_blank' class='Updates-link'> Upgrading Cisco HyperFlex Systems with
                                            Cisco Intersight</a></li>
                                </ul>
                                </li>
                                <li>
                                    <p>Added support for excluding drives and storage controllers during firmware
                                        upgrades or downgrades of UCS C-Series and S-series standalone servers. For more
                                        information, see <a
                                            href=/help/resources/Upgrading_UCS_C-Series_Standalone_Servers_Firmware
                                            target='_blank' class='Updates-link'>Upgrading UCS C-Series Standalone
                                            Servers Firmware </a> and <a
                                            href=/help/resources/Upgrading_UCS_S-Series_Standalone_Servers_Firmware
                                            target='_blank' class='Updates-link'>Upgrading UCS S-Series Standalone
                                            Servers Firmware</a></p>
                                </li>

                            </ul>
                        </div>
                        <div class="section">
                            <h2 class="sectiontitle">March 18</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <li>
                                    <p>Added support for monitoring health and generating alarms for Intersight managed
                                        storage devices, adapters, and vNICs.</p>
                                </li>

                        </div>
                        <div class="section">
                            <h2 class="sectiontitle">March 11</h2>
                        </div>
                        <div class="section">
                            <ul>
                                <li>
                                    <p>Added support for configuring and deploying the Syslog policy to collect logs on
                                        the remote syslog servers. For more information, see <a
                                            href=/help/features/servers/operate#server_policies>Syslog Policy in Server
                                            Policies</a></p>
                                </li>

                        </div>
                        <div>
                            <div class="section">
                                <h2 class="sectiontitle">March 5</h2>
                            </div>
                            <div class="section">
                                <ul>
                                    <li>
                                        <p>Added support to the storage controller inventory operations that include
                                            changing the physical drive state, removing the unused virtual drive, and
                                            importing or clearing the foreign configuration. For more information, see
                                            <a href='/help/features/servers/operate#server_inventory_view'
                                                target='_blank' class='Updates-link'>Server Inventory View</a>
                                        </p>
                                    </li>

                            </div>
                            <div>
                                <div class="section">
                                    <h2 class="sectiontitle">March 4</h2>
                                </div>
                                <div class="section">
                                    <ul>
                                        <li>
                                            <p>Support for Hitachi Virtual Storage Platform to automate storage and
                                                virtualization tasks, and view inventory information is now Generally
                                                Available. For more information, see <a
                                                    href='/help/features/orchestration/configure#intersight_cloud_orchestrator'
                                                    target='_blank' class='Updates-link'>Intersight Orchestrator</a> and
                                                <a href='/help/resources/Intersight_Assist' target='_blank'
                                                    class='Updates-link'>Intersight Assist</a>
                                            </p>
                                        </li>
                                        <li>
                                            <p>Ability to invoke web APIs via HTTP or HTTPS tasks to automate operations
                                                on the endpoints, added as Targets, in Intersight is now Generally
                                                Available. For more information, see <a
                                                    href='/help/resources/web_api_request' target='_blank'
                                                    class='Updates-link'>Executors – Invoke Web API Request</a></p>
                                        </li>
                                        <li>
                                            <p>Enhancements to the Intersight Managed Mode Policies</p>
                                            <ul>
                                                <li>
                                                    <p>Added support for creating a Certificate Management Policy and
                                                        associating the policy with a server profile. For more
                                                        information, see <a
                                                            href=/help/features/servers/operate#server_policies>Server
                                                            Policies</p></a>
                                                </li>
                                                <li>
                                                    <p>Added support for configuring and deploying the SNMP Policy to
                                                        manage and monitor the network devices. For more information,
                                                        see <a href=/help/features/servers/operate#domain_policies>SNMP
                                                            Policy in Domain Policies</p></a>
                                                </li>
                                            </ul>
                                    </ul>
                                </div>
                                <div>
                                    <div class="section">
                                        <h2 class="sectiontitle">February 18</h2>
                                    </div>
                                    <div class="section">
                                        <ul>
                                            <li>
                                                <p>Added the ability to upgrade server firmware for HyperFlex Edge
                                                    clusters. For more information, see <a
                                                        href=/help/resources#upgrade_cisco_hyperflex_systems_in_cisco_intersight
                                                        target='_blank' class='Updates-link'>Upgrading Cisco HyperFlex
                                                        Edge Systems</a></p>
                                            </li>
                                            </li>
                                            <li>
                                                <p>Added support for power actions on virtual machines and ESXi host
                                                    objects. For more information, see <a
                                                        href=/help/resources/Virtual_Machine_General_View
                                                        target='_blank' class='Updates-link'>General Information on
                                                        Virtual Machines</a></p>
                                            </li>
                                            <li>
                                                <p>Added support for access to VMware virtual machines console through
                                                    VMware Remote Console (VMRC) protocol.</p>
                                            <li>Added support for configuring and deploying the Virtual Media Policy to
                                                map and mount virtual media images on the Intersight Managed Fabric
                                                Interconnect-attached servers. For more information, see <a
                                                    href=https://www.cisco.com/c/en/us/td/docs/unified_computing/Intersight/b_Intersight_Managed_Mode_Configuration_Guide/b_Intersight_Managed_Mode_Beta_Guide_chapter_0110.html#reference_f1b_qph_v3b>
                                                    Creating a Virtual Media Policy</a></li>
                                        </ul>
                                    </div>
                                    <div class="section">
                                        <h2 class="sectiontitle">February 12</h2>
                                    </div>
                                    <div class="section">
                                        <ul>
                                            <li>
                                                <p>All Intersight Managed Mode features are now in Early Availability.
                                                    Enhancements to the Fabric Interconnect-attached devices include:
                                                </p>
                                                <ul>
                                                    <li>Capabilities</li>
                                                    <ul>
                                                        <li>Introducing Device Console, an application running on the
                                                            Fabric Interconnects, to allow monitoring device health and
                                                            their connection status to Intersight. For more information,
                                                            see <a href=/help/device_console>Device Console</a></li>
                                                    </ul>
                                                </ul>
                                                <ul>
                                                    <li>Domain Policies</li>
                                                    <ul>
                                                        <li>Added support for configuring the MAC address aging time
                                                            using Switch Control Policy. For more information, see <a
                                                                href=https://www.cisco.com/c/en/us/td/docs/unified_computing/Intersight/b_Intersight_Managed_Mode_Configuration_Guide/b_Intersight_Managed_Mode_Beta_Guide_chapter_0101.html#Cisco_Reference.dita_17fd1860-6f3c-4c00-9e27-f9cfae217001>Creating
                                                                a Switch Control Policy</a></li>
                                                    </ul>
                                                </ul>
                                                <ul>
                                                    <li>Server Policies</li>
                                                    <ul>
                                                        <li>Added support for static addressing as part of the LAN
                                                            Connectivity and SAN Connectivity policies. For more
                                                            information, see <a
                                                                href=/help/features/servers/operate#server_policies>Server
                                                                Policies</a> and <a
                                                                href=/help/features/servers/operate#server_profiles>
                                                                Server Profiles </a></li>
                                                        <li>Added support for selecting and importing the default
                                                            configurations to an Ethernet Adapter Policy or a Fibre
                                                            Channel Adapter Policy. For more information, see <a
                                                                href=https://www.cisco.com/c/en/us/td/docs/unified_computing/Intersight/b_Intersight_Managed_Mode_Configuration_Guide/b_Intersight_Managed_Mode_Beta_Guide_chapter_0110.html#reference_ofm_khm_5jb>
                                                                Creating an Ethernet Adapter Policy</a> and <a
                                                                href=https://www.cisco.com/c/en/us/td/docs/unified_computing/Intersight/b_Intersight_Managed_Mode_Configuration_Guide/b_Intersight_Managed_Mode_Beta_Guide_chapter_0110.html#reference_yvc_lhn_5jb>
                                                                Creating a Fibre Channel Adapter Policy </a></li>
                                                        <li>Added support for viewing the actual boot order of the
                                                            Intersight managed servers in the Server Inventory View tab.
                                                            For more information, see <a
                                                                href=/help/features/servers/operate#server_inventory_view>
                                                                Server Inventory View</a></li>
                                                        <li>Added support for enabling iSCSI boot on adapters. For more
                                                            information, see <a
                                                                href=/help/features/servers/operate#server_policies>
                                                                Server Policies</a></li>
                                                        <li>Added support for applying QoS policy on the vNIC and vHBA
                                                            policies. For more information, see <a
                                                                href=https://www.cisco.com/c/en/us/td/docs/unified_computing/Intersight/b_Intersight_Managed_Mode_Configuration_Guide/b_Intersight_Managed_Mode_Beta_Guide_chapter_0110.html#reference_qqd_1hm_5jb>
                                                                Creating an Ethernet QoS Policy</a> and <a
                                                                href=https://www.cisco.com/c/en/us/td/docs/unified_computing/Intersight/b_Intersight_Managed_Mode_Configuration_Guide/b_Intersight_Managed_Mode_Beta_Guide_chapter_0110.html#id_109325>
                                                                Creating a Fibre Channel QoS Policy</a></li>
                                                    </ul>
                                                </ul>
                                            </li>

                                            <li>
                                                Added Task Designer for creating tasks that make Intersight API and REST
                                                API calls to external targets that can be reached from Intersight,
                                                either directly or through device connectors. For more information, see
                                                <a href='/help/resources/Task_Designer' target='_blank'
                                                    class='Updates-link'>Task Designer</a>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="section">
                                        <h2 class="sectiontitle">February 4</h2>
                                    </div>
                                    <div class="section">
                                        <ul>
                                            <li>
                                                <p>Enhancements for Intersight managed devices</p>
                                                <ul>
                                                    <li>Added support for configuring and deploying the Syslog Policy on
                                                        Intersight managed Fabric Interconnect-attached domains. For
                                                        more information, see <a
                                                            href=/help/features/servers/operate#domain_policies>Syslog
                                                            Policy in Domain Policies</a></li>
                                                    <li>Added support for monitoring the health and generating alarms
                                                        for Intersight managed Fabric Interconnects, servers, and
                                                        chassis</li>
                                                </ul>
                                            </li>
                                            <li>Added
                                                the ability to provide capacity recommendations for HyperFlex Clusters.
                                                For more information, see <a
                                                    href=/help/features/hyper_flex_clusters/operate#hyperflex_cluster_capacity_planning>HyperFlex
                                                    Capacity Planning</a></li>
                                            <li>Added
                                                new Cisco Security Advisories. For a complete list of advisories and
                                                more information, see <a
                                                    href=/help/system/settings#advisories>Advisories</a></li>
                                    </div>
                                    <div class="section">
                                        <h2 class="sectiontitle">January 21</h2>
                                    </div>
                                    <div class="section">
                                        <ul>
                                            <li>Added support to access the TPM inventory details from a claimed device
                                                in Intersight Managed FI-attached servers. For information, see <a
                                                    href='/help/features/servers/operate#server_inventory_view'
                                                    target='_blank' class='Updates-link'>Server Inventory View</a></li>
                                            <li>Added ability to disable the tech support bundle collection. For more
                                                information, see <a
                                                    href='/help/system/settings#disabling_tech_support_bundle_collection'
                                                    target='_blank' class='Updates-link'>Tech Support Bundle
                                                    Collection</a></li>
                                            <!-- <li>Added ability to disable the tech support bundle collection. For more information, see  <a href='/help/features#disabling_tech_support_bundle_collection' target='_blank' class='Updates-link'>Tech Support Content Collection</a></li> -->
                                        </ul>
                                    </div>
                                    <div class="section">
                                        <h2 class="sectiontitle">January 14</h2>
                                    </div>
                                    <div class="section">
                                        <ul>
                                            <li>
                                                <p>Enhancements for Intersight managed Fabric Interconnects</p>
                                                <ul>
                                                    <li>Added support for excluding Fabric Interconnect traffic
                                                        evacuation during upgrade of Intersight managed Fabric
                                                        Interconnects. For more information, see <a
                                                            href='https://www.cisco.com/c/en/us/td/docs/unified_computing/Intersight/b_Intersight_Managed_Mode_Configuration_Guide/b_Intersight_Managed_Mode_Beta_Guide_chapter_01000.html#id_126932'
                                                            target='_blank' class='Updates-link'>Upgrading Fabric
                                                            Interconnect Firmware</a></li>
                                                    <li>Added support for configuring a port as an appliance port to
                                                        allow NFS storage to connect directly with Intersight managed
                                                        Fabric Interconnects. For more information, see <a
                                                            href=/help/features/servers/operate#domain_policiess>Domain
                                                            Policies</a> and <a
                                                            href='https://www.cisco.com/c/en/us/td/docs/unified_computing/Intersight/b_Intersight_Managed_Mode_Configuration_Guide/b_Intersight_Managed_Mode_Beta_Guide_chapter_0101.html#id_115813'
                                                            target='_blank' class='Updates-link'>Creating a Port
                                                            Policy</a></li>
                                                </ul>
                                            </li>
                                            <li>Introducing new external witness support for HyperFlex Edge 2-Node
                                                Clusters. This feature increases cluster availability and flexibility
                                                for remote sites. For more information, see <a
                                                    href='/help/resources#configuring_device_connector' target='_blank'
                                                    class='Updates-link'>Configuring Device Connector</a></li>
                                        </ul>
                                    </div>
                                    <div class="section">
                                        <h2 class="sectiontitle">January 7</h2>
                                    </div>
                                    <div class="section">
                                        <ul>
                                            <li>Ability
                                                to launch Virtual KVM and Tunneled vKVM directly from Cisco Intersight
                                                using SSO authentication for servers running with firmware version
                                                4.1(3a) or later releases. For more information, see <a
                                                    href='/help/features/servers/operate#launch_virtual_kvm'
                                                    target='_blank' class='Updates-link'>Launch Virtual KVM</a> and <a
                                                    href='/help/features/servers/operate#launch_tunneled_virtual_kvm'
                                                    target='_blank' class='Updates-link'> Launch Tunneled Virtual KVM
                                                </a>
                                            </li>
                                            <li>Enhancements in HyperFlex Data Platform 4.5 Release
                                                <ul>
                                                    <li>Ability to configure N:1 Replication of HyperFlex Edge clusters
                                                        from Intersight. For more information, see <a
                                                            href='/help/resources/replication_for_cisco_hyperFlex_edge_clusters'
                                                            target='_blank' class='Updates-link'>N:1 Replication for
                                                            HyperFlex Edge Clusters</a></li>
                                                    <li>Added HyperFlex Data Platform 4.5(1a) support for HyperFlex
                                                        cluster deployment (FI and Edge) and upgrade of HyperFlex Edge
                                                        clusters. For more information, see <a
                                                            href='/help/features/hyper_flex_clusters/configure#hyperflex_cluster_management'
                                                            target='_blank' class='Updates-link'>HyperFlex Cluster
                                                            Management</a> and <a
                                                            href='/help/resources#upgrade_cisco_hyperflex_systems_in_cisco_intersight'
                                                            target='_blank' class='Updates-link'> Upgrading Cisco
                                                            HyperFlex Systems with Cisco Intersight</a>
                                                    </li>
                                                    <li>Introducing the ability to run pre-defined health checks on
                                                        HyperFlex clusters and view granular details about the health of
                                                        HyperFlex clusters. For more information, see <a
                                                            href='/help/resources/hyperflex_cluster_health_check'
                                                            target='_blank' class='Updates-link'>HyperFlex Health
                                                            Check</a>
                                                    </li>
                                                </ul>
                                                <p></p>
                                    </div>
                                </div>
</body>

</html>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-aea0fe5e0b9b6c03c866b12b9739b28d">3.4 - New What&#39;s New</h1>
    <div class="lead">New What&rsquo;s New</div>
	
<!DOCTYPE html>
<html>
<style>
    .filterDiv {
        float: left;
        background-color: #2196F3;
        color: #ffffff;
        width: 100px;
        line-height: 100px;
        text-align: center;
        margin: 2px;
        display: none;
    }

    .show {
        display: block;
    }

    .container {
        margin-top: 20px;
        overflow: hidden;
    }

    /* Style the buttons */
    .btn {
        border: none;
        outline: none;
        padding: 12px 16px;
        background-color: #f1f1f1;
        cursor: pointer;
    }

    .btn:hover {
        background-color: #ddd;
    }

    .btn.active {
        background-color: #666;
        color: white;
    }
</style>

<body>

    <h2>What's New</h2>

    <div id="myBtnContainer">
        <button class="btn active" onclick="filterSelection('all')"> Show all</button>
        <button class="btn" onclick="filterSelection('cars')"> ICO</button>
        <button class="btn" onclick="filterSelection('animals')"> IMM</button>
        <button class="btn" onclick="filterSelection('fruits')"> HX</button>
        <button class="btn" onclick="filterSelection('colors')"> IKS</button>
    </div>

    <div class="container">
        <div class="filterDiv cars">ICO</div>
        <div class="filterDiv colors fruits">Kubernetes</div>
        <div class="filterDiv cars">ICO</div>
        <div class="filterDiv colors">Kubernetes</div>
        <div class="filterDiv cars animals">ICO</div>
        <div class="filterDiv colors">Kubernetes</div>
        <div class="filterDiv animals">IMM</div>
        <div class="filterDiv animals">IMM</div>
        <div class="filterDiv fruits">HX</div>
        <div class="filterDiv fruits animals">HX</div>
        <div class="filterDiv fruits">HX</div>
        <div class="filterDiv fruits">HX</div>
        <div class="filterDiv animals">IMM</div>
    </div>

    <script>
        filterSelection("all")
        function filterSelection(c) {
            var x, i;
            x = document.getElementsByClassName("filterDiv");
            if (c == "all") c = "";
            for (i = 0; i < x.length; i++) {
                w3RemoveClass(x[i], "show");
                if (x[i].className.indexOf(c) > -1) w3AddClass(x[i], "show");
            }
        }

        function w3AddClass(element, name) {
            var i, arr1, arr2;
            arr1 = element.className.split(" ");
            arr2 = name.split(" ");
            for (i = 0; i < arr2.length; i++) {
                if (arr1.indexOf(arr2[i]) == -1) { element.className += " " + arr2[i]; }
            }
        }

        function w3RemoveClass(element, name) {
            var i, arr1, arr2;
            arr1 = element.className.split(" ");
            arr2 = name.split(" ");
            for (i = 0; i < arr2.length; i++) {
                while (arr1.indexOf(arr2[i]) > -1) {
                    arr1.splice(arr1.indexOf(arr2[i]), 1);
                }
            }
            element.className = arr1.join(" ");
        }

        // Add active class to the current button (highlight it)
        var btnContainer = document.getElementById("myBtnContainer");
        var btns = btnContainer.getElementsByClassName("btn");
        for (var i = 0; i < btns.length; i++) {
            btns[i].addEventListener("click", function () {
                var current = document.getElementsByClassName("active");
                current[0].className = current[0].className.replace(" active", "");
                this.className += " active";
            });
        }
    </script>

</body>

</html>
</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-92b3b1c77c15dbc4e2e1bec50d460eea">4 - Intersight Cloud Ochestrator</h1>
    <div class="lead">Cisco Intersight Cloud Orchestrator simplifies orchestration and automation for infrastructure and workloads across hybrid cloud by providing an easy-to-use workflow designer.</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-202707fab7ead400a82be320a417b7c0">4.1 - Workflow Designer</h1>
    <div class="lead">Workflow Designer helps you create new workflows (as well as tasks and data types) and also edit existing workflows to manage targets in Cisco Intersight.</div>
	

<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    This is a warning.

</div>



<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    To execute the new tasks for VMware vCenter networking operations, you should upgrade to Intersight Assist version 1.0.9-278.

</div>



<div class="alert alert-primary" role="alert">


    <h4 id="important">Important:</h4>
<ul>
<li><span style="color:white;font-weight:bold;background-color:#4CAF50;margin: 4px 2px;padding: 1px 8px;">Fixed</span>  The Orchestration option is visible in the left panel
only if you have installed the Intersight Premier license.</li>
<li><span style="color:white;font-weight:bold;background-color:#008CBA;margin: 4px 2px;padding: 1px 8px;">Open</span> Only an Account Administrator or a user with the Workflow Designer  privilege can use the Workflow Designer to create and edit workflows.</li>
</ul>


</div>

<p>To launch the Workflow Designer, choose Orchestration <strong>&gt;</strong> Workflows.
A dashboard displays the following details under these tabs, namely, My
Workflows, Sample Workflows, and All Workflows:</p>
<ul>
<li>
<p>Validation Status</p>
</li>
<li>
<p>Last Execution Status</p>
</li>
<li>
<p>Top Workflows by Execution Count</p>
</li>
<li>
<p>Top Workflow Categories</p>
</li>
<li>
<p>Number of System Defined Workflows</p>
</li>
<li>
<p>Top Workflows by Targets</p>
</li>
</ul>
<p>Using the dashboard, you can create, edit, clone, or delete a tab. To
create your own custom view tab, click + and specify a name and then
choose the required parameters that need to be displayed in the columns,
tag columns, and widgets. You can rename the tabs if it does not have a
Lock icon.</p>
<p>Below the dashboard is a tabular list of workflows displaying the
following information:</p>
<ul>
<li>
<p>Display Name</p>
</li>
<li>
<p>Description</p>
</li>
<li>
<p>System Defined</p>
</li>
<li>
<p>Default Version</p>
</li>
<li>
<p>Executions</p>
</li>
<li>
<p>Last Execution Status</p>
</li>
<li>
<p>Validation Status</p>
</li>
<li>
<p>Last Update</p>
</li>
<li>
<p>Organization</p>
</li>
</ul>
<p>The Actions column allows you to do the following actions:</p>
<ul>
<li>
<p><strong>Execute</strong>&mdash;Executes the workflow.</p>
</li>
<li>
<p><strong>History</strong>&mdash;Displays workflow execution history.</p>
</li>
<li>
<p><strong>Manage Versions</strong>&mdash;create and manage versions for workflows. See
<a href="#managing-versions-for-workflows">Managing Versions for Workflows</a>.</p>
</li>
<li>
<p><strong>Delete</strong>&mdash;Delete a workflow.</p>
</li>
<li>
<p><strong>Retry</strong>&mdash;Retry a failed workflow.</p>
</li>
</ul>
<h2 id="creating-a-workflow">Creating a Workflow</h2>
<p>Workflow creation can be broken down into the following sequence of
steps:</p>
<ol>
<li>
<p><strong>Defining a workflow</strong>&mdash;you specify the display name, description, and
other important attributes.</p>
</li>
<li>
<p><strong>Defining workflow inputs, workflow variables, and workflow
outputs</strong>&mdash;you can specify which input parameters are mandatory for
the workflow execution, define variable(s) for workflow, and the
output(s) generated on successful execution.</p>
</li>
<li>
<p><strong>Adding workflow tasks</strong>&mdash;you can add one or more workflow tasks in
the Workflow Designer that are needed for the workflow to carry out
its function.</p>
</li>
<li>
<p><strong>Validate the workflow</strong>&mdash;you can validate a workflow to ensure that
there are no errors in connecting task inputs and outputs.</p>
</li>
</ol>
<h2 id="defining-a-workflow">Defining a Workflow</h2>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Choose Create Workflow. The Create Workflow screen is categorized
into the following areas to help you create a workflow:
The following table describes the options available to you while
creating a workflow:</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>Workflow Designer Area/Option</th>
<th>Description</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>General Tab</strong></td>
<td>Displays workflow details, and also inputs, variables, and outputs of the workflow.</td>
<td>You can add a user-friendly short name, reference name, description, and assign an organization to the workflow. You can also specify a version or set a tag to the workflow. In order to categorize your workflow, use the tag key Category and provide an appropriate category value. Use the following checkboxes to:<BR> <strong>Set as Default Version</strong>&mdash;Sets this version as the default version for the workflow. <BR><strong>Retryable</strong>&mdash;Execute the workflow from the point of a failure or retry the execution of the entire workflow. You can retry the execution of the workflow for up to two weeks after the last update to the workflow. <BR><strong>Enable Debug Logs</strong>&mdash;Collects the workflow logs for each tasks. You can analyze and debug the workflow execution. <BR><strong>Workflow Inputs</strong>&mdash;You can click Add Workflow Input and add workflow inputs. Each input has a user-friendly display name, a reference name, description, restrictions, and data type. Also, you can set a default value and encrypt it. For more information, see <a href="#defining-workflow-inputs-variables-and-outputs">Defining Workflow Inputs, Variables, and Outputs</a>. <BR><strong>Workflow Variable</strong>&mdash;You can click Add Workflow Variable and add a workflow variable. Each workflow variable has a reference name, data type, and so on. Also, you can set a default value. For more information, see <a href="#defining-workflow-inputs-variables-and-outputs">Defining Workflow Inputs, Variables, and Outputs</a>. <BR><strong>Workflow Outputs</strong>&mdash;You can click Add Workflow Output and add workflow outputs. Each output has a user-friendly display name, a reference name, description, restrictions, and data type. Also, you can encrypt a value and map it to task output.</td>
</tr>
<tr>
<td><strong>Designer Tab</strong></td>
<td>Displays the design area where you synthesize your workflow.</td>
<td>Categorized into the following areas to help you create a workflow: <ul><li><strong>Tools Area</strong>&mdash;lists all the tasks, workflows, and operations that are currently available in Intersight. You can drag and drop a task or a workflow to the canvas to create or edit the workflow. You can collapse or expand the Tools area. You can use the Search feature to find a specific task or workflow. </li> <li><strong>Design Area</strong>&mdash;where you can build your workflow. Drag and drop tasks and workflows from the Tools area to this area of the screen. This area includes the following options that you can use while creating the workflow: <ul><li><strong>Zoom in and Zoom out</strong>&mdash;Magnify or reduce the view of the workflow. </li> <li> <strong>Auto Align Workflow</strong>&mdash;Automatically align the workflow tasks in the design area. </li> <li> <strong>Auto Align Selected Workflow Entities</strong>&mdash;Align selected workflow entities in the design area. </li> <li><strong>Toggle Task Search</strong>&mdash;Search for a specific task within the workflow. This is useful when you have several tasks within the workflow. </li> <li><strong>Auto Connect Selected Workflow Entity</strong>&mdash;Add the workflow entity in the design area. You can drag and drop a task in between the tasks. The possible locations where the selected task can be added is denoted with + icon.</li></ul></ul></td>
</tr>
<tr>
<td><strong>Mapping Tab</strong></td>
<td>Displays the relationship between the task inputs and the outputs of the selected workflow. Information on workflow inputs and workflow outputs is also displayed.</td>
<td>Expand and collapse the <strong>Task Inputs</strong> and <strong>Task Outputs</strong> pane.</td>
</tr>
<tr>
<td><strong>Code Tab</strong></td>
<td>Displays the code view of the workflow definition</td>
<td>Read-only view of the workflow. You can copy the code, use this as a sample to create a workflow using Intersight APIs.</td>
</tr>
<tr>
<td><strong>History Tab</strong></td>
<td>Status of the executed/in-progress workflows. This tab appears after executing a workflow.</td>
<td>View workflow execution history, retry or clone a previous execution. The system displays a maximum of 100 instances of the workflow execution. The workflow execution is populated for each version of the workflow.<BR> <strong>Note:</strong> When a workflow is successfully executed, the options for retrying the workflow are not displayed. You can retry a failed workflow only when the <strong>Retryable</strong> option is enabled in the <strong>General</strong> tab.</td>
</tr>
<tr>
<td><strong>Execute</strong></td>
<td>Launches the Enter Workflow Inputs window.</td>
<td>Choose the Organization and the Workflow instance name to execute the workflow. For user-created workflows, the organization must match where it was created.</td>
</tr>
<tr>
<td><strong>Save Workflow</strong></td>
<td>Validates and saves the workflow.</td>
<td>Review validation errors, if any, and rectify them.</td>
</tr>
<tr>
<td><strong>Close Designer</strong></td>
<td>Closes the Workflow Designer.</td>
<td>Closes the Workflow Designer and displays the table view of available workflows.</td>
</tr>
</tbody>
</table>
<h2 id="requests">Requests</h2>
<p>Requests are closely related to workflows. You create requests by
running workflows; a request is generated every time you execute a
workflow in Cisco Intersight. A request is a process under the control
of Cisco Intersight.</p>
<p>You can schedule a workflow for later execution, and Cisco Intersight
stores details of completed requests. To view the detailed information
of a request, choose a request. The following information is displayed
in the <strong>Requests</strong> screen:</p>
<ul>
<li>
<p><strong>Status</strong>&mdash;Displays the status of a workflow. Request can have one of
several states depending on its execution status:</p>
<ul>
<li>
<p>Running</p>
</li>
<li>
<p>Blocked (for example, awaiting an approval)</p>
</li>
<li>
<p>Completed</p>
</li>
<li>
<p>Failed (a request can fail when one of its component tasks fails
to execute properly)</p>
</li>
</ul>
</li>
<li>
<p><strong>Details</strong>&mdash;Displays the request details such as name, request ID,
target name and type, source name and type, name of the user who has
executed the request along with the start time and end time, and
duration of the request.</p>
</li>
<li>
<p><strong>Inputs</strong>&mdash;Displays the workflow input details</p>
</li>
<li>
<p><strong>Outputs</strong>&mdash;Displays the workflow output details</p>
</li>
<li>
<p><strong>Execution Flow</strong>&mdash;Enable Show Additional Details to view the logs,
input, and output mapping details of the user-defined workflows.
Displays the workflow execution history details similar to the
details displayed in the History tab.</p>
</li>
</ul>
<h2 id="defining-workflow-inputs-variables-and-outputs">Defining Workflow Inputs, Variables, and Outputs</h2>
<p>Workflows can have any number of tasks, inputs, variables, and outputs.</p>
<p>Any task or workflow input can be either mandatory or optional. A task
or workflow cannot run without all of its mandatory inputs. You define
whether an input is mandatory or optional when you create the task or
workflow.</p>
<p>After specifying the generic properties for a task or workflow, you
define the input parameters and variables required for task or workflow
execution. In addition, you can set workflow input Parameter Set or
Progressive Disclosure rules. These rules control the availability of
workflow inputs or filter the data based on the preceding selection
during the workflow execution. The Task Designer uses the same
parameters and information types as the workflow designer to validate
the mappings of task input and output parameters when a task is used in
a workflow along with other tasks. Task designer uses the same form as
workflow designer to obtain the parameter and information type so as
provide same user experience between workflow designer and task
designer.</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane and click Create
Workflow.</p>
</li>
<li>
<p>In the General tab, click Add Workflow Input in the Workflow Inputs
tab.</p>
</li>
<li>
<p>In the Add Workflow Input screen, enter the following details:</p>
<p>a.  Display Name&mdash;Enter user-friendly short name.</p>
<p>b.  Reference Name</p>
<p>c.  Description&mdash;Detailed description of the input</p>
<p>d.  Value Restrictions&mdash;Choose Required, Collection/Multiple, or
can be left blank</p>
<p>e.  Type&mdash;Select a data type. For example, String, Integer, Float,
Boolean, Json, Enum, MoReference, Target Data Type, or a custom
data type.</p>
</li>
<li>
<p>The fields displayed depend on the value you select for the Type field.</p>
<p>a.  If you select the data type as Enum, specify the following:</p>
<pre><code>i.  Enum List---Label for the Enum value.

ii. Widget type.

iii. Set Default Value---Select the checkbox and select the
     corresponding default value.

iv. Override---Allow the user to override the default value.
</code></pre>
<p>b.  If you select the data type as String, specify the following:</p>
<pre><code>i.  Minimum and Maximum Range

ii. Regex---Validates the regular expression when you select
    String in the Type field.

iii. Secure---Indicates that the values of these properties are
     encrypted and stored in Cisco Intersight.

iv. Object Selector---Enable to configure the Intersight managed
    object selectors. This attribute is available only when the
    primitive data is String.
</code></pre>
</li>
<li>
<p>Specify the Intersight API Reference and selector attributes to feed the input from the table selection. Value will be passed according to the configuration set in the Value attribute.</p>
<p>a.  If you select the data type as Integer or Float, specify the
following:</p>
<pre><code>i.  Minimum and Maximum Range

ii. Set Default Value---Select the checkbox and the
    corresponding default value.
</code></pre>
<p>b.  If you select the data type as Target Data Type or MoReference,
specify the following:</p>
<pre><code>i.  Intersight API Reference---Enter the URL of the Intersight
    API configured with parameters.

ii. Selector Attribute---Enter the attribute name(s) that needs
    to be displayed in the input table column. You can add
    multiple selector attributes by clicking +.
</code></pre>
<p>c.  If you select the data type as Composite Data Type, you can
specify the field mapping for the input field. With field
mapping, you can pass the value of workflow input to a composite
data field.</p>
</li>
<li>
<p>To pass the value from the parent composite data type to a child composite data type, you must specify the field mapping in the composite data type field. For more information, see <a href="/docs/ico/datatype/">Creating a Data Type</a>.</p>
</li>
<li>
<p>To specify the field mapping, do the following:</p>
<p>i.  Key&mdash;The input field that you want to hide.</p>
<p>ii. Value Attribute&mdash;The value in a template style to be passed
dynamically during the execution.</p>
</li>
<li>
<p>If the data type is Object Selector, Enum, or Boolean then the input is referenced as \${workflow.input.InputReferenceName}.</p>
</li>
<li>
<p>If the data type is MoReference or Target Data Type the input is</p>
<blockquote>
<p>referenced as \${workflow.input.InputReferenceName.AttributeName}.</p>
</blockquote>
</li>
<li>
<p>The InputReferenceName is the Reference Name given to the input</p>
<blockquote>
<p>field and not the Display Name or Label.</p>
</blockquote>
</li>
<li>
<p>Click Add.</p>
</li>
<li>
<p>Repeat this procedure to create multiple inputs <a href="#requests">Sample Link</a>.</p>
</li>
<li>
<p>To add a Parameter Set rule, click Add Rule &gt; Parameter Set.</p>
</li>
<li>
<p>For more information, see Workflow <a href="#progressive-disclosure-rule">Workflow Input Parameter Set and Progressive Disclosure Rules</a>.</p>
<p>a.  Name&mdash;The name of the Parameter Set rule.</p>
<p>b.  If Field&mdash;Select the input field and the properties that will
be used to define the Parameter Set rule.</p>
</li>
<li>
<p>The inputs are referenced as <em>InputName</em> or <em>InputName.Properties</em>. <BR>
<strong>Note:</strong> The properties are applicable only if the data type is MoRefefence or Target Data Type. For example, for a Target Data Type input field (DeviceRegistrations), you can specify <em>HypervisorManager.IP Address</em>.
a.  <strong>Condition</strong>&mdash;The condition for the rule. The condition can be Equal
to, Not equal to, Contains, or Matches Pattern.</p>
<p>b.  <strong>Value</strong>&mdash;Select or enter the value. The Parameter Set rule uses this
value along with the Condition specified to compare the value from
the If Field.</p>
<p>c.  <strong>Field to be shown</strong>&mdash;Select the input field(s) that should be made
available when the Parameter Set rule condition is satisfied.</p>
<p>d.  Click <strong>Save</strong>.</p>
</li>
<li>
<p>To add a Progressive Disclosure rule, click Add Rule &gt; Progressive
Disclosure. <BR> For more information, see <a href="#progressive-disclosure-rule">Workflow Input Parameter Set and     Progressive Disclosure Rules</a>.</p>
<p>a.  <strong>Target Field</strong>&mdash;The target input field on which the progressive
disclosure is applied.</p>
<p>b.  <strong>Attribute</strong> &mdash;The inputs are referenced as
<em>AttributeName.ParameterName</em>. For example, for an input field,
Virtual Manager, you can specify the attribute name as
<em>RegisteredDevice.Moid</em> or <em>ConnectionStatus</em>.</p>
<p>c.  <strong>Condition</strong>&mdash;The rule condition for the rule. The condition can
be Equal to, Not equal to, or Contains.</p>
<p>d.  <strong>Value</strong>&mdash;The inputs are referenced as
\${InputReferenceName.Attribute} or
\${InputReferenceName.ParameterName}. For example, for a VM
input field, you can specify the value as
\${HypervisorManager.Moid} or \${Target.ConnectionStatus}. <BR> <strong>Note:</strong> For a String input field, if you have selected the Object Selector option then you need not specify the Attribute or Parameter value.</p>
</li>
<li>
<p>In the General tab, click Add Workflow Variables in the Workflow
Variables tab. For more information, see <a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Workflow
Variables</a>.</p>
</li>
<li>
<p>In the Add Workflow Variable screen, enter the following details:</p>
<p>a.  <strong>Reference Name</strong>&mdash;Enter user-friendly short name.</p>
<p>b.  <strong>Type</strong>&mdash;Select the data type. For example, String, Integer,
Float, Boolean, Json, Enum, MoReference, or Target Data Type.</p>
</li>
<li>
<p>The fields displayed depend on the value you select for the Type field.
a.  If you select the data type as String, specify the following:
i.  <strong>Object Selector</strong>&mdash;Enable to configure the Intersight managed
object selectors. <BR> The Object Selector field is optional.
a.  Specify the Intersight API Reference and selector attributes to feed the input from the table selection. The value will be passed according to the configuration set in the Value attribute.
b. If you select the data type as Enum, specify the following:
i.  <strong>Enum List</strong>&mdash;Label and value for the Enum list.
ii. <strong>Widget type</strong>&mdash;The widget type as Radio or none.</p>
<p>b.  If you select the data type as Target Data Type or MoReference,
specify the following:
i.  <strong>Intersight API Reference</strong>&mdash;Enter the URL of the Intersight
API configured with parameters.
ii. <strong>Selector Attribute</strong>&mdash;Enter the attribute name(s) that needs
to be displayed in the input table column. You can add
multiple selector attributes by clicking +.
c.  Select the Initial Mapping To type and specify the corresponding
variable value.</p>
<p>d.  Click <strong>Add</strong>.</p>
</li>
<li>
<p>Click <strong>Workflow Outputs</strong> and click <strong>Add Workflow Output</strong>.</p>
</li>
<li>
<p>Choose a parameter and click <strong>Add</strong>.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
<h3 id="workflow-input-parameter-set-and-progressive-disclosure-rules">Workflow Input Parameter Set and Progressive Disclosure Rules</h3>
<p>When you create a workflow, you can specify the inputs for the workflow execution. After you define the workflow inputs, you can set Parameter Set or Progressive Disclosure rules. These rules control the availability of workflow inputs or filter the data based on the
preceding selection during the workflow execution.


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    You can define a Parameter Set or Progressive Disclosure rule only for a workflow that has more than two input fields with the supported data type.

</div>
</p>
<h4 id="parameter-set-rule">Parameter Set Rule</h4>
<p>The Parameter Set rules control the availability of specific parameters
or inputs during the execution. After the first input is specified, the
Parameter Set rule controls which subsequent input fields are made
available during the workflow execution.</p>
<p><strong>Example:</strong> The following example shows how to create a Parameter Set
rule for a workflow with three input fields. The workflow input fields
are:</p>
<ul>
<li>
<p>Enum&mdash;Type is <em>Enum</em> and Enum list is <em>VM</em> and <em>HX</em>.</p>
</li>
<li>
<p>Input1&mdash;Type is <em>String</em>.</p>
</li>
<li>
<p>Input2&mdash;Type is <em>String</em>.</p>
</li>
</ul>
<p>You can create two workflow input Parameter Set rules. During the
workflow execution when the Enum value is <em>VM</em> only Input1 field is made
available. Alternately, when the Enum value is <em>HX</em>, only Input2 is made
available. The details of the Parameter Set rules are:</p>
<ul>
<li>
<p>Rule1&mdash;If Field is <em>Enum</em>, Condition is <em>Equal to</em>, Value is <em>VM</em>,
and Fields to be shown is <em>Input1.</em></p>
</li>
<li>
<p>Rule2&mdash;If Field is <em>Enum</em>, Condition is <em>Equal to</em>, Value is <em>HX</em>,
and Fields to be shown is <em>Input2.</em></p>
</li>
</ul>
<p>The following is a sample of the API request.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a40000">  \</span><span style="color:#4e9a06">&#34;InputParameterSet\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ControlParameter\&#34;: \&#34;Enum\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;EnableParameters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Input1\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;Rule1\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.ParameterSet\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Value\&#34;: \&#34;VM\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ControlParameter\&#34;: \&#34;Enum\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;EnableParameters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Input2\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;Rule2\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.ParameterSet\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Value\&#34;: \&#34;HX\&#34;</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">    </span><span style="color:#ce5c00;font-weight:bold">},</span>
</span></span></code></pre></div><p>The supported data types for Parameter Set rules are:</p>
<ul>
<li>
<p>Boolean</p>
</li>
<li>
<p>Enum</p>
</li>
<li>
<p>String Object Selector</p>
</li>
<li>
<p>MoReference</p>
</li>
<li>
<p>Target</p>
</li>
</ul>
<h4 id="progressive-disclosure-rule">Progressive Disclosure Rule</h4>
<p>The Progressive Disclosure rules filter the data available in an input
field based on the preceding selection during a workflow execution. The
first input field is populated with broadest options. The subsequent
input fields are populated with options based on the previous selection.</p>
<p><strong>Example 1:</strong> The following example shows how to create a Progressive
Disclosure rule for a workflow with two input fields. Both these input
fields are MoReference data type. The workflow input fields are:</p>
<ul>
<li>
<p><strong>Field1</strong>&mdash;Type is <em>MoReference</em>, Intersight API Reference is
<em>/api/v1/asset/DeviceRegistrations</em>, and Selector attribute is
ConnectionStatus.</p>
</li>
<li>
<p><strong>Field2</strong>&mdash;Type is <em>MoReference</em>, Intersight API Reference is
<em>/api/v1/asset/DeviceRegistrations</em>, and Selector attribute is
ConnectionStatus.</p>
</li>
</ul>
<p>You can create a Progressive Disclosure rule so that during the workflow
execution, the data is filtered for Field2 fields based on value in the
Field1 field. The details of the Progressive Disclosure rule are:</p>
<ul>
<li><strong>Field2 Rule</strong>&mdash;Target Field is Field2, Attribute is ConnectionStatus,
Condition is <em>Equal to</em>, and Value is \${Field1.ConnectionStatus}.</li>
</ul>
<p><strong>Example 2:</strong>: The following example shows how to create a Progressive
Disclosure rule for a workflow with two input fields. Both these input
fields are composite custom data type. The workflow input fields are:</p>
<ul>
<li>
<p><strong>Input1</strong>&mdash;Composite data type with two fields (Field1 and Field2)</p>
<ul>
<li>
<p><strong>Field1</strong>&mdash;Type is <em>MoReference</em>, Intersight API Reference is
<em>/api/v1/asset/DeviceRegistrations</em>, and Selector attribute is
ConnectionStatus.</p>
</li>
<li>
<p><strong>Field2</strong>&mdash;Type is <em>MoReference</em>, Intersight API Reference is
<em>/api/v1/asset/DeviceRegistrations</em>, and Selector attribute is
ConnectionStatus.</p>
</li>
</ul>
</li>
<li>
<p><strong>Input2</strong>&mdash;Composite data type with two fields (Field3 and Field4)</p>
<ul>
<li>
<p><strong>Field3</strong>&mdash;Type is <em>MoReference</em>, Intersight API Reference is
<em>/api/v1/asset/DeviceRegistrations</em>, and Selector attribute is
ConnectionStatus.</p>
</li>
<li>
<p><strong>Field4</strong>&mdash;Type is <em>MoReference</em>, Intersight API Reference is
<em>/api/v1/asset/DeviceRegistrations</em>, and Selector attribute is
ConnectionStatus.</p>
</li>
</ul>
</li>
</ul>
<p>You can create two Progressive Disclosure rules. During the workflow
execution, the data is filtered for Input2 fields based on value in the
Input1 fields. The details of the two Progressive Disclosure rules are:</p>
<ul>
<li>
<p><strong>Input2.Field3 Rule</strong>&mdash;Target Field is Input2.Field3, Attribute is
ConnectionStatus, Condition is <em>Equal to</em>, and Value is <em>${Input1.Field1.ConnectionStatus}</em>.</p>
</li>
<li>
<p><strong>Input2.Field4 Rule</strong>&mdash;Target Field is Input2.Field4, Attribute is
ConnectionStatus, Condition is <em>Equal to</em>, and Value is <em>${Input1.Field2.ConnectionStatus}</em>.</p>
</li>
</ul>
<p>The following is a sample of the API request.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#a40000">  \</span><span style="color:#4e9a06">&#34;UiInputFilters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Filters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;ConnectionStatus eq \&#39;\${Input1.Field1.ConnectionStatus}\&#39;\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;Input2.Field3\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.UiInputFilter\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;UserHelpMessage\&#34;: \&#34;\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Filters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;ConnectionStatus eq \&#39;\${Input1.Field2.ConnectionStatus}\&#39;\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;Input2.Field4\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.UiInputFilter\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;UserHelpMessage\&#34;: \&#34;\&#34;</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">    }\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">  \]</span>
</span></span></code></pre></div><p>The supported data types for the Progressive Disclosure rules are:</p>
<ul>
<li>
<p>MoReference</p>
</li>
<li>
<p>Target</p>
</li>
<li>
<p>String Object Selector</p>
</li>
</ul>
<h3 id="workflow-variables">Workflow Variables</h3>
<p>Workflow variables are similar to local variables within functions of a
programming language. You define variables for workflows in Workflow
Designer, and the scope of the workflow variables lies within the
defined workflow. In a workflow, all tasks are bound to the scope of the
workflow and have access to the workflow variables that are defined for
the workflow. You can use the workflow variable to do the following:</p>
<ul>
<li>
<p>Simplify complex workflows which have multiple branches based on the
conditional operator. Save the output of tasks that get executed in
different branches of the workflow into a single variable. This
variable can then be mapped in the downstream tasks irrespective of
the branch from which it was taken.</p>
</li>
<li>
<p>Evaluate the workflow input using a complex expression, save the
result as a variable, and reuse the variable in the subsequent
tasks.</p>
</li>
<li>
<p>Transform the output of a task with the help of template functions
and map the value into a workflow variable. The variables can then
be used in multiple mappings without having to redo the
transformation in every mapping.</p>
</li>
</ul>
<p>To define the workflow variable and specify the corresponding value, you
can do the following:</p>
<ul>
<li>
<p>In the General tab, click Add Workflow Variable and define the
variable properties.</p>
</li>
<li>
<p>In the Designer tab, click the task, and then click the Variables
tab.</p>
<pre><code>-   To add a new workflow variable, click Add Workflow Variable and
    define the variable properties.

-   To add or edit a mapping to an existing variable, click Edit
    Mapping and specify the new value.
</code></pre>
<p>

<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    <pre><code>To view events for a workflow variable, click the **View** icon.
</code></pre>


</div>

The workflow variables can be assigned one of the following values:</p>
</li>
<li>
<p>Static value&mdash;Either the default value of the variable or the value
specified in the workflow tasks.</p>
</li>
<li>
<p>Direct mapping &mdash;Mapped to a workflow input, task output, or
another workflow variable.</p>
</li>
<li>
<p>Advanced or Transformational mapping&mdash;Evaluate a complex expression
and save the result in a variable.</p>
</li>
</ul>
<p>After you define the workflow variable, you can map the workflow
variable to task input, workflow output, or as an input for another
variable. For more information, see [Input, Variable, and Output
Mapping]{.underline}.</p>
<p>Following is a simple example which explains static mapping for a
workflow variable. A workflow has two tasks <em>Task1</em> and <em>Task2</em> and a
workflow variable <em>Variable1</em> is defined with a default value as <em>100</em>.
For <em>Task1</em>, in the Variable tab for the task, you can specify a static
mapping for the workflow variable value as 90. Similarly, for <em>Task2</em>,
in the Variable tab for the task, you can specify the workflow variable
value as 80 by mapping the <em>Variable1</em> value.</p>
<p>When you execute the workflow, the start value of <em>Variable1</em> is the
default value <em>100</em> . After <em>Task1</em> is executed, the value of
<em>Variable1</em> is set to <em>90</em> based on the static value that is mapped for
the task. After <em>Task2</em> is executed, the value of <em>Variable1</em> is set to
<em>80</em> based on the static value that is mapped for the task.</p>
<h3 id="input-variable-and-output-mapping">Input, Variable, and Output Mapping</h3>
<p>Workflows inputs, variables, and task outputs can be used for mapping
and they can be used as direct, transformed, or advanced mapping. The
syntax to refer to these will depend on the type of mapping.</p>
<ul>
<li>
<p>Workflow inputs are referenced as <em>${workflow.input.InputName}</em> where
InputName is the Reference Name given to the workflow input and not
the Display Name or Label.</p>
</li>
<li>
<p>Workflow variables are referenced as <em>${workflow.variable.InputName}</em>
, where InputName is the Reference Name for the workflow variable.</p>
</li>
<li>
<p>Task outputs are referenced as <em>${TaskName.output.OutputName}</em> where
TaskName is the Instance Name for the task and not the Display Name
or Label and OutputName is the Reference Name for the task output.</p>
</li>
</ul>
<p>To specify an input mapping, select a task and click Edit against a task
input parameter.</p>
<p>To specify a workflow variable mapping, select a task and click Map
against a workflow variable parameter.</p>
<p>Following are the available options:</p>
<ul>
<li>
<p><strong>Static Value</strong>&mdash;Enter a value that is assigned to the task input or
workflow variable field.</p>
</li>
<li>
<p><strong>Direct Mapping</strong>&mdash;Map an existing input, workflow variable, or task
output to the task input.</p>
</li>
<li>
<p><strong>Transformed Mapping</strong>&mdash;Allows applying data transformation through a
combination of one or more transformation stages for a task\&rsquo;s
input. In each transformation stage, you can select a transformation
function along with its inputs. The transformation stages will be
converted into a template. You can then preview the template and
test the transformation with sample values.</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> Transformed mapping is only supported for task inputs of &gt; primitive data types, such as <em>string</em>, <em>integer</em>, <em>boolean</em>, and <em>float</em>.</p>
</blockquote>
<ul>
<li>
<p><strong>Advanced Mapping</strong>&mdash;Map a Golang template to the task input or
workflow variable. For example, FindAllString function returns a
slice of all substrings that match the given regular expression in
the given string.</p>
</li>
<li>
<p>FindAllString(s, regex string) ([]string, error)\
Example: {{(FindAllString .global.task.input.NumberString \\&quot;([0-9]+)\\&quot;)}} \
returns array [&ldquo;123&rdquo;, &ldquo;456&rdquo;] for input string &ldquo;123 some text 456&rdquo;.</p>
</li>
<li>
<p>For example, Atoi function converts the given number in string
format to integer type.</p>
</li>
<li>
<p>Atoi(s string) (int, error)\
Example: {{Atoi .global.task.input.SizeString}} \
returns integer 2048 for input string &ldquo;2048&rdquo;</p>
</li>
</ul>
<h3 id="operations---conditional-task">Operations - Conditional Task</h3>
<p>Operations can be used to control the execution path of the workflows.
Orchestrator supports Condition tasks which can be used to control the
tasks that need to be executed.</p>
<p><strong>Tasks to Control Execution Flow of Workflows</strong></p>
<p>The Conditional Task under Operations allows you to perform programmatic
decisional expressions in a conditional task during a workflow
execution. The conditional expression can be simple expression or a
combined compound expression.</p>
<p><strong>Note:</strong> Only JSON style template is supported with conditional
expressions.</p>
<p>Conditional expressions support the following operators:</p>
<ul>
<li>
<p><strong>Comparison operators</strong> such as === (Equal to), != (Not equal to),
&gt; (Greater than), \&lt; (Less than), &gt;= (Greater than or equal to),
\&lt;= (Less than or equal to)</p>
</li>
<li>
<p><strong>Arithmetic operators</strong> such as =, -, * (Multiplication), /
(division), % (Modulo), ** (Logical AND)</p>
</li>
<li>
<p><strong>Logical operators</strong> such as &amp;&amp; (Logical AND), || (Logical OR), !
((Logical NOT)</p>
</li>
<li>
<p><strong>Ternary operator</strong> such as condition ? val1 : val2</p>
</li>
</ul>
<p>The syntax for workflow input is \${workflow.input.\<workflow input
ReferenceName>} and the syntax for task output is \${\<Task
Name>.output.\<Task Output Name>}. You can get the values for the task
name and task output name from the Code view.</p>
<p>Following is an example for conditional expressions:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">test</span><span style="color:#a40000">\&#39; \</span><span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#a40000">\</span><span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#a40000"> \</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">test123</span><span style="color:#a40000">&#39;</span><span style="color:#ce5c00;font-weight:bold">))</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">bad</span><span style="color:#a40000"> </span><span style="color:#000">input</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#ce5c00;font-weight:bold">((</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">id</span><span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span><span style="color:#a40000"> \</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">id</span><span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">%</span><span style="color:#a40000"> </span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">==</span><span style="color:#a40000"> </span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#ce5c00;font-weight:bold">))</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">even</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">odd</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">test123</span><span style="color:#a40000">&#39; \</span><span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#a40000">\</span><span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#a40000"> \</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">test123</span><span style="color:#a40000">&#39;</span><span style="color:#ce5c00;font-weight:bold">))</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">bad</span><span style="color:#a40000"> </span><span style="color:#000">input</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#ce5c00;font-weight:bold">((</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">id</span><span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span><span style="color:#a40000"> \</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">id</span><span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">%</span><span style="color:#a40000"> </span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">==</span><span style="color:#a40000"> </span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#ce5c00;font-weight:bold">))</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">even</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">odd</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}.</span><span style="color:#c4a000">length</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">===</span><span style="color:#a40000"> </span><span style="color:#0000cf;font-weight:bold">12</span><span style="color:#a40000"> \</span><span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#a40000">\</span><span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#a40000"> \</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!==</span><span style="color:#a40000"> &#39;</span><span style="color:#000">test</span><span style="color:#a40000">&#39; </span><span style="color:#ce5c00;font-weight:bold">))</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">even</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">odd</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> \</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#a40000">\</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#a40000"> </span><span style="color:#000">fgfgfgfgfgfg</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">,</span><span style="color:#a40000"> </span><span style="color:#000">even</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}.</span><span style="color:#c4a000">length</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">===</span><span style="color:#a40000"> </span><span style="color:#0000cf;font-weight:bold">12</span><span style="color:#a40000"> \</span><span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#a40000">\</span><span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#a40000"> \</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!==</span><span style="color:#a40000"> &#39;</span><span style="color:#000">test</span><span style="color:#a40000">&#39; </span><span style="color:#ce5c00;font-weight:bold">))</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">even</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">odd</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> \</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#a40000">\</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#a40000"> </span><span style="color:#000">test</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">,</span><span style="color:#a40000"> </span><span style="color:#000">odd</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">decisionTest</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">indexOf</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">})</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">))</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">even</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">odd</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}.</span><span style="color:#c4a000">toLowerCase</span><span style="color:#ce5c00;font-weight:bold">()</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">==</span><span style="color:#a40000"> &#39;</span><span style="color:#000">testing</span><span style="color:#a40000">&#39;</span><span style="color:#ce5c00;font-weight:bold">))</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">even</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">odd</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> \</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#a40000">\</span><span style="color:#ce5c00;font-weight:bold">&lt;</span><span style="color:#a40000"> </span><span style="color:#000">used</span><span style="color:#a40000"> </span><span style="color:#000">integers</span><span style="color:#a40000"> </span><span style="color:#000">as</span><span style="color:#a40000"> </span><span style="color:#000">input</span><span style="color:#a40000"> </span><span style="color:#000">name</span><span style="color:#a40000"> </span><span style="color:#000">to</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">try</span><span style="color:#a40000"> </span><span style="color:#000">odd</span><span style="color:#a40000"> </span><span style="color:#000">path</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}.</span><span style="color:#c4a000">search</span><span style="color:#ce5c00;font-weight:bold">(/</span><span style="color:#a40000">\\</span><span style="color:#000">s</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">g</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#ce5c00;font-weight:bold">))</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">even</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">odd</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}.</span><span style="color:#c4a000">match</span><span style="color:#ce5c00;font-weight:bold">(/</span><span style="color:#a40000">\\</span><span style="color:#000">s</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">g</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#ce5c00;font-weight:bold">))</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">even</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">odd</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}.</span><span style="color:#c4a000">startsWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\&#39;</span><span style="color:#000">Not</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">,</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#a40000"> \</span><span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#a40000">\</span><span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#a40000"> \</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}.</span><span style="color:#c4a000">endsWith</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">)))</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">even</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">odd</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}.</span><span style="color:#c4a000">length</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">&gt;=</span><span style="color:#a40000"> </span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">&amp;&amp;</span><span style="color:#a40000"> \</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}.</span><span style="color:#c4a000">length</span><span style="color:#a40000"> \</span><span style="color:#ce5c00;font-weight:bold">&lt;=</span><span style="color:#a40000"> </span><span style="color:#0000cf;font-weight:bold">20</span><span style="color:#ce5c00;font-weight:bold">))</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">even</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">odd</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}.</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">===</span><span style="color:#a40000"> </span><span style="color:#000">undefined</span><span style="color:#ce5c00;font-weight:bold">))</span><span style="color:#a40000"> &#39;</span><span style="color:#000">odd</span><span style="color:#a40000">&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> &#39;</span><span style="color:#000">even</span><span style="color:#a40000">&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}.</span><span style="color:#c4a000">search</span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\&#39;</span><span style="color:#000">Failed</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">)</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#ce5c00;font-weight:bold">))</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">even</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">odd</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">(</span><span style="color:#a40000">\</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}.</span><span style="color:#c4a000">toLowerCase</span><span style="color:#ce5c00;font-weight:bold">()</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> \&#39;\&#39; \</span><span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#a40000">\</span><span style="color:#ce5c00;font-weight:bold">|</span><span style="color:#a40000"> \</span><span style="color:#000">$</span><span style="color:#ce5c00;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">input</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">name</span><span style="color:#ce5c00;font-weight:bold">}.</span><span style="color:#c4a000">toUpperCase</span><span style="color:#ce5c00;font-weight:bold">()</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> &#39;</span><span style="color:#000">Not</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">assigned</span><span style="color:#a40000">&#39; </span><span style="color:#ce5c00;font-weight:bold">))</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">even</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> \&#39;</span><span style="color:#000">odd</span><span style="color:#a40000">\&#39;</span><span style="color:#ce5c00;font-weight:bold">;</span>
</span></span></code></pre></div><p>The expression is executed during runtime and depending on the result,
the respective path is chosen. If none of the conditions match, the
default path is chosen.</p>
<p>For example, you can have a conditional task that follows a path of
execution depending on the profile state. You can create a condition in
a workflow to check the state of the profile. If the profile is in the
Assigned state then you can deploy the profile, else delete the profile.</p>
<p>After choosing the conditional task, use the Conditions tab to specify
expressions in the Condition field of the tab. The values for the
condition are specified in the Value field of the Cases area.
Expressions are validated for syntax accuracy when workflow is saved.</p>
<p>The following examples return the value of the condition.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Names</span><span style="color:#000;font-weight:bold">}.</span><span style="color:#000">length</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">ArrayOfIds</span><span style="color:#000;font-weight:bold">}.</span><span style="color:#000">length</span><span style="color:#a40000">              </span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">here</span><span style="color:#a40000"> </span><span style="color:#000">ArrayOfIds</span><span style="color:#a40000"> </span><span style="color:#000">represent</span><span style="color:#a40000"> </span><span style="color:#000">an</span><span style="color:#a40000"> </span><span style="color:#000">array</span><span style="color:#000;font-weight:bold">)</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Names</span><span style="color:#000;font-weight:bold">}.</span><span style="color:#000">toLowerCase</span><span style="color:#000;font-weight:bold">()</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Names</span><span style="color:#000;font-weight:bold">}.</span><span style="color:#000">toUpperCase</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><p>The following examples return the boolean value \&rsquo;true\&rsquo; or \&lsquo;false\&rsquo;.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Names</span><span style="color:#000;font-weight:bold">}.</span><span style="color:#000">startsWith</span><span style="color:#000;font-weight:bold">(</span><span style="color:#a40000">\&#39;</span><span style="color:#000">Te</span><span style="color:#a40000">\&#39;</span><span style="color:#000;font-weight:bold">)</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Names</span><span style="color:#000;font-weight:bold">}.</span><span style="color:#000">endsWith</span><span style="color:#000;font-weight:bold">(</span><span style="color:#a40000">\&#39;</span><span style="color:#000">st</span><span style="color:#a40000">\&#39;</span><span style="color:#000;font-weight:bold">)</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Names</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">==</span><span style="color:#a40000"> </span><span style="color:#000">null</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Names</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> </span><span style="color:#000">null</span>
</span></span></code></pre></div><p>In addition to workflow, task output can also be used. Here a boolean
value is used in a ternary operation. If True, branch1 executes,
otherwise branch2 executes <em>${task1.output.IsValid} ? branch1 :
branch2</em>.</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/nOeWB34SDFI" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<h3 id="operations---parallel-loop-task">Operations - Parallel Loop Task</h3>
<p>Operations can be used to control the execution path of the workflows. Orchestrator supports the Parallel Loop operation task that can be used to run a single task or sub-workflow, iteratively, based on a specified count input.</p>
<p>The iteration count can either be a static value that is specified when the workflow is created or a dynamic value that is derived from a workflow input or task output.</p>
<p>When the task is executed, the count &lsquo;N&rsquo; is determined, and the tasks or sub-workflows are scheduled for execution in parallel. When all the instances of the task or sub-workflow reach a final state, the parallel loop operation completes, and the workflow execution moves on to the next task.</p>
<p>

<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    <p>If one of the tasks or sub-workflows fails then the entire parallel loop task fails.</p>
<p>The dynamic values for the count must be specified as a template function. For example, if a loop must run for a count which matches the length of a workflow input called <strong>StringArray</strong>, then the count must be specified using a template function <em>{{ len .global.workflow.input.StringArray }}</em>.</p>
<p>In addition, you can use the keyword <em>.iteration</em> in a workflow template input to control the inputs that feed into the task. For example, the task within the loop needs to take one value from the workflow input <strong>StringArray</strong>, then the task string input can be mapped to the template <em>HostGroupName{{.iteration}}</em> during the workflow creation.</p>


</div>

Use the <strong>Parallel Loop</strong> task from the <strong>Operations</strong> section in the Intersight Orchestrator Workflow Designer UI to create a request.</p>
<p>The following table explains the task input properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Count</td>
<td>The iteration count value for the parallel loop. The count can either be a static value defined as a constant or a dynamic value defined as an expression that is evaluated to an integer value at execution time. <BR> The dynamic values for the count must be specified as a template function. For example, if a loop must run for a count which matches the length of a workflow input called <code>StringArray</code>, then the count must be specified using a template function <code>{{ len .global.workflow.input.StringArray }}</code>. <BR> The count must be less than or equal to 100.</td>
</tr>
</tbody>
</table>
<p><strong>Example: Create a workflow with the Parallel Loop task to create multiple storage host groups</strong></p>
<p>The following example workflow has two tasks&mdash;Parallel Loop and New Storage Host Group. The first task runs the Parallel Loop task. In this task, the Count input is a static value and is set to <em>2</em>. The second task, New Storage Host Group, creates storage host groups with the host group name as a workflow input.</p>
<p>When the workflow is executed, the count &lsquo;N&rsquo; is determined as 2, and two create storage host group tasks are executed in parallel. When all the instances of the task reach a final state, the parallel loop completes.</p>
<p>The workflow input field required for this example is as follows:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Storage Device</td>
<td><ul>   <li> <strong>Reference Name</strong>&mdash;<em>StorageDevice</em> </li> <li><strong>Type</strong>&mdash;<em>Target Data Type</em> </li><li> <strong>Intersight API Reference</strong>&mdash;<em>/api/v1/storage/PureArrays</em> </li>        <li><strong>Selector Attribute</strong>&mdash;<em>Name</em> </li> <li><strong>Selector Attribute</strong>&mdash;<em>Vendor</em> </li> </ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the properties for the Parallel Loop task:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Count</td>
<td><strong>Count</strong>&mdash;<em>2</em></td>
</tr>
</tbody>
</table>
<p>The following table lists the properties for the New Storage Host Group task:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Storage Device</td>
<td><strong>Workflow Input</strong>&mdash;<em>${workflow.input.StorageDevice}</em></td>
</tr>
<tr>
<td>Host Group</td>
<td><strong>Custom Value</strong>&mdash;<em>HostGroupName{{.iteration}}</em>  The keyword <em>.iteration</em> in a workflow template input to control the inputs that feed into the task.</td>
</tr>
</tbody>
</table>
<p>After you execute the workflow, you would see the following output:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span>    <span style="color:#a40000">├──</span> <span style="color:#000">New</span> <span style="color:#000">Storage</span> <span style="color:#000">Host</span> <span style="color:#000">Group</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">├──</span> <span style="color:#ce5c00;font-weight:bold">...</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>   <span style="color:#a40000">├──</span> <span style="color:#000">Inputs</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>   <span style="color:#a40000">│</span>   <span style="color:#a40000">└──</span> <span style="color:#000">Host</span> <span style="color:#000">Group</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">HostGroupName0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>   <span style="color:#a40000">│</span>       <span style="color:#a40000">└──</span> <span style="color:#000">Storage</span> <span style="color:#000">Device</span><span style="color:#ce5c00;font-weight:bold">:{</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>   <span style="color:#a40000">│</span>           <span style="color:#a40000">├──</span> <span style="color:#000">Moid</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">619</span><span style="color:#000">efa1d6e64612d317a248a</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>   <span style="color:#a40000">│</span>           <span style="color:#a40000">└──</span> <span style="color:#000">ObjectType</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">storage</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">PureArray</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>   <span style="color:#a40000">└──</span> <span style="color:#000">Outputs</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>       <span style="color:#a40000">├──</span> <span style="color:#000">ConfigResults</span><span style="color:#ce5c00;font-weight:bold">:[</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#ce5c00;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>       <span style="color:#a40000">│</span>   <span style="color:#a40000">└──</span> <span style="color:#000">Object</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">{</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>       <span style="color:#a40000">│</span>       <span style="color:#a40000">├──</span> <span style="color:#000">ConfigResCtx</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">{</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>       <span style="color:#a40000">│</span>       <span style="color:#a40000">│</span>   <span style="color:#a40000">└──</span> <span style="color:#000">EntityData</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">{</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>       <span style="color:#a40000">│</span>       <span style="color:#a40000">│</span>       <span style="color:#a40000">└──</span> <span style="color:#000">task</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">ApiTask</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>       <span style="color:#a40000">│</span>       <span style="color:#a40000">├──</span> <span style="color:#000">Message</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">Host</span> <span style="color:#000">group</span> <span style="color:#000">created</span> <span style="color:#000">successfully</span><span style="color:#ce5c00;font-weight:bold">.</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>       <span style="color:#a40000">│</span>       <span style="color:#a40000">├──</span> <span style="color:#000">State</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">Ok</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>       <span style="color:#a40000">│</span>       <span style="color:#a40000">└──</span> <span style="color:#000">Type</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">Config</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">│</span>       <span style="color:#a40000">└──</span> <span style="color:#000">Host</span> <span style="color:#000">Group</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">HostGroupName0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">├──</span> <span style="color:#000">New</span> <span style="color:#000">Storage</span> <span style="color:#000">Host</span> <span style="color:#000">Group</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">└──</span> <span style="color:#ce5c00;font-weight:bold">...</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a40000">├──</span> <span style="color:#000">Inputs</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a40000">│</span>   <span style="color:#a40000">└──</span> <span style="color:#000">Host</span> <span style="color:#000">Group</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">HostGroupName1</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a40000">│</span>       <span style="color:#a40000">└──</span> <span style="color:#000">Storage</span> <span style="color:#000">Device</span><span style="color:#ce5c00;font-weight:bold">:{</span> <span style="color:#0000cf;font-weight:bold">2</span> <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a40000">│</span>           <span style="color:#a40000">├──</span> <span style="color:#000">Moid</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">619</span><span style="color:#000">efa1d6e64612d317a248a</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a40000">│</span>           <span style="color:#a40000">└──</span> <span style="color:#000">ObjectType</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">storage</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">PureArray</span>
</span></span><span style="display:flex;"><span>        <span style="color:#a40000">└──</span> <span style="color:#000">Outputs</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a40000">├──</span> <span style="color:#000">ConfigResults</span><span style="color:#ce5c00;font-weight:bold">:[</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#ce5c00;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a40000">│</span>   <span style="color:#a40000">└──</span> <span style="color:#000">Object</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">{</span> <span style="color:#0000cf;font-weight:bold">4</span> <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a40000">│</span>       <span style="color:#a40000">├──</span> <span style="color:#000">ConfigResCtx</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">{</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a40000">│</span>       <span style="color:#a40000">│</span>   <span style="color:#a40000">└──</span> <span style="color:#000">EntityData</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">{</span> <span style="color:#0000cf;font-weight:bold">1</span> <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a40000">│</span>       <span style="color:#a40000">│</span>       <span style="color:#a40000">└──</span> <span style="color:#000">task</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">workflow</span><span style="color:#ce5c00;font-weight:bold">.</span><span style="color:#c4a000">ApiTask</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a40000">│</span>       <span style="color:#a40000">├──</span> <span style="color:#000">Message</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">Host</span> <span style="color:#000">group</span> <span style="color:#000">created</span> <span style="color:#000">successfully</span><span style="color:#ce5c00;font-weight:bold">.</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a40000">│</span>       <span style="color:#a40000">├──</span> <span style="color:#000">State</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">Ok</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a40000">│</span>       <span style="color:#a40000">└──</span> <span style="color:#000">Type</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">Config</span>
</span></span><span style="display:flex;"><span>            <span style="color:#a40000">└──</span> <span style="color:#000">Host</span> <span style="color:#000">Group</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#000">HostGroupName1</span>
</span></span></code></pre></div><p>The following is a sample code view:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;Catalog&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#4e9a06">&#34;Moid&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;5e6109bc696f6e2d31f856e5&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#4e9a06">&#34;ObjectType&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.Catalog&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#4e9a06">&#34;link&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;https://www.intersightcom/api/v1/workflow/Catalogs/5e6109bc696f6e2d31f856e5&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;DefaultVersion&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;Description&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;InputDefinition&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;CustomDataTypeProperties&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;CatalogMoid&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;CustomDataTypeId&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;CustomDataTypeName&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;ObjectType&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.CustomDataProperty&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Default&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;IsValueSet&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;ObjectType&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.DefaultValue&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;Override&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;Value&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">null</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Description&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;DisplayMeta&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;InventorySelector&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;ObjectType&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.DisplayMeta&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;WidgetType&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;None&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;InputParameters&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;IsArray&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Label&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Storage Device&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Max&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Min&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;StorageDevice&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;ObjectType&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.TargetDataType&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Properties&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#4e9a06">&#34;ConnectorAttribute&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;RegisteredDevice.Moid&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#4e9a06">&#34;ConstraintAttributes&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#4e9a06">&#34;ObjectType&#34;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ce5c00;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>          <span style="color:#4e9a06">&#34;DisplayAttributes&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#4e9a06">&#34;Vendor&#34;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ce5c00;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>          <span style="color:#4e9a06">&#34;ObjectType&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.TargetProperty&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#4e9a06">&#34;Selector&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;/api/v1/storage/PureArrays&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#4e9a06">&#34;SelectorProperty&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#4e9a06">&#34;Body&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#4e9a06">&#34;Method&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;GET&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#4e9a06">&#34;ObjectType&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.SelectorProperty&#34;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>          <span style="color:#4e9a06">&#34;SupportedObjects&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#4e9a06">&#34;storage.PureArray&#34;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#ce5c00;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Required&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;InputParameterSet&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">[],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;Label&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Parallel Loop&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;ParallelLoop&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;OutputDefinition&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">[],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;OutputParameters&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;Properties&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#4e9a06">&#34;Cloneable&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#4e9a06">&#34;EnableDebug&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#4e9a06">&#34;ExternalMeta&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#4e9a06">&#34;ObjectType&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.WorkflowProperties&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#4e9a06">&#34;Retryable&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#4e9a06">&#34;SupportStatus&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Supported&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;Tags&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">[],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;Tasks&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Description&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Label&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;StartTask&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;NextTask&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;parallelLoop1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;ObjectType&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.StartTask&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Description&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Label&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;SuccessEndTask&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;ObjectType&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.SuccessEndTask&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Description&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Label&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;FailureEndTask&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;ObjectType&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.FailureEndTask&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Count&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;2&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Description&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;A Parallel Loop is a control task that runs one task or one sub-workflow multiple times based on a specified count.  The count can be a static value that is specified during design time or a dynamic value that is derived from workflow inputs or task outputs.  When the loop is executed, the count &#39;N&#39; is determined, N tasks or sub-workflows are scheduled for execution in parallel.  When all N instances of the task or sub-workflow reach a final state the parallel loop will complete and workflow execution will move on to the next task.  If any one of the tasks or sub-workflows fails, then the entire loop will fail.  Dynamic values for count must be specified as a template.  For example, if a loop must run for a count which matches the length of a workflow input called StringArray, then the count must be specified using a template &#39;{{ len .global.workflow.input.StringArray }}&#39;.  The iteration of the loop is available using the keyword &#39;.iteration&#39; and it can be used to control inputs that feed into the task.  For example, the task inside the loop needs to take one value from the workflow input StringArray, then the task string input can be mapped to the template &#39;{{ index .global.workflow.input.StringArray .iteration}}&#39; during design.&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Label&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Parallel Loop&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;LoopStartTask&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;NewStorageHostGroup1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;parallelLoop1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;NumberOfBatches&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;ObjectType&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.LoopTask&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;OnSuccess&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;SuccessEndTask&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Parallel&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;CatalogMoid&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;5c2fc884696f6e2d316c5d59&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Description&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Create a host group with host group name as input. On successful execution, the newly created host group name is generated as output.&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;InputParameters&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;HostGroupName&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;HostGroupName{{.iteration}}&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;StorageDevice&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;${workflow.input.StorageDevice}&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Label&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;New Storage Host Group&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;NewStorageHostGroup1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;ObjectType&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.WorkerTask&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;OnFailure&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;OnSuccess&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;RollbackDisabled&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;TaskDefinitionId&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;5f7ed8a2696f6e2d30eb388b&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;TaskDefinitionName&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;NewStorageHostGroup&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;UseDefault&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#4e9a06">&#34;Version&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;UiInputFilters&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">[],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;UiRenderingData&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#4e9a06">&#34;Positions&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#ce5c00;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;StartTask&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;X&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">269.5</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;Y&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">45.5</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;SuccessEndTask&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;X&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">269.5</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;Y&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">303</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;FailureEndTask&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;X&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">412.5</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;Y&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">303</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;parallelLoop1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;X&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">149.01800537109375</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;Y&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">116.75314331054688</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;NewStorageHostGroup1&#34;</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;X&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">185</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#4e9a06">&#34;Y&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">177</span>
</span></span><span style="display:flex;"><span>      <span style="color:#ce5c00;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#ce5c00;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#ce5c00;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;Version&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#ce5c00;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#4e9a06">&#34;WorkflowMetadata&#34;</span><span style="color:#ce5c00;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">null</span>
</span></span><span style="display:flex;"><span><span style="color:#ce5c00;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="managing-the-lifecycle-of-a-workflow">Managing the Lifecycle of a Workflow</h2>
<p>Workflow management consists of organizing, creating, updating, and
deletion of workflows. The following table describes the set of actions
that you can perform with workflows in Cisco Intersight.</p>
<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="header">
<th>Actions</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>View Workflows</td>
<td>Choosing Orchestration from the left navigation pane will display all workflows in a tabular format. You can view information such as the workflow name and description, the number of versions available, the number of times the workflow has been executed, the last execution status, validation information and the last update time and date.</td>
</tr>
<tr class="even">
<td>Create a New Workflow</td>
<td>Choose Orchestration from the left navigation pane and click Create Workflow. This option opens up the Workflow Designer, using which you can create a new workflow.</td>
</tr>
<tr class="odd">
<td>Create a Version for a Workflow</td>
<td>You can create multiple versions for a workflow. In addition, you can set a specific version of the workflow as the default version for the workflow. See <a href="file://E:\\help\\resources\\Workflow_Designer">Managing Versions for Workflows</a>.</td>
</tr>
<tr class="even">
<td>Delete a Workflow</td>
<td><p>From the tabular list of workflows, you can select a workflow and click Delete. This will remove the workflow and all versions of the workflow.</p>
<p>You cannot delete a workflow when :</p>
<ul>
<li><p>workflow is used as sub-workflow task in another workflow.</p></li>
<li><p>workflow is in running state.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Execute a Workflow</td>
<td><p>Select a workflow from the tabular list of workflows and choose Execute. Alternatively, you can click the workflow name, and then choose Execute in the Workflow Designer.</p>
<p><strong>Important:</strong> Workflow execution includes privilege-based validation for tasks. With the introduction of privilege-based validation for virtualization, compute and storage tasks, a user must have all the required privileges to execute all the domain tasks within a workflow. For example, a user can successfully execute a workflow that includes storage and virtualization tasks only if the user has both Storage and Virtualization Administrator privileges. In the absence of either one of these privileges, the Execute button will not be displayed and the user cannot execute the workflow.</p>
<p>However, an Account Administrator can execute all workflow.</p>
<p>While configuring the properties of a workflow, if you selected the Retryable option, then in the event of a workflow failure, you can either choose to execute the workflow again from the point of failure, or you can execute the entire workflow again.</p></td>
</tr>
<tr class="even">
<td>Clone a Workflow</td>
<td>From the tabular list of workflows, you can select a workflow and click Clone. This will clone the selected workflow.</td>
</tr>
<tr class="odd">
<td>Save a Workflow as</td>
<td><p>From the tabular list of workflows, you can choose a workflow and click. By default, the workflow details are displayed in the Designer tab. You can choose Save As option from the Action drop-down list to clone or create a new version of the existing workflow.</p>
<p>You can also perform this operation in the General tab.</p>
<p>In the Save As screen, you can choose one of the following:</p>
<ul>
<li><p>New Version---Specify a new version and related description. Click Save.</p></li>
</ul>
<ul>
<li><blockquote>
<p>This option is not available for a system generated workflow.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Clone---Specify user-friendly short name, reference name, description, and tag key. Click Save. For more information, see <a href="file://E:\\help\\resources\\Workflow_Designer">Cloning a Workflow</a>.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<h2 id="cloning-a-workflow">Cloning a Workflow</h2>
<p>You can clone a workflow. The cloned workflow is identical to the
original workflow. You can edit the new workflow immediately. You might
do this, for example, to create a workflow that is similar to the source
workflow that can be edited based on your requirements. The new workflow
has a new, separate version history.</p>
<p>To clone a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>From the tabular list of workflows, select a workflow and choose
Clone.</p>
</li>
<li>
<p>In the Clone Workflow screen, edit the user-friendly short name,
reference name, description, and organization details. The
organization mappings are displayed only for pre-canned workflows
and not for the custom workflows.</p>
</li>
<li>
<p>Check the Open Clone in Editor check box if you want to open the
cloned workflow in the workflow designer and edit the details.</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Open Clone in Editor check box is not displayed when you
clone a workflow using the Save As option.</p>
</blockquote>
<ol start="5">
<li>Click Clone.</li>
</ol>
<h2 id="managing-versions-for-workflows">Managing Versions for Workflows</h2>
<p>Cisco Intersight allows you to create and manage versions for workflows.
In addition to creating versions, you can also set a specific version as
the default version for the workflow. You can create a version of a
workflow and execute it only if you are one of the following users:</p>
<ul>
<li>
<p>Account Administrator</p>
</li>
<li>
<p>User with Workflow Designer privileges</p>
</li>
</ul>
<p>Read-Only users can only view versions of a workflow. They cannot
create, edit, execute or delete versions. Users with Storage
Administrator and Virtualization Administrator privileges can only view
and execute specific versions of a workflow.</p>
<p>To create a version for a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>From the tabular list of workflows, select a workflow and choose
Manage Versions.</p>
</li>
<li>
<p>In the Manage Versions screen, you can perform the following tasks:</p>
<ul>
<li>
<p>Create a new version for the workflow</p>
</li>
<li>
<p>Execute a specific version of the workflow</p>
</li>
<li>
<p>Delete a specific version. You cannot directly delete the default
version of a workflow. To delete the default version, perform the
following:</p>
</li>
<li>
<p>Make another version the default.</p>
</li>
<li>
<p>Change the workflow version to be deleted as non-default.</p>
</li>
<li>
<p>Delete the workflow version that was changes as non-default.</p>
</li>
<li>
<p>Set a specific version of the workflow as the default version</p>
</li>
</ul>
</li>
<li>
<p>Choose Create a New Version and enter the following details:</p>
<ul>
<li>
<p>Source Version&mdash;Choose a specific version that will form the source
for the new version that you are creating.</p>
</li>
<li>
<p>Version&mdash;Specify a version number for the workflow.</p>
</li>
<li>
<p>Description&mdash;Enter a description for the version so that you can
identify it.</p>
</li>
<li>
<p>Set as Default Version&mdash;Check this check box to set this new
version as the default version for the workflow.</p>
</li>
</ul>
</li>
<li>
<p>Click Create.</p>
</li>
<li>
<p>After creating a version for a workflow, clicking on the version
number on the Manage Versions screen opens the workflow in Workflow
Designer.</p>
</li>
</ol>
<p><strong>Note:</strong> Deleting a workflow will delete all versions created for the
workflow.</p>
<h2 id="exporting-a-workflow">Exporting a Workflow</h2>
<p>Intersight Cloud Orchestrator enables you to export workflows from an
account to your system and then import them to another account.</p>
<p>To export a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click the Workflow tab.</p>
</li>
<li>
<p>From the tabular list of workflows, do one of the following:</p>
</li>
</ol>
<ul>
<li>
<p>Select a workflow, click the Ellipsis (&hellip;) icon in the same row,
and then choose Export Workflow.</p>
</li>
<li>
<p>Select multiple workflows, click the Ellipsis (&hellip;) icon from the
header or footer of the tabular list, and then choose Export
Workflow.</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> You can also export workflows from the Actions menu in the
Workflow Designer window.</p>
</blockquote>
<ol start="4">
<li>
<p>In the Export Workflow screen:</p>
<p>a.  In the JSON File Name field, use the default filename or enter a
filename of your choice for the JSON file that stores the
workflow components.</p>
<p>b.  Use the Export Tags toggle button to include or exclude the
user-defined tags. ICO does not export the system-defined tags.</p>
<p>c.  Click Export.</p>
<p>d.  Save a local copy of the JSON file.</p>
</li>
</ol>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/_5J8Q0lyC00" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<h2 id="importing-a-workflow">Importing a Workflow</h2>
<p>Intersight Cloud Orchestrator enables you to import workflows to your
account by importing a JSON file that contains the workflow components.
You can create the JSON file by exporting the workflow components from
another account.</p>
<p>To import a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Import.</p>
</li>
<li>
<p>The Import wizard appears.</p>
</li>
<li>
<p>In the Select File screen:</p>
<p>a.  From the Organization drop-down list, choose the organization to
which you want to import the workflow(s).</p>
<p>b.  Click Browse, and then select the JSON file that contains the
Workflow(s).</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Ensure that the file size of the JSON file is not more than
1MB. If the file size is more than 1MB, export the workflow(s) in
batches, and then try import.</p>
</blockquote>
<p>c.  Click Next.</p>
<ol start="16">
<li>
<p>Intersight Cloud Orchestrator validates the JSON file and displays</p>
<blockquote>
<p>the workflow(s) in the Details screen.</p>
</blockquote>
</li>
<li>
<p>In the Details screen:</p>
<p>a.  To associate an additional tag to the components listed in the
table, enter the tag in the Set Tags field. <BR><strong>Note:</strong> Set Tags is an optional field. You must enter the tag in the key:value format.</p>
</li>
</ol>
<p>b.  If one or more workflow components are already available in the
system, choose a rule to replace or skip the duplicate components.</p>
<p>c.  Click Import.</p>
<ol start="5">
<li>
<p>In the Import Result screen:</p>
<p>a.  Verify the status of the imported workflow.</p>
<p>b.  If you want to view the details of the import request:</p>
</li>
</ol>
<ul>
<li>
<p>Click the link displayed above the table.</p>
</li>
<li>
<p>Alternatively, click the Requests icon displayed in the menu bar.</p>
</li>
<li>
<p>For more information, see
<a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Requests</a>.</p>
<p>a.  Click Close.</p>
</li>
</ul>
<p>You can execute the imported workflow from the Workflows tab.</p>
<h2 id="defining-workflow-input-rules">Defining Workflow Input Rules</h2>
<p>Intersight Cloud Orchestrator allows you to configure input rules that
control the display of fields in the workflow execution screen. You can
define these input rules for a workflow by using the Intersight API and
while creating a composite data type. By default, all input fields for a
workflow are displayed in the workflow execution screen. By configuring
input rules, the fields in this screen are displayed or hidden based on
the value selected for a previous input field.</p>
<p>After configuring input rules in the workflow definition using the
Intersight API, you can view the input rules using the Code tab in the
Workflow Designer.</p>
<p>Following is a sample of a simple input rule set for a workflow:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a40000">\</span><span style="color:#4e9a06">&#34;InputParameterSet\&#34;:\[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">{\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;ObjectType\&#34;: \&#34;workflow.ParameterSet\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;Name\&#34;: \&#34;rule-1\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;ControlParameter\&#34;: \&#34;input-1\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;Value\&#34;: \&#34;true\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;EnableParameters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;input-2\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\]\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">},\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">{\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;ObjectType\&#34;: \&#34;workflow.ParameterSet\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;Name\&#34;: \&#34;rule-2\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;ControlParameter\&#34;: \&#34;input-1\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;Condition\&#34;: \&#34;ne\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;Value\&#34;: \&#34;true\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;EnableParameters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;input-3\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\]\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">}\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\]
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">Following is an example for the parameter sets defined at workflow
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">level:
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">{\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Label\&#34;: \&#34;Provision VM\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Name\&#34;: \&#34;ProvisionVM\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;DefaultVersion\&#34;: true,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Description\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  // Parameter set defintion \
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;InputParameterSet\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      // rule-1 enables \&#39;vmwarehost\&#39; input when value of \&#39;vmtype\&#39; is \&#39;vmware\&#39;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;rule-1\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ControlParameter\&#34;: \&#34;vmtype\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Value\&#34;: \&#34;vmware\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;EnableParameters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;vmwarehost\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \]\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      // rule-2 enables \&#39;hxcluster\&#39; input when value of \&#39;vmtype\&#39; is \&#39;hx\&#39;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;rule-2\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ControlParameter\&#34;: \&#34;vmtype\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Value\&#34;: \&#34;hx\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;EnableParameters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;hxcluster\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \]\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;InputDefinition\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;InputParameters\&#34;: null,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;VM Type\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;vmtype\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Required\&#34;: false,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Properties\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;ClassId\&#34;: \&#34;workflow.PrimitiveDataProperty\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataProperty\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Constraints\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;ClassId\&#34;: \&#34;workflow.Constraints\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;ObjectType\&#34;: \&#34;workflow.Constraints\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;EnumList\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;ClassId\&#34;: \&#34;workflow.EnumEntry\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;ObjectType\&#34;: \&#34;workflow.EnumEntry\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Label\&#34;: \&#34;VMWare\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Value\&#34;: \&#34;vmware\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;ClassId\&#34;: \&#34;workflow.EnumEntry\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;ObjectType\&#34;: \&#34;workflow.EnumEntry\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Label\&#34;: \&#34;HX\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Value\&#34;: \&#34;hx\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Max\&#34;: 0,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Min\&#34;: 0,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Regex\&#34;: \&#34;\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;InventorySelector\&#34;: \[\],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Secure\&#34;: false,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Type\&#34;: \&#34;enum\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;vmname\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;VM Name\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Required\&#34;: false,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Properties\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Type\&#34;: \&#34;string\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Constraints\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Min\&#34;: 0,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Max\&#34;: 0\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Secure\&#34;: false\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;vmwarehost\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;Host\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Required\&#34;: false,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Properties\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Type\&#34;: \&#34;string\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Constraints\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Min\&#34;: 0,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Max\&#34;: 0\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Secure\&#34;: false\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Default\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Override\&#34;: false,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Value\&#34;: null\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;hxcluster\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;Cluster\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Required\&#34;: false,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Properties\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Type\&#34;: \&#34;string\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Constraints\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Min\&#34;: 0,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Max\&#34;: 0\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Secure\&#34;: false\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;OutputDefinition\&#34;: \[\],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;OutputParameters\&#34;: null,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Tasks\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ClassId\&#34;: \&#34;workflow.StartTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Description\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;StartTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;NextTask\&#34;: \&#34;NewProfile1596244596840\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.StartTask\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ClassId\&#34;: \&#34;workflow.SuccessEndTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Description\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;SuccessEndTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.SuccessEndTask\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ClassId\&#34;: \&#34;workflow.FailureEndTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Description\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;FailureEndTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.FailureEndTask\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;CatalogMoid\&#34;: \&#34;5dd45ab6696f6e2d301e2df6\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ClassId\&#34;: \&#34;workflow.WorkerTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Description\&#34;: \&#34;Task to create a Profile\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;InputParameters\&#34;: null,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;Provision VM\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;ProvisionVM1596244596840\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.WorkerTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;OnFailure\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;OnSuccess\&#34;: \&#34;SuccessEndTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;TaskDefinitionId\&#34;: \&#34;5efd7c84696f6e2d309e6877\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;TaskDefinitionName\&#34;: \&#34;NewProfile\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Version\&#34;: 1\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Version\&#34;: 1\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">}
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">Following is an example for the parameter sets defined at custom data
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">type level:
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">{\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Label\&#34;: \&#34;ClusterType\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Name\&#34;: \&#34;ClusterType\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;CompositeType\&#34;: true,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Description\&#34;: \&#34;Type definition for a cluster information.\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;TypeDefinition\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;Cluster Type\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;clustertype\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Properties\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataProperty\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Constraints\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;ObjectType\&#34;: \&#34;workflow.Constraints\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;EnumList\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;ObjectType\&#34;: \&#34;workflow.EnumEntry\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Label\&#34;: \&#34;VM Ware\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Value\&#34;: \&#34;vmware\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;ObjectType\&#34;: \&#34;workflow.EnumEntry\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Label\&#34;: \&#34;HX AP\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Value\&#34;: \&#34;hxap\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \]\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Type\&#34;: \&#34;enum\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;VMware Cluster\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;vmwarecluster\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;HX Cluster\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;hxcluster\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;Cluster Description\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;clusterdescr\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;ParameterSet\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;rule-1\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Field\&#34;: \&#34;clustertype\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Value\&#34;: \&#34;vmware\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ShowFields\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;vmwarecluster\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \]\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;rule-2\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Field\&#34;: \&#34;clustertype\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Value\&#34;: \&#34;hxap\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ShowFields\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;hxcluster\&#34;</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">      \</span><span style="color:#000;font-weight:bold">]</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">    </span><span style="color:#000;font-weight:bold">}</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">  \</span><span style="color:#000;font-weight:bold">]</span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="supported-workflows-for-storage-targets">Supported Workflows for Storage Targets</h2>
<p>The following table lists workflows supported in the various storage
targets available on Intersight:</p>
<table>
<thead>
<tr>
<th>List of Storage Workflows</th>
<th>Pure Storage</th>
<th>NetApp</th>
<th>Hitachi</th>
</tr>
</thead>
<tbody>
<tr>
<td>New Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>New Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr>
<td>New VMFS Datastore</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>New NAS Datastore</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>Remove NFS Datastore</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>Remove Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>Remove Storage Export Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>Remove Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr>
<td>Remove VMFS Datastore</td>
<td>Y</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>Update Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>Update NAS Datastore</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>Update VMFS Datastore</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr>
<td>New Storage Interface</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>New Storage Export Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>New Storage Virtual Machine</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
</tbody>
</table>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-deebdd453e4ca3228c0a70d160dfa157">4.2 - Task Designer</h1>
    <div class="lead">Cisco Intersight allows you to create tasks in which API requests can be executed in remote targets that can be reached through Intersight. You create tasks so that they can be used in workflows.</div>
	



<a id="td-block-0" class="td-offset-anchor"></a>
<section class="row td-box td-box--pink position-relative td-box--gradient td-box--height-auto">
	<div class="container text-center td-arrow-down">
		<div class="h4 mb-0">
			
				<p>TechOS is the OS of the future.</p>
<p>Runs on <strong>bare metal</strong> in the <strong>cloud</strong>!</p>

			
		</div>
	</div>
</section>

<BR>



 
<a id="td-block-1" class="td-offset-anchor"></a>
<section class="row td-box td-box--blue td-box--gradient td-box--height-auto">
	<div class="col">
		<div class="row row">
			
				<div class="col-lg-4 mb-5 mb-lg-0 text-center">
<div class="mb-4 h1">
  <i class="fas fa-lightbulb"></i>
</div>
<h4 class="h3">Fastest OS <strong>on the planet</strong>!</h4>
<div class="mb-0">
<p>The new <strong>TechOS</strong> operating system is an open source project. It is a new project, but with grand ambitions.
Please follow this space for updates!</p>
</div>
</div>
<div class="col-lg-4 mb-5 mb-lg-0 text-center">
<div class="mb-4 h1">
  <i class="fas fa-brands fa-github"></i>
</div>
<h4 class="h3">Contributions welcome!</h4>
<div class="mb-0">
<p>We do a <a href="https://github.com/gohugoio/hugo/pulls">Pull Request</a> contributions workflow on <strong>GitHub</strong>. New users are always welcome!</p>
</div>
<p><a href="https://github.com/gohugoio/hugo">Read more …</a></p>
</div>
<div class="col-lg-4 mb-5 mb-lg-0 text-center">
<div class="mb-4 h1">
  <i class="fas fa-brands fa-twitter"></i>
</div>
<h4 class="h3">Follow us on Twitter!</h4>
<div class="mb-0">
<p>For announcement of latest features etc.</p>
</div>
<p><a href="https://twitter.com/GoHugoIO">Read more …</a></p>
</div>

			
		</div>
	</div>
</section>

<div class="col-lg-4 mb-5 mb-lg-0 text-center">
<div class="mb-4 h1">
  <i class="fas fa-brands fa-github"></i>
</div>
<h4 class="h3">Contributions welcome!</h4>
<div class="mb-0">
<p>We do a <a href="https://github.com/gohugoio/hugo/pulls">Pull Request</a> contributions workflow on <strong>GitHub</strong>. New users are always welcome!</p>
</div>
<p><a href="https://github.com/gohugoio/hugo">Read more …</a></p>
</div>

        <style>
          #redoc input { height: 64px; }
          #redoc span[type="put"], span[type="get"], span[type="delete"], span[type="post"], span[type="options"], span[type="patch"], span[type="basic"], span[type="link"], span[type="head"] {
              border-radius: 4px;
            }
          #redoc h2 { margin-top: 0px;}
      </style>
  
    
    <style>
      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;
        border: none;
        outline: none;
        background-color: #30638E;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }
      
      #myBtn:hover {
        background-color: #555;
      }
  </style>
  <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
  <script>
      
      var mybutton = document.getElementById("myBtn");
      
      
      window.onscroll = function() {scrollFunction()};
      
      function scrollFunction() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
          mybutton.style.display = "block";
        } else {
          mybutton.style.display = "none";
        }
      }
      
      
      function topFunction() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
      }
  </script>
    

    
    <style>
      body {
        margin: 0;
        padding: 0;
      }
    </style>

    
   <div id="redoc-container">
   <redoc spec-url='https://raw.githubusercontent.com/OAI/OpenAPI-Specification/main/examples/v2.0/yaml/petstore.yaml' hide-hostname="true" suppress-warnings="true" lazy-rendering  native-scrollbars scroll-y-offset=".js-navbar-scroll" ZgotmplZ></redoc>
   </div>
    
    <script src="https://cdn.jsdelivr.net/npm/redoc@latest/bundles/redoc.standalone.js"></script>

<div class="td-card card mb-4">
  
    <div class="card-header">
      
        <strong>Imagine</strong>
      
    </div>
  
  <div class="card-body">
    
      <h5 class="card-title">
        
          Artist and songwriter: John Lennon
        
      </h5>
    
    
      <h6 class="card-title mb-2 text-muted">
        
          Co-writer: Yoko Ono
        
      </h6>
    
    
      <p class="card-text">
        
          <p>Imagine there&rsquo;s no heaven, It&rsquo;s easy if you try<br/>
No hell below us, above us only sky<br/>
Imagine all the people living for today…</p>
<p>…</p>

        
      </p>
    
  </div>
  
    <div class="card-footer">
      
        <img src="https://server.tld/%E2%80%A6/signature.png" alt="SignatureJohnLennon" title="Signature John Lennon">
      
    </div>
  
</div>

<div class="td-card card">
  
  
    
  
  
  <div class="card-header bg-white"><strong>C</strong></div>
  
  <div class="card-body code p-l0 m-0">
      <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;stdio.h&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">#include</span> <span style="color:#8f5902;font-style:italic">&lt;stdlib.h&gt;</span><span style="color:#8f5902;font-style:italic">
</span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic"></span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">main</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">void</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">puts</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Hello World!&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">EXIT_SUCCESS</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div>
  </div>
</div>

<div class="td-card-deck card-deck mb-4">
  <div class="td-card card mb-4">
  
    <div class="card-header">
      
        Header card 1
      
    </div>
  
  <div class="card-body">
    
    
    
      <p class="card-text">
        
          <pre><code>Content card 1
</code></pre>

        
      </p>
    
  </div>
  
</div>

  <div class="td-card card mb-4">
  
    <div class="card-header">
      
        Header card 2
      
    </div>
  
  <div class="card-body">
    
    
    
      <p class="card-text">
        
          <pre><code>Content card 2
</code></pre>

        
      </p>
    
  </div>
  
</div>

  <div class="td-card card mb-4">
  
    <div class="card-header">
      
        Header card 3
      
    </div>
  
  <div class="card-body">
    
    
    
      <p class="card-text">
        
          <pre><code>Content card 3
</code></pre>

        
      </p>
    
  </div>
  
</div>

</div>
<p><strong>Note:</strong> To execute the new tasks for VMware vCenter networking
operations, you should upgrade to Intersight Assist version 1.0.9-278.</p>
<p>To launch the Task Designer, choose Orchestration <strong>&gt;</strong> Task. A
dashboard displays the following details under these tabs, namely, My
Tasks, System Tasks, and All Tasks:</p>
<ul>
<li>
<p>Top Task Categories</p>
</li>
<li>
<p>Number of System Defined Tasks</p>
</li>
<li>
<p>Top Workflows by Targets</p>
</li>
</ul>
<p>Below the dashboard is a tabular list of tasks displaying the following
information:</p>
<ul>
<li>
<p>Display Name</p>
</li>
<li>
<p>Description</p>
</li>
<li>
<p>Validation Status</p>
</li>
<li>
<p>Last Update</p>
</li>
<li>
<p>System Defined</p>
</li>
<li>
<p>Organization</p>
</li>
</ul>
<p>From this screen, with an account administrator or a Workflow Designer
role, you can perform the following actions for an organization:</p>
<ul>
<li>
<p>Create a task</p>
</li>
<li>
<p>Edit or delete a task</p>
</li>
</ul>
<p><strong>Note:</strong> Tasks created in an organization can be used in workflows
created within that organization only.</p>
<h3 id="supported-requests">Supported Requests</h3>
<p>You can define and execute one or more API requests in the task
definition. You can extract the required values from the API responses
and use them in subsequent API requests as task output values. You
provide values for different properties in an HTTP API request and use
them in subsequent API request or as task output values. You can also
provide values for different properties of an HTTP API request, such as,
HTTP method, URL, header, cookies, etc.</p>
<p>The API requests can be executed on external targets that are reachable
by Intersight, either directly or through device connectors. The
supported HTTP authentication scheme is Basic Authentication over HTTPS.
The external targets with their credentials are defined when specifying
the Targets in the Targets screen (see: <a href="file://E:%5Chelp%5Cfeatures%5Ccisco_intersight%5Cadmin">Target
Management</a>). Hence,
there is no need to provide credentials or authentication specific
headers in the request. The input parameter of type target data type is
the source from which the details are automatically collected from.</p>
<h3 id="response-parser">Response Parser</h3>
<p>The response parser contains information about the required values,
their types, and the location in the API responses. You specify the
required values along with API request details. These details are used
by the response parser to extract values from the API responses. The
extracted values are used as task output values and to determine the
task execution status and the status message.</p>
<p>The supported response type is JSON. The response parser supports
extraction of values from JSON responses. The users shall provide the
information such as the value parameter name, type and the JSON path of
the value location. You can extract multiple values from the API
response by providing the above details for each required value.</p>
<h3 id="outcomes">Outcomes</h3>
<p>An outcome is the combination of a condition and task status. You use
the extracted values from the API response to determine the task status
and set the status with an appropriate message, when the conditions
match. You can specify one or more outcomes and the outcomes are
evaluated in the specified order. The first outcome condition that
matches sets the task status and message. If none of the outcome
condition matches, the task shall be marked as successful. The outcomes
of a task are as follows:</p>
<ul>
<li>
<p>Success&mdash;Marks the API execution as Success if the condition
matches</p>
</li>
<li>
<p>Skip to Success&mdash;Stops further API executions of the task and marks
the task as successful when the condition matches</p>
</li>
<li>
<p>Status&mdash;Retains a task as work in progress, only updating the
status</p>
</li>
<li>
<p>Error&mdash;Marks the API execution as Failed if the condition matches.
Task retry will be attempted if the task has any retries left</p>
</li>
<li>
<p>Terminal error&mdash;Marks the API execution as Failed if the condition
matches. This marks a non-recoverable error and no retries are
attempted</p>
</li>
<li>
<p>Skip Task Execution&mdash;Skips execution of task if the condition
matches in the API. This will skip execution of all the subsequent
APIs in the task</p>
</li>
</ul>
<p>If the task status is Terminal Error, there are no retries for that
task.</p>
<h2 id="creating-a-task">Creating a Task</h2>
<p>Task creation can be broken down into the following sequence of steps:</p>
<ol>
<li>
<p>Defining a task&mdash;you specify the name of the task and provide a few
other generic details.</p>
</li>
<li>
<p>Defining task inputs and task outputs&mdash;you can specify which input
parameters are required to execute the task and the output expected
from the execution.</p>
</li>
<li>
<p>Adding multiple API requests in the Task Designer.</p>
</li>
</ol>
<h2 id="defining-a-task">Defining a Task</h2>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Tasks tab.</p>
</li>
<li>
<p>Choose Create Task.</p>
</li>
<li>
<p>Drag and drop a task from the Tools section on the Design area.</p>
</li>
<li>
<p>In the Task Properties area, choose the General tab and enter the
following information:</p>
<p>a.  Organization&mdash;Name of the organization that you are creating
the task in</p>
<p>b.  Task Name&mdash;A user-friendly short name for the task</p>
<p>c.  Description&mdash;A description for the task</p>
<p>d.  Retry Count&mdash;Number of times a task should be tried before it
is marked failed</p>
<p>e.  Retry Delay&mdash;Delay, in seconds, after which a task is tried
again</p>
<p>f.  Timeout&mdash;Timeout value, in seconds, after which a task is
termed as timed out</p>
<p>g.  Set Tags&mdash;Set a tag for the task in the key:value format</p>
<p>h.  Enable Rollback Task&mdash;Enable to rollback a task and choose an
appropriate task from the drop-down list. Create the required
workflow inputs and map it accordingly</p>
</li>
</ol>
<p><strong>Note:</strong> Rollback operation for Assign IP Address to Virtual Machine
Network task is not supported on Windows virtual machines.</p>
<h3 id="defining-task-inputs-and-outputs">Defining Task Inputs and Outputs</h3>
<ol>
<li>
<p>In the Task Properties area, choose the Input tab and choose a
parameter. For more information about the Input properties, see
<a href="http://localhost:8080/docs/ico/wokflowdesigner/">Workflow Designer</a>.</p>
</li>
<li>
<p>Click the Edit icon to open the Create Task Input dialog.</p>
</li>
<li>
<p>In the Add Input screen, enter the following details:</p>
<p>a.  Display Name&mdash;Enter user-friendly short name.</p>
<p>b.  Reference Name</p>
<p>c.  Description&mdash;Detailed description of the input</p>
<p>d.  Value Restrictions&mdash;Choose Required, Collection/Multiple, or
can be left blank</p>
<p>e.  Type&mdash;Choose a data type for primitive data type. For example,
enum</p>
<p>f.  Enum List&mdash;Label for the enum value</p>
<p>g.  Minimum and Maximum Range</p>
<p>h.  Regex&mdash;Validates the regular expression when you select String
in the Type field.</p>
<p>i.  Object Selector&mdash;Enable to configure the Intersight managed
object selectors. This attribute is available only when the
primitive data is String. Specify the Intersight API Reference
and selector attributes to feed the input from the table
selection. Value will be passed according to the configuration
set in the Value attribute.</p>
<p>j.  Intersight API Reference&mdash;Enter the URL of the Intersight API
configured with parameters.</p>
<p>k.  Selector Attribute&mdash;Enter the attribute name(s) that needs to
be displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
<p>l.  Value Attribute&mdash;Enter the value to be passed as an input while
executing a task. This value should be any one of the attribute
name specified in the Selector Attribute field. This attribute
is available only when the primitive data is String.</p>
<p>m.  Secure&mdash;Indicates that the values of these properties are
encrypted and stored in Cisco Intersight.</p>
</li>
</ol>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="17">
<li>The fields displayed depend on the value you select for the Type
field. Task designer does not support target date type.</li>
</ol>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="4">
<li>
<p>Click Add.</p>
</li>
<li>
<p>Repeat this procedure to create multiple task inputs.</p>
</li>
<li>
<p>In the Task Properties area, choose the Output tab and choose a
parameter. For more information about the output properties, see
Input and Output.</p>
</li>
</ol>
<p>The created task is available in the General category in Workflow
Designer. You can create a workflow by dragging and dropping the task on
the Workflow Design area.</p>
<h3 id="template-engine-syntax">Template Engine Syntax**</h3>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<h3 id="comparison-statements">Comparison Statements**</h3>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 &ndash; 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .global.CreateSnapshot.output.HttpStatusCode 400) (lt .global.CreateSnapshot.output.HttpStatusCode 500)}}</p>
<h3 id="conditional-statements">Conditional Statements</h3>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{{</span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> \</span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#000">comparision_statement</span><span style="color:#000;font-weight:bold">&gt;}}</span><span style="color:#a40000"> </span><span style="color:#000">Template</span><span style="color:#a40000"> </span><span style="color:#000">to</span><span style="color:#a40000"> </span><span style="color:#000">be</span><span style="color:#a40000"> </span><span style="color:#000">used</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">{{</span><span style="color:#000">end</span><span style="color:#000;font-weight:bold">}}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{{</span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> \</span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#000">comparision_statement</span><span style="color:#000;font-weight:bold">&gt;}}</span><span style="color:#a40000"> </span><span style="color:#000">Template</span><span style="color:#a40000"> </span><span style="color:#000">to</span><span style="color:#a40000"> </span><span style="color:#000">be</span><span style="color:#a40000"> </span><span style="color:#000">used</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">{{</span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#000;font-weight:bold">}}</span><span style="color:#a40000"> </span><span style="color:#000">Template</span><span style="color:#a40000"> </span><span style="color:#000">to</span><span style="color:#a40000"> </span><span style="color:#000">be</span><span style="color:#a40000"> </span><span style="color:#000">used</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">{{</span><span style="color:#000">end</span><span style="color:#000;font-weight:bold">}}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{{</span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> \</span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#000">comparision_statement</span><span style="color:#000;font-weight:bold">&gt;}}</span><span style="color:#a40000"> </span><span style="color:#000">Template</span><span style="color:#a40000"> </span><span style="color:#000">to</span><span style="color:#a40000"> </span><span style="color:#000">be</span><span style="color:#a40000"> </span><span style="color:#000">used</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">{{</span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> \</span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#000">comparision_statement</span><span style="color:#000;font-weight:bold">}}</span><span style="color:#a40000"> </span><span style="color:#000">Tempalte</span><span style="color:#a40000"> </span><span style="color:#000">to</span><span style="color:#a40000"> </span><span style="color:#000">be</span><span style="color:#a40000"> </span><span style="color:#000">used</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">{{</span><span style="color:#000">end</span><span style="color:#000;font-weight:bold">}}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{{</span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">eq</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">global</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">CreateSnapshot</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">output</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">HttpStatusCode</span><span style="color:#a40000"> </span><span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">)}}</span>\
</span></span><span style="display:flex;"><span><span style="color:#000">Snapshot</span><span style="color:#a40000"> </span><span style="color:#000">with</span><span style="color:#a40000"> </span><span style="color:#000">name</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">{{.</span><span style="color:#000">global</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">CreateSnapshot</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Name</span><span style="color:#000;font-weight:bold">}}</span><span style="color:#a40000"> </span><span style="color:#000">is</span><span style="color:#a40000"> </span><span style="color:#000">created</span><span style="color:#a40000"> </span><span style="color:#000">successfully</span><span style="color:#000;font-weight:bold">.</span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{{</span><span style="color:#000">end</span><span style="color:#000;font-weight:bold">}}</span>\
</span></span><span style="display:flex;"><span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{{</span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">eq</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">global</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">CreateSnapshot</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">output</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">HttpStatusCode</span><span style="color:#a40000"> </span><span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">)}}</span>\
</span></span><span style="display:flex;"><span><span style="color:#000">Snapshot</span><span style="color:#a40000"> </span><span style="color:#000">with</span><span style="color:#a40000"> </span><span style="color:#000">name</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">{{.</span><span style="color:#000">global</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">CreateSnapshot</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Name</span><span style="color:#000;font-weight:bold">}}</span><span style="color:#a40000"> </span><span style="color:#000">is</span><span style="color:#a40000"> </span><span style="color:#000">created</span><span style="color:#a40000"> </span><span style="color:#000">successfully</span><span style="color:#000;font-weight:bold">.</span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{{</span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#000;font-weight:bold">}}</span>\
</span></span><span style="display:flex;"><span><span style="color:#000">Snapshot</span><span style="color:#a40000"> </span><span style="color:#000">creation</span><span style="color:#a40000"> </span><span style="color:#000">failed</span><span style="color:#a40000"> </span><span style="color:#000">with</span><span style="color:#a40000"> </span><span style="color:#000">message</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">{{.</span><span style="color:#000">global</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">CreateSnapshot</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">output</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">HttpStatusMsg</span><span style="color:#000;font-weight:bold">}}.</span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{{</span><span style="color:#000">end</span><span style="color:#000;font-weight:bold">}}</span>\
</span></span><span style="display:flex;"><span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{{</span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">eq</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">global</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">CreateSnapshot</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">output</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">HttpStatusCode</span><span style="color:#a40000"> </span><span style="color:#0000cf;font-weight:bold">200</span><span style="color:#000;font-weight:bold">)}}</span>\
</span></span><span style="display:flex;"><span><span style="color:#000">Snapshot</span><span style="color:#a40000"> </span><span style="color:#000">with</span><span style="color:#a40000"> </span><span style="color:#000">name</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">{{.</span><span style="color:#000">global</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">CreateSnapshot</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Name</span><span style="color:#000;font-weight:bold">}}</span><span style="color:#a40000"> </span><span style="color:#000">is</span><span style="color:#a40000"> </span><span style="color:#000">created</span><span style="color:#a40000"> </span><span style="color:#000">successfully</span><span style="color:#000;font-weight:bold">.</span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{{</span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#a40000"> </span><span style="color:#204a87;font-weight:bold">if</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">eq</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">global</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">CreateSnapshot</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">output</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">HttpStatusCode</span><span style="color:#a40000"> </span><span style="color:#0000cf;font-weight:bold">409</span><span style="color:#000;font-weight:bold">)}}</span>\
</span></span><span style="display:flex;"><span><span style="color:#000">A</span><span style="color:#a40000"> </span><span style="color:#000">Snapshot</span><span style="color:#a40000"> </span><span style="color:#000">with</span><span style="color:#a40000"> </span><span style="color:#000">name</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">{{.</span><span style="color:#000">global</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">CreateSnapshot</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Name</span><span style="color:#000;font-weight:bold">}}</span><span style="color:#a40000"> </span><span style="color:#000">already</span><span style="color:#a40000"> </span><span style="color:#000">exists</span><span style="color:#000;font-weight:bold">.</span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{{</span><span style="color:#204a87;font-weight:bold">else</span><span style="color:#000;font-weight:bold">}}</span>\
</span></span><span style="display:flex;"><span><span style="color:#000">Snapshot</span><span style="color:#a40000"> </span><span style="color:#000">creation</span><span style="color:#a40000"> </span><span style="color:#000">failed</span><span style="color:#a40000"> </span><span style="color:#000">with</span><span style="color:#a40000"> </span><span style="color:#000">message</span><span style="color:#a40000"> </span><span style="color:#000;font-weight:bold">{{.</span><span style="color:#000">global</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">CreateSnapshot</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">output</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">HttpStatusMsg</span><span style="color:#000;font-weight:bold">}}.</span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{{</span><span style="color:#000">end</span><span style="color:#000;font-weight:bold">}}</span>
</span></span></code></pre></div><h3 id="example-task-creating-a-snapshot-of-pure-flash-array">Example Task: Creating a Snapshot of Pure Flash Array</h3>
<p>This example shows how to create a snapshot of a volume in a Pure Flash
Array. Specify the following information in the General tab of the Task
Properties area.</p>
<p>+&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Field | Value                                                        |
| Name  |                                                              |
+=======+==============================================================+
| Task  | New Pure Volume Snapshot                                     |
| Name  |                                                              |
+&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Retry | 1                                                            |
| Count |                                                              |
|       | The task will be retried once more when the task fails.      |
+&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Retry | 10                                                           |
| Delay |                                                              |
|       | The task will be retried after 10 seconds.                   |
+&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Ti    | 20                                                           |
| meout |                                                              |
|       | If the task does not complete execution in 20 seconds, then  |
|       | it is marked as Failed. If a retry count is configured       |
|       | (which is 1 for this task), the task is retried after the    |
|       | specified retry delay, which is 10 seconds.                  |
+&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+</p>
<p>The snapshot is created using the Pure Flash Array volume API. Below is
a sample API request and response from Pure Flash Array API Reference.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000">POST</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">volume</span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">    \</span><span style="color:#4e9a06">&#34;snap\&#34;: true,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    \&#34;source\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;\&lt;Volume Name 1&gt;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;\&lt;Volume Name 2&gt;\&#34;</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">    \</span><span style="color:#000;font-weight:bold">]</span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>From the above API, it can be inferred that the name of the source
volume is required, for which the snapshot is created. To do this, add a
task input parameter of type string to fetch the volume name as a task
input. Assuming the task input parameter is named as VolumeName, the
following template can be used to create the above request. This
template is populated as value for Body field in the API request&rsquo;s input
panel.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">    \</span><span style="color:#4e9a06">&#34;snap\&#34;: true,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    \&#34;source\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;{{.global.task.input.VolumeName}}\&#34;</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">    \</span><span style="color:#000;font-weight:bold">]</span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>You either receive a success or a failure message for the request. The
following is a sample of the success message. The success message
displays the serial number and the new snapshot name against the Name
and Serial properties. This information is extracted as a task output.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">200</span><span style="color:#a40000"> </span><span style="color:#000">OK</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\</span><span style="color:#000;font-weight:bold">[</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">    </span><span style="color:#000;font-weight:bold">{</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">        \</span><span style="color:#4e9a06">&#34;created\&#34;: \&#34;2017-12-16T05:12:53Z\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;name\&#34;: \&#34;\&lt;snapshot name&gt;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;serial\&#34;: \&#34;\&lt;serial number&gt;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;size\&#34;: 5368709120,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;source\&#34;: \&#34;\&lt;volume name&gt;\&#34;</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">    </span><span style="color:#000;font-weight:bold">}</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\</span><span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></div><p>In case of a failure, the response displays an array of errors. Each
error contains a message, a code, and a context. In this example, if the
specified volume name is not found, the following message is displayed.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">400</span><span style="color:#a40000"> </span><span style="color:#000">BAD</span><span style="color:#a40000"> </span><span style="color:#000">REQUEST</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\</span><span style="color:#000;font-weight:bold">[</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">    </span><span style="color:#000;font-weight:bold">{</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">        \</span><span style="color:#4e9a06">&#34;msg\&#34;: \&#34;Volume does not exist.\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;code\&#34;: 6,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;ctx\&#34;: \&#34;\&lt;Volume Name&gt;\&#34;</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">    </span><span style="color:#000;font-weight:bold">}</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\</span><span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></div><p>If the msg property is present in the response, the property can be used
to determine the task status with HTTP status code 400. The property
named msg can be accessed using the JSON path \$[0].msg. The details
to extract the parameters are provided as value for Response Parser
field in API request&rsquo;s input area. The path is a valid JSON path that
locates a required data in the API response.</p>
<p>+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Response          | Details                                          |
| Parameter         |                                                  |
+===================+==================================================+
| SnapshotName      | This parameter contains the extracted snapshot   |
|                   | name in the API output.                          |
|                   |                                                  |
|                   | -   <strong>Name:</strong> SnapshotName                       |
|                   |                                                  |
|                   | -   <strong>Path:</strong> \$[0].name                       |
|                   |                                                  |
|                   | -   <strong>Type:</strong> string                             |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Serial            | This parameter contains the extracted serial     |
|                   | value in the API output.                         |
|                   |                                                  |
|                   | -   <strong>Name:</strong> Serial                             |
|                   |                                                  |
|                   | -   <strong>Path:</strong> \$[0].serial                     |
|                   |                                                  |
|                   | -   <strong>Type:</strong> string                             |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Error             | This parameter contains the extracted error      |
|                   | message in the API output.                       |
|                   |                                                  |
|                   | -   <strong>Name:</strong> Error                              |
|                   |                                                  |
|                   | -   <strong>Path:</strong> \$[0].msg                        |
|                   |                                                  |
|                   | -   <strong>Type:</strong> string                             |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+</p>
<p>To define a task, drag and drop the <strong>Invoke Web API Request</strong> task into
the Task Designer area. Use the Properties area to populate API details.
The following is sample information that can be entered the General tab.</p>
<p>+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| F    | Value                                                         |
| ield |                                                               |
| Name |                                                               |
+======+===============================================================+
| Name | <strong>Create Snapshot</strong>                                           |
|      |                                                               |
|      | The name must be unique. The APIs inside the task cannot be   |
|      | named as <strong>Create Snapshot</strong>. A name without space, such as   |
|      | <strong>CreateSnapshot</strong> can be used to refer the API output in     |
|      | subsequent API requests. In this example the following        |
|      | details are referred using API name.                          |
|      |                                                               |
|      | <strong>HTTP Status Code:</strong>                                         |
|      |                                                               |
|      | {{.global.CreateSnapshot.output.HttpStatusCode}}              |
|      |                                                               |
|      | The parameters extracted from the response are referred using |
|      | the API name after extracting the value from the response     |
|      | through the response parser as follows:                       |
|      |                                                               |
|      | {{.global.CreateSnapshot.output.Serial}}                      |
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Set  | <strong>Checked - true</strong>                                            |
| Exte |                                                               |
| rnal | As this is the first API and task does not have an input of   |
| Ta   | type Target, a dialog appears that can be used to add a task  |
| rget | input of Target type. The claimed Pure Storage Array target   |
|      | is provided as value for this task input during execution.    |
+&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+</p>
<p>The task input pertains to the API request details and to extract the
required values from response. The following is an example of the
required input values for the create snapshot API.</p>
<p>+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Field   | Value                                                      |
| Name    |                                                            |
+=========+============================================================+
| Method  | POST                                                       |
+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| URL     | /volume                                                    |
|         |                                                            |
|         | The relative URL of the REST API end point is specified.   |
|         | The host part is filled through the information in pure    |
|         | target (Protocol, IPAddress, Port).                        |
+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Body    | Content Type: JSON                                         |
|         |                                                            |
|         | Text:                                                      |
|         |                                                            |
|         | {\                                                         |
|         |     \&ldquo;snap\&quot;: true,\                                       |
|         |     \&ldquo;source\&quot;: [\                                        |
|         |         \&rdquo;{{.global.task.input.VolumeName}}\&rdquo;\             |
|         |     ]\                                                    |
|         | }                                                          |
+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| R       | The following parameters are added:                        |
| esponse |                                                            |
| Parser  | -   <strong>SnapshotName:</strong> Path: \$[0].name, Type: string     |
|         |                                                            |
|         | -   <strong>Serial:</strong> Path: \$[0].serial, Type: string         |
|         |                                                            |
|         | -   <strong>Error:</strong> Path: \$[0].msg, Type: string             |
+&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+</p>
<p>The extracted values from the API responses determine the task status.
In this example, the following outcomes are added based on the API
response.</p>
<ol>
<li>If the status code is 401, the task encounters terminal failure with
<strong>Authorization Failed</strong> message. The retry also fails. Hence the
outcome type is set as <strong>Terminal Error</strong>. So, the task is not
retried despite a retry is being specified.</li>
</ol>
<p>+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Outcome    | Value                                                   |
| Property   |                                                         |
+============+=========================================================+
| Name       | <strong>Authorization Error</strong>                                 |
|            |                                                         |
|            | Identifies an outcome in the outcomes list of task      |
|            | designer. The name is not used for any other purpose.   |
+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Condition  | {{eq .global.CreateSnapshot.output.HttpStatusCode 401}} |
|            |                                                         |
|            | This condition checks whether the response status code  |
|            | of API named &lsquo;Create Snapshot&rsquo; is 401.                  |
+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Outcome    | <strong>Terminal Error</strong>                                      |
| Type       |                                                         |
+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| _          | <strong>Authorization Error. Check the target credentials.</strong>  |
| _Message** |                                                         |
+&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+</p>
<ol start="2">
<li>If the HTTP status code is 400 and the extracted error is <strong>Volume
does not exist</strong>, the task fails terminally. In this case, the retry
execution also fails, hence the outcome type is set as <strong>Terminal
Error</strong>.</li>
</ol>
<p>+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| O      | Value                                                       |
| utcome |                                                             |
| Pr     |                                                             |
| operty |                                                             |
+========+=============================================================+
| Name   | <strong>Volume does not exist</strong>                                   |
|        |                                                             |
|        | The name here is to identify an outcome quickly in the      |
|        | outcomes list of task. The name is not used for any other   |
|        | purpose.                                                    |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| Con    | {                                                           |
| dition | {and (eq .global.CreateSnapshot.output.HttpStatusCode 400)\ |
|        |  (eq .globa                                                 |
|        | l.CreateSnapshot.output.Error \&lsquo;Volume does not exist.\&rsquo;)}} |
|        |                                                             |
|        | If we refer the sample response in previous sections, we    |
|        | will get a 400-Bad Request with response containing error   |
|        | msg &lsquo;Volume does not exist.&rsquo;.                               |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| O      | <strong>Terminal Error</strong>                                          |
| utcome |                                                             |
| Type   |                                                             |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| M      | <strong>A volume with name {{.global.task.input.VolumeName}} does |
| essage | not exist. Check the volume name given.</strong>                   |
|        |                                                             |
|        | This outcome for a given volume name input &lsquo;oracle-db&rsquo; will |
|        | fail the task with message &lsquo;A volume with name oracle-db    |
|        | does not exist. Check the volume name given.                |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+</p>
<ol start="3">
<li>For any API failure caused by bad user input, do not retry and fail
the task immediately.</li>
</ol>
<p>+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| O      | Value                                                       |
| utcome |                                                             |
| Pr     |                                                             |
| operty |                                                             |
+========+=============================================================+
| **     | <strong>Any client error</strong>                                        |
| Name** |                                                             |
|        | Identifies a result in the outcomes list of task designer,  |
|        | and is not used for any other purpose                       |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| _      | {                                                           |
| _Condi | {and (ge .global.CreateSnapshot.output.HttpStatusCode 400)\ |
| tion** | (lt .global.CreateSnapshot.output.HttpStatusCode 500)}}     |
|        |                                                             |
|        | This condition checks if the HTTP status code is in the     |
|        | range between 400 to 499.                                   |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| <strong>O    | <strong>Terminal Error</strong>                                          |
| utcome |                                                             |
| Type</strong> |                                                             |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| <strong>Mes  | API request                                                 |
| sage</strong> |  failed - {{.global.CreateSnapshot.output.HttpStatusCode}}\ |
|        | {{if (index .global.CreateSnapshot.output `Error`)}}:\    |
|        | {{.global.CreateSnapshot.output.Error}}{{else}} \           |
|        | {{.global.CreateSnapshot.output.HttpStatusMsg}}{{end}}      |
|        |                                                             |
|        | This message checks that a valid error message is extracted |
|        | by using an if else block                                   |
|        |                                                             |
|        | {{if (index .global.CreateSnapshot.output `Error`)}}      |
|        |                                                             |
|        | If the error value is &lsquo;Snapshot not supported&rsquo;, the task    |
|        | status message is &lsquo;API request failed &ndash; 405: Snapshot not  |
|        | supported&rsquo;.                                                 |
|        |                                                             |
|        | If no valid error message is present in the response, the   |
|        | HTTP status message is used. For example, **API request     |
|        | failed &ndash; 413 Payload Too Large**.                          |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+</p>
<ol start="4">
<li>For errors on the server, the task must be tried again before
setting the outcome type as <strong>Error</strong> instead of <strong>Terminal Error</strong>.</li>
</ol>
<p>+&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| O   | Value                                                          |
| utc |                                                                |
| ome |                                                                |
| Pr  |                                                                |
| ope |                                                                |
| rty |                                                                |
+=====+================================================================+
| **  | <strong>Any server error</strong>                                           |
| Nam |                                                                |
| e** | The name here is to identify an outcome quickly in the         |
|     | outcomes list of task designer. The name is not used for any   |
|     | other purpose.                                                 |
+&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| _   | {{and (ge .global.CreateSnapshot.output.HttpStatusCode 500) \  |
| _Co | (lt .global.CreateSnapshot.output.HttpStatusCode 600)}}        |
| ndi |                                                                |
| tio | This condition checks if the HTTP status code is in the range  |
| n** | between 500 to 599.                                            |
+&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| <strong>O | <strong>Error</strong>                                                      |
| utc |                                                                |
| ome | The outcome type is set as <strong>Error</strong>. Hence, the request is    |
| Typ | retried, if retries are configured.                            |
| e</strong> |                                                                |
+&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| **  | API requ                                                       |
| Mes | est failed - {{.global.CreateSnapshot.output.HttpStatusCode}}\ |
| sag | {{if (index .global.CreateSnapshot.output `Error`)}}:\       |
| e** | {{.global.CreateSnapshot.output.Error}}{                       |
|     | {else}} {{.global.CreateSnapshot.output.HttpStatusMsg}}{{end}} |
|     |                                                                |
|     | This is the same message that is used in the client error      |
|     | outcome.                                                       |
+&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+</p>
<ol start="5">
<li>This can be termed as the final outcome for a successful completion.</li>
</ol>
<p>+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| O      | Value                                                       |
| utcome |                                                             |
| Pr     |                                                             |
| operty |                                                             |
+========+=============================================================+
| **     | <strong>All Good</strong>                                                |
| Name** |                                                             |
|        | The name identifies an outcome in the outcomes list of task |
|        | designer. The name is not used for any other purpose.       |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| _      | <strong>True</strong>                                                    |
| _Condi |                                                             |
| tion** | {{eq .global.CreateSnapshot.output.HttpStatusCode 200}}     |
|        |                                                             |
|        | <strong>True</strong> can be used as the condition to capture all        |
|        | scenarios or the specific success response status code can  |
|        | be used, which is 200.                                      |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| <strong>O    | <strong>Success</strong>                                                 |
| utcome |                                                             |
| Type</strong> |                                                             |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| <strong>Mes  | A snapshot with name                                        |
| sage</strong> |                                                             |
|        | {{.global.CreateSnapshot.output.SnapshotName}}              |
|        |                                                             |
|        | and serial                                                  |
|        |                                                             |
|        | {{.global.CreateSnapshot.output.Serial}}                    |
|        |                                                             |
|        | is created successfully for volume with name                |
|        |                                                             |
|        | {{.global.task.input.VolumeName}}                           |
|        |                                                             |
|        | .                                                           |
|        |                                                             |
|        | The outcome for a given volume name input oracle-db sets    |
|        | the task to success with the message: **A snapshot with     |
|        | name oracle-db.8 and serial B3CD9AF2175A4E2800011010 is     |
|        | created successfully for volume with name oracle-db**.      |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+</p>
<p>As part of this task, an inventory refresh request can be sent to pull
the new snapshot inventory. This API contains the following details in
the request.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000">POST</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">v1</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">task</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">PureScopedInventories</span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">    \</span><span style="color:#4e9a06">&#34;Type\&#34;: \&#34;storage.PureVolumeSnapshot\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    \&#34;NamingProperty\&#34;: \&#34;Name\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    \&#34;Values\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;\&lt;Snapshot_Name&gt;\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    \&#34;RegisteredDevice\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;ObjectType\&#34;: \&#34;asset.DeviceRegistration\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Moid\&#34;: \&#34;\&lt;Pure Device Registration Id&gt;\&#34;</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">    </span><span style="color:#000;font-weight:bold">}</span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><p>The snapshot name is obtained from previous API output by using the
following reference: {{.global.CreateSnapshot.output.SnapshotName}}.</p>
<p>The device registration ID is obtained by performing a GET API of the
selected target and extracting the <strong>MOID</strong> from the
<strong>RegisteredDevice</strong>. For more information, see <a href="http:///apidocs">API
Docs</a>.</p>
<p>This section is realized by sending two Intersight API requests: GET
/v1/asset/Targets/\&lt;Target_Moid&gt; and using the extracted registered
device Moid in the above request. Having explained the API specific
details in the previous section, we will quickly add two API calls to
the same task.</p>
<p>Do not choose the Set External Target option in the General tab. This is
because the API calls can be inferred as Intersight API calls.</p>
<p>This section captures the details related to the Intersight API call
that gets the registered device Moid from the given target task input.</p>
<p>The outcomes shall be added for better experience with these Intersight
API calls and since the previous section explains the outcomes in
detail, this section does not cover them.</p>
<p>GET is used as the default, if no value is provided for Method field.</p>
<p>+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Field Name       | Value                                             |
+==================+===================================================+
| <strong>API Name</strong>     | Get Device Id                                     |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| <strong>Set External   | Unchecked/false                                   |
| Target</strong>         |                                                   |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| <strong>URL</strong>          | /v1/asset/Targets/                                |
|                  |                                                   |
|                  | {{.global.task.input.Target.Moid}}                |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| <strong>Response       | We will extract the Moid of the                   |
| Parser</strong>         | &lsquo;RegisteredDevice&rsquo; relation.                      |
|                  |                                                   |
|                  | DeviceMoid &ndash; Path: \$.RegisteredDevice.Moid,     |
|                  | Type: string                                      |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+</p>
<p>The target Moid required in the URL is populated from the task input
Target. As part of this API output, the extracted device Moid can be
referred in the next API request body with the following reference:</p>
<p>{{.global.GetDeviceId.output.DeviceMoid}}</p>
<p>Using this example, you can also capture details for the Intersight API
that requests the inventory refresh for Pure Flash Array snapshots. The
snapshot name is extracted from the first API and the device Moid is
extracted from the second API to create a request for this API.</p>
<p>+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Field Name    | Value                                                |
+===============+======================================================+
| <strong>API Name</strong>  | Request Inventory Refresh                            |
+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| <strong>Set         | Unchecked or false                                   |
| External      |                                                      |
| Target</strong>      |                                                      |
+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| <strong>Method</strong>    | POST                                                 |
+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| <strong>URL</strong>       | <strong>/v1/task/PureScopedInventories</strong>                   |
+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| <strong>Body</strong>      | Content Type: JSON                                   |
|               |                                                      |
|               | Text:                                                |
|               |                                                      |
|               | {\                                                   |
|               |     \&ldquo;Type\&quot;: \&ldquo;storage.PureVolumeSnapshot\&rdquo;,\       |
|               |     \&ldquo;NamingProperty\&quot;: \&ldquo;Name\&rdquo;,\                   |
|               |     \&ldquo;Values\&quot;: [\                                  |
|               |                                                      |
|               |  \&rdquo;{{.global.CreateSnapshot.output.SnapshotName}}\&rdquo;\ |
|               |     ],\                                             |
|               |     \&ldquo;RegisteredDevice\&quot;: {\                         |
|               |                                                      |
|               |       \&ldquo;ObjectType\&quot;: \&ldquo;asset.DeviceRegistration\&rdquo;,\ |
|               |         \&ldquo;Mo                                         |
|               | id\&quot;: \&rdquo;{{.global.GetDeviceId.output.DeviceMoid}}\&rdquo;\ |
|               |     }\                                               |
|               | }                                                    |
+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+</p>
<p>There is no response body for this request. Therefore, the outcomes can
be added based on API HTTP status code to set the task status. The
outcome is not added her as they have been captured in detail for the
first outcome. The extracted values from the API response
<strong>SnapshotName</strong> and <strong>Serial</strong> are mapped to task output so that they
are available as task output that can be referred in subsequent tasks in
a workflow. This can be done by creating two task output parameters
named &lsquo;<strong>SnapshotName</strong>&rsquo; and &lsquo;<strong>Serial</strong>&rsquo; in &lsquo;Output tab of Properties
area. The task output can be mapped to take API response values by using
Map to Task Output action. The values extracted using <strong>Response
Parser</strong> in an API can be mapped by selecting Parameters and then the
API Name entry in Task Output drop down and providing the actual
parameter names in Path field.</p>
<p><strong>Example: Obtaining Cisco ASA Details</strong></p>
<p>The previous example illustrates the need to make API requests to a
claimed target in Intersight. This section explains a sample task that
obtains simple information from Cisco ASA, while is reachable from
Intersight Assist. Intersight does not have a device connector for Cisco
ASA.</p>
<p>As a first step, Cisco ASA is added as custom target. Cisco ASA uses
HTTP basic authentication and has REST API interface. Hence, requests
can be made to Cisco ASA as part of Intersight IO tasks. The device must
be reachable from Intersight Assist. The device can be added as a Custom
Target in Targets screen, by providing IP address, credentials and
Intersight Assist from which the device is reachable. Cisco ASA added as
custom target must be configured from Intersight tasks. Though, Cisco
ASA supports basic authentication and does not need a session token to
be created in Intersight, you can use a session token to showcase the
Web API support for handling values for request and response headers.</p>
<p>A session token is created and used in the request header to facilitate
in the extraction of response headers. In this example, the task
executes two API requests in Cisco ASA, namely create a session token
and use the session token to obtain the Cisco ASA version.</p>
<p>To obtain a session token, use the <strong>Post</strong> call /api/tokenservices&rsquo; to
create a session token. Use the <strong>Delete</strong> request
/api/tokenservices/\<Token> to delete the session. Cisco ASA expects a
request to create a session token. It must include the basic
authentication header that Intersight populates when using the details
in the custom target.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000">POST</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">api</span><span style="color:#ce5c00;font-weight:bold">/</span><span style="color:#000">tokenservices</span>\
</span></span><span style="display:flex;"><span><span style="color:#0000cf;font-weight:bold">204</span><span style="color:#a40000"> </span><span style="color:#000">No</span><span style="color:#a40000"> </span><span style="color:#000">Content</span>\
</span></span><span style="display:flex;"><span>\
</span></span><span style="display:flex;"><span><span style="color:#000">Response</span><span style="color:#a40000"> </span><span style="color:#000">Headers</span>\
</span></span><span style="display:flex;"><span><span style="color:#000">X</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">Auth</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">Token</span><span style="color:#000;font-weight:bold">:</span><span style="color:#a40000"> \</span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#000">New</span><span style="color:#a40000"> </span><span style="color:#000">Session</span><span style="color:#a40000"> </span><span style="color:#000">Token</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span></code></pre></div><p>The subsequent API requests must have the X-Auth-Token request header.</p>
<p>The following table explains the request details that need to be
provided in Task Designer to create session token.</p>
<p>+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Field Name    | Value                                                |
+===============+======================================================+
| API Name      | Get Session Token                                    |
+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Set External  | Checked                                              |
| Target        |                                                      |
|               | A task input of target type is added through the     |
|               | Task Designer dialog.                                |
+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Method        | POST                                                 |
+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| URL           | /api/tokenservices                                   |
+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+</p>
<p><strong>Note:</strong> There is no need to have a request body or response parser
given because the API does not generate a response body.</p>
<p>Details, such as, response headers, cookies, status code, and status
message, can be referred in subsequent API requests using references
based on the API name as follows:</p>
<p>+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| Response     | Reference Name                                        |
| Parameter    |                                                       |
+==============+=======================================================+
| Headers&mdash;-A | {{.global.GetSessionToken.output.HttpHeaders}}        |
| map of       |                                                       |
| headers with | A specific response header value can be obtained      |
| keys being   | using two notations:                                  |
| the header   | {{.glob                                               |
| name and     | al.GetSessionToken.output.HttpHeaders.\<HeaderName>}} |
| values being | or {{index .global.GetSessionToken.output.HttpHeaders |
| a string     | `HeaderName`}}                                      |
| array of     |                                                       |
| header       | Examples of above notations are:                      |
| values.      |                                                       |
|              | {{.global.GetSessionToken.output.HttpHeaders.Date}}   |
|              |                                                       |
|              | {{index .global.GetSessionToken.output.HttpHeaders    |
|              | `X-Auth-Token`}}                                    |
|              |                                                       |
|              | The above examples get the header value in the form   |
|              | of <strong>string array</strong> and individual values can be      |
|              | accessed by index template function. The index        |
|              | function can also be used to access a specific header |
|              | in Headers.                                           |
|              |                                                       |
|              | {{index                                               |
|              | .global.GetSessionToken.output.HttpHeaders.Date 0}}   |
|              |                                                       |
|              | {{index (index                                        |
|              | .global.GetSessionToken.output.HttpHeaders            |
|              | `X-Auth-Token`) 0}}                                 |
|              |                                                       |
|              | <strong>Note:</strong> The template engine used by Intersight IO   |
|              | considers hyphens (-) as special characters and does  |
|              | not allow obtaining headers with hyphens using the    |
|              | first dotted notation. Considering the fact that most |
|              | of the header names are hyphenated, it is recommended |
|              | to use the second notation only.                      |
+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| Cookies&mdash;A  | {{.global.GetSessionToken.output.HttpCookies}}        |
| map of       |                                                       |
| cookies with | The further values of specific cookies can be         |
| keys being   | referred using either the dot notation or with index  |
| cookie names | function. The details are explained in the previous   |
| and the      | row about Headers.                                    |
| values being |                                                       |
| strings.     |                                                       |
+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| HTTP Status  | {{.global.GetSessionToken.output.HttpStatusCode}}     |
| C            |                                                       |
| ode&mdash;Number |                                                       |
+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| HTTP Status  | {{.global.GetSessionToken.output.HttpStatusMsg}}      |
| Mess         |                                                       |
| age&mdash;String |                                                       |
+&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+</p>
<p>The following table explains the various outcomes that the API request
can produce.</p>
<p>+&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| Outcome Name    | Details                                            |
+=================+====================================================+
| Unauthorized    | Condition&mdash;{{eq                                   |
|                 | .global.GetSessionToken.output.HttpStatusCode      |
|                 | 401}}                                              |
|                 |                                                    |
|                 | Outcome Type:&mdash;Terminal Error                     |
|                 |                                                    |
|                 | Message: Authorization failed. Check the target    |
|                 | credentials.                                       |
+&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| Session Limit   | Condition&mdash;{{eq                                   |
| Breached        | .global.GetSessionToken.output.HttpStatusCode      |
|                 | 503}}                                              |
|                 |                                                    |
|                 | Outcome&mdash;Type: Error                              |
|                 |                                                    |
|                 | Message&mdash;Maximum number of sessions reached.      |
+&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| All Well        | Condition&mdash;{{eq                                   |
|                 | .global.GetSessionToken.output.HttpStatusCode      |
|                 | 204}}                                              |
|                 |                                                    |
|                 | Outcome Type&mdash;Success                             |
|                 |                                                    |
|                 | Message&mdash;Session token is Obtained.               |
+&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+</p>
<p>The auth token obtained from the first API can be used in the second API
to obtain the ASA version and other details as follows:</p>
<p>GET /api/monitoring/device/components/version\
Request Headers:\
X-Auth-Token: \<Auth-Token-Obtained-from-Token-Api>\
200 OK\
{\
    \&ldquo;kind\&quot;: \&ldquo;object#Version\&rdquo;,\
    \&ldquo;selfLink\&quot;: \&quot;/api/monitoring/device/version\&rdquo;,\
    \&ldquo;deviceType\&quot;: \&ldquo;ASAv\&rdquo;,\
    \&ldquo;upTimeinSeconds\&quot;: 208800,\
    \&ldquo;totalFlashinMB\&quot;: 8192,\
    \&ldquo;currentTimeinSeconds\&quot;: 1612870500,\
    \&ldquo;firewallMode\&quot;: \&ldquo;Transparent\&rdquo;,\
    \&ldquo;asaVersion\&quot;: \&ldquo;9.5(2)\&rdquo;\
} </p>
<p>The following table explains the request details that need to be
provided in Task Designer API request panel for the ASA version request.</p>
<p>+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Field Name    | Value                                                |
+===============+======================================================+
| API Name      | Get ASA Version                                      |
+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Set External  | Checked                                              |
| Target        |                                                      |
+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| URL           | /api/monitoring/device/components/version            |
+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| H             | {\                                                   |
| eaders&mdash;JSON |   \&ldquo;X-Auth-Token\&quot;: [\                              |
| with header   |     \&rdquo;{{index                                        |
| name mapped   |  (index .global.GetSessionToken.output.HttpHeaders \ |
| to array of   | `X-Auth-Token`) 0}}\&rdquo;\                             |
| header values |   ]\                                                |
|               | }                                                    |
|               |                                                      |
|               | The token value is extracted from the previous API   |
|               | response header and used here in this API request    |
|               | header.                                              |
+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+
| Response      | Version&mdash;Path: \$.asaVersion, Type: string          |
| Parser        |                                                      |
+&mdash;&mdash;&mdash;&mdash;&mdash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;+</p>
<p>A simple outcome checks for status code. If outcome is 200, the task is
marked as failed.</p>
<ul>
<li>
<p>Name&mdash;Not OK</p>
</li>
<li>
<p>Condition&mdash;{{ne .global.GetASAVersion.output.HttpStatusCode 200}}</p>
</li>
<li>
<p>Outcome Type&mdash;Error</p>
</li>
<li>
<p>Message&mdash;GET ASA version failed</p>
</li>
</ul>
<p>The two API requests have been added to obtain session token and then to
obtain the ASA version. The extracted API output can be mapped to the
task output.</p>
<h2 id="task-input-and-executor-output-mapping">Task Input and Executor Output Mapping</h2>
<p>Task inputs and previous executors output can be used for direct mapping
or transformed mappings. The syntax to refer to these will depend on the
type of mapping. Task inputs are referenced as
{{.global.task.input.InputName}} where InputName is the Reference Name
given to the Task input and not the Display Name or Label. Similarly,
task outputs are referenced as \${TaskName.output.TaskOutput}.</p>
<p>To specify an input mapping, select a task and click <strong>Edit</strong> against a
task input parameter.</p>
<p>The options available are:</p>
<ul>
<li>
<p><strong>Static Value</strong>&mdash;Enter a value that is assigned to the task input
field.</p>
</li>
<li>
<p><strong>Direct Mapping</strong>&mdash;Map an existing task input or previous executors
output to the selected task input</p>
</li>
<li>
<p><strong>Transformed Mapping</strong>&mdash;Allows applying data transformation through a
combination of one or more transformation stages for a task\&rsquo;s
input. In each transformation stage, you can select a transformation
function along with its inputs. The transformation stages will be
converted into a template. You can then preview the template and
test the transformation with sample values.</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> Transformed mapping is only supported for task inputs of
primitive data types, such as <em>string</em>, <em>integer</em>, <em>boolean</em>, and
<em>float</em>.</p>
</blockquote>
<ul>
<li><strong>Advanced Mapping</strong>&mdash;Map a Golang template to the task input. For
example, FindAllString function returns a slice of all substrings
that match the given regular expression in the given string.</li>
</ul>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ul>
<li>
<p>Example 1:</p>
</li>
<li>
<p>FindAllString(s, regex string) ([]string, error)\
Example: {{(FindAllString .global.task.input.NumberString \\&rdquo;([0-9]+)\\&rdquo;)}} \
returns array [&ldquo;123&rdquo;, &ldquo;456&rdquo;] for input string &ldquo;123 some text 456&rdquo;.</p>
</li>
<li>
<p>Example 2:</p>
</li>
<li>
<p>Atoi function converts the given number in string format to integer type.\
Atoi(s string) (int, error)\
Example: {{Atoi .global.task.input.SizeString}} \
returns integer 2048 for input string &ldquo;2048&rdquo;</p>
</li>
</ul>
<h2 id="exporting-a-task">Exporting a Task</h2>
<p>Intersight Cloud Orchestrator enables you to export tasks from an
account to your system and then import them to another account.</p>
<p>To export a task, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Tasks.</p>
</li>
<li>
<p>From the tabular list of tasks, do one of the following:</p>
</li>
</ol>
<ul>
<li>
<p>Select a task, click the Ellipsis (&hellip;) icon in the same row, and
then choose Export Task.</p>
</li>
<li>
<p>Select multiple tasks, click the Ellipsis (&hellip;) icon from the header
or footer of the tabular list, and then choose Export Task.</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> You can also export tasks from the Actions menu in the Task
Designer window.</p>
</blockquote>
<ol start="4">
<li>
<p>In the Export Task screen:</p>
<p>a.  In the JSON File Name field, use the default filename or enter a
filename of your choice for the JSON file that stores the task
components.</p>
<p>b.  Use the Export Tags toggle button to include or exclude the
user-defined tags. ICO does not export the system-defined tags.</p>
<p>c.  Click Export.</p>
<p>d.  Save a local copy of the JSON file.</p>
</li>
</ol>
<h2 id="importing-a-task">Importing a Task</h2>
<p>Intersight Cloud Orchestrator enables you to import tasks to your
account by importing a JSON file that contains the task components. You
can create the JSON file by exporting the task components from another
account.</p>
<p>To import a task, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Tasks.</p>
</li>
<li>
<p>Click Import.</p>
</li>
</ol>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="18">
<li>The Import wizard appears.</li>
</ol>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="4">
<li>
<p>In the Select File screen:</p>
<p>a.  From the Organization drop-down list, choose the organization to
which you want to import the task(s).</p>
<p>b.  Click Browse, and then select the JSON file that contains the
task(s).</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Ensure that the file size of the JSON file is not more than
1MB. If the file size is more than 1MB, export the task(s) in batches,
and then try import.</p>
</blockquote>
<p>c.  Click Next.</p>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="19">
<li>Intersight Cloud Orchestrator validates the JSON file and displays
<blockquote>
<p>the task(s) in the Details screen.</p>
</blockquote>
</li>
</ol>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="5">
<li>
<p>In the Details screen:</p>
<p>a.  To associate an additional tag to the components listed in the
table, enter the tag in the Set Tags field.</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Set Tags is an optional field. You must enter the tag in the
key:value format.</p>
</blockquote>
<p>b.  If one or more task or task components are already available in the
system, choose a rule to replace or skip the duplicate components.</p>
<p>c.  Click Import.</p>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="6">
<li>
<p>In the Import Result screen:</p>
<p>a.  Verify the status of the imported task and task components.</p>
<p>b.  If you want to view the details of the import request:</p>
</li>
</ol>
<ul>
<li>
<p>Click the link displayed above the table.</p>
</li>
<li>
<p>Alternatively, click the Requests icon displayed in the menu bar.</p>
</li>
</ul>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ul>
<li>
<p>For more information, see
<a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Requests</a>.</p>
<p>a.  Click Close.</p>
</li>
</ul>
<h2 id="managing-the-lifecycle-of-a-task">Managing the Lifecycle of a Task</h2>
<p>Task management consists of organizing, creating, updating, and deletion
of tasks. The following table describes the set of actions that you can
perform with tasks in Cisco Intersight.</p>
<p>+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| A      | Description                                                 |
| ctions |                                                             |
+========+=============================================================+
| View   | Choosing Orchestration from the left navigation pane will   |
| Tasks  | display all workflows in a tabular format. Clicking Tasks   |
|        | will display all tasks in a tabular format. You can view    |
|        | information such as the task name and description, the      |
|        | number of versions available, the number of times the task  |
|        | has been executed, the last execution status, validation    |
|        | information and the last update time and date.              |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| Create | Choose Orchestration from the left navigation pane and      |
| a New  | click Tasks. Then, click Create Task. This option opens up  |
| Task   | the Task Designer, using which you can create a new task.   |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| Delete | From the tabular list of workflows, you can select a task   |
| a Task | and click Delete. This will remove the task.                |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| Clone  | From the tabular list of tasks, you can select a task and   |
| a Task | click Clone. This will clone the selected task.             |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| Save a | From the tabular list of tasks, you can choose a task and   |
| Task   | click. By default, the workflow details are displayed in    |
| as     | the Designer tab. You can choose Save As option from the    |
|        | Action drop-down list to clone a task.                      |
|        |                                                             |
|        | In the Save As screen, you can specify user-friendly short  |
|        | name, reference name, description, and tag key. Click Save. |
|        | For more information, see Cloning a Task.                   |
+&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+</p>
<h2 id="cloning-a-task">Cloning a Task</h2>
<p>You can clone only a user-defined task. The cloned task is identical to
the original task. You can edit the new task immediately. You might do
this, for example, to create a task that is similar to the source task
that can be edited based on your requirements.</p>
<p>To clone a task, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Tasks.</p>
</li>
<li>
<p>From the tabular list of tasks, select a task and choose Clone.</p>
</li>
<li>
<p>In the Clone Task screen, edit the user-friendly short name,
reference name, and description.</p>
</li>
<li>
<p>Check the Open Clone in Editor check box if you want to open the
cloned task and edit the details.</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Open Clone in Editor check box is not displayed when you
clone a task using the Save As option</p>
</blockquote>
<ol start="6">
<li>Click Clone. The cloned task will be created in the same
organization the source task belongs to.</li>
</ol>
<h2 id="supported-target-management-tasks">Supported Target Management Tasks</h2>
<p>The Target Management tasks contain a subset of tasks that can be used
within workflows to perform a range ot operations on the endpoint
targets. The Target Management tasks supported in Intersight are:</p>
<ul>
<li>
<p>New Target&mdash;Claim a new endpoint within a workflow in Intersight.
The supported target types are HTTP, SSH, Powershell, or Ansible
endpoints.</p>
</li>
<li>
<p>Get Target&mdash;Get the details of a claimed target within a workflow.
The task inputs are name, hostname or IP address, and target type.
On successful execution, name, moid, hostname or IP address, port,
connection status, and target type are generated as the task
outputs.</p>
</li>
</ul>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ul>
<li>The supported target types are HTTP, SSH, Powershell, or Ansible
endpoints.</li>
</ul>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ul>
<li>Remove Target&mdash;Unclaim the target endpoint from Intersight. When a
target is unclaimed, it is immediately detached from the
corresponding Intersight account. The target retains any
configuration applied before the unclaim operation.</li>
</ul>
<h2 id="compute-tasks-matrix">Compute Tasks Matrix</h2>
<p>The following table lists compute tasks supported on UCS C-Series
Standalone Server and Intersight Managed Mode (IMM) Server:</p>
<hr>
<p>Compute Tasks                      UCS C-Series Standalone    IMM Server
Server</p>
<hr>
<p>Copy Server Profile                Y                          Y</p>
<p>Deploy Server Profile              Y                          Y</p>
<p>Dismount Server Virtual Media      Y                          N
Device</p>
<p>Mount Server Virtual Media Device  Y                          N</p>
<p>Remove Server from Server Profile  Y                          Y</p>
<p>Restart IMC                        Y                          Y</p>
<p>Set Server One Time Boot Device    Y                          N</p>
<p>Set Server Power State             Y                          Y</p>
<p>Set Server to Server Profile       Y                          Y</p>
<p>Stop Server Operating System       Y                          Y</p>
<p>Add Server Policies to Profile     Y                          Y</p>
<p>Remove Server Policies from        Y                          Y
Profile</p>
<p>New Server Profile                 Y                          Y</p>
<p>New Server Profile from Template   Y                          Y</p>
<p>Delete Server Virtual Drives       Y                          Y</p>
<p>Clear Server Storage Controller    Y                          Y
Foreign Configuration</p>
<p>Import Server Storage Controller   Y                          Y
Foreign Configuration</p>
<p>Set Server Physical Drive State    Y                          Y</p>
<p>New Server Precision Boot Device   Y                          N</p>
<p>Remove Server Precision Boot       Y                          N
Device</p>
<hr>
<h2 id="supported-tasks-for-storage-targets">Supported Tasks for Storage Targets</h2>
<p>The following table lists tasks supported in the various storage targets
available on Intersight:</p>
<hr>
<p>List of Tasks                         Pure Storage   NetApp    Hitachi</p>
<hr>
<p>Add Storage Export Policy to Volume   N              Y         N</p>
<p>Add Host to Storage Host Group        Y              N         N</p>
<p>Add Hosts to Storage Host Group       Y              N         N</p>
<p>Compress Storage Pool                 N              N         Y</p>
<p>Connect Initiators to Storage Host    Y              Y         Y</p>
<p>Connect Volume to Storage Host        Y              N         Y</p>
<p>Connect Volume to Storage Host Group  Y              N         N</p>
<p>Connect WWNs or IQNs to Storage Host  Y              N         N</p>
<p>Copy Storage Volume                   N              N         Y</p>
<p>Disconnect Initiators from Storage    Y              N         Y
Host</p>
<p>Disconnect Volume from Storage Host   Y              N         Y</p>
<p>Disconnect Volume from Storage Host   Y              N         N
Group</p>
<p>Disconnect WWNs or IQNs from Storage  Y              N         N
Host</p>
<p>Expand Storage LUN                    N              Y         N</p>
<p>Edit Storage Pool                     N              N         Y</p>
<p>Expand Storage Volume                 Y              Y         Y</p>
<p>Find NetApp igroup LUN Map            N              Y         N</p>
<p>Expand Storage Pool                   N              N         Y</p>
<p>Find Storage LUN by ID                N              Y         N</p>
<p>Find Storage Volume by ID             Y              Y         N</p>
<p>Format Storage Volume                 N              N         Y</p>
<p>New Storage Export Policy             N              Y         N</p>
<p>New Storage Fibre Channel Interface   N              Y         N</p>
<p>New storage IP interface              N              Y         N</p>
<p>New Storage Host                      Y              Y         Y</p>
<p>New Storage Host Group                Y              N         N</p>
<p>New Storage LUN                       N              Y         N</p>
<p>New Storage LUN ID                    N              Y         N</p>
<p>New Storage Virtual Machine           N              Y         N</p>
<p>New Storage Pool                      N              N         Y</p>
<p>New Storage Volume                    Y              Y         Y</p>
<p>Remove storage export policy          N              Y         N</p>
<p>Remove Host from Storage Host Group   Y              N         N</p>
<p>Remove Hosts from Storage Host Group  Y              N         N</p>
<p>Remove Storage Host                   Y              Y         Y</p>
<p>Remove Storage Host Group             Y              N         N</p>
<p>Remove Storage LUN                    N              Y         N</p>
<p>Remove Storage LUN ID                 N              Y         N</p>
<p>Remove Storage Pool                   N              N         Y</p>
<p>Remove Storage Volume                 Y              Y         Y</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d8b9188a7b25467baa07c92b61f2f4cb">4.3 - Data Type</h1>
    <div class="lead">Intersight Orchestrator supports the use of data types for workflows and tasks. Data types for input and output defines types and associated constraints on values that can be specified.</div>
	<p>Data types also specify boundaries for values, and constraints like regular expressions.</p>
<p>Cisco Intersight provides a whole range of system-defined data types
that you can use in your workflows. In addition, you can also create a
data type in Cisco Intersight. To view all data types that are currently
available or configured, choose Orchestration <strong>&gt;</strong> Data Types. A
dashboard displays the following details under these tabs, namely, My
Data Types, System Data Types, and All Data Types:</p>
<ul>
<li>
<p>Number of Composite Type</p>
</li>
<li>
<p>Number of System Defined Data Type</p>
</li>
</ul>
<p>You can view a tabular list of data types with the following
information:</p>
<ul>
<li>
<p>Reference Name</p>
</li>
<li>
<p>Display Name</p>
</li>
<li>
<p>Composite Type</p>
</li>
<li>
<p>Description</p>
</li>
<li>
<p>Last Updated</p>
</li>
<li>
<p>Organization</p>
</li>
</ul>
<p>From this screen, as an Account Administrator, or as a user with
Workflow Designer privileges, you can perform the following actions:</p>
<ul>
<li>
<p>Create a new data type</p>
</li>
<li>
<p>Edit or delete a custom data type</p>
</li>
<li>
<p>Clone a data type</p>
</li>
</ul>
<p><strong>Note:</strong> You cannot edit or delete a system-defined data type.</p>
<p>There are many input types defined in Cisco Intersight representing a
broad selection of categorical, numeric, and text parameters. For
example, some existing data types are:</p>
<ul>
<li>
<p>Generic Text Input (the least restricted input type)</p>
</li>
<li>
<p>IPv4 Address</p>
</li>
<li>
<p>OS Type</p>
</li>
<li>
<p>Memory Size Selector</p>
</li>
</ul>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ul>
<li>
<p>Primitive data type&mdash;Represents primitive data like String, Float,
Integer, Boolean, Json, or Enum. Following are the attributes
specific to primitive data types:</p>
<ul>
<li>
<p>Type</p>
</li>
<li>
<p>Secure</p>
</li>
<li>
<p>Constraints (specifies limits and boundaries for values)</p>
</li>
<li>
<p>Object Selector (lists the Cisco Intersight managed object
selectors). This attribute is available only when the primitive
data is String. Following are the attributes specific to Object
Selector:</p>
<ul>
<li>
<p>Intersight API Reference&mdash;Enter the URL of the Intersight
API configured with parameters.</p>
</li>
<li>
<p>Selector Attribute&mdash;Enter the attribute name(s) that needs
to be displayed in the input table column. You can add
multiple selector attributes by clicking +.</p>
</li>
<li>
<p>Value Attribute&mdash;Enter the value to be passed as an input
while executing a task. This value should be any one of the
attribute name specified in the Selector Attribute field.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Array data type&mdash;Represents an array of a given type. It can be an
array of primitive data, reference data, or of custom data type.
Following are the attributes specific to array data types:</p>
<ul>
<li>
<p>ArrayItemType</p>
</li>
<li>
<p>Min</p>
</li>
<li>
<p>Max</p>
</li>
</ul>
</li>
<li>
<p>MoReference data type&mdash;Represents Cisco Intersight Managed object
reference. Following are the attributes specific to reference data
types:</p>
<ul>
<li>
<p>Intersight API Reference&mdash;Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute&mdash;Enter the attribute name(s) that needs to
be displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
</ul>
</li>
<li>
<p>Target data type&mdash;Represents a target endpoint or device. Following
are the attributes specific to target data types:</p>
<ul>
<li>
<p>Intersight API Reference&mdash;Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute&mdash;Enter the attribute name(s) that needs to
be displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
<li>
<p>Support Objects&mdash;Enter the object filter used for mentioning
the interesting object in the task definition. You can add
multiple support objects by clicking +.</p>
</li>
<li>
<p>Constraint Attribute&mdash;Enter the attribute used for defining
decision conditions to choose the right implementation task. You
can add multiple constraint attributes by clicking +.</p>
</li>
<li>
<p>Connector Attribute&mdash;Enter the attribute used for defining what
value to be passed as input to the implementation task.</p>
</li>
</ul>
</li>
<li>
<p>Custom data type&mdash;Allows defining type constraints once and then
use them in multiple tasks and workflows. Following are the
attributes specific to target data types:</p>
<ul>
<li>
<p>Custom Data Type Name</p>
</li>
<li>
<p>Catalog Moid</p>
</li>
</ul>
</li>
</ul>
<p>You choose existing input types from a list that displays a name, type,
and category for each variable. The list can be filtered to make finding
a given data type manageable.</p>
<p>If none of the existing data types serves your need in a particular
application, it is possible to create custom data types by defining
restrictions on existing data types.</p>
<h2 id="creating-a-data-type">Creating a Data Type</h2>
<p>To create a data type, perform the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane and click Data
Types.</p>
</li>
<li>
<p>Choose Create Data Type.</p>
</li>
<li>
<p>In the Create Data Type screen, enter the following information:</p>
</li>
</ol>
<ul>
<li>
<p>Organization&mdash;Choose an organization from the drop-down list.</p>
</li>
<li>
<p>Name&mdash;Enter a name for the custom data type definition. The name
can be alphanumeric and can include a combination of upper case and
lower case letters and special characters.</p>
</li>
<li>
<p>Label&mdash;Enter a label that helps you identify the data type.</p>
</li>
<li>
<p>Description&mdash;Enter a description, if required.</p>
</li>
<li>
<p>Set Tags&mdash;Enter a tag in the key:value format, if required.</p>
</li>
</ul>
<ol start="4">
<li>Select the parameters for the data type&mdash;Choose Simple or
Composite. A Simple data type has only a singular value, while a
composite data type has multiple properties.</li>
</ol>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="20">
<li>For example, a LoginName is a simple data type whereas a
MailingAddress would be a Composite data type (with street, city,
state, and so on.)</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Target data type is not supported when you choose Composite
as a parameter input.</p>
</blockquote>
<ol start="5">
<li>To add additional inputs, click Add Field and click New Definition.
Then, enter the following information:</li>
</ol>
<ul>
<li>
<p>Name</p>
</li>
<li>
<p>Label</p>
</li>
<li>
<p>Description</p>
</li>
<li>
<p>Required&mdash;Update this field only when you are adding a Composite
data type.</p>
</li>
<li>
<p>Type&mdash;Choose a data type for primitive data type. For example,
String, Integer, Float, Boolean, Json, Enum, MoReference, Target
Data Type, or custom data type.</p>
</li>
</ul>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ul>
<li>The fields displayed depend on the value you select for the Type
field.</li>
</ul>
<ol start="6">
<li>
<p>If you select the data type as Enum, specify the following:</p>
<p>a.  Enum List&mdash;Enum label and value. You can add multiple selector
attributes by clicking +.</p>
<p>b.  Widget type.</p>
</li>
<li>
<p>If you select the data type as String, specify the following:</p>
<p>a.  Minimum and MaximumRange</p>
<p>b.  Regex&mdash;Validates the regular expression when you select String
in the Type field.</p>
<p>c.  Secure&mdash;Indicates that the values of these properties are
encrypted and stored in Cisco Intersight.</p>
<p>d.  ObjectSelector&mdash;Enable to configure the Intersight managed
object selectors. This attribute is available only when the
primitive data is String. Specify the Intersight API Reference
and selector attributes to feed the input from the table
selection. Value will be passed according to the configuration
set in the Value attribute.</p>
</li>
<li>
<p>If you select the data type as Integer or Float, specify the
following:</p>
<p>a.  Minimum and MaximumRange.</p>
</li>
<li>
<p>If you select the data type as MoReference, specify the following:</p>
<p>a.  Intersight API Reference&mdash;Enter the URL of the Intersight API
configured with parameters.</p>
<p>b.  Selector Attribute&mdash;Enter the attribute name(s) that needs to
be displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
<li>
<p>If you selected a composite data type, you can specify the field
mapping details. With field mapping, you can pass the value from the
parent composite data type to a child composite data type.</p>
</li>
</ol>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="21">
<li>
<p>To specify the field mapping, do the following:</p>
<p>a.  Key&mdash;The input field that you want to hide.</p>
<p>b.  Value Attribute&mdash;The value in a template style to be passed
dynamically during the execution. The inputs are referenced as
\${datatype.type.AttributeName}.</p>
</li>
</ol>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="11">
<li>
<p>Click Add.</p>
</li>
<li>
<p>To add a Parameter Set rule, click Add Rule &gt; Parameter Set.</p>
</li>
</ol>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="22">
<li>
<p>For more information, see <strong>Error! Reference source not found.</strong>.</p>
<p>a.  Name&mdash;The name of the Parameter Set rule.</p>
<p>b.  If Field&mdash;Select the input field that will be used for the
Parameter Set rule.</p>
<p>c.  Condition&mdash;The condition for the rule. The condition can be
Equal to, Not equal to, Contains, or Matches Pattern.</p>
<p>d.  Value&mdash;The value of the input (If Field) that will be used for
the Parameter Set rule.</p>
<p>e.  Field to be shown&mdash;Select input fields that should be made
available when the Parameter Set rule condition is satisfied.</p>
<p>f.  Click Save.</p>
</li>
</ol>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="13">
<li>
<p>Click Preview to validate the definitions that you have added and
make corrections, if required.</p>
</li>
<li>
<p>Click Add.</p>
</li>
</ol>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="23">
<li>The data type that you added is displayed in the tabular list on the
Data Types screen. You can now create a workflow and use this data
type in the workflow input. Similar to workflows, you can define the
Parameter Set rules at custom data type level.</li>
</ol>
<h2 id="data-type-parameter-set-rule">Data Type Parameter Set Rule</h2>
<p>When you create a composite data type, you can specify the fields for
the data type. After you define the fields, you can set a Parameter Set
rules. The Parameter Set rule control the availability of specific
parameters or inputs during the execution. After the first input is
specified, the Parameter Set rule controls which subsequent input fields
are made available during the execution.</p>
<p><strong>Note:</strong> You can define a Parameter Set rule only for a custom data
type that has more than two input fields with the supported data type.</p>
<p>The supported data types for the Parameter Set rules are:</p>
<ul>
<li>
<p>Boolean</p>
</li>
<li>
<p>Enum</p>
</li>
<li>
<p>String Object Selector</p>
</li>
<li>
<p>MoReference</p>
</li>
</ul>
<p>Example: The following example shows how to create a Parameter Set rule
for a composite data type with four fields. The composite data type
fields are:</p>
<ul>
<li>
<p>Cluster Type&mdash;Type is <em>Enum</em> and Enum list is <em>VM</em> and <em>HX</em>.</p>
</li>
<li>
<p>VMware Cluster&mdash;Type is <em>String</em>.</p>
</li>
<li>
<p>HX Cluster&mdash;Type is <em>String</em>.</p>
</li>
<li>
<p>Cluster Description&mdash;Type is <em>String</em>.</p>
</li>
</ul>
<p>You can create two Parameter Set rules. During the execution when the
Cluster Type value is <em>VM</em> only VMware Cluster field is made available.
Alternately, when the Cluster Type value is <em>HX</em>, only HX Cluster is
made available. The details of the Parameter Set rules are:</p>
<ul>
<li>
<p>Rule1&mdash;If Field is <em>Cluster Type</em>, Condition is <em>Equal to</em>, Value
is <em>VM</em>, and Fields to be shown is <em>VMware Cluster.</em></p>
</li>
<li>
<p>Rule2&mdash;If Field is <em>Cluster Type</em>, Condition is <em>Equal to</em>, Value
is <em>HX</em>, and Fields to be shown is <em>HC Cluster.</em></p>
</li>
</ul>
<h2 id="cloning-a-data-type">Cloning a Data Type</h2>
<p>You can clone a data type. The cloned data type is identical to the
original data type. You can edit the new data type immediately. You
might do this, for example, to create a data type that is similar to the
source data type that can be edited based on your requirements. The new
data type has a new, separate version history.</p>
<p>To clone a data type, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Data Type.</p>
</li>
<li>
<p>From the tabular list of data types, select a data type and choose
Clone.</p>
</li>
<li>
<p>In the Clone Data Type screen, edit the user-friendly short name,
reference name, description, and organization details. The
organization mappings are displayed only for pre-canned data types
and not for the custom data types.</p>
</li>
<li>
<p>Check the Open Clone in Editor check box if you want to open the
cloned data type and edit the details.</p>
</li>
<li>
<p>Click Clone.</p>
</li>
</ol>
<h2 id="exporting-a-data-type">Exporting a Data Type</h2>
<p>Intersight Cloud Orchestrator enables you to export data types from an
account to your system and then import them to another account.</p>
<p>To export a data type, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Data Type.</p>
</li>
<li>
<p>From the tabular list of data types, do one of the following:</p>
</li>
</ol>
<ul>
<li>
<p>Select a data type, click the Ellipsis (&hellip;) icon in the same row,
and then choose Export Data Type.</p>
</li>
<li>
<p>Select multiple data types, click the Ellipsis (&hellip;) icon from the
header or footer of the tabular list, and then choose Export Data
Type.</p>
</li>
</ul>
<ol start="4">
<li>
<p>In the Export Data Type screen:</p>
<p>a.  In the JSON File Name field, use the default filename or enter a
filename of your choice for the JSON file that stores the data
type components.</p>
<p>b.  Use the Export Tags toggle button to include or exclude the
user-defined tags. ICO does not export the system-defined tags.</p>
<p>c.  Click Export.</p>
<p>d.  Save a local copy of the JSON file.</p>
</li>
</ol>
<h2 id="importing-a-data-type">Importing a Data Type</h2>
<p>Intersight Cloud Orchestrator enables you to import data types to your
account by importing a JSON file that contains the data type components.
You can create the JSON file by exporting the data type components from
another account.</p>
<p>To import a data type, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Data Type.</p>
</li>
<li>
<p>Click Import.</p>
</li>
</ol>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="24">
<li>The Import wizard appears.</li>
</ol>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="4">
<li>
<p>In the Select File screen:</p>
<p>a.  From the Organization drop-down list, choose the organization to
which you want to import the data type(s).</p>
<p>b.  Click Browse, and then select the JSON file that contains the
data type(s).</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Ensure that the file size of the JSON file is not more than
1MB. If the file size is more than 1MB, export the data type(s) in
batches, and then try import.</p>
</blockquote>
<p>c.  Click Next.</p>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="25">
<li>Intersight Cloud Orchestrator validates the JSON file and displays
<blockquote>
<p>the data type(s) in the Details screen.</p>
</blockquote>
</li>
</ol>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="5">
<li>
<p>In the Details screen:</p>
<p>a.  To associate an additional tag to the components listed in the
table, enter the tag in the Set Tags field.</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Set Tags is an optional field. You must enter the tag in the
key:value format.</p>
</blockquote>
<p>b.  If one or more data type components are already available in the
system, choose a rule to replace or skip the duplicate components.</p>
<p>c.  Click Import.</p>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ol start="6">
<li>
<p>In the Import Result screen:</p>
<p>a.  Verify the status of the imported data type(s).</p>
<p>b.  If you want to view the details of the import request:</p>
</li>
</ol>
<ul>
<li>
<p>Click the link displayed above the table.</p>
</li>
<li>
<p>Alternatively, click the Requests icon displayed in the menu bar.</p>
</li>
</ul>
<pre tabindex="0"><code>&lt;!-- --&gt;
</code></pre><ul>
<li>
<p>For more information, see
<a href="/docs/ico/wokflowdesigner/#requests">Requests</a>.</p>
<p>a.  Click Close.</p>
</li>
</ul>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-d9df99bb438514660e58283c6bc600ea">4.4 - Sample Topic</h1>
    <div class="lead">Workflow Designer helps you create new workflows (as well as tasks and data types) and also edit existing workflows to manage targets in Cisco Intersight.</div>
	<blockquote>
<p><strong>Note:</strong> To execute the new tasks for VMware vCenter networking
operations, you should upgrade to Intersight Assist version 1.0.9-278.</p>
</blockquote>
<p>

<div class="alert alert-primary" role="alert">


    <h4 id="important">Important:</h4>
<ul>
<li>
<p>The Orchestration option is visible in the left panel
only if you have installed the Intersight Premier license.</p>
</li>
<li>
<p>Only an Account Administrator or a user with the Workflow Designer
privilege can use the Workflow Designer to create and edit
workflows.</p>
</li>
</ul>


</div>

To launch the Workflow Designer, choose Orchestration <strong>&gt;</strong> Workflows.
A dashboard displays the following details under these tabs, namely, My
Workflows, Sample Workflows, and All Workflows:</p>
<ul>
<li>
<p>Validation Status</p>
</li>
<li>
<p>Last Execution Status</p>
</li>
<li>
<p>Top Workflows by Execution Count</p>
</li>
<li>
<p>Top Workflow Categories</p>
</li>
<li>
<p>Number of System Defined Workflows</p>
</li>
<li>
<p>Top Workflows by Targets</p>
</li>
</ul>
<p>Using the dashboard, you can create, edit, clone, or delete a tab. To
create your own custom view tab, click + and specify a name and then
choose the required parameters that need to be displayed in the columns,
tag columns, and widgets. You can rename the tabs if it does not have a
Lock icon.</p>
<p>Below the dashboard is a tabular list of workflows displaying the
following information:</p>
<ul>
<li>
<p>Display Name</p>
</li>
<li>
<p>Description</p>
</li>
<li>
<p>System Defined</p>
</li>
<li>
<p>Default Version</p>
</li>
<li>
<p>Executions</p>
</li>
<li>
<p>Last Execution Status</p>
</li>
<li>
<p>Validation Status</p>
</li>
<li>
<p>Last Update</p>
</li>
<li>
<p>Organization</p>
</li>
</ul>
<p>The Actions column allows you to do the following actions:</p>
<ul>
<li>
<p><strong>Execute</strong>&mdash;Executes the workflow.</p>
</li>
<li>
<p><strong>History</strong>&mdash;Displays workflow execution history.</p>
</li>
<li>
<p><strong>Manage Versions</strong>&mdash;create and manage versions for workflows. See
<a href="#managing-versions-for-workflows">Managing Versions for Workflows</a>.</p>
</li>
<li>
<p><strong>Delete</strong>&mdash;Delete a workflow.</p>
</li>
<li>
<p><strong>Retry</strong>&mdash;Retry a failed workflow.</p>
</li>
</ul>
<h2 id="creating-a-workflow">Creating a Workflow</h2>
<p>Workflow creation can be broken down into the following sequence of
steps:</p>
<ol>
<li>
<p><strong>Defining a workflow</strong>&mdash;you specify the display name, description, and
other important attributes.</p>
</li>
<li>
<p><strong>Defining workflow inputs, workflow variables, and workflow
outputs</strong>&mdash;you can specify which input parameters are mandatory for
the workflow execution, define variable(s) for workflow, and the
output(s) generated on successful execution.</p>
</li>
<li>
<p><strong>Adding workflow tasks</strong>&mdash;you can add one or more workflow tasks in
the Workflow Designer that are needed for the workflow to carry out
its function.</p>
</li>
<li>
<p><strong>Validate the workflow</strong>&mdash;you can validate a workflow to ensure that
there are no errors in connecting task inputs and outputs.</p>
</li>
</ol>
<h2 id="defining-a-workflow">Defining a Workflow</h2>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Choose Create Workflow. The Create Workflow screen is categorized
into the following areas to help you create a workflow:
The following table describes the options available to you while
creating a workflow:</p>
</li>
</ol>
<table>
<thead>
<tr>
<th>Workflow Designer Area/Option</th>
<th>Description</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>General Tab</strong></td>
<td>Displays workflow details, and also inputs, variables, and outputs of the workflow.</td>
<td>You can add a user-friendly short name, reference name, description, and assign an organization to the workflow. You can also specify a version or set a tag to the workflow. In order to categorize your workflow, use the tag key Category and provide an appropriate category value. Use the following checkboxes to:<BR> <strong>Set as Default Version</strong>&mdash;Sets this version as the default version for the workflow. <BR><strong>Retryable</strong>&mdash;Execute the workflow from the point of a failure or retry the execution of the entire workflow. You can retry the execution of the workflow for up to two weeks after the last update to the workflow. <BR><strong>Enable Debug Logs</strong>&mdash;Collects the workflow logs for each tasks. You can analyze and debug the workflow execution. <BR><strong>Workflow Inputs</strong>&mdash;You can click Add Workflow Input and add workflow inputs. Each input has a user-friendly display name, a reference name, description, restrictions, and data type. Also, you can set a default value and encrypt it. For more information, see <a href="#defining-workflow-inputs-variables-and-outputs">Defining Workflow Inputs, Variables, and Outputs</a>. <BR><strong>Workflow Variable</strong>&mdash;You can click Add Workflow Variable and add a workflow variable. Each workflow variable has a reference name, data type, and so on. Also, you can set a default value. For more information, see <a href="#defining-workflow-inputs-variables-and-outputs">Defining Workflow Inputs, Variables, and Outputs</a>. <BR><strong>Workflow Outputs</strong>&mdash;You can click Add Workflow Output and add workflow outputs. Each output has a user-friendly display name, a reference name, description, restrictions, and data type. Also, you can encrypt a value and map it to task output.</td>
</tr>
<tr>
<td><strong>Designer Tab</strong></td>
<td>Displays the design area where you synthesize your workflow.</td>
<td>Categorized into the following areas to help you create a workflow: <ul><li><strong>Tools Area</strong>&mdash;lists all the tasks, workflows, and operations that are currently available in Intersight. You can drag and drop a task or a workflow to the canvas to create or edit the workflow. You can collapse or expand the Tools area. You can use the Search feature to find a specific task or workflow. </li> <li><strong>Design Area</strong>&mdash;where you can build your workflow. Drag and drop tasks and workflows from the Tools area to this area of the screen. This area includes the following options that you can use while creating the workflow: <ul><li><strong>Zoom in and Zoom out</strong>&mdash;Magnify or reduce the view of the workflow. </li> <li> <strong>Auto Align Workflow</strong>&mdash;Automatically align the workflow tasks in the design area. </li> <li> <strong>Auto Align Selected Workflow Entities</strong>&mdash;Align selected workflow entities in the design area. </li> <li><strong>Toggle Task Search</strong>&mdash;Search for a specific task within the workflow. This is useful when you have several tasks within the workflow. </li> <li><strong>Auto Connect Selected Workflow Entity</strong>&mdash;Add the workflow entity in the design area. You can drag and drop a task in between the tasks. The possible locations where the selected task can be added is denoted with + icon.</li></ul></ul></td>
</tr>
<tr>
<td><strong>Mapping Tab</strong></td>
<td>Displays the relationship between the task inputs and the outputs of the selected workflow. Information on workflow inputs and workflow outputs is also displayed.</td>
<td>Expand and collapse the <strong>Task Inputs</strong> and <strong>Task Outputs</strong> pane.</td>
</tr>
<tr>
<td><strong>Code Tab</strong></td>
<td>Displays the code view of the workflow definition</td>
<td>Read-only view of the workflow. You can copy the code, use this as a sample to create a workflow using Intersight APIs.</td>
</tr>
<tr>
<td><strong>History Tab</strong></td>
<td>Status of the executed/in-progress workflows. This tab appears after executing a workflow.</td>
<td>View workflow execution history, retry or clone a previous execution. The system displays a maximum of 100 instances of the workflow execution. The workflow execution is populated for each version of the workflow.<BR> <strong>Note:</strong> When a workflow is successfully executed, the options for retrying the workflow are not displayed. You can retry a failed workflow only when the <strong>Retryable</strong> option is enabled in the <strong>General</strong> tab.</td>
</tr>
<tr>
<td><strong>Execute</strong></td>
<td>Launches the Enter Workflow Inputs window.</td>
<td>Choose the Organization and the Workflow instance name to execute the workflow. For user-created workflows, the organization must match where it was created.</td>
</tr>
<tr>
<td><strong>Save Workflow</strong></td>
<td>Validates and saves the workflow.</td>
<td>Review validation errors, if any, and rectify them.</td>
</tr>
<tr>
<td><strong>Close Designer</strong></td>
<td>Closes the Workflow Designer.</td>
<td>Closes the Workflow Designer and displays the table view of available workflows.</td>
</tr>
</tbody>
</table>
<h2 id="requests">Requests</h2>
<p>Requests are closely related to workflows. You create requests by
running workflows; a request is generated every time you execute a
workflow in Cisco Intersight. A request is a process under the control
of Cisco Intersight.</p>
<p>You can schedule a workflow for later execution, and Cisco Intersight
stores details of completed requests. To view the detailed information
of a request, choose a request. The following information is displayed
in the <strong>Requests</strong> screen:</p>
<ul>
<li>
<p><strong>Status</strong>&mdash;Displays the status of a workflow. Request can have one of
several states depending on its execution status:</p>
<ul>
<li>
<p>Running</p>
</li>
<li>
<p>Blocked (for example, awaiting an approval)</p>
</li>
<li>
<p>Completed</p>
</li>
<li>
<p>Failed (a request can fail when one of its component tasks fails
to execute properly)</p>
</li>
</ul>
</li>
<li>
<p><strong>Details</strong>&mdash;Displays the request details such as name, request ID,
target name and type, source name and type, name of the user who has
executed the request along with the start time and end time, and
duration of the request.</p>
</li>
<li>
<p><strong>Inputs</strong>&mdash;Displays the workflow input details</p>
</li>
<li>
<p><strong>Outputs</strong>&mdash;Displays the workflow output details</p>
</li>
<li>
<p><strong>Execution Flow</strong>&mdash;Enable Show Additional Details to view the logs,
input, and output mapping details of the user-defined workflows.
Displays the workflow execution history details similar to the
details displayed in the History tab.</p>
</li>
</ul>
<h2 id="defining-workflow-inputs-variables-and-outputs">Defining Workflow Inputs, Variables, and Outputs</h2>
<p>Workflows can have any number of tasks, inputs, variables, and outputs.</p>
<p>Any task or workflow input can be either mandatory or optional. A task
or workflow cannot run without all of its mandatory inputs. You define
whether an input is mandatory or optional when you create the task or
workflow.</p>
<p>After specifying the generic properties for a task or workflow, you
define the input parameters and variables required for task or workflow
execution. In addition, you can set workflow input Parameter Set or
Progressive Disclosure rules. These rules control the availability of
workflow inputs or filter the data based on the preceding selection
during the workflow execution. The Task Designer uses the same
parameters and information types as the workflow designer to validate
the mappings of task input and output parameters when a task is used in
a workflow along with other tasks. Task designer uses the same form as
workflow designer to obtain the parameter and information type so as
provide same user experience between workflow designer and task
designer.</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane and click Create
Workflow.</p>
</li>
<li>
<p>In the General tab, click Add Workflow Input in the Workflow Inputs
tab.</p>
</li>
<li>
<p>In the Add Workflow Input screen, enter the following details:</p>
<p>a.  Display Name&mdash;Enter user-friendly short name.</p>
<p>b.  Reference Name</p>
<p>c.  Description&mdash;Detailed description of the input</p>
<p>d.  Value Restrictions&mdash;Choose Required, Collection/Multiple, or
can be left blank</p>
<p>e.  Type&mdash;Select a data type. For example, String, Integer, Float,
Boolean, Json, Enum, MoReference, Target Data Type, or a custom
data type.</p>
</li>
<li>
<p>The fields displayed depend on the value you select for the Type field.</p>
<p>a.  If you select the data type as Enum, specify the following:</p>
<pre><code>i.  Enum List---Label for the Enum value.

ii. Widget type.

iii. Set Default Value---Select the checkbox and select the
     corresponding default value.

iv. Override---Allow the user to override the default value.
</code></pre>
<p>b.  If you select the data type as String, specify the following:</p>
<pre><code>i.  Minimum and Maximum Range

ii. Regex---Validates the regular expression when you select
    String in the Type field.

iii. Secure---Indicates that the values of these properties are
     encrypted and stored in Cisco Intersight.

iv. Object Selector---Enable to configure the Intersight managed
    object selectors. This attribute is available only when the
    primitive data is String.
</code></pre>
</li>
<li>
<p>Specify the Intersight API Reference and selector attributes to feed the input from the table selection. Value will be passed according to the configuration set in the Value attribute.</p>
<p>a.  If you select the data type as Integer or Float, specify the
following:</p>
<pre><code>i.  Minimum and Maximum Range

ii. Set Default Value---Select the checkbox and the
    corresponding default value.
</code></pre>
<p>b.  If you select the data type as Target Data Type or MoReference,
specify the following:</p>
<pre><code>i.  Intersight API Reference---Enter the URL of the Intersight
    API configured with parameters.

ii. Selector Attribute---Enter the attribute name(s) that needs
    to be displayed in the input table column. You can add
    multiple selector attributes by clicking +.
</code></pre>
<p>c.  If you select the data type as Composite Data Type, you can
specify the field mapping for the input field. With field
mapping, you can pass the value of workflow input to a composite
data field.</p>
</li>
<li>
<p>To pass the value from the parent composite data type to a child composite data type, you must specify the field mapping in the composite data type field. For more information, see <a href="/docs/ico/datatype/">Creating a Data Type</a>.</p>
</li>
<li>
<p>To specify the field mapping, do the following:</p>
<p>i.  Key&mdash;The input field that you want to hide.</p>
<p>ii. Value Attribute&mdash;The value in a template style to be passed
dynamically during the execution.</p>
</li>
<li>
<p>If the data type is Object Selector, Enum, or Boolean then the input is referenced as \${workflow.input.InputReferenceName}.</p>
</li>
<li>
<p>If the data type is MoReference or Target Data Type the input is</p>
<blockquote>
<p>referenced as \${workflow.input.InputReferenceName.AttributeName}.</p>
</blockquote>
</li>
<li>
<p>The InputReferenceName is the Reference Name given to the input</p>
<blockquote>
<p>field and not the Display Name or Label.</p>
</blockquote>
</li>
<li>
<p>Click Add.</p>
</li>
<li>
<p>Repeat this procedure to create multiple inputs.</p>
</li>
<li>
<p>To add a Parameter Set rule, click Add Rule &gt; Parameter Set.</p>
</li>
<li>
<p>For more information, see Workflow <a href="#progressive-disclosure-rule">Workflow Input Parameter Set and Progressive Disclosure Rules</a>.</p>
<p>a.  Name&mdash;The name of the Parameter Set rule.</p>
<p>b.  If Field&mdash;Select the input field and the properties that will
be used to define the Parameter Set rule.</p>
</li>
<li>
<p>The inputs are referenced as <em>InputName</em> or <em>InputName.Properties</em>. <BR> <strong>Note:</strong> The properties are applicable only if the data type is MoRefefence or Target Data Type. For example, for a Target Data Type input field (DeviceRegistrations), you can specify <em>HypervisorManager.IP Address</em>.
a.  <strong>Condition</strong>&mdash;The condition for the rule. The condition can be Equal
to, Not equal to, Contains, or Matches Pattern.</p>
<p>b.  <strong>Value</strong>&mdash;Select or enter the value. The Parameter Set rule uses this
value along with the Condition specified to compare the value from
the If Field.</p>
<p>c.  <strong>Field to be shown</strong>&mdash;Select the input field(s) that should be made
available when the Parameter Set rule condition is satisfied.</p>
<p>d.  Click <strong>Save</strong>.</p>
</li>
<li>
<p>To add a Progressive Disclosure rule, click Add Rule &gt; Progressive
Disclosure. <BR> For more information, see <a href="#progressive-disclosure-rule">Workflow Input Parameter Set and     Progressive Disclosure Rules</a>.</p>
<p>a.  <strong>Target Field</strong>&mdash;The target input field on which the progressive
disclosure is applied.</p>
<p>b.  <strong>Attribute</strong> &mdash;The inputs are referenced as
<em>AttributeName.ParameterName</em>. For example, for an input field,
Virtual Manager, you can specify the attribute name as
<em>RegisteredDevice.Moid</em> or <em>ConnectionStatus</em>.</p>
<p>c.  <strong>Condition</strong>&mdash;The rule condition for the rule. The condition can
be Equal to, Not equal to, or Contains.</p>
<p>d.  <strong>Value</strong>&mdash;The inputs are referenced as
\${InputReferenceName.Attribute} or
\${InputReferenceName.ParameterName}. For example, for a VM
input field, you can specify the value as
\${HypervisorManager.Moid} or \${Target.ConnectionStatus}. <BR> <strong>Note:</strong> For a String input field, if you have selected the Object Selector option then you need not specify the Attribute or Parameter value.</p>
</li>
<li>
<p>In the General tab, click Add Workflow Variables in the Workflow
Variables tab. For more information, see <a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Workflow
Variables</a>.</p>
</li>
<li>
<p>In the Add Workflow Variable screen, enter the following details:</p>
<p>a.  <strong>Reference Name</strong>&mdash;Enter user-friendly short name.</p>
<p>b.  <strong>Type</strong>&mdash;Select the data type. For example, String, Integer,
Float, Boolean, Json, Enum, MoReference, or Target Data Type.</p>
</li>
<li>
<p>The fields displayed depend on the value you select for the Type field.
a.  If you select the data type as String, specify the following:
i.  <strong>Object Selector</strong>&mdash;Enable to configure the Intersight managed
object selectors. <BR> The Object Selector field is optional.
a.  Specify the Intersight API Reference and selector attributes to feed the input from the table selection. The value will be passed according to the configuration set in the Value attribute.
b. If you select the data type as Enum, specify the following:
i.  <strong>Enum List</strong>&mdash;Label and value for the Enum list.
ii. <strong>Widget type</strong>&mdash;The widget type as Radio or none.</p>
<p>b.  If you select the data type as Target Data Type or MoReference,
specify the following:
i.  <strong>Intersight API Reference</strong>&mdash;Enter the URL of the Intersight
API configured with parameters.
ii. <strong>Selector Attribute</strong>&mdash;Enter the attribute name(s) that needs
to be displayed in the input table column. You can add
multiple selector attributes by clicking +.
c.  Select the Initial Mapping To type and specify the corresponding
variable value.</p>
<p>d.  Click <strong>Add</strong>.</p>
</li>
<li>
<p>Click <strong>Workflow Outputs</strong> and click <strong>Add Workflow Output</strong>.</p>
</li>
<li>
<p>Choose a parameter and click <strong>Add</strong>.</p>
</li>
<li>
<p>Click <strong>Save</strong>.</p>
</li>
</ol>
<h3 id="workflow-input-parameter-set-and-progressive-disclosure-rules">Workflow Input Parameter Set and Progressive Disclosure Rules</h3>
<p>When you create a workflow, you can specify the inputs for the workflow execution. After you define the workflow inputs, you can set Parameter Set or Progressive Disclosure rules. These rules control the availability of workflow inputs or filter the data based on the
preceding selection during the workflow execution.</p>
<blockquote>
<p><strong>Note:</strong> You can define a Parameter Set or Progressive Disclosure rule only for a workflow that has more than two input fields with the supported data type.</p>
</blockquote>
<h4 id="parameter-set-rule">Parameter Set Rule</h4>
<p>The Parameter Set rules control the availability of specific parameters
or inputs during the execution. After the first input is specified, the
Parameter Set rule controls which subsequent input fields are made
available during the workflow execution.</p>
<p><strong>Example:</strong> The following example shows how to create a Parameter Set
rule for a workflow with three input fields. The workflow input fields
are:</p>
<ul>
<li>
<p>Enum&mdash;Type is <em>Enum</em> and Enum list is <em>VM</em> and <em>HX</em>.</p>
</li>
<li>
<p>Input1&mdash;Type is <em>String</em>.</p>
</li>
<li>
<p>Input2&mdash;Type is <em>String</em>.</p>
</li>
</ul>
<p>You can create two workflow input Parameter Set rules. During the
workflow execution when the Enum value is <em>VM</em> only Input1 field is made
available. Alternately, when the Enum value is <em>HX</em>, only Input2 is made
available. The details of the Parameter Set rules are:</p>
<ul>
<li>
<p>Rule1&mdash;If Field is <em>Enum</em>, Condition is <em>Equal to</em>, Value is <em>VM</em>,
and Fields to be shown is <em>Input1.</em></p>
</li>
<li>
<p>Rule2&mdash;If Field is <em>Enum</em>, Condition is <em>Equal to</em>, Value is <em>HX</em>,
and Fields to be shown is <em>Input2.</em></p>
</li>
</ul>
<p>The following is a sample of the API request.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#a40000">  \</span><span style="color:#4e9a06">&#34;InputParameterSet\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ControlParameter\&#34;: \&#34;Enum\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;EnableParameters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Input1\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;Rule1\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.ParameterSet\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Value\&#34;: \&#34;VM\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ControlParameter\&#34;: \&#34;Enum\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;EnableParameters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Input2\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;Rule2\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.ParameterSet\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Value\&#34;: \&#34;HX\&#34;</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">    },</span>
</span></span></code></pre></div><p>The supported data types for Parameter Set rules are:</p>
<ul>
<li>
<p>Boolean</p>
</li>
<li>
<p>Enum</p>
</li>
<li>
<p>String Object Selector</p>
</li>
<li>
<p>MoReference</p>
</li>
<li>
<p>Target</p>
</li>
</ul>
<h4 id="progressive-disclosure-rule">Progressive Disclosure Rule</h4>
<p>The Progressive Disclosure rules filter the data available in an input
field based on the preceding selection during a workflow execution. The
first input field is populated with broadest options. The subsequent
input fields are populated with options based on the previous selection.</p>
<p><strong>Example 1:</strong> The following example shows how to create a Progressive
Disclosure rule for a workflow with two input fields. Both these input
fields are MoReference data type. The workflow input fields are:</p>
<ul>
<li>
<p><strong>Field1</strong>&mdash;Type is <em>MoReference</em>, Intersight API Reference is
<em>/api/v1/asset/DeviceRegistrations</em>, and Selector attribute is
ConnectionStatus.</p>
</li>
<li>
<p><strong>Field2</strong>&mdash;Type is <em>MoReference</em>, Intersight API Reference is
<em>/api/v1/asset/DeviceRegistrations</em>, and Selector attribute is
ConnectionStatus.</p>
</li>
</ul>
<p>You can create a Progressive Disclosure rule so that during the workflow
execution, the data is filtered for Field2 fields based on value in the
Field1 field. The details of the Progressive Disclosure rule are:</p>
<ul>
<li><strong>Field2 Rule</strong>&mdash;Target Field is Field2, Attribute is ConnectionStatus,
Condition is <em>Equal to</em>, and Value is \${Field1.ConnectionStatus}.</li>
</ul>
<p><strong>Example 2:</strong>: The following example shows how to create a Progressive
Disclosure rule for a workflow with two input fields. Both these input
fields are composite custom data type. The workflow input fields are:</p>
<ul>
<li>
<p><strong>Input1</strong>&mdash;Composite data type with two fields (Field1 and Field2)</p>
<ul>
<li>
<p><strong>Field1</strong>&mdash;Type is <em>MoReference</em>, Intersight API Reference is
<em>/api/v1/asset/DeviceRegistrations</em>, and Selector attribute is
ConnectionStatus.</p>
</li>
<li>
<p><strong>Field2</strong>&mdash;Type is <em>MoReference</em>, Intersight API Reference is
<em>/api/v1/asset/DeviceRegistrations</em>, and Selector attribute is
ConnectionStatus.</p>
</li>
</ul>
</li>
<li>
<p><strong>Input2</strong>&mdash;Composite data type with two fields (Field3 and Field4)</p>
<ul>
<li>
<p><strong>Field3</strong>&mdash;Type is <em>MoReference</em>, Intersight API Reference is
<em>/api/v1/asset/DeviceRegistrations</em>, and Selector attribute is
ConnectionStatus.</p>
</li>
<li>
<p><strong>Field4</strong>&mdash;Type is <em>MoReference</em>, Intersight API Reference is
<em>/api/v1/asset/DeviceRegistrations</em>, and Selector attribute is
ConnectionStatus.</p>
</li>
</ul>
</li>
</ul>
<p>You can create two Progressive Disclosure rules. During the workflow
execution, the data is filtered for Input2 fields based on value in the
Input1 fields. The details of the two Progressive Disclosure rules are:</p>
<ul>
<li>
<p><strong>Input2.Field3 Rule</strong>&mdash;Target Field is Input2.Field3, Attribute is
ConnectionStatus, Condition is <em>Equal to</em>, and Value is <em>${Input1.Field1.ConnectionStatus}</em>.</p>
</li>
<li>
<p><strong>Input2.Field4 Rule</strong>&mdash;Target Field is Input2.Field4, Attribute is
ConnectionStatus, Condition is <em>Equal to</em>, and Value is <em>${Input1.Field2.ConnectionStatus}</em>.</p>
</li>
</ul>
<p>The following is a sample of the API request.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#a40000">  \</span><span style="color:#4e9a06">&#34;UiInputFilters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Filters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;ConnectionStatus eq \&#39;\${Input1.Field1.ConnectionStatus}\&#39;\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;Input2.Field3\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.UiInputFilter\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;UserHelpMessage\&#34;: \&#34;\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Filters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;ConnectionStatus eq \&#39;\${Input1.Field2.ConnectionStatus}\&#39;\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;Input2.Field4\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.UiInputFilter\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;UserHelpMessage\&#34;: \&#34;\&#34;</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">    }\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">  \]</span>
</span></span></code></pre></div><p>The supported data types for the Progressive Disclosure rules are:</p>
<ul>
<li>
<p>MoReference</p>
</li>
<li>
<p>Target</p>
</li>
<li>
<p>String Object Selector</p>
</li>
</ul>
<h3 id="workflow-variables">Workflow Variables</h3>
<p>Workflow variables are similar to local variables within functions of a
programming language. You define variables for workflows in Workflow
Designer, and the scope of the workflow variables lies within the
defined workflow. In a workflow, all tasks are bound to the scope of the
workflow and have access to the workflow variables that are defined for
the workflow. You can use the workflow variable to do the following:</p>
<ul>
<li>
<p>Simplify complex workflows which have multiple branches based on the
conditional operator. Save the output of tasks that get executed in
different branches of the workflow into a single variable. This
variable can then be mapped in the downstream tasks irrespective of
the branch from which it was taken.</p>
</li>
<li>
<p>Evaluate the workflow input using a complex expression, save the
result as a variable, and reuse the variable in the subsequent
tasks.</p>
</li>
<li>
<p>Transform the output of a task with the help of template functions
and map the value into a workflow variable. The variables can then
be used in multiple mappings without having to redo the
transformation in every mapping.</p>
</li>
</ul>
<p>To define the workflow variable and specify the corresponding value, you
can do the following:</p>
<ul>
<li>
<p>In the General tab, click Add Workflow Variable and define the
variable properties.</p>
</li>
<li>
<p>In the Designer tab, click the task, and then click the Variables
tab.</p>
<ul>
<li>
<p>To add a new workflow variable, click Add Workflow Variable and
define the variable properties.</p>
</li>
<li>
<p>To add or edit a mapping to an existing variable, click Edit
Mapping and specify the new value.</p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> To view events for a workflow variable, click the <strong>View</strong> icon.</p>
</blockquote>
<p>The workflow variables can be assigned one of the following values:</p>
<ul>
<li>
<p>Static value&mdash;Either the default value of the variable or the value
specified in the workflow tasks.</p>
</li>
<li>
<p>Direct mapping &mdash;Mapped to a workflow input, task output, or
another workflow variable.</p>
</li>
<li>
<p>Advanced or Transformational mapping&mdash;Evaluate a complex expression
and save the result in a variable.</p>
</li>
</ul>
<p>After you define the workflow variable, you can map the workflow
variable to task input, workflow output, or as an input for another
variable. For more information, see [Input, Variable, and Output
Mapping]{.underline}.</p>
<p>Following is a simple example which explains static mapping for a
workflow variable. A workflow has two tasks <em>Task1</em> and <em>Task2</em> and a
workflow variable <em>Variable1</em> is defined with a default value as <em>100</em>.
For <em>Task1</em>, in the Variable tab for the task, you can specify a static
mapping for the workflow variable value as 90. Similarly, for <em>Task2</em>,
in the Variable tab for the task, you can specify the workflow variable
value as 80 by mapping the <em>Variable1</em> value.</p>
<p>When you execute the workflow, the start value of <em>Variable1</em> is the
default value <em>100</em> . After <em>Task1</em> is executed, the value of
<em>Variable1</em> is set to <em>90</em> based on the static value that is mapped for
the task. After <em>Task2</em> is executed, the value of <em>Variable1</em> is set to
<em>80</em> based on the static value that is mapped for the task.</p>
<h3 id="input-variable-and-output-mapping">Input, Variable, and Output Mapping</h3>
<p>Workflows inputs, variables, and task outputs can be used for mapping
and they can be used as direct, transformed, or advanced mapping. The
syntax to refer to these will depend on the type of mapping.</p>
<ul>
<li>
<p>Workflow inputs are referenced as <em>${workflow.input.InputName}</em> where
InputName is the Reference Name given to the workflow input and not
the Display Name or Label.</p>
</li>
<li>
<p>Workflow variables are referenced as <em>${workflow.variable.InputName}</em>
, where InputName is the Reference Name for the workflow variable.</p>
</li>
<li>
<p>Task outputs are referenced as <em>${TaskName.output.OutputName}</em> where
TaskName is the Instance Name for the task and not the Display Name
or Label and OutputName is the Reference Name for the task output.</p>
</li>
</ul>
<p>To specify an input mapping, select a task and click Edit against a task
input parameter.</p>
<p>To specify a workflow variable mapping, select a task and click Map
against a workflow variable parameter.</p>
<p>Following are the available options:</p>
<ul>
<li>
<p><strong>Static Value</strong>&mdash;Enter a value that is assigned to the task input or
workflow variable field.</p>
</li>
<li>
<p><strong>Direct Mapping</strong>&mdash;Map an existing input, workflow variable, or task
output to the task input.</p>
</li>
<li>
<p><strong>Transformed Mapping</strong>&mdash;Allows applying data transformation through a
combination of one or more transformation stages for a task\&rsquo;s
input. In each transformation stage, you can select a transformation
function along with its inputs. The transformation stages will be
converted into a template. You can then preview the template and
test the transformation with sample values.</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> Transformed mapping is only supported for task inputs of &gt; primitive data types, such as <em>string</em>, <em>integer</em>, <em>boolean</em>, and <em>float</em>.</p>
</blockquote>
<ul>
<li>
<p><strong>Advanced Mapping</strong>&mdash;Map a Golang template to the task input or
workflow variable. For example, FindAllString function returns a
slice of all substrings that match the given regular expression in
the given string.</p>
</li>
<li>
<p>FindAllString(s, regex string) ([]string, error)\
Example: {{(FindAllString .global.task.input.NumberString \\&quot;([0-9]+)\\&quot;)}} \
returns array [&ldquo;123&rdquo;, &ldquo;456&rdquo;] for input string &ldquo;123 some text 456&rdquo;.</p>
</li>
<li>
<p>For example, Atoi function converts the given number in string
format to integer type.</p>
</li>
<li>
<p>Atoi(s string) (int, error)\
Example: {{Atoi .global.task.input.SizeString}} \
returns integer 2048 for input string &ldquo;2048&rdquo;</p>
</li>
</ul>
<h3 id="operations---conditional-task">Operations - Conditional Task</h3>
<p>Operations can be used to control the execution path of the workflows.
Orchestrator supports Condition tasks which can be used to control the
tasks that need to be executed.</p>
<p><strong>Tasks to Control Execution Flow of Workflows</strong></p>
<p>The Conditional Task under Operations allows you to perform programmatic
decisional expressions in a conditional task during a workflow
execution. The conditional expression can be simple expression or a
combined compound expression.</p>
<p><strong>Note:</strong> Only JSON style template is supported with conditional
expressions.</p>
<p>Conditional expressions support the following operators:</p>
<ul>
<li>
<p><strong>Comparison operators</strong> such as === (Equal to), != (Not equal to),
&gt; (Greater than), \&lt; (Less than), &gt;= (Greater than or equal to),
\&lt;= (Less than or equal to)</p>
</li>
<li>
<p><strong>Arithmetic operators</strong> such as =, -, * (Multiplication), /
(division), % (Modulo), ** (Logical AND)</p>
</li>
<li>
<p><strong>Logical operators</strong> such as &amp;&amp; (Logical AND), || (Logical OR), !
((Logical NOT)</p>
</li>
<li>
<p><strong>Ternary operator</strong> such as condition ? val1 : val2</p>
</li>
</ul>
<p>The syntax for workflow input is \${workflow.input.\<workflow input
ReferenceName>} and the syntax for task output is \${\<Task
Name>.output.\<Task Output Name>}. You can get the values for the task
name and task output name from the Code view.</p>
<p>Following is an example for conditional expressions:</p>
<div class="highlight"><div style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#a40000">if ( (\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> != \&#39;test\&#39; \|\| \$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> != \&#39;test</span><span style="color:#0000cf;font-weight:bold">123</span><span style="color:#a40000">&#39;)) \&#39;bad input\&#39;; else if((\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.id</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> != </span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#a40000"> &amp;&amp; \$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.id</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> % </span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#a40000"> == </span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#a40000">)) \&#39;even\&#39;; else \&#39;odd\&#39;;\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">if ( (\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> != \&#39;test</span><span style="color:#0000cf;font-weight:bold">123</span><span style="color:#a40000">&#39; \|\| \$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> != \&#39;test</span><span style="color:#0000cf;font-weight:bold">123</span><span style="color:#a40000">&#39;)) \&#39;bad input\&#39;; else if((\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.id</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> != </span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#a40000"> &amp;&amp; \$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.id</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> % </span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#a40000"> == </span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#a40000">)) \&#39;even\&#39;; else \&#39;odd\&#39;;\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">if ( (\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000">.length === </span><span style="color:#0000cf;font-weight:bold">12</span><span style="color:#a40000"> \|\| \$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> !== &#39;test&#39; )) \&#39;even\&#39;; else \&#39;odd\&#39;; \&lt;\&lt; fgfgfgfgfgfg , even\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">if ( (\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000">.length === </span><span style="color:#0000cf;font-weight:bold">12</span><span style="color:#a40000"> \|\| \$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> !== &#39;test&#39; )) \&#39;even\&#39;; else \&#39;odd\&#39;; \&lt;\&lt; test , odd\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">if ( (\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> != </span><span style="color:#204a87;font-weight:bold">null</span><span style="color:#a40000"> &amp;&amp; \&#39;decisionTest\&#39;.indexOf(\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000">) != </span><span style="color:#0000cf;font-weight:bold">-1</span><span style="color:#a40000"> )) \&#39;even\&#39;; else \&#39;odd\&#39;;\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">if ( (\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000">.toLowerCase() == &#39;testing&#39;)) \&#39;even\&#39;; else \&#39;odd\&#39;; \&lt;\&lt; used integers as input name to try odd path\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">if ( (\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000">.search(/\\s/g) != </span><span style="color:#0000cf;font-weight:bold">-1</span><span style="color:#a40000">)) \&#39;even\&#39;; else \&#39;odd\&#39;;\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">if ( (\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000">.match(/\\s/g) != </span><span style="color:#0000cf;font-weight:bold">-1</span><span style="color:#a40000">)) \&#39;even\&#39;; else \&#39;odd\&#39;;\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">if ( (\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000">.startsWith(\&#39;Not\&#39;,</span><span style="color:#0000cf;font-weight:bold">0</span><span style="color:#a40000">) \|\| \$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000">.endsWith(\&#39;.\&#39;))) \&#39;even\&#39;; else \&#39;odd\&#39;;\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">if ( (\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000">.length &gt;= </span><span style="color:#0000cf;font-weight:bold">3</span><span style="color:#a40000"> &amp;&amp; \$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000">.length \&lt;= </span><span style="color:#0000cf;font-weight:bold">20</span><span style="color:#a40000">)) \&#39;even\&#39;; else \&#39;odd\&#39;;\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">if ( (\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000">. === undefined)) &#39;odd&#39;; else &#39;even&#39;;\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">if ( (\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000">.search(\&#39;Failed\&#39;) != </span><span style="color:#0000cf;font-weight:bold">-1</span><span style="color:#a40000">)) \&#39;even\&#39;; else \&#39;odd\&#39;;\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">if ( (\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000">.toLowerCase() != \&#39;\&#39; \|\| \$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#a40000">workflow.input.name</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000">.toUpperCase() != &#39;Not-assigned&#39; )) \&#39;even\&#39;; else \&#39;odd\&#39;;</span>
</span></span></code></pre></td></tr></table>
</div>
</div><p>The expression is executed during runtime and depending on the result,
the respective path is chosen. If none of the conditions match, the
default path is chosen.</p>
<p>For example, you can have a conditional task that follows a path of
execution depending on the profile state. You can create a condition in
a workflow to check the state of the profile. If the profile is in the
Assigned state then you can deploy the profile, else delete the profile.</p>
<p>After choosing the conditional task, use the Conditions tab to specify
expressions in the Condition field of the tab. The values for the
condition are specified in the Value field of the Cases area.
Expressions are validated for syntax accuracy when workflow is saved.</p>
<p>The following examples return the value of the condition.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Names</span><span style="color:#000;font-weight:bold">}.</span><span style="color:#000">length</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">ArrayOfIds</span><span style="color:#000;font-weight:bold">}.</span><span style="color:#000">length</span><span style="color:#a40000">              </span><span style="color:#000;font-weight:bold">(</span><span style="color:#000">here</span><span style="color:#a40000"> </span><span style="color:#000">ArrayOfIds</span><span style="color:#a40000"> </span><span style="color:#000">represent</span><span style="color:#a40000"> </span><span style="color:#000">an</span><span style="color:#a40000"> </span><span style="color:#000">array</span><span style="color:#000;font-weight:bold">)</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Names</span><span style="color:#000;font-weight:bold">}.</span><span style="color:#000">toLowerCase</span><span style="color:#000;font-weight:bold">()</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Names</span><span style="color:#000;font-weight:bold">}.</span><span style="color:#000">toUpperCase</span><span style="color:#000;font-weight:bold">()</span>
</span></span></code></pre></div><p>The following examples return the boolean value \&rsquo;true\&rsquo; or \&lsquo;false\&rsquo;.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Names</span><span style="color:#000;font-weight:bold">}.</span><span style="color:#000">startsWith</span><span style="color:#000;font-weight:bold">(</span><span style="color:#a40000">\&#39;</span><span style="color:#000">Te</span><span style="color:#a40000">\&#39;</span><span style="color:#000;font-weight:bold">)</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Names</span><span style="color:#000;font-weight:bold">}.</span><span style="color:#000">endsWith</span><span style="color:#000;font-weight:bold">(</span><span style="color:#a40000">\&#39;</span><span style="color:#000">st</span><span style="color:#a40000">\&#39;</span><span style="color:#000;font-weight:bold">)</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Names</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">==</span><span style="color:#a40000"> </span><span style="color:#000">null</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">\$</span><span style="color:#000;font-weight:bold">{</span><span style="color:#000">workflow</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">input</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Names</span><span style="color:#000;font-weight:bold">}</span><span style="color:#a40000"> </span><span style="color:#ce5c00;font-weight:bold">!=</span><span style="color:#a40000"> </span><span style="color:#000">null</span>
</span></span></code></pre></div><p>In addition to workflow, task output can also be used. Here a boolean
value is used in a ternary operation. If True, branch1 executes,
otherwise branch2 executes <em>${task1.output.IsValid} ? branch1 :
branch2</em>.</p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/nOeWB34SDFI" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<h3 id="operations---parallel-loop-task">Operations - Parallel Loop Task</h3>
<p>Operations can be used to control the execution path of the workflows. Orchestrator supports the Parallel Loop operation task that can be used to run a single task or sub-workflow, iteratively, based on a specified count input.</p>
<p>The iteration count can either be a static value that is specified when the workflow is created or a dynamic value that is derived from a workflow input or task output.</p>
<p>When the task is executed, the count &lsquo;N&rsquo; is determined, and the tasks or sub-workflows are scheduled for execution in parallel. When all the instances of the task or sub-workflow reach a final state, the parallel loop operation completes, and the workflow execution moves on to the next task.</p>
<p><strong>Note:</strong></p>
<p>If one of the tasks or sub-workflows fails then the entire parallel loop task fails.</p>
<p>The dynamic values for the count must be specified as a template function. For example, if a loop must run for a count which matches the length of a workflow input called <strong>StringArray</strong>, then the count must be specified using a template function <em>{{ len .global.workflow.input.StringArray }}</em>.</p>
<p>In addition, you can use the keyword <em>.iteration</em> in a workflow template input to control the inputs that feed into the task. For example, the task within the loop needs to take one value from the workflow input <strong>StringArray</strong>, then the task string input can be mapped to the template <em>HostGroupName{{.iteration}}</em> during the workflow creation.</p>
<p>Use the <strong>Parallel Loop</strong> task from the <strong>Operations</strong> section in the Intersight Orchestrator Workflow Designer UI to create a request.</p>
<p>The following table explains the task input properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Count</td>
<td>The iteration count value for the parallel loop. The count can either be a static value defined as a constant or a dynamic value defined as an expression that is evaluated to an integer value at execution time. <BR> The dynamic values for the count must be specified as a template function. For example, if a loop must run for a count which matches the length of a workflow input called <code>StringArray</code>, then the count must be specified using a template function <code>{{ len .global.workflow.input.StringArray }}</code>. <BR> The count must be less than or equal to 100.</td>
</tr>
</tbody>
</table>
<p><strong>Example: Create a workflow with the Parallel Loop task to create multiple storage host groups</strong></p>
<p>The following example workflow has two tasks&mdash;Parallel Loop and New Storage Host Group. The first task runs the Parallel Loop task. In this task, the Count input is a static value and is set to <em>2</em>. The second task, New Storage Host Group, creates storage host groups with the host group name as a workflow input.</p>
<p>When the workflow is executed, the count &lsquo;N&rsquo; is determined as 2, and two create storage host group tasks are executed in parallel. When all the instances of the task reach a final state, the parallel loop completes.</p>
<p>The workflow input field required for this example is as follows:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Storage Device</td>
<td><ul>   <li> <strong>Reference Name</strong>&mdash;<em>StorageDevice</em> </li> <li><strong>Type</strong>&mdash;<em>Target Data Type</em> </li><li> <strong>Intersight API Reference</strong>&mdash;<em>/api/v1/storage/PureArrays</em> </li>        <li><strong>Selector Attribute</strong>&mdash;<em>Name</em> </li> <li><strong>Selector Attribute</strong>&mdash;<em>Vendor</em> </li> </ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the properties for the Parallel Loop task:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Count</td>
<td><strong>Count</strong>&mdash;<em>2</em></td>
</tr>
</tbody>
</table>
<p>The following table lists the properties for the New Storage Host Group task:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Storage Device</td>
<td><strong>Workflow Input</strong>&mdash;<em>${workflow.input.StorageDevice}</em></td>
</tr>
<tr>
<td>Host Group</td>
<td><strong>Custom Value</strong>&mdash;<em>HostGroupName{{.iteration}}</em>  The keyword <em>.iteration</em> in a workflow template input to control the inputs that feed into the task.</td>
</tr>
</tbody>
</table>
<p>After you execute the workflow, you would see the following output:</p>
<pre><code>├── New Storage Host Group
├── ...
│   ├── Inputs
│   │   └── Host Group: HostGroupName0
│   │       └── Storage Device:{ 2 }
│   │           ├── Moid: 619efa1d6e64612d317a248a
│   │           └── ObjectType: storage.PureArray
│   └── Outputs
│       ├── ConfigResults:[ 1 ]
│       │   └── Object: { 4 }
│       │       ├── ConfigResCtx: { 1 }
│       │       │   └── EntityData: { 1 }
│       │       │       └── task: workflow.ApiTask
│       │       ├── Message: Host group created successfully.
│       │       ├── State: Ok
│       │       └── Type: Config
│       └── Host Group: HostGroupName0
├── New Storage Host Group
└── ...
    ├── Inputs
    │   └── Host Group: HostGroupName1
    │       └── Storage Device:{ 2 }
    │           ├── Moid: 619efa1d6e64612d317a248a
    │           └── ObjectType: storage.PureArray
    └── Outputs
        ├── ConfigResults:[ 1 ]
        │   └── Object: { 4 }
        │       ├── ConfigResCtx: { 1 }
        │       │   └── EntityData: { 1 }
        │       │       └── task: workflow.ApiTask
        │       ├── Message: Host group created successfully.
        │       ├── State: Ok
        │       └── Type: Config
        └── Host Group: HostGroupName1
</code></pre>
<p>The following is a sample code view:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;Catalog&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;Moid&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;5e6109bc696f6e2d31f856e5&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.Catalog&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;link&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;https://www.intersightcom/api/v1/workflow/Catalogs/5e6109bc696f6e2d31f856e5&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;DefaultVersion&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;Description&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;InputDefinition&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;CustomDataTypeProperties&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;CatalogMoid&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;CustomDataTypeId&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;CustomDataTypeName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.CustomDataProperty&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Default&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;IsValueSet&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.DefaultValue&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;Override&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;Value&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">null</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Description&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;DisplayMeta&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;InventorySelector&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.DisplayMeta&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;WidgetType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;None&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;InputParameters&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;IsArray&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Label&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Storage Device&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Max&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Min&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;StorageDevice&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.TargetDataType&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Properties&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;ConnectorAttribute&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;RegisteredDevice.Moid&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;ConstraintAttributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#4e9a06">&#34;ObjectType&#34;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;DisplayAttributes&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#4e9a06">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#4e9a06">&#34;Vendor&#34;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.TargetProperty&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;Selector&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;/api/v1/storage/PureArrays&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;SelectorProperty&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;Body&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;Method&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;GET&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>            <span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.SelectorProperty&#34;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>          <span style="color:#204a87;font-weight:bold">&#34;SupportedObjects&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>            <span style="color:#4e9a06">&#34;storage.PureArray&#34;</span>
</span></span><span style="display:flex;"><span>          <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Required&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;InputParameterSet&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;Label&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Parallel Loop&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;ParallelLoop&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;OutputDefinition&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;OutputParameters&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">null</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;Properties&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;Cloneable&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;EnableDebug&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;ExternalMeta&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.WorkflowProperties&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;Retryable&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;SupportStatus&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Supported&#34;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;Tags&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;Tasks&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Description&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Label&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;StartTask&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;NextTask&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;parallelLoop1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.StartTask&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Description&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Label&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;SuccessEndTask&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.SuccessEndTask&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Description&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Label&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;FailureEndTask&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.FailureEndTask&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Count&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;2&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Description&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;A Parallel Loop is a control task that runs one task or one sub-workflow multiple times based on a specified count.  The count can be a static value that is specified during design time or a dynamic value that is derived from workflow inputs or task outputs.  When the loop is executed, the count &#39;N&#39; is determined, N tasks or sub-workflows are scheduled for execution in parallel.  When all N instances of the task or sub-workflow reach a final state the parallel loop will complete and workflow execution will move on to the next task.  If any one of the tasks or sub-workflows fails, then the entire loop will fail.  Dynamic values for count must be specified as a template.  For example, if a loop must run for a count which matches the length of a workflow input called StringArray, then the count must be specified using a template &#39;{{ len .global.workflow.input.StringArray }}&#39;.  The iteration of the loop is available using the keyword &#39;.iteration&#39; and it can be used to control inputs that feed into the task.  For example, the task inside the loop needs to take one value from the workflow input StringArray, then the task string input can be mapped to the template &#39;{{ index .global.workflow.input.StringArray .iteration}}&#39; during design.&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Label&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Parallel Loop&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;LoopStartTask&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;NewStorageHostGroup1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;parallelLoop1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;NumberOfBatches&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.LoopTask&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;OnSuccess&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;SuccessEndTask&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Parallel&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">true</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;CatalogMoid&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;5c2fc884696f6e2d316c5d59&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Description&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;Create a host group with host group name as input. On successful execution, the newly created host group name is generated as output.&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;InputParameters&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;HostGroupName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;HostGroupName{{.iteration}}&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;StorageDevice&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;${workflow.input.StorageDevice}&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Label&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;New Storage Host Group&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;NewStorageHostGroup1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.WorkerTask&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;OnFailure&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;OnSuccess&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;RollbackDisabled&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;TaskDefinitionId&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;5f7ed8a2696f6e2d30eb388b&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;TaskDefinitionName&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;NewStorageHostGroup&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;UseDefault&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>      <span style="color:#204a87;font-weight:bold">&#34;Version&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">2</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;UiInputFilters&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[],</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;UiRenderingData&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#204a87;font-weight:bold">&#34;Positions&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;StartTask&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;X&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">269.5</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;Y&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">45.5</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;SuccessEndTask&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;X&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">269.5</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;Y&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">303</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;FailureEndTask&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;X&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">412.5</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;Y&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">303</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;parallelLoop1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;X&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">149.01800537109375</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;Y&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">116.75314331054688</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;NewStorageHostGroup1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;X&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">185</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#204a87;font-weight:bold">&#34;Y&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">177</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;Version&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">&#34;WorkflowMetadata&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#204a87;font-weight:bold">null</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="managing-the-lifecycle-of-a-workflow">Managing the Lifecycle of a Workflow</h2>
<p>Workflow management consists of organizing, creating, updating, and
deletion of workflows. The following table describes the set of actions
that you can perform with workflows in Cisco Intersight.</p>
<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="header">
<th>Actions</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>View Workflows</td>
<td>Choosing Orchestration from the left navigation pane will display all workflows in a tabular format. You can view information such as the workflow name and description, the number of versions available, the number of times the workflow has been executed, the last execution status, validation information and the last update time and date.</td>
</tr>
<tr class="even">
<td>Create a New Workflow</td>
<td>Choose Orchestration from the left navigation pane and click Create Workflow. This option opens up the Workflow Designer, using which you can create a new workflow.</td>
</tr>
<tr class="odd">
<td>Create a Version for a Workflow</td>
<td>You can create multiple versions for a workflow. In addition, you can set a specific version of the workflow as the default version for the workflow. See <a href="file://E:\\help\\resources\\Workflow_Designer">Managing Versions for Workflows</a>.</td>
</tr>
<tr class="even">
<td>Delete a Workflow</td>
<td><p>From the tabular list of workflows, you can select a workflow and click Delete. This will remove the workflow and all versions of the workflow.</p>
<p>You cannot delete a workflow when :</p>
<ul>
<li><p>workflow is used as sub-workflow task in another workflow.</p></li>
<li><p>workflow is in running state.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Execute a Workflow</td>
<td><p>Select a workflow from the tabular list of workflows and choose Execute. Alternatively, you can click the workflow name, and then choose Execute in the Workflow Designer.</p>
<p><strong>Important:</strong> Workflow execution includes privilege-based validation for tasks. With the introduction of privilege-based validation for virtualization, compute and storage tasks, a user must have all the required privileges to execute all the domain tasks within a workflow. For example, a user can successfully execute a workflow that includes storage and virtualization tasks only if the user has both Storage and Virtualization Administrator privileges. In the absence of either one of these privileges, the Execute button will not be displayed and the user cannot execute the workflow.</p>
<p>However, an Account Administrator can execute all workflow.</p>
<p>While configuring the properties of a workflow, if you selected the Retryable option, then in the event of a workflow failure, you can either choose to execute the workflow again from the point of failure, or you can execute the entire workflow again.</p></td>
</tr>
<tr class="even">
<td>Clone a Workflow</td>
<td>From the tabular list of workflows, you can select a workflow and click Clone. This will clone the selected workflow.</td>
</tr>
<tr class="odd">
<td>Save a Workflow as</td>
<td><p>From the tabular list of workflows, you can choose a workflow and click. By default, the workflow details are displayed in the Designer tab. You can choose Save As option from the Action drop-down list to clone or create a new version of the existing workflow.</p>
<p>You can also perform this operation in the General tab.</p>
<p>In the Save As screen, you can choose one of the following:</p>
<ul>
<li><p>New Version---Specify a new version and related description. Click Save.</p></li>
</ul>
<ul>
<li><blockquote>
<p>This option is not available for a system generated workflow.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Clone---Specify user-friendly short name, reference name, description, and tag key. Click Save. For more information, see <a href="file://E:\\help\\resources\\Workflow_Designer">Cloning a Workflow</a>.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<h2 id="cloning-a-workflow">Cloning a Workflow</h2>
<p>You can clone a workflow. The cloned workflow is identical to the
original workflow. You can edit the new workflow immediately. You might
do this, for example, to create a workflow that is similar to the source
workflow that can be edited based on your requirements. The new workflow
has a new, separate version history.</p>
<p>To clone a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>From the tabular list of workflows, select a workflow and choose
Clone.</p>
</li>
<li>
<p>In the Clone Workflow screen, edit the user-friendly short name,
reference name, description, and organization details. The
organization mappings are displayed only for pre-canned workflows
and not for the custom workflows.</p>
</li>
<li>
<p>Check the Open Clone in Editor check box if you want to open the
cloned workflow in the workflow designer and edit the details.</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Open Clone in Editor check box is not displayed when you
clone a workflow using the Save As option.</p>
</blockquote>
<ol start="5">
<li>Click Clone.</li>
</ol>
<h2 id="managing-versions-for-workflows">Managing Versions for Workflows</h2>
<p>Cisco Intersight allows you to create and manage versions for workflows.
In addition to creating versions, you can also set a specific version as
the default version for the workflow. You can create a version of a
workflow and execute it only if you are one of the following users:</p>
<ul>
<li>
<p>Account Administrator</p>
</li>
<li>
<p>User with Workflow Designer privileges</p>
</li>
</ul>
<p>Read-Only users can only view versions of a workflow. They cannot
create, edit, execute or delete versions. Users with Storage
Administrator and Virtualization Administrator privileges can only view
and execute specific versions of a workflow.</p>
<p>To create a version for a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>From the tabular list of workflows, select a workflow and choose
Manage Versions.</p>
</li>
<li>
<p>In the Manage Versions screen, you can perform the following tasks:</p>
<ul>
<li>
<p>Create a new version for the workflow</p>
</li>
<li>
<p>Execute a specific version of the workflow</p>
</li>
<li>
<p>Delete a specific version. You cannot directly delete the default
version of a workflow. To delete the default version, perform the
following:</p>
</li>
<li>
<p>Make another version the default.</p>
</li>
<li>
<p>Change the workflow version to be deleted as non-default.</p>
</li>
<li>
<p>Delete the workflow version that was changes as non-default.</p>
</li>
<li>
<p>Set a specific version of the workflow as the default version</p>
</li>
</ul>
</li>
<li>
<p>Choose Create a New Version and enter the following details:</p>
<ul>
<li>
<p>Source Version&mdash;Choose a specific version that will form the source
for the new version that you are creating.</p>
</li>
<li>
<p>Version&mdash;Specify a version number for the workflow.</p>
</li>
<li>
<p>Description&mdash;Enter a description for the version so that you can
identify it.</p>
</li>
<li>
<p>Set as Default Version&mdash;Check this check box to set this new
version as the default version for the workflow.</p>
</li>
</ul>
</li>
<li>
<p>Click Create.</p>
</li>
<li>
<p>After creating a version for a workflow, clicking on the version
number on the Manage Versions screen opens the workflow in Workflow
Designer.</p>
</li>
</ol>
<p><strong>Note:</strong> Deleting a workflow will delete all versions created for the
workflow.</p>
<h2 id="exporting-a-workflow">Exporting a Workflow</h2>
<p>Intersight Cloud Orchestrator enables you to export workflows from an
account to your system and then import them to another account.</p>
<p>To export a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click the Workflow tab.</p>
</li>
<li>
<p>From the tabular list of workflows, do one of the following:</p>
</li>
</ol>
<ul>
<li>
<p>Select a workflow, click the Ellipsis (&hellip;) icon in the same row,
and then choose Export Workflow.</p>
</li>
<li>
<p>Select multiple workflows, click the Ellipsis (&hellip;) icon from the
header or footer of the tabular list, and then choose Export
Workflow.</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> You can also export workflows from the Actions menu in the
Workflow Designer window.</p>
</blockquote>
<ol start="4">
<li>
<p>In the Export Workflow screen:</p>
<p>a.  In the JSON File Name field, use the default filename or enter a
filename of your choice for the JSON file that stores the
workflow components.</p>
<p>b.  Use the Export Tags toggle button to include or exclude the
user-defined tags. ICO does not export the system-defined tags.</p>
<p>c.  Click Export.</p>
<p>d.  Save a local copy of the JSON file.</p>
</li>
</ol>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/_5J8Q0lyC00" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<h2 id="importing-a-workflow">Importing a Workflow</h2>
<p>Intersight Cloud Orchestrator enables you to import workflows to your
account by importing a JSON file that contains the workflow components.
You can create the JSON file by exporting the workflow components from
another account.</p>
<p>To import a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Import.</p>
</li>
<li>
<p>The Import wizard appears.</p>
</li>
<li>
<p>In the Select File screen:</p>
<p>a.  From the Organization drop-down list, choose the organization to
which you want to import the workflow(s).</p>
<p>b.  Click Browse, and then select the JSON file that contains the
Workflow(s).</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Ensure that the file size of the JSON file is not more than
1MB. If the file size is more than 1MB, export the workflow(s) in
batches, and then try import.</p>
</blockquote>
<p>c.  Click Next.</p>
<ol start="16">
<li>
<p>Intersight Cloud Orchestrator validates the JSON file and displays</p>
<blockquote>
<p>the workflow(s) in the Details screen.</p>
</blockquote>
</li>
<li>
<p>In the Details screen:</p>
<p>a.  To associate an additional tag to the components listed in the
table, enter the tag in the Set Tags field. <BR><strong>Note:</strong> Set Tags is an optional field. You must enter the tag in the key:value format.</p>
</li>
</ol>
<p>b.  If one or more workflow components are already available in the
system, choose a rule to replace or skip the duplicate components.</p>
<p>c.  Click Import.</p>
<ol start="5">
<li>
<p>In the Import Result screen:</p>
<p>a.  Verify the status of the imported workflow.</p>
<p>b.  If you want to view the details of the import request:</p>
</li>
</ol>
<ul>
<li>
<p>Click the link displayed above the table.</p>
</li>
<li>
<p>Alternatively, click the Requests icon displayed in the menu bar.</p>
</li>
<li>
<p>For more information, see
<a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Requests</a>.</p>
<p>a.  Click Close.</p>
</li>
</ul>
<p>You can execute the imported workflow from the Workflows tab.</p>
<h2 id="defining-workflow-input-rules">Defining Workflow Input Rules</h2>
<p>Intersight Cloud Orchestrator allows you to configure input rules that
control the display of fields in the workflow execution screen. You can
define these input rules for a workflow by using the Intersight API and
while creating a composite data type. By default, all input fields for a
workflow are displayed in the workflow execution screen. By configuring
input rules, the fields in this screen are displayed or hidden based on
the value selected for a previous input field.</p>
<p>After configuring input rules in the workflow definition using the
Intersight API, you can view the input rules using the Code tab in the
Workflow Designer.</p>
<p>Following is a sample of a simple input rule set for a workflow:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#a40000">\</span><span style="color:#4e9a06">&#34;InputParameterSet\&#34;:\[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">{\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;ObjectType\&#34;: \&#34;workflow.ParameterSet\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;Name\&#34;: \&#34;rule-1\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;ControlParameter\&#34;: \&#34;input-1\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;Value\&#34;: \&#34;true\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;EnableParameters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;input-2\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\]\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">},\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">{\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;ObjectType\&#34;: \&#34;workflow.ParameterSet\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;Name\&#34;: \&#34;rule-2\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;ControlParameter\&#34;: \&#34;input-1\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;Condition\&#34;: \&#34;ne\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;Value\&#34;: \&#34;true\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;EnableParameters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\&#34;input-3\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\]\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">}\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">\]
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">Following is an example for the parameter sets defined at workflow
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">level:
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">{\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Label\&#34;: \&#34;Provision VM\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Name\&#34;: \&#34;ProvisionVM\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;DefaultVersion\&#34;: true,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Description\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  // Parameter set defintion \
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;InputParameterSet\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      // rule-1 enables \&#39;vmwarehost\&#39; input when value of \&#39;vmtype\&#39; is \&#39;vmware\&#39;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;rule-1\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ControlParameter\&#34;: \&#34;vmtype\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Value\&#34;: \&#34;vmware\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;EnableParameters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;vmwarehost\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \]\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      // rule-2 enables \&#39;hxcluster\&#39; input when value of \&#39;vmtype\&#39; is \&#39;hx\&#39;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;rule-2\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ControlParameter\&#34;: \&#34;vmtype\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Value\&#34;: \&#34;hx\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;EnableParameters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;hxcluster\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \]\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;InputDefinition\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;InputParameters\&#34;: null,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;VM Type\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;vmtype\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Required\&#34;: false,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Properties\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;ClassId\&#34;: \&#34;workflow.PrimitiveDataProperty\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataProperty\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Constraints\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;ClassId\&#34;: \&#34;workflow.Constraints\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;ObjectType\&#34;: \&#34;workflow.Constraints\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;EnumList\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;ClassId\&#34;: \&#34;workflow.EnumEntry\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;ObjectType\&#34;: \&#34;workflow.EnumEntry\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Label\&#34;: \&#34;VMWare\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Value\&#34;: \&#34;vmware\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;ClassId\&#34;: \&#34;workflow.EnumEntry\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;ObjectType\&#34;: \&#34;workflow.EnumEntry\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Label\&#34;: \&#34;HX\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Value\&#34;: \&#34;hx\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Max\&#34;: 0,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Min\&#34;: 0,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Regex\&#34;: \&#34;\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;InventorySelector\&#34;: \[\],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Secure\&#34;: false,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Type\&#34;: \&#34;enum\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;vmname\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;VM Name\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Required\&#34;: false,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Properties\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Type\&#34;: \&#34;string\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Constraints\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Min\&#34;: 0,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Max\&#34;: 0\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Secure\&#34;: false\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;vmwarehost\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;Host\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Required\&#34;: false,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Properties\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Type\&#34;: \&#34;string\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Constraints\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Min\&#34;: 0,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Max\&#34;: 0\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Secure\&#34;: false\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Default\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Override\&#34;: false,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Value\&#34;: null\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;hxcluster\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;Cluster\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Required\&#34;: false,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Properties\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Type\&#34;: \&#34;string\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Constraints\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Min\&#34;: 0,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;Max\&#34;: 0\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Secure\&#34;: false\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;OutputDefinition\&#34;: \[\],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;OutputParameters\&#34;: null,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Tasks\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ClassId\&#34;: \&#34;workflow.StartTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Description\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;StartTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;NextTask\&#34;: \&#34;NewProfile1596244596840\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.StartTask\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ClassId\&#34;: \&#34;workflow.SuccessEndTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Description\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;SuccessEndTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.SuccessEndTask\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ClassId\&#34;: \&#34;workflow.FailureEndTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Description\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;FailureEndTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.FailureEndTask\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;CatalogMoid\&#34;: \&#34;5dd45ab6696f6e2d301e2df6\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ClassId\&#34;: \&#34;workflow.WorkerTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Description\&#34;: \&#34;Task to create a Profile\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;InputParameters\&#34;: null,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;Provision VM\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;ProvisionVM1596244596840\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.WorkerTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;OnFailure\&#34;: \&#34;\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;OnSuccess\&#34;: \&#34;SuccessEndTask\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;TaskDefinitionId\&#34;: \&#34;5efd7c84696f6e2d309e6877\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;TaskDefinitionName\&#34;: \&#34;NewProfile\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Version\&#34;: 1\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Version\&#34;: 1\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">}
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">Following is an example for the parameter sets defined at custom data
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">type level:
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">{\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Label\&#34;: \&#34;ClusterType\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Name\&#34;: \&#34;ClusterType\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;CompositeType\&#34;: true,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;Description\&#34;: \&#34;Type definition for a cluster information.\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;TypeDefinition\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;Cluster Type\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;clustertype\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Properties\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataProperty\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Constraints\&#34;: {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;ObjectType\&#34;: \&#34;workflow.Constraints\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \&#34;EnumList\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;ObjectType\&#34;: \&#34;workflow.EnumEntry\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Label\&#34;: \&#34;VM Ware\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Value\&#34;: \&#34;vmware\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;ObjectType\&#34;: \&#34;workflow.EnumEntry\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Label\&#34;: \&#34;HX AP\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">              \&#34;Value\&#34;: \&#34;hxap\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">            }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">          \]\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Type\&#34;: \&#34;enum\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;VMware Cluster\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;vmwarecluster\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;HX Cluster\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;hxcluster\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.PrimitiveDataType\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Label\&#34;: \&#34;Cluster Description\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;clusterdescr\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    }\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">  \&#34;ParameterSet\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;rule-1\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Field\&#34;: \&#34;clustertype\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Value\&#34;: \&#34;vmware\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ShowFields\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;vmwarecluster\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \]\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;rule-2\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Field\&#34;: \&#34;clustertype\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Value\&#34;: \&#34;hxap\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ShowFields\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;hxcluster\&#34;</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">      \</span><span style="color:#000;font-weight:bold">]</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">    </span><span style="color:#000;font-weight:bold">}</span>\
</span></span><span style="display:flex;"><span><span style="color:#a40000">  \</span><span style="color:#000;font-weight:bold">]</span>\
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div><h2 id="supported-workflows-for-storage-targets">Supported Workflows for Storage Targets</h2>
<p>The following table lists workflows supported in the various storage
targets available on Intersight:</p>
<table>
<thead>
<tr>
<th>List of Storage Workflows</th>
<th>Pure Storage</th>
<th>NetApp</th>
<th>Hitachi</th>
</tr>
</thead>
<tbody>
<tr>
<td>New Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>New Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr>
<td>New VMFS Datastore</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>New NAS Datastore</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>Remove NFS Datastore</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>Remove Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>Remove Storage Export Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>Remove Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr>
<td>Remove VMFS Datastore</td>
<td>Y</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>Update Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr>
<td>Update NAS Datastore</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>Update VMFS Datastore</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr>
<td>New Storage Interface</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>New Storage Export Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr>
<td>New Storage Virtual Machine</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
</tbody>
</table>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-b48fb96aa1374aab4778c038f49fc60f">4.5 - Template Syntax (Go Template)</h1>
    
	<h2 id="referencing-variables-in-the-workflow-designer">Referencing variables in the Workflow Designer</h2>
<table>
<thead>
<tr>
<th>Usage</th>
<th>Description</th>
<th>Code</th>
</tr>
</thead>
<tbody>
<tr>
<td>Workflow Input</td>
<td>You can reference a workflow input by replacing NAME with the the reference name you have given it inside the workflow designer</td>
<td><code>{{.global.workflow.input.NAME}} </code></td>
</tr>
<tr>
<td>Task Output</td>
<td>You can reference a task output by replacing TASK with the name of the task (from the Code view), and by replacing NAME with the name of the output</td>
<td><code>{{.global.TASK.output.NAME}}   </code></td>
</tr>
<tr>
<td>Org Moid</td>
<td>The Moid of the Intersight org used to execute this workflow</td>
<td><code>{{.security.OrganizationMoid}}</code></td>
</tr>
</tbody>
</table>
<h2 id="referencing-variables-in-the-task-designer">Referencing variables in the Task Designer</h2>
<table>
<thead>
<tr>
<th>Usage</th>
<th>Description</th>
<th>Code</th>
</tr>
</thead>
<tbody>
<tr>
<td>Task Input</td>
<td>You can reference a task input by replacing NAME with the the reference name you have given it inside the task designer</td>
<td>{{.global.task.input.NAME}}</td>
</tr>
<tr>
<td>Sub-Task Output</td>
<td>You can reference a sub-task output by replacing SUBTASK with the reference name of the sub-task, and by replacing NAME with the name of the output</td>
<td>{{.global.SUBTASK.output.NAME}}</td>
</tr>
</tbody>
</table>
<h2 id="advanced-functions">Advanced functions</h2>
<table>
<thead>
<tr>
<th>Usage</th>
<th>Description</th>
<th>Code</th>
</tr>
</thead>
<tbody>
<tr>
<td>Conditional</td>
<td>Will allow you to select what option you want to execute based on a conditional. Replace VALUE with the specific value you want to compare against.</td>
<td>{{if (eq .global.workflow.input.example VALUE)}}IF TRUE{{else if eq .global.workflow.input.example VALUE}}ELIF TRUE{{else}}ELSE{{end}}</td>
</tr>
<tr>
<td>Optional variable</td>
<td>Only executes a block of the template if the variable was provided in the input. Inside of the with block, you refer to the name of the original variable as $x (or whatever variable you use)</td>
<td>{{with $x := .global.workflow.input.example}}{{$x}}{{end}}</td>
</tr>
<tr>
<td>Regex</td>
<td>Apply a regex pattern to a string to filter out a sub-string. Replace REGEX with your regex pattern. This can be combined with the index feature below to filter out the n-th sub-string.</td>
<td>{{FindAllString .global.workflow.input.example &ldquo;REGEX&rdquo;}}</td>
</tr>
<tr>
<td>Get n-th entry</td>
<td>Allows you to get the n-th entry from a list. Replace NUMBER with the position of the list item you want to select.</td>
<td>{{index .global.workflow.input.example NUMBER}}</td>
</tr>
<tr>
<td>Sub-parameter</td>
<td>Allows you to select the subparameter of a previous operation. Replace SUBELEMENT with the parameter you are looking for</td>
<td>{{(index .global.workflow.input.example NUMBER).SUBELEMENT}}</td>
</tr>
<tr>
<td>Loop</td>
<td>Allows you to loop through a list and execute a template for each entry in the list. If you want to prepend something to your list, you can use if $index to only apply on the first pass of the loop</td>
<td>{{range $index, $element := .global.workflow.input.example}}{{$element}}{{end}}</td>
</tr>
<tr>
<td>List length</td>
<td>Get the length of a list</td>
<td>{{len .global.workflow.input.example}}</td>
</tr>
</tbody>
</table>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7d1d99224bd455b4117a9fc8a07ea532">4.6 - Cisco Intersight ICO</h1>
    <div class="lead">Cisco Intersight ICO</div>
	<h1 id="cisco-intersight-ico">Cisco Intersight ICO</h1>
<p>Cisco Systems, Inc.</p>
<img src="./images//media/image3.png" style="width:8.5in;height:1.84931in" />
<p>Contents</p>
<p>[Reference a wrapper Chapter topic here <a href="#_Refd24e202">3</a>](#_Refd24e202)</p>
<p>[Workflow Designer <a href="#_Refd24e205">3</a>](#_Refd24e205)</p>
<p>[Task Designer <a href="#_Refd24e4658">38</a>](#_Refd24e4658)</p>
<p><a href="#_Refd24e9258">Data Types 60</a></p>
<p>[Executors – Invoke PowerShell Script
<a href="#_Refd24e10361">66</a>](#_Refd24e10361)</p>
<p>[Executors – Invoke Ansible Playbook - Embedded Task
<a href="#_Refd24e12594">97</a>](#_Refd24e12594)</p>
<p>[Executors – Invoke Ansible Playbook - Reusable Task
<a href="#_Refd24e14025">116</a>](#_Refd24e14025)</p>
<p>[Executors – Invoke SSH Commands - Embedded Task
<a href="#_Refd24e15533">125</a>](#_Refd24e15533)</p>
<p>[Executors – Invoke SSH Commands - Reusable Task
<a href="#_Refd24e17342">143</a>](#_Refd24e17342)</p>
<p>[Executors – Invoke Web API Request
<a href="#_Refd24e19406">153</a>](#_Refd24e19406)</p>
<p><a href="#_Refd24e21884">Upgrading Connector Packs on UCS Director Instances
177</a></p>
<p>[Backup and Restore for UCS Director in Intersight
<a href="#_Toc105371570">179</a>](#_Toc105371570)</p>
<p><span id="_Refd24e202" class="anchor"></span>Reference a wrapper Chapter
topic here</p>
<p><span id="_Refd24e205" class="anchor"></span>Workflow Designer</p>
<p>The Workflow Designer helps you create new workflows (as well as tasks
and data types) and also edit existing workflows to manage targets in
Cisco Intersight.</p>
<p><strong>Note:</strong> To execute the new tasks for VMware vCenter networking
operations, you should upgrade to Intersight Assist version 1.0.9-278.</p>
<ul>
<li>
<p><strong>Important:</strong> The Orchestration option is visible in the left panel
only if you have installed the Intersight Premier license.</p>
</li>
<li>
<p>Only an Account Administrator or a user with the Workflow Designer
privilege can use the Workflow Designer to create and edit
workflows.</p>
</li>
<li>
<p>The Orchestration option is visible in the left panel only if you
have installed the Intersight Premier license.</p>
</li>
<li>
<p>Only an Account Administrator or a user with the Workflow Designer
privilege can use the Workflow Designer to create and edit
workflows.</p>
</li>
</ul>
<p>To launch the Workflow Designer, choose Orchestration <strong>&gt;</strong>
Workflows. A dashboard displays the following details under these tabs,
namely, My Workflows, Sample Workflows, and All Workflows:</p>
<ul>
<li>
<p>Validation Status</p>
</li>
<li>
<p>Last Execution Status</p>
</li>
<li>
<p>Top Workflows by Execution Count</p>
</li>
<li>
<p>Top Workflow Categories</p>
</li>
<li>
<p>Number of System Defined Workflows</p>
</li>
<li>
<p>Top Workflows by Targets</p>
</li>
</ul>
<p>Using the dashboard, you can create, edit, clone, or delete a tab. To
create your own custom view tab, click + and specify a name and then
choose the required parameters that need to be displayed in the columns,
tag columns, and widgets. You can rename the tabs if it does not have a
Lock icon.</p>
<p>Below the dashboard is a tabular list of workflows displaying the
following information:</p>
<ul>
<li>
<p>Display Name</p>
</li>
<li>
<p>Description</p>
</li>
<li>
<p>System Defined</p>
</li>
<li>
<p>Default Version</p>
</li>
<li>
<p>Executions</p>
</li>
<li>
<p>Last Execution Status</p>
</li>
<li>
<p>Validation Status</p>
</li>
<li>
<p>Last Update</p>
</li>
<li>
<p>Organization</p>
</li>
</ul>
<p>The Actions column allows you to do the following actions:</p>
<ul>
<li>
<p>Execute—Executes the workflow.</p>
</li>
<li>
<p>History—Displays workflow execution history.</p>
</li>
<li>
<p>Manage Versions—create and manage versions for workflows. See
<em>Managing Versions for Workflows</em> later in this document.</p>
</li>
<li>
<p>Delete—Delete a workflow.</p>
</li>
<li>
<p>Retry—Retry a failed workflow.</p>
</li>
</ul>
<h3 id="creating-a-workflow">Creating a Workflow</h3>
<p>Workflow creation can be broken down into the following sequence of
steps:</p>
<ol>
<li>
<p>Defining a workflow—you specify the display name, description, and
other important attributes.</p>
</li>
<li>
<p>Defining workflow inputs, workflow variables, and workflow
outputs—you can specify which input parameters are mandatory for the
workflow execution, define variable(s) for workflow, and the
output(s) generated on successful execution.</p>
</li>
<li>
<p>Adding workflow tasks—you can add one or more workflow tasks in the
Workflow Designer that are needed for the workflow to carry out its
function.</p>
</li>
<li>
<p>Validate the workflow—you can validate a workflow to ensure that
there are no errors in connecting task inputs and outputs.</p>
</li>
</ol>
<p>Defining a Workflow</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Choose Create Workflow. The Create Workflow screen is categorized
into the following areas to help you create a workflow:</p>
</li>
</ol>
<!-- -->
<ol>
<li>The following table describes the options available to you while
creating a workflow:</li>
</ol>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 24%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="header">
<th>Workflow Designer Area/Option</th>
<th>Description</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General Tab</td>
<td>Displays workflow details, and also inputs, variables, and outputs of the workflow.</td>
<td><p>You can add a user-friendly short name, reference name, description, and assign an organization to the workflow. You can also specify a version or set a tag to the workflow. In order to categorize your workflow, use the tag key Category and provide an appropriate category value. Use the following checkboxes to:</p>
<p>Set as Default Version—Sets this version as the default version for the workflow.</p>
<p>Failed/Terminated Actions—Sets the post execution settings for the workflow.</p>
<ul>
<li><p>Enable Retry—Execute the workflow from the point of a failure or retry the execution of the entire workflow. You can retry the execution of the workflow for up to two weeks after the last update to the workflow.</p></li>
<li><p>Enable Auto Rollback—Rollback workflow will be initiated automatically when this option is enabled. You can select one of the following rollback conditions:</p>
<ul>
<li><p>On Failure</p></li>
<li><p>On Cancel</p></li>
<li><p>On Failure or Cancel.</p></li>
</ul></li>
</ul>
<p>Enable Debug Logs—Collects the workflow logs for each tasks. You can analyze and debug the workflow execution.</p>
<p>Workflow Inputs—You can click Add Workflow Input and add workflow inputs. Each input has a user-friendly display name, a reference name, description, restrictions, and data type. Also, you can set a default value and encrypt it. For more information, see <a href="file://E:\\help\\resources\\Workflow_Designer">Defining Workflow Inputs, Variables, and Outputs</a>.</p>
<p>Workflow Variable—You can click Add Workflow Variable and add a workflow variable. Each workflow variable has a reference name, data type, and so on. Also, you can set a default value. For more information, see <a href="file://E:\\help\\resources\\Workflow_Designer">Defining Workflow Inputs, Variables, and Outputs</a>.</p>
<p>Workflow Outputs—You can click Add Workflow Output and add workflow outputs. Each output has a user-friendly display name, a reference name, description, restrictions, and data type. Also, you can encrypt a value and map it to task output.</p></td>
</tr>
<tr class="even">
<td>Designer Tab</td>
<td>Displays the design area where you synthesize your workflow.</td>
<td><p>Categorized into the following areas to help you create a workflow:</p>
<ul>
<li><p>Tools Area—lists all the tasks, workflows, and operations that are currently available in Intersight. You can drag and drop a task or a workflow to the canvas to create or edit the workflow. You can collapse or expand the Tools area. You can use the Search feature to find a specific task or workflow.</p></li>
<li><p>Design Area—where you can build your workflow. Drag and drop tasks and workflows from the Tools area to this area of the screen. This area includes the following options that you can use while creating the workflow:</p>
<ul>
<li><p>Zoom in and Zoom out—Magnify or reduce the view of the workflow.</p></li>
<li><p>Auto Align Workflow—Automatically align the workflow tasks in the design area.</p></li>
<li><p>Auto Align Selected Workflow Entities—Align selected workflow entities in the design area.</p></li>
<li><p>Toggle Task Search—Search for a specific task within the workflow. This is useful when you have several tasks within the workflow.</p></li>
<li><p>Auto Connect Selected Workflow Entity—Add the workflow entity in the design area. You can drag and drop a task in between the tasks. The possible locations where the selected task can be added is denoted with + icon.</p></li>
</ul></li>
<li><p>Task Properties Area—where you define the task properties, inputs, outputs, and variables. Click the <strong>Task</strong> in Designer Area, to view the Task Properties area.</p>
<ul>
<li><p>General—Specify the general details for the task such as name, description, version, and so on.</p></li>
</ul></li>
</ul>
<blockquote>
<p><strong>Note:</strong> The task name should be unique.</p>
</blockquote>
<ul>
<li><blockquote>
<p>Use the <strong>Enable Rollback</strong> option to enable or disable rollback for the selected task.:</p>
</blockquote></li>
</ul>
<blockquote>
<p><strong>Note:</strong> The Enable Rollback option is visible only if the task is rollback capable.</p>
</blockquote>
<ul>
<li><p>Inputs—Specify the task input parameter value that are required to execute the task. You can specify the input as a static value, map it to a workflow input or task output, use transformation or advanced mapping, or map it to a workflow variable.</p></li>
<li><p>Outputs—Displays the task outputs. Click Add Worfklow Output button to map the task output to the workflow output.</p></li>
<li><p>Variables—Specify the workflow variables that can be used across tasks in the workflow. For more information, see <a href="file://E:\\help\\resources\\Workflow_Designer">Worfklow Variables</a>.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Mapping Tab</td>
<td><p>Displays the relationship between the task inputs and the outputs of the selected workflow.</p>
<p>Information on workflow inputs and workflow outputs is also displayed.</p></td>
<td>Expand and collapse the Task Inputs and Task Outputs pane.</td>
</tr>
<tr class="even">
<td>Code Tab</td>
<td>Displays the code view of the workflow definition</td>
<td>Read-only view of the workflow. You can copy the code, use this as a sample to create a workflow using Intersight APIs.</td>
</tr>
<tr class="odd">
<td>History Tab</td>
<td>Status of the executed/in-progress workflows. This tab appears after executing a workflow.</td>
<td><p>View workflow execution history, retry or clone a previous execution. The system displays a maximum of 100 instances of the workflow execution. The workflow execution is populated for each version of the workflow.</p>
<p><strong>Note:</strong> When a workflow is successfully executed, the options for retrying the workflow are not displayed. You can retry a failed workflow only when the Enable Retry option is enabled in the General tab.</p></td>
</tr>
<tr class="even">
<td>Execute</td>
<td>Launches the Enter Workflow Inputs window.</td>
<td><p>Choose the Organization and the Workflow instance name to execute the workflow.</p>
<p>For user-created workflows, the organization must match where it was created.</p></td>
</tr>
<tr class="odd">
<td>Save Workflow</td>
<td>Validates and saves the workflow.</td>
<td>Review validation errors, if any, and rectify them.</td>
</tr>
<tr class="even">
<td>Close Designer</td>
<td>Closes the Workflow Designer.</td>
<td>Closes the Workflow Designer and displays the table view of available workflows.</td>
</tr>
</tbody>
</table>
<p>Requests</p>
<p>Requests are closely related to workflows. You create requests by
running workflows; a request is generated every time you execute a
workflow in Cisco Intersight. A request is a process under the control
of Cisco Intersight.</p>
<p>You can schedule a workflow for later execution, and Cisco Intersight
stores details of completed requests. To view the detailed information
of a request, choose a request. The following information is displayed
in the <strong>Requests</strong> screen:</p>
<ul>
<li>
<p>Status—Displays the status of a workflow. Request can have one of
several states depending on its execution status:</p>
<ul>
<li>
<p>Running</p>
</li>
<li>
<p>Blocked (for example, awaiting an approval)</p>
</li>
<li>
<p>Completed</p>
</li>
<li>
<p>Failed (a request can fail when one of its component tasks fails
to execute properly)</p>
</li>
</ul>
</li>
<li>
<p>Details—Displays the request details such as name, request ID,
target name and type, source name and type, name of the user who has
executed the request along with the start time and end time, and
duration of the request.</p>
</li>
<li>
<p>Inputs—Displays the workflow input details</p>
</li>
<li>
<p>Outputs—Displays the workflow output details</p>
</li>
<li>
<p>Execution Flow—Enable Show Additional Details to view the logs,
input, and output mapping details of the user-defined workflows.
Displays the workflow execution history details similar to the
details displayed in the History tab.</p>
</li>
</ul>
<p>Defining Workflow Inputs, Variables, and Outputs</p>
<p>Workflows can have any number of tasks, inputs, variables, and outputs.</p>
<p>Any task or workflow input can be either mandatory or optional. A task
or workflow cannot run without all of its mandatory inputs. You define
whether an input is mandatory or optional when you create the task or
workflow.</p>
<p>After specifying the generic properties for a task or workflow, you
define the input parameters and variables required for task or workflow
execution. In addition, you can set workflow input Parameter Set or
Progressive Disclosure rules. These rules control the availability of
workflow inputs or filter the data based on the preceding selection
during the workflow execution. The Task Designer uses the same
parameters and information types as the workflow designer to validate
the mappings of task input and output parameters when a task is used in
a workflow along with other tasks. Task designer uses the same form as
workflow designer to obtain the parameter and information type so as
provide same user experience between workflow designer and task
designer.</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane and click Create
Workflow.</p>
</li>
<li>
<p>In the General tab, click Add Workflow Input in the Workflow Inputs
tab.</p>
</li>
<li>
<p>In the Add Workflow Input screen, enter the following details:</p>
<ol>
<li>
<p>Display Name—Enter user-friendly short name.</p>
</li>
<li>
<p>Reference Name</p>
</li>
<li>
<p>Description—Detailed description of the input</p>
</li>
<li>
<p>Value Restrictions—Choose Required, Collection/Multiple, or can
be left blank</p>
</li>
<li>
<p>Type—Select a data type. For example, String, Integer, Float,
Boolean, Json, Enum, MoReference, Target Data Type, or a custom
data type.</p>
</li>
</ol>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>The fields displayed depend on the value you select for the Type</p>
<blockquote>
<p>field.</p>
</blockquote>
<ol>
<li>
<p>If you select the data type as Enum, specify the following:</p>
<ol>
<li>
<p>Enum List—Label for the Enum value.</p>
</li>
<li>
<p>Widget type.</p>
</li>
<li>
<p>Set Default Value—Select the checkbox and select the
corresponding default value.</p>
</li>
<li>
<p>Override—Allow the user to override the default value.</p>
</li>
</ol>
</li>
<li>
<p>If you select the data type as String, specify the following:</p>
<ol>
<li>
<p>Minimum and Maximum Range</p>
</li>
<li>
<p>Regex—Validates the regular expression when you select
String in the Type field.</p>
</li>
<li>
<p>Secure—Indicates that the values of these properties are
encrypted and stored in Cisco Intersight.</p>
</li>
<li>
<p>Object Selector—Enable to configure the Intersight managed
object selectors. This attribute is available only when the
primitive data is String.</p>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p>Specify the Intersight API Reference and selector attributes to feed</p>
<blockquote>
<p>the input from the table selection. Value will be passed according
to the configuration set in the Value attribute.</p>
</blockquote>
<ol>
<li>
<p>If you select the data type as Integer or Float, specify the
following:</p>
<ol>
<li>
<p>Minimum and Maximum Range</p>
</li>
<li>
<p>Set Default Value—Select the checkbox and the corresponding
default value.</p>
</li>
</ol>
</li>
<li>
<p>If you select the data type as Target Data Type or MoReference,
specify the following:</p>
<ol>
<li>
<p>Intersight API Reference—Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute—Enter the attribute name(s) that needs to
be displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
</ol>
</li>
<li>
<p>If you select the data type as Composite Data Type, you can
specify the field mapping for the input field. With field
mapping, you can pass the value of workflow input to a composite
data field.</p>
</li>
</ol>
</li>
<li>
<p>To pass the value from the parent composite data type to a child</p>
<blockquote>
<p>composite data type, you must specify the field mapping in the
composite data type field. For more information, see <a href="file://E:%5Chelp%5Cresources%5CData_Types">Creating a
Data Type</a>.</p>
</blockquote>
</li>
<li>
<p>To specify the field mapping, do the following:</p>
<ol>
<li>
<p>Key—The input field that you want to hide.</p>
</li>
<li>
<p>Value Attribute—The value in a template style to be passed
dynamically during the execution.</p>
</li>
</ol>
</li>
<li>
<p>If the data type is Object Selector, Enum, or Boolean then the input</p>
<blockquote>
<p>is referenced as ${workflow.input.InputReferenceName}.</p>
</blockquote>
</li>
<li>
<p>If the data type is MoReference or Target Data Type the input is</p>
<blockquote>
<p>referenced as ${workflow.input.InputReferenceName.AttributeName}.</p>
</blockquote>
</li>
<li>
<p>The InputReferenceName is the Reference Name given to the input</p>
<blockquote>
<p>field and not the Display Name or Label.</p>
</blockquote>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>Click Add.</p>
</li>
<li>
<p>Repeat this procedure to create multiple inputs.</p>
</li>
<li>
<p>To add a Parameter Set rule, click Add Rule &gt; Parameter Set.</p>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>For more information, see Workflow <a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Workflow Input Parameter Set and
Progressive Disclosure
Rules</a>.</p>
<ol>
<li>
<p>Name—The name of the Parameter Set rule.</p>
</li>
<li>
<p>If Field—Select the input field and the properties that will be
used to define the Parameter Set rule.</p>
</li>
</ol>
</li>
<li>
<p>The inputs are referenced as <em>InputName</em> or <em>InputName.Properties</em>.</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> The properties are applicable only if the data type is
MoRefefence or Target Data Type. For example, for a Target Data Type
input field (DeviceRegistrations), you can specify <em>Hypervisor
Manager.IP Address</em>.</p>
</blockquote>
<ol>
<li>
<p>Condition—The condition for the rule. The condition can be Equal to,
Not equal to, Contains, or Matches Pattern.</p>
</li>
<li>
<p>Value—Select or enter the value. The Parameter Set rule uses this
value along with the Condition specified to compare the value from
the If Field.</p>
</li>
<li>
<p>Field to be shown—Select the input field(s) that should be made
available when the Parameter Set rule condition is satisfied.</p>
</li>
<li>
<p>Click Save.</p>
</li>
</ol>
<!-- -->
<ol>
<li>To add a Progressive Disclosure rule, click Add Rule &gt;
Progressive Disclosure.</li>
</ol>
<!-- -->
<ol>
<li>
<p>For more information, see <u>Workflow Input Parameter Set and
Progressive Disclosure Rules</u>.</p>
<ol>
<li>
<p>Target Field—The target input field on which the progressive
disclosure is applied.</p>
</li>
<li>
<p>Attribute —The inputs are referenced as
<em>AttributeName.ParameterName</em>. For example, for an input field,
Virtual Manager, you can specify the attribute name as
<em>RegisteredDevice.Moid</em> or <em>ConnectionStatus</em>.</p>
</li>
<li>
<p>Condition—The rule condition for the rule. The condition can be
Equal to, Not equal to, or Contains.</p>
</li>
<li>
<p>Value—The inputs are referenced as
${InputReferenceName.Attribute} or
${InputReferenceName.ParameterName}. For example, for a VM input
field, you can specify the value as ${HypervisorManager.Moid} or
${Target.ConnectionStatus}.</p>
</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> For a String input field, if you have selected the Object
Selector option then you need not specify the Attribute or Parameter
value.</p>
</blockquote>
<ol>
<li>
<p>In the General tab, click Add Workflow Variables in the Workflow
Variables tab. For more information, see <a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Workflow
Variables</a>.</p>
</li>
<li>
<p>In the Add Workflow Variable screen, enter the following details:</p>
<ol>
<li>
<p>Reference Name—Enter user-friendly short name.</p>
</li>
<li>
<p>Type—Select the data type. For example, String, Integer, Float,
Boolean, Json, Enum, MoReference, or Target Data Type.</p>
</li>
</ol>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>The fields displayed depend on the value you select for the Type</p>
<blockquote>
<p>field.</p>
</blockquote>
<ol>
<li>
<p>If you select the data type as String, specify the following:</p>
<ol>
<li>Object Selector—Enable to configure the Intersight managed
object selectors.</li>
</ol>
</li>
</ol>
</li>
<li>
<p>The Object Selector field is optional.</p>
<ol>
<li>Specify the Intersight API Reference and selector attributes to
feed the input from the table selection. The value will be
passed according to the configuration set in the Value
attribute.</li>
</ol>
<!-- -->
<ol>
<li>
<p>If you select the data type as Enum, specify the following:</p>
<ol>
<li>
<p>Enum List—Label and value for the Enum list.</p>
</li>
<li>
<p>Widget type—The widget type as Radio or none.</p>
</li>
</ol>
</li>
<li>
<p>If you select the data type as Target Data Type or MoReference,
specify the following:</p>
<ol>
<li>
<p>Intersight API Reference—Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute—Enter the attribute name(s) that needs to
be displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
</ol>
</li>
<li>
<p>Select the Initial Mapping To type and specify the corresponding
variable value.</p>
</li>
<li>
<p>Click Add.</p>
</li>
</ol>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>Click Workflow Outputs and click Add Workflow Output.</p>
</li>
<li>
<p>Choose a parameter and click Add.</p>
</li>
<li>
<p>Click Save.</p>
</li>
</ol>
<p>Workflow Input Parameter Set and Progressive Disclosure Rules</p>
<p>When you create a workflow, you can specify the inputs for the workflow
execution. After you define the workflow inputs, you can set Parameter
Set or Progressive Disclosure rules. These rules control the
availability of workflow inputs or filter the data based on the
preceding selection during the workflow execution.</p>
<p><strong>Note:</strong> You can define a Parameter Set or Progressive Disclosure rule
only for a workflow that has more than two input fields with the
supported data type.</p>
<p><strong>Parameter Set Rule</strong></p>
<p>The Parameter Set rules control the availability of specific parameters
or inputs during the execution. After the first input is specified, the
Parameter Set rule controls which subsequent input fields are made
available during the workflow execution.</p>
<p><strong>Example:</strong> The following example shows how to create a Parameter Set
rule for a workflow with three input fields. The workflow input fields
are:</p>
<ul>
<li>
<p>Enum—Type is <em>Enum</em> and Enum list is <em>VM</em> and <em>HX</em>.</p>
</li>
<li>
<p>Input1—Type is <em>String</em>.</p>
</li>
<li>
<p>Input2—Type is <em>String</em>.</p>
</li>
</ul>
<p>You can create two workflow input Parameter Set rules. During the
workflow execution when the Enum value is <em>VM</em> only Input1 field is made
available. Alternately, when the Enum value is <em>HX</em>, only Input2 is made
available. The details of the Parameter Set rules are:</p>
<ul>
<li>
<p>Rule1—If Field is <em>Enum</em>, Condition is <em>Equal to</em>, Value is <em>VM</em>,
and Fields to be shown is <em>Input1.</em></p>
</li>
<li>
<p>Rule2—If Field is <em>Enum</em>, Condition is <em>Equal to</em>, Value is <em>HX</em>,
and Fields to be shown is <em>Input2.</em></p>
</li>
</ul>
<p>The following is a sample of the API request.</p>
<p>  &ldquo;InputParameterSet&rdquo;: [<br>
    {<br>
      &ldquo;Condition&rdquo;: &ldquo;eq&rdquo;,<br>
      &ldquo;ControlParameter&rdquo;: &ldquo;Enum&rdquo;,<br>
      &ldquo;EnableParameters&rdquo;: [<br>
        &ldquo;Input1&rdquo;<br>
      ],<br>
      &ldquo;Name&rdquo;: &ldquo;Rule1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.ParameterSet&rdquo;,<br>
      &ldquo;Value&rdquo;: &ldquo;VM&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Condition&rdquo;: &ldquo;eq&rdquo;,<br>
      &ldquo;ControlParameter&rdquo;: &ldquo;Enum&rdquo;,<br>
      &ldquo;EnableParameters&rdquo;: [<br>
        &ldquo;Input2&rdquo;<br>
      ],<br>
      &ldquo;Name&rdquo;: &ldquo;Rule2&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.ParameterSet&rdquo;,<br>
      &ldquo;Value&rdquo;: &ldquo;HX&rdquo;<br>
    },</p>
<p>The supported data types for Parameter Set rules are:</p>
<ul>
<li>
<p>Boolean</p>
</li>
<li>
<p>Enum</p>
</li>
<li>
<p>String Object Selector</p>
</li>
<li>
<p>MoReference</p>
</li>
<li>
<p>Target</p>
</li>
</ul>
<p><strong>Progressive Disclosure Rule</strong></p>
<p>The Progressive Disclosure rules filter the data available in an input
field based on the preceding selection during a workflow execution. The
first input field is populated with broadest options. The subsequent
input fields are populated with options based on the previous selection.</p>
<p><strong>Example 1:</strong> The following example shows how to create a Progressive
Disclosure rule for a workflow with two input fields. Both these input
fields are MoReference data type. The workflow input fields are:</p>
<ul>
<li>
<p>Field1—Type is <em>MoReference</em>, Intersight API Reference is
/api/v1/asset/DeviceRegistrations, and Selector attribute is
ConnectionStatus.</p>
</li>
<li>
<p>Field2—Type is <em>MoReference</em>, Intersight API Reference is
/api/v1/asset/DeviceRegistrations, and Selector attribute is
ConnectionStatus.</p>
</li>
</ul>
<p>You can create a Progressive Disclosure rule so that during the workflow
execution, the data is filtered for Field2 fields based on value in the
Field1 field. The details of the Progressive Disclosure rule are:</p>
<ul>
<li>Field2 Rule—Target Field is Field2, Attribute is ConnectionStatus,
Condition is <em>Equal to</em>, and Value is ${Field1.ConnectionStatus}.</li>
</ul>
<p><strong>Example 2:</strong>: The following example shows how to create a Progressive
Disclosure rule for a workflow with two input fields. Both these input
fields are composite custom data type. The workflow input fields are:</p>
<ul>
<li>
<p>Input1—Composite data type with two fields (Field1 and Field2)</p>
<ul>
<li>
<p>Field1—Type is <em>MoReference</em>, Intersight API Reference is
/api/v1/asset/DeviceRegistrations, and Selector attribute is
ConnectionStatus.</p>
</li>
<li>
<p>Field2—Type is <em>MoReference</em>, Intersight API Reference is
/api/v1/asset/DeviceRegistrations, and Selector attribute is
ConnectionStatus.</p>
</li>
</ul>
</li>
<li>
<p>Input2—Composite data type with two fields (Field3 and Field4)</p>
<ul>
<li>
<p>Field3—Type is <em>MoReference</em>, Intersight API Reference is
/api/v1/asset/DeviceRegistrations, and Selector attribute is
ConnectionStatus.</p>
</li>
<li>
<p>Field4—Type is <em>MoReference</em>, Intersight API Reference is
/api/v1/asset/DeviceRegistrations, and Selector attribute is
ConnectionStatus.</p>
</li>
</ul>
</li>
</ul>
<p>You can create two Progressive Disclosure rules. During the workflow
execution, the data is filtered for Input2 fields based on value in the
Input1 fields. The details of the two Progressive Disclosure rules are:</p>
<ul>
<li>
<p>Input2.Field3 Rule—Target Field is Input2.Field3, Attribute is
ConnectionStatus, Condition is <em>Equal to</em>, and Value is
${Input1.Field1.ConnectionStatus}.</p>
</li>
<li>
<p>Input2.Field4 Rule—Target Field is Input2.Field4, Attribute is
ConnectionStatus, Condition is <em>Equal to</em>, and Value is
${Input1.Field2.ConnectionStatus}.</p>
</li>
</ul>
<p>The following is a sample of the API request.</p>
<p>  &ldquo;UiInputFilters&rdquo;: [<br>
    {<br>
      &ldquo;Filters&rdquo;: [<br>
        &ldquo;ConnectionStatus eq &lsquo;${Input1.Field1.ConnectionStatus}&rsquo;&rdquo;<br>
      ],<br>
      &ldquo;Name&rdquo;: &ldquo;Input2.Field3&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.UiInputFilter&rdquo;,<br>
      &ldquo;UserHelpMessage&rdquo;: &quot;&quot;<br>
    },<br>
    {<br>
      &ldquo;Filters&rdquo;: [<br>
        &ldquo;ConnectionStatus eq &lsquo;${Input1.Field2.ConnectionStatus}&rsquo;&rdquo;<br>
      ],<br>
      &ldquo;Name&rdquo;: &ldquo;Input2.Field4&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.UiInputFilter&rdquo;,<br>
      &ldquo;UserHelpMessage&rdquo;: &quot;&quot;<br>
    }<br>
  ]</p>
<p>The supported data types for the Progressive Disclosure rules are:</p>
<ul>
<li>
<p>MoReference</p>
</li>
<li>
<p>Target</p>
</li>
<li>
<p>String Object Selector</p>
</li>
</ul>
<p>Workflow Variables</p>
<p>Workflow variables are similar to local variables within functions of a
programming language. You define variables for workflows in Workflow
Designer, and the scope of the workflow variables lies within the
defined workflow. In a workflow, all tasks are bound to the scope of the
workflow and have access to the workflow variables that are defined for
the workflow. You can use the workflow variable to do the following:</p>
<ul>
<li>
<p>Simplify complex workflows which have multiple branches based on the
conditional operator. Save the output of tasks that get executed in
different branches of the workflow into a single variable. This
variable can then be mapped in the downstream tasks irrespective of
the branch from which it was taken.</p>
</li>
<li>
<p>Evaluate the workflow input using a complex expression, save the
result as a variable, and reuse the variable in the subsequent
tasks.</p>
</li>
<li>
<p>Transform the output of a task with the help of template functions
and map the value into a workflow variable. The variables can then
be used in multiple mappings without having to redo the
transformation in every mapping.</p>
</li>
</ul>
<p>To define the workflow variable and specify the corresponding value, you
can do the following:</p>
<ul>
<li>
<p>In the General tab, click Add Workflow Variable and define the
variable properties.</p>
</li>
<li>
<p>In the Designer tab, click the task, and then click the Variables
tab.</p>
<ul>
<li>
<p>To add a new workflow variable, click Add Workflow Variable and
define the variable properties.</p>
</li>
<li>
<p>To add or edit a mapping to an existing variable, click Edit
Mapping and specify the new value.</p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> To view events for a workflow variable, click the View icon.</p>
</blockquote>
<p>The workflow variables can be assigned one of the following values:</p>
<ul>
<li>
<p>Static value—Either the default value of the variable or the value
specified in the workflow tasks.</p>
</li>
<li>
<p>Direct mapping —Mapped to a workflow input, task output, or another
workflow variable.</p>
</li>
<li>
<p>Advanced or Transformational mapping—Evaluate a complex expression
and save the result in a variable.</p>
</li>
</ul>
<p>After you define the workflow variable, you can map the workflow
variable to task input, workflow output, or as an input for another
variable. For more information, see <u>Input, Variable, and Output
Mapping</u>.</p>
<p>Following is a simple example which explains static mapping for a
workflow variable. A workflow has two tasks <em>Task1</em> and <em>Task2</em> and a
workflow variable <em>Variable1</em> is defined with a default value as <em>100</em>.
For <em>Task1</em>, in the Variable tab for the task, you can specify a static
mapping for the workflow variable value as 90. Similarly, for <em>Task2</em>,
in the Variable tab for the task, you can specify the workflow variable
value as 80 by mapping the <em>Variable1</em> value.</p>
<p>When you execute the workflow, the start value of <em>Variable1</em> is the
default value <em>100</em> . After <em>Task1</em> is executed, the value of
<em>Variable1</em> is set to <em>90</em> based on the static value that is mapped for
the task. After <em>Task2</em> is executed, the value of <em>Variable1</em> is set to
<em>80</em> based on the static value that is mapped for the task.</p>
<p>Input, Variable, and Output Mapping</p>
<p>Workflows inputs, variables, and task outputs can be used for mapping
and they can be used as direct, transformed, or advanced mapping. The
syntax to refer to these will depend on the type of mapping.</p>
<ul>
<li>
<p>Workflow inputs are referenced as ${workflow.input.InputName} where
InputName is the Reference Name given to the workflow input and not
the Display Name or Label.</p>
</li>
<li>
<p>Workflow variables are referenced as ${workflow.variable.InputName}
, where InputName is the Reference Name for the workflow variable.</p>
</li>
<li>
<p>Task outputs are referenced as ${TaskName.output.OutputName} where
TaskName is the Instance Name for the task and not the Display Name
or Label and OutputName is the Reference Name for the task output.</p>
</li>
</ul>
<p>To specify an input mapping, select a task and click Edit against a task
input parameter.</p>
<p>To specify a workflow variable mapping, select a task and click Map
against a workflow variable parameter.</p>
<p>Following are the available options:</p>
<ul>
<li>
<p>Static Value—Enter a value that is assigned to the task input or
workflow variable field.</p>
</li>
<li>
<p>Direct Mapping—Map an existing input, workflow variable, or task
output to the task input.</p>
</li>
<li>
<p>Transformed Mapping—Allows applying data transformation through a
combination of one or more transformation stages for a task&rsquo;s input.
In each transformation stage, you can select a transformation
function along with its inputs. The transformation stages will be
converted into a template. You can then preview the template and
test the transformation with sample values.</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> Transformed mapping is only supported for task inputs of
primitive data types, such as <em>string</em>, <em>integer</em>, <em>boolean</em>, and
<em>float</em>.</p>
</blockquote>
<ul>
<li>Advanced Mapping—Map a Golang template to the task input or workflow
variable. For example, FindAllString function returns a slice of all
substrings that match the given regular expression in the given
string.</li>
</ul>
<!-- -->
<ul>
<li>
<p>FindAllString(s, regex string) ([]string, error)<br>
Example: {{(FindAllString .global.task.input.NumberString \&quot;([0-9]+)\&quot;)}} <br>
returns array [“123”, “456”] for input string “123 some text 456”.</p>
</li>
<li>
<p>For example, Atoi function converts the given number in string
format to integer type.</p>
</li>
<li>
<p>Atoi(s string) (int, error)<br>
Example: {{Atoi .global.task.input.SizeString}} <br>
returns integer 2048 for input string “2048”</p>
</li>
</ul>
<p>Operations - Conditional Task</p>
<p>Operations can be used to control the execution path of the workflows.
Orchestrator supports Condition tasks which can be used to control the
tasks that need to be executed.</p>
<p><strong>Tasks to Control Execution Flow of Workflows</strong></p>
<p>The Conditional Task under Operations allows you to perform programmatic
decisional expressions in a conditional task during a workflow
execution. The conditional expression can be simple expression or a
combined compound expression.</p>
<p><strong>Note:</strong> Only JSON style template is supported with conditional
expressions.</p>
<p>Conditional expressions support the following operators:</p>
<ul>
<li>
<p><strong>Comparison operators</strong> such as === (Equal to), != (Not equal to),
&gt; (Greater than), &lt; (Less than), &gt;= (Greater than or equal
to), &lt;= (Less than or equal to)</p>
</li>
<li>
<p><strong>Arithmetic operators</strong> such as =, -, * (Multiplication), /
(division), % (Modulo), ** (Logical AND)</p>
</li>
<li>
<p><strong>Logical operators</strong> such as &amp;&amp; (Logical AND), || (Logical OR), !
((Logical NOT)</p>
</li>
<li>
<p><strong>Ternary operator</strong> such as condition ? val1 : val2</p>
</li>
</ul>
<p>The syntax for workflow input is ${workflow.input.&lt;workflow input
ReferenceName&gt;} and the syntax for task output is ${&lt;Task
Name&gt;.output.&lt;Task Output Name&gt;}. You can get the values for the task
name and task output name from the Code view.</p>
<p>Following is an example for conditional expressions:</p>
<p>if ( (${workflow.input.name} != &rsquo;test&rsquo; || ${workflow.input.name} != &rsquo;test123’)) &lsquo;bad input&rsquo;; else if((${workflow.input.id} != null &amp;&amp; ${workflow.input.id} % 2 == 0)) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name} != &rsquo;test123’ || ${workflow.input.name} != &rsquo;test123’)) &lsquo;bad input&rsquo;; else if((${workflow.input.id} != null &amp;&amp; ${workflow.input.id} % 2 == 0)) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name}.length === 12 || ${workflow.input.name} !== ‘test’ )) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;; &lt;&lt; fgfgfgfgfgfg , even<br>
if ( (${workflow.input.name}.length === 12 || ${workflow.input.name} !== ‘test’ )) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;; &lt;&lt; test , odd<br>
if ( (${workflow.input.name} != null &amp;&amp; &lsquo;decisionTest&rsquo;.indexOf(${workflow.input.name}) != -1 )) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name}.toLowerCase() == ‘testing’)) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;; &lt;&lt; used integers as input name to try odd path<br>
if ( (${workflow.input.name}.search(/\s/g) != -1)) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name}.match(/\s/g) != -1)) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name}.startsWith(&lsquo;Not&rsquo;,0) || ${workflow.input.name}.endsWith(&rsquo;.&rsquo;))) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name}.length &gt;= 3 &amp;&amp; ${workflow.input.name}.length &lt;= 20)) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name}. === undefined)) ‘odd’; else ‘even’;<br>
if ( (${workflow.input.name}.search(&lsquo;Failed&rsquo;) != -1)) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name}.toLowerCase() != &rsquo;&rsquo; || ${workflow.input.name}.toUpperCase() != ‘Not-assigned’ )) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;</p>
<p>The expression is executed during runtime and depending on the result,
the respective path is chosen. If none of the conditions match, the
default path is chosen.</p>
<p>For example, you can have a conditional task that follows a path of
execution depending on the profile state. You can create a condition in
a workflow to check the state of the profile. If the profile is in the
Assigned state then you can deploy the profile, else delete the profile.</p>
<p>After choosing the conditional task, use the Conditions tab to specify
expressions in the Condition field of the tab. The values for the
condition are specified in the Value field of the Cases area.
Expressions are validated for syntax accuracy when workflow is saved.</p>
<p>The following examples return the value of the condition.</p>
<p>${workflow.input.Names}.length<br>
${workflow.input.ArrayOfIds}.length              (here ArrayOfIds represent an array)<br>
${workflow.input.Names}.toLowerCase()<br>
${workflow.input.Names}.toUpperCase()</p>
<p>The following examples return the boolean value &rsquo;true&rsquo; or &lsquo;false&rsquo;.</p>
<p>${workflow.input.Names}.startsWith(&lsquo;Te&rsquo;)<br>
${workflow.input.Names}.endsWith(&lsquo;st&rsquo;)<br>
${workflow.input.Names} == null<br>
${workflow.input.Names} != null</p>
<p>In addition to workflow, task output can also be used. Here a boolean
value is used in a ternary operation. If True, branch1 executes,
otherwise branch2 executes <em>${task1.output.IsValid} ? branch1 :
branch2</em>.</p>
<p>Operations - Parallel Loop Task</p>
<p>Operations can be used to control the execution path of the workflows.
Orchestrator supports the Parallel Loop operation task that can be used
to run a single task or sub-workflow, iteratively, based on a specified
count input.</p>
<p>The iteration count can either be a static value that is specified when
the workflow is created or a dynamic value that is derived from a
workflow input or task output.</p>
<p>When the task is executed, the count &lsquo;N&rsquo; is determined, and the tasks or
sub-workflows are scheduled for execution in parallel. When all the
instances of the task or sub-workflow reach a final state, the parallel
loop operation completes, and the workflow execution moves on to the
next task.</p>
<p><strong>Note:</strong> If one of the tasks or sub-workflows fails then the entire
parallel loop task fails.</p>
<p>The dynamic values for the count must be specified as a template
function. For example, if a loop must run for a count which matches the
length of a workflow input called StringArray, then the count must be
specified using a template function <em>{{ len
.global.workflow.input.StringArray }}</em>.</p>
<p>In addition, you can use the keyword <em>.iteration</em> in a workflow template
input to control the inputs that feed into the task. For example, the
task within the loop needs to take one value from the workflow input
StringArray, then the task string input can be mapped to the template
<em>HostGroupName{{.iteration}}</em> during the workflow creation.</p>
<p>Use the <strong>Parallel Loop</strong> task from the <strong>Operations</strong> section in the
Intersight Orchestrator Workflow Designer UI to build the workflow.</p>
<p>To add a task or a sub-workflow to a Parallel Loop task, you must drag
and drop the single task or sub-workflow inside the Parallel Loop task
in the Workflow Designer UI.</p>
<p>The following table explains the Parallel Loop task input properties:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Count</td>
<td><p>The iteration count value for the parallel loop. The count can either be a static value defined as a constant or a dynamic value defined as an expression that is evaluated to an integer value at execution time.</p>
<p>The dynamic values for the count must be specified as a template function. For example, if a loop must run for a count which matches the length of a workflow input called StringArray, then the count must be specified using a template function {{ len .global.workflow.input.StringArray }}.</p>
<p>The count must be less than or equal to 100.</p></td>
</tr>
</tbody>
</table>
<p><strong>Example: Create a workflow with the Parallel Loop task to create
multiple storage host groups</strong></p>
<p>The following example workflow has two tasks—Parallel Loop and New
Storage Host Group. The first task runs the Parallel Loop task. In this
task, the Count input is a static value and is set to <em>2</em>. The second
task, New Storage Host Group, creates storage host groups with the host
group name as a workflow input.</p>
<p>When the workflow is executed, the count &lsquo;N&rsquo; is determined as 2, and two
create storage host group tasks are executed in parallel. When all the
instances of the task reach a final state, the parallel loop completes.</p>
<p>The workflow input field required for this example is as follows:</p>
<table>
<colgroup>
<col style="width: 22%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Storage Device</td>
<td><ul>
<li><p>Reference Name—<em>StorageDevice</em></p></li>
<li><p>Type—<em>Target Data Type</em></p></li>
<li><p>Intersight API Reference—<em>/api/v1/storage/PureArrays</em></p></li>
<li><p>Selector Attribute—<em>Name</em></p></li>
<li><p>Selector Attribute—<em>Vendor</em></p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the properties for the Parallel Loop task:</p>
<table>
<colgroup>
<col style="width: 44%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Count</td>
<td>Count—<em>2</em></td>
</tr>
</tbody>
</table>
<p>The following table lists the properties for the New Storage Host Group
task:</p>
<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Storage Device</td>
<td>Workflow Input—<em>${workflow.input.StorageDevice}</em></td>
</tr>
<tr class="even">
<td>Host Group</td>
<td><p>Custom Value—<em>HostGroupName{{.iteration}}</em></p>
<p>The keyword <em>.iteration</em> in a workflow template input to control the inputs that feed into the task.</p></td>
</tr>
</tbody>
</table>
<p>After you execute the workflow, you would see the following output:</p>
<p>├── New Storage Host Group<br>
├── &hellip;<br>
│   ├── Inputs<br>
│   │   └── Host Group: HostGroupName0<br>
│   │       └── Storage Device:{ 2 }<br>
│   │           ├── Moid: 619efa1d6e64612d317a248a<br>
│   │           └── ObjectType: storage.PureArray<br>
│   └── Outputs<br>
│       ├── ConfigResults:[ 1 ]<br>
│       │   └── Object: { 4 }<br>
│       │       ├── ConfigResCtx: { 1 }<br>
│       │       │   └── EntityData: { 1 }<br>
│       │       │       └── task: workflow.ApiTask<br>
│       │       ├── Message: Host group created successfully.<br>
│       │       ├── State: Ok<br>
│       │       └── Type: Config<br>
│       └── Host Group: HostGroupName0<br>
├── New Storage Host Group<br>
└── &hellip;<br>
    ├── Inputs<br>
    │   └── Host Group: HostGroupName1<br>
    │       └── Storage Device:{ 2 }<br>
    │           ├── Moid: 619efa1d6e64612d317a248a<br>
    │           └── ObjectType: storage.PureArray<br>
    └── Outputs<br>
        ├── ConfigResults:[ 1 ]<br>
        │   └── Object: { 4 }<br>
        │       ├── ConfigResCtx: { 1 }<br>
        │       │   └── EntityData: { 1 }<br>
        │       │       └── task: workflow.ApiTask<br>
        │       ├── Message: Host group created successfully.<br>
        │       ├── State: Ok<br>
        │       └── Type: Config<br>
        └── Host Group: HostGroupName1</p>
<p>The following is a sample code view:</p>
<p>{<br>
  &ldquo;Catalog&rdquo;: {<br>
    &ldquo;Moid&rdquo;: &ldquo;5e6109bc696f6e2d31f856e5&rdquo;,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.Catalog&rdquo;,<br>
    &ldquo;link&rdquo;: &ldquo;<a href="https://www.intersightcom/api/v1/workflow/Catalogs/5e6109bc696f6e2d31f856e5%22">https://www.intersightcom/api/v1/workflow/Catalogs/5e6109bc696f6e2d31f856e5&quot;</a><br>
  },<br>
  &ldquo;DefaultVersion&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
  &ldquo;InputDefinition&rdquo;: [<br>
    {<br>
      &ldquo;CustomDataTypeProperties&rdquo;: {<br>
        &ldquo;CatalogMoid&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;CustomDataTypeId&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;CustomDataTypeName&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.CustomDataProperty&rdquo;<br>
      },<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;IsValueSet&rdquo;: false,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: null<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;IsArray&rdquo;: false,<br>
      &ldquo;Label&rdquo;: &ldquo;Storage Device&rdquo;,<br>
      &ldquo;Max&rdquo;: 0,<br>
      &ldquo;Min&rdquo;: 0,<br>
      &ldquo;Name&rdquo;: &ldquo;StorageDevice&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.TargetDataType&rdquo;,<br>
      &ldquo;Properties&rdquo;: [<br>
        {<br>
          &ldquo;ConnectorAttribute&rdquo;: &ldquo;RegisteredDevice.Moid&rdquo;,<br>
          &ldquo;ConstraintAttributes&rdquo;: [<br>
            &ldquo;ObjectType&rdquo;<br>
          ],<br>
          &ldquo;DisplayAttributes&rdquo;: [<br>
            &ldquo;Name&rdquo;,<br>
            &ldquo;Vendor&rdquo;<br>
          ],<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.TargetProperty&rdquo;,<br>
          &ldquo;Selector&rdquo;: &ldquo;/api/v1/storage/PureArrays&rdquo;,<br>
          &ldquo;SelectorProperty&rdquo;: {<br>
            &ldquo;Body&rdquo;: null,<br>
            &ldquo;Method&rdquo;: &ldquo;GET&rdquo;,<br>
            &ldquo;ObjectType&rdquo;: &ldquo;workflow.SelectorProperty&rdquo;<br>
          },<br>
          &ldquo;SupportedObjects&rdquo;: [<br>
            &ldquo;storage.PureArray&rdquo;<br>
          ]<br>
        }<br>
      ],<br>
      &ldquo;Required&rdquo;: true<br>
    }<br>
  ],<br>
  &ldquo;InputParameterSet&rdquo;: [],<br>
  &ldquo;Label&rdquo;: &ldquo;Parallel Loop&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;ParallelLoop&rdquo;,<br>
  &ldquo;OutputDefinition&rdquo;: [],<br>
  &ldquo;OutputParameters&rdquo;: null,<br>
  &ldquo;Properties&rdquo;: {<br>
    &ldquo;Cloneable&rdquo;: true,<br>
    &ldquo;EnableDebug&rdquo;: false,<br>
    &ldquo;ExternalMeta&rdquo;: true,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkflowProperties&rdquo;,<br>
    &ldquo;Retryable&rdquo;: false,<br>
    &ldquo;SupportStatus&rdquo;: &ldquo;Supported&rdquo;<br>
  },<br>
  &ldquo;Tags&rdquo;: [],<br>
  &ldquo;Tasks&rdquo;: [<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
      &ldquo;NextTask&rdquo;: &ldquo;parallelLoop1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.StartTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Count&rdquo;: &ldquo;2&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;A Parallel Loop is a control task that runs one task or one sub-workflow multiple times based on a specified count.  The count can be a static value that is specified during design time or a dynamic value that is derived from workflow inputs or task outputs.  When the loop is executed, the count &lsquo;N&rsquo; is determined, N tasks or sub-workflows are scheduled for execution in parallel.  When all N instances of the task or sub-workflow reach a final state the parallel loop will complete and workflow execution will move on to the next task.  If any one of the tasks or sub-workflows fails, then the entire loop will fail.  Dynamic values for count must be specified as a template.  For example, if a loop must run for a count which matches the length of a workflow input called StringArray, then the count must be specified using a template &lsquo;{{ len .global.workflow.input.StringArray }}&rsquo;.  The iteration of the loop is available using the keyword &lsquo;.iteration&rsquo; and it can be used to control inputs that feed into the task.  For example, the task inside the loop needs to take one value from the workflow input StringArray, then the task string input can be mapped to the template &lsquo;{{ index .global.workflow.input.StringArray .iteration}}&rsquo; during design.&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;Parallel Loop&rdquo;,<br>
      &ldquo;LoopStartTask&rdquo;: &ldquo;NewStorageHostGroup1&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;parallelLoop1&rdquo;,<br>
      &ldquo;NumberOfBatches&rdquo;: 1,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.LoopTask&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;Parallel&rdquo;: true<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5c2fc884696f6e2d316c5d59&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Create a host group with host group name as input. On successful execution, the newly created host group name is generated as output.&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;HostGroupName&rdquo;: &ldquo;HostGroupName{{.iteration}}&rdquo;,<br>
        &ldquo;StorageDevice&rdquo;: &ldquo;${workflow.input.StorageDevice}&rdquo;<br>
      },<br>
      &ldquo;Label&rdquo;: &ldquo;New Storage Host Group&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;NewStorageHostGroup1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;5f7ed8a2696f6e2d30eb388b&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;NewStorageHostGroup&rdquo;,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;Version&rdquo;: 2<br>
    }<br>
  ],<br>
  &ldquo;UiInputFilters&rdquo;: [],<br>
  &ldquo;UiRenderingData&rdquo;: {<br>
    &ldquo;Positions&rdquo;: [<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
        &ldquo;X&rdquo;: 269.5,<br>
        &ldquo;Y&rdquo;: 45.5<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 269.5,<br>
        &ldquo;Y&rdquo;: 303<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 412.5,<br>
        &ldquo;Y&rdquo;: 303<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;parallelLoop1&rdquo;,<br>
        &ldquo;X&rdquo;: 149.01800537109375,<br>
        &ldquo;Y&rdquo;: 116.75314331054688<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;NewStorageHostGroup1&rdquo;,<br>
        &ldquo;X&rdquo;: 185,<br>
        &ldquo;Y&rdquo;: 177<br>
      }<br>
    ]<br>
  },<br>
  &ldquo;Version&rdquo;: 1,<br>
  &ldquo;WorkflowMetadata&rdquo;: null<br>
}</p>
<p>Operations - Serial Loop Task</p>
<p>Operations can be used to control the execution path of the workflows.
Orchestrator supports the Serial Loop operation task that is used to run
one or more tasks iteratively, based on a specified count input or a
condition.</p>
<p>In a Serial Loop task:</p>
<ul>
<li>
<p>you can execute one or more tasks within a loop, iteratively, based
on a specified count input or condition.</p>
</li>
<li>
<p>the tasks within the loop execute in succession to complete one
iteration, and then move on to the next iteration.</p>
</li>
</ul>
<p>For example, consider a Serial Loop task that comprises two tasks - Task
A and Task B, and a static Iteration Count of 4. When the Serial Loop
task is executed, Task A and Task B are executed in succession. After
the first iteration is completed, the second iteration begins. This
cycle repeats until the iteration count reaches 4.</p>
<p><strong>Note:</strong> The Serial Loop task does not support sub-workflow tasks,
conditional tasks, forks or joins and nested loops.</p>
<p>Use the <strong>Serial Loop</strong> task from the <strong>Operations</strong> section in the
Intersight Orchestrator Workflow Designer UI to build the workflow. To
add tasks to a Serial Loop task, you must drag and drop the tasks inside
the Serial Loop task in the Workflow Designer UI.</p>
<p>The following table explains the Serial Loop task input properties:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Iteration Count</td>
<td><p>The iteration count value for the serial loop.</p>
<p>Iteration Count is specified in Loop Mode and the tasks are scheduled for execution in a serial loop. When the instance of the loop reaches the final iteration count, the serial loop operation ends, and the workflow moves on to the next task.</p>
<p>The count can either be a static value defined as a constant or a dynamic value defined as an expression that is evaluated to an integer value at execution time. The dynamic values for the count must be specified as a Golang template function.</p>
<p>Example of a static Iteration Count Value:</p>
<p>Iteration Count Value—<em>3</em></p>
<p>The loop runs for 3 iterations.</p>
<p>Example for a dynamic Iteration Count Value:</p>
<p>Iteration Count Value—{{ len .global.workflow.input.StringArray }}</p>
<p>If a loop must run for a count which matches the length of a workflow input called StringArray you must specify the count using a template function.</p>
<p><strong>Note:</strong> The count must be less than or equal to 100.</p></td>
</tr>
<tr class="even">
<td>Condition</td>
<td><p>The condition definition for the serial loop execution.</p>
<p>When Condition is selected in Loop Mode, the tasks are scheduled for execution every time the condition holds true. The condition is validated after every iteration. When the instance of the serial loop task does not satisfy the condition anymore, the serial loop operation ends, and the workflow execution moves on to the next task.</p>
<p>The condition statement is a simple JavaScript Boolean expression. If it returns a True value, the serial loop executes, or else, the loop terminates.</p>
<p>For example, when the condition specified in Loop Mode is:</p>
<p>if (${InvokeSshCommands1.output.ExtractedParameters.userCreatedState} == "present") { true; } else { false; }</p>
<p>In this case, the serial loop runs whenever the task output value of (${InvokeSshCommands1.output.ExtractedParameters.userCreatedState} is "present" and the loop terminates when the task output is any value other than "present".</p>
<p>The following are few examples of input values that use JavaScript conditional expressions:</p>
<ul>
<li><p><strong>Static Value</strong>— You can specify a static value within the conditional expression. The serial loop runs until the iteration reaches the defined count.</p></li>
</ul>
<blockquote>
<p><strong>Note:</strong> Use the expression $.&lt;SerialLoopTaskName&gt;['iteration'] in the conditional expression when the condition is based on comparison of iteration count.</p>
</blockquote>
<ul>
<li><blockquote>
<p>if ($.serialLoop1['iteration'] &lt; 3) { true; } else { false; }</p>
</blockquote></li>
<li><blockquote>
<p>In the above example,</p>
</blockquote>
<ul>
<li><p>the static value defined within the conditional expression is 3.</p></li>
<li><p>$.&lt;SerialLoopTaskName&gt;['iteration'] fetches the running iteration count of the serial loop during execution.</p></li>
<li><p>serialLoop1 is the Serial Loop task name.</p></li>
</ul></li>
</ul>
<ul>
<li><p><strong>Workflow Input</strong>— The serial loop takes a workflow input, evaluates the condition, and runs until the iteration reaches the count derived from the workflow input. In the given example, loopcount is the workflow input.</p></li>
</ul>
<ul>
<li><blockquote>
<p>if ($.serialLoop1['iteration'] &lt; ${workflow.input.loopcount}) { true; } else { false; }</p>
</blockquote></li>
</ul>
<ul>
<li><p><strong>Task Output as an Input</strong>— The serial loop takes a task output, evaluates the condition, and runs until the iteration reaches the count derived from the task output. In the given example, countis the task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>if ($.serialLoop1['iteration'] &lt; ${taskA.output.count}) { true; } else { false; }</p>
</blockquote></li>
</ul>
<p><strong>Note:</strong> A maximum of 100 iterations are allowed to prevent infinite looping.</p></td>
</tr>
</tbody>
</table>
<p><strong>Example: Create a workflow using Iteration Count in a serial loop task
to create storage hosts and assign the host to a newly created host
group</strong></p>
<p>The following workflow example consists of a task called New Storage
Host Group, present outside the serial loop, and two tasks — New Storage
Host and Add Host to Storage Host Group, embedded within the serial
loop. The serial loop mode is Iteration Count.</p>
<p>When the workflow is executed, the New Storage Host Group task first
creates a new storage host group. Then, the New Storage Host and the Add
Host to Storage Host Group tasks are implemented in succession within
the serial loop. At the end of the first iteration, the newly created
storage host is added to the new storage host group, and then, the
second iteration begins. The loop repeats until the iteration count,
which is the total number of storage hosts created, reaches the
specified count.</p>
<p>The Workflow Input fields required for this example are as follows:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Host Group</td>
<td><ul>
<li><p>Reference Name—<em>Hostgroup</em></p></li>
<li><p>Type—<em>String</em></p></li>
<li><p>Min—<em>1</em></p></li>
<li><p>Max—<em>63</em></p></li>
<li><p>Regex—<em>^[a-zA-Z0-9]+([a-zA-Z0-9-]*[a-zA-Z0-9])*$</em></p></li>
<li><p>Object Selector— Enable</p></li>
<li><p>Intersight API Reference—<em>/api/v1/search/SearchItems?$filter=(IndexMotypes eq storage.BaseHostGroup)&amp;$orderby=Name</em></p></li>
<li><p>Selector Attribute—<em>Name</em></p></li>
<li><p>Value Attribute—<em>Name</em></p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the properties of the Serial Loop task:</p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Loop Mode</td>
<td>Iteration Count</td>
</tr>
<tr class="even">
<td>Iteration Count Value</td>
<td><p><em>5</em></p>
<p>This is a static value.</p></td>
</tr>
</tbody>
</table>
<p>The following table lists the input properties of the New Storage Host
task:</p>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Storage Device</td>
<td><p>Static Value</p>
<p>Select the Storage Device.</p></td>
</tr>
<tr class="even">
<td>Host</td>
<td><p>Static Value—serialLoopHost{{.iteration}}</p>
<p>The keyword .iteration is used to append the iteration count, starting from 0, to the input serialLoopHost.</p>
<p>The new storage hosts are created in order, for example: serialLoopHost0, serialLoopHost1, serialLoopHost2, serialLoopHost3 and serialLoopHost4. The loop stops when the count reaches 5.</p></td>
</tr>
<tr class="odd">
<td>Storage Vendor Host Identifier</td>
<td>Static Value—Pure FlashArray</td>
</tr>
<tr class="even">
<td>Storage Vendor Virtual Machine</td>
<td>Static Value—Pure FlashArray</td>
</tr>
<tr class="odd">
<td>Storage Vendor Host Options</td>
<td>Static Value—Pure FlashArray</td>
</tr>
</tbody>
</table>
<p>The following table lists the properties of the Add Host to Storage Host
Group task:</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Storage Device</td>
<td><p>Static Value</p>
<p>Select the Storage Device.</p></td>
</tr>
<tr class="even">
<td>Host Group</td>
<td><p>Advanced Mapping—${NewStorageHostGroup1.output.HostGroupName}</p>
<p>HostGroupName is the task output of the previous task outside the serial loop, which in this case is the New Storage Host Group task.</p></td>
</tr>
<tr class="odd">
<td>Host Name</td>
<td><p>Advanced Mapping—${NewStorageHost1.output.HostName}</p>
<p>HostName is the task output of the previous task inside the serial loop.</p>
<p>Pure FlashArray</p></td>
</tr>
</tbody>
</table>
<p><strong>Example: Create a workflow using condition loop mode in a serial loop
task to run Ansible Playbook on the hosts</strong></p>
<p>The following workflow example consists of a Serial Loop task with two
embedded tasks- Invoke Ansible Playbook and Invoke SSH Commands. The
serial loop mode is Condition.</p>
<p>When the serial loop task is executed , the Ansible Playbook and Invoke
SSH Commands tasks run in succession within the loop.</p>
<p>In this example, the workflow requires two Ansible Playbooks- one to
create a user and the other to delete a user. The Invoke Ansible
Playbook task iterates across the playbooks, and a log file is
generated. The Invoke SSH Commands task prints the log file. The log may
show that the user is present or absent based on the Playbook that is
run.</p>
<p>At the end of each iteration, the output value parsed as
userCreatedState which is present in the log file is evaluated. The
serial loop runs another iteration whenever a user is present and there
is a &ldquo;present&rdquo; value in the capture entity called userCreatedState. The
loop exits when there is no value or any value other than &ldquo;present&rdquo; in
userCreatedState.</p>
<p>For example, when the delete user playbook is run, the output value in
userCreatedState may be &ldquo;absent&rdquo;. In such a case, the condition is not
met, and the loop exits.</p>
<p>The Workflow Input fields required for this example are as follows:</p>
<table>
<colgroup>
<col style="width: 27%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>playbookPaths</td>
<td><ul>
<li><p>Reference Name—<em>playbookPaths</em></p></li>
<li><p>Type—<em>String</em></p></li>
<li><p>Value Restrictions—<em>Collection/Multiple</em></p></li>
<li><p>Min—<em>0</em></p></li>
<li><p>Max—<em>100</em></p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the properties for the Serial Loop task:</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Loop Mode</td>
<td>Condition</td>
</tr>
<tr class="even">
<td>Condition Value</td>
<td><p>if</p>
<p>(${InvokeSshCommands1.output.ExtractedParameters.userCreatedState} == "present") { true; } else { false; }</p>
<p>In this case, the serial loop runs whenever a user is present and there is a value "present" in the capture entity called userCreatedState. The loop exits when there is no value or any value other than "present" in userCreatedState.</p></td>
</tr>
</tbody>
</table>
<p>The following table lists the input properties for the Invoke Ansible
Playbook task:</p>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 85%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Ansible Controller</td>
<td>Static Value</td>
</tr>
<tr class="even">
<td>Playbook Path</td>
<td><p>Advanced Mapping—{{index .global.workflow.input.playbookPaths .iteration}}</p>
<p>A Golang expression is used here which iterates over the defined workflow input playbookPaths. In this example, playbookPaths is an array of Ansible playbook paths.</p></td>
</tr>
<tr class="odd">
<td>Host Inventory</td>
<td><p>Static Value</p>
<p>Example: /home/qali/vspancha/playbooks/33hosts</p></td>
</tr>
</tbody>
</table>
<p>The following table lists the input properties for the Invoke SSH
Command task:</p>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 85%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td>Static Value</td>
</tr>
<tr class="even">
<td>SSH Command</td>
<td><p>Static Value—cat {{.global.InvokeAnsiblePlaybook1.output.ExecutionLogPath}}</p>
<p>The SSH command prints the output. ExecutionLogPath is the output of the task InvokeAnsiblePlaybook1 present within the serial loop.</p></td>
</tr>
<tr class="odd">
<td>Show Command Output</td>
<td><p>Static Value</p>
<p>true</p></td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>Static Value</p>
<ul>
<li><p>Regular Expression—The regular expression of the line in the command response where the capture value, which is userCreatedState in this example, resides.\"state\":\s\"$&lt;userCreatedState&gt;\"</p></li>
<li><p>Name—Name of the output under which the captured value is saved, userCreatedState.</p></li>
<li><p>Type—<em>String</em></p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>Managing the Lifecycle of a Workflow</p>
<p>Workflow management consists of organizing, creating, updating, and
deletion of workflows. The following table describes the set of actions
that you can perform with workflows in Cisco Intersight.</p>
<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="header">
<th>Actions</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>View Workflows</td>
<td>Choosing Orchestration from the left navigation pane will display all workflows in a tabular format. You can view information such as the workflow name and description, the number of versions available, the number of times the workflow has been executed, the last execution status, validation information and the last update time and date.</td>
</tr>
<tr class="even">
<td>Create a New Workflow</td>
<td>Choose Orchestration from the left navigation pane and click Create Workflow. This option opens up the Workflow Designer, using which you can create a new workflow.</td>
</tr>
<tr class="odd">
<td>Create a Version for a Workflow</td>
<td>You can create multiple versions for a workflow. In addition, you can set a specific version of the workflow as the default version for the workflow. See <a href="file://E:\\help\\resources\\Workflow_Designer">Managing Versions for Workflows</a>.</td>
</tr>
<tr class="even">
<td>Delete a Workflow</td>
<td><p>From the tabular list of workflows, you can select a workflow and click Delete. This will remove the workflow and all versions of the workflow.</p>
<p>You cannot delete a workflow when :</p>
<ul>
<li><p>workflow is used as sub-workflow task in another workflow.</p></li>
<li><p>workflow is in running state.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Execute a Workflow</td>
<td><p>Select a workflow from the tabular list of workflows and choose Execute. Alternatively, you can click the workflow name, and then choose Execute in the Workflow Designer.</p>
<p><strong>Important:</strong> Workflow execution includes privilege-based validation for tasks. With the introduction of privilege-based validation for virtualization, compute and storage tasks, a user must have all the required privileges to execute all the domain tasks within a workflow. For example, a user can successfully execute a workflow that includes storage and virtualization tasks only if the user has both Storage and Virtualization Administrator privileges. In the absence of either one of these privileges, the Execute button will not be displayed and the user cannot execute the workflow.</p>
<p>However, an Account Administrator can execute all workflow.</p>
<p>While configuring the properties of a workflow, if you selected the Enable Retry option, then in the event of a workflow failure, you can either choose to execute the workflow again from the point of failure, or you can execute the entire workflow again.</p></td>
</tr>
<tr class="even">
<td>Clone a Workflow</td>
<td>From the tabular list of workflows, you can select a workflow and click Clone. This will clone the selected workflow.</td>
</tr>
<tr class="odd">
<td>Save a Workflow as</td>
<td><p>From the tabular list of workflows, you can choose a workflow and click. By default, the workflow details are displayed in the Designer tab. You can choose Save As option from the Action drop-down list to clone or create a new version of the existing workflow.</p>
<p>You can also perform this operation in the General tab.</p>
<p>In the Save As screen, you can choose one of the following:</p>
<ul>
<li><p>New Version—Specify a new version and related description. Click Save.</p></li>
</ul>
<ul>
<li><blockquote>
<p>This option is not available for a system generated workflow.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Clone—Specify user-friendly short name, reference name, description, and tag key. Click Save. For more information, see <a href="file://E:\\help\\resources\\Workflow_Designer">Cloning a Workflow</a>.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>Cloning a Workflow</p>
<p>You can clone a workflow. The cloned workflow is identical to the
original workflow. You can edit the new workflow immediately. You might
do this, for example, to create a workflow that is similar to the source
workflow that can be edited based on your requirements. The new workflow
has a new, separate version history.</p>
<p>To clone a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>From the tabular list of workflows, select a workflow and choose
Clone.</p>
</li>
<li>
<p>In the Clone Workflow screen, edit the user-friendly short name,
reference name, description, and organization details. The
organization mappings are displayed only for pre-canned workflows
and not for the custom workflows.</p>
</li>
<li>
<p>Check the Open Clone in Editor check box if you want to open the
cloned workflow in the workflow designer and edit the details.</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Open Clone in Editor check box is not displayed when you
clone a workflow using the Save As option.</p>
</blockquote>
<ol>
<li>Click Clone.</li>
</ol>
<p>Managing Versions for Workflows</p>
<p>Cisco Intersight allows you to create and manage versions for workflows.
In addition to creating versions, you can also set a specific version as
the default version for the workflow. You can create a version of a
workflow and execute it only if you are one of the following users:</p>
<ul>
<li>
<p>Account Administrator</p>
</li>
<li>
<p>User with Workflow Designer privileges</p>
</li>
</ul>
<p>Read-Only users can only view versions of a workflow. They cannot
create, edit, execute or delete versions. Users with Storage
Administrator and Virtualization Administrator privileges can only view
and execute specific versions of a workflow.</p>
<p>To create a version for a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>From the tabular list of workflows, select a workflow and choose
Manage Versions.</p>
</li>
<li>
<p>In the Manage Versions screen, you can perform the following tasks:</p>
</li>
</ol>
<ul>
<li>
<p>Create a new version for the workflow</p>
</li>
<li>
<p>Execute a specific version of the workflow</p>
</li>
<li>
<p>Delete a specific version. You cannot directly delete the default
version of a workflow. To delete the default version, perform the
following:</p>
<ul>
<li>
<p>Make another version the default.</p>
</li>
<li>
<p>Change the workflow version to be deleted as non-default.</p>
</li>
<li>
<p>Delete the workflow version that was changes as non-default.</p>
</li>
</ul>
</li>
<li>
<p>Set a specific version of the workflow as the default version</p>
</li>
</ul>
<ol>
<li>Choose Create a New Version and enter the following details:</li>
</ol>
<ul>
<li>
<p>Source Version—Choose a specific version that will form the source
for the new version that you are creating.</p>
</li>
<li>
<p>Version—Specify a version number for the workflow.</p>
</li>
<li>
<p>Description—Enter a description for the version so that you can
identify it.</p>
</li>
<li>
<p>Set as Default Version—Check this check box to set this new version
as the default version for the workflow.</p>
</li>
</ul>
<ol>
<li>Click Create.</li>
</ol>
<!-- -->
<ol>
<li>After creating a version for a workflow, clicking on the version
number on the Manage Versions screen opens the workflow in Workflow
Designer.</li>
</ol>
<p><strong>Note:</strong> Deleting a workflow will delete all versions created for the
workflow.</p>
<p>Exporting a Workflow</p>
<p>Intersight Cloud Orchestrator enables you to export workflows from an
account to your system and then import them to another account.</p>
<p>To export a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click the Workflow tab.</p>
</li>
<li>
<p>From the tabular list of workflows, do one of the following:</p>
</li>
</ol>
<ul>
<li>
<p>Select a workflow, click the Ellipsis (…) icon in the same row, and
then choose Export Workflow.</p>
</li>
<li>
<p>Select multiple workflows, click the Ellipsis (…) icon from the
header or footer of the tabular list, and then choose Export
Workflow.</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> You can also export workflows from the Actions menu in the
Workflow Designer window.</p>
</blockquote>
<ol>
<li>
<p>In the Export Workflow screen:</p>
<ol>
<li>
<p>In the JSON File Name field, use the default filename or enter a
filename of your choice for the JSON file that stores the
workflow components.</p>
</li>
<li>
<p>Use the Export Tags toggle button to include or exclude the
user-defined tags. ICO does not export the system-defined tags.</p>
</li>
<li>
<p>Click Export.</p>
</li>
<li>
<p>Save a local copy of the JSON file.</p>
</li>
</ol>
</li>
</ol>
<p>Importing a Workflow</p>
<p>Intersight Cloud Orchestrator enables you to import workflows to your
account by importing a JSON file that contains the workflow components.
You can create the JSON file by exporting the workflow components from
another account.</p>
<p>To import a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Import.</p>
</li>
</ol>
<!-- -->
<ol>
<li>The Import wizard appears.</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Select File screen:</p>
<ol>
<li>
<p>From the Organization drop-down list, choose the organization to
which you want to import the workflow(s).</p>
</li>
<li>
<p>Click Browse, and then select the JSON file that contains the
Workflow(s).</p>
</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Ensure that the file size of the JSON file is not more than
1MB. If the file size is more than 1MB, export the workflow(s) in
batches, and then try import.</p>
</blockquote>
<ol>
<li>Click Next.</li>
</ol>
<!-- -->
<ol>
<li>Intersight Cloud Orchestrator validates the JSON file and displays
<blockquote>
<p>the workflow(s) in the Details screen.</p>
</blockquote>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Details screen:</p>
<ol>
<li>To associate an additional tag to the components listed in the
table, enter the tag in the Set Tags field.</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Set Tags is an optional field. You must enter the tag in the
key:value format.</p>
</blockquote>
<ol>
<li>
<p>If one or more workflow components are already available in the
system, choose a rule to replace or skip the duplicate components.</p>
</li>
<li>
<p>Click Import.</p>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Import Result screen:</p>
<ol>
<li>
<p>Verify the status of the imported workflow.</p>
</li>
<li>
<p>If you want to view the details of the import request:</p>
</li>
</ol>
</li>
</ol>
<ul>
<li>
<p>Click the link displayed above the table.</p>
</li>
<li>
<p>Alternatively, click the Requests icon displayed in the menu bar.</p>
</li>
</ul>
<!-- -->
<ul>
<li>
<p>For more information, see
<a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Requests</a>.</p>
<ol>
<li>Click Close.</li>
</ol>
</li>
</ul>
<p>You can execute the imported workflow from the Workflows tab.</p>
<p>Defining Workflow Input Rules</p>
<p>Intersight Cloud Orchestrator allows you to configure input rules that
control the display of fields in the workflow execution screen. You can
define these input rules for a workflow by using the Intersight API and
while creating a composite data type. By default, all input fields for a
workflow are displayed in the workflow execution screen. By configuring
input rules, the fields in this screen are displayed or hidden based on
the value selected for a previous input field.</p>
<p>After configuring input rules in the workflow definition using the
Intersight API, you can view the input rules using the Code tab in the
Workflow Designer.</p>
<p>Following is a sample of a simple input rule set for a workflow:</p>
<p>&ldquo;InputParameterSet&rdquo;:[<br>
{<br>
&ldquo;ObjectType&rdquo;: &ldquo;workflow.ParameterSet&rdquo;,<br>
&ldquo;Name&rdquo;: &ldquo;rule-1&rdquo;,<br>
&ldquo;ControlParameter&rdquo;: &ldquo;input-1&rdquo;,<br>
&ldquo;Condition&rdquo;: &ldquo;eq&rdquo;,<br>
&ldquo;Value&rdquo;: &ldquo;true&rdquo;,<br>
&ldquo;EnableParameters&rdquo;: [<br>
&ldquo;input-2&rdquo;<br>
]<br>
},<br>
{<br>
&ldquo;ObjectType&rdquo;: &ldquo;workflow.ParameterSet&rdquo;,<br>
&ldquo;Name&rdquo;: &ldquo;rule-2&rdquo;,<br>
&ldquo;ControlParameter&rdquo;: &ldquo;input-1&rdquo;,<br>
&ldquo;Condition&rdquo;: &ldquo;ne&rdquo;,<br>
&ldquo;Value&rdquo;: &ldquo;true&rdquo;,<br>
&ldquo;EnableParameters&rdquo;: [<br>
&ldquo;input-3&rdquo;,<br>
]<br>
}<br>
]</p>
<p>Following is an example for the parameter sets defined at workflow
level:</p>
<p>{<br>
  &ldquo;Label&rdquo;: &ldquo;Provision VM&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;ProvisionVM&rdquo;,<br>
  &ldquo;DefaultVersion&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
  // Parameter set defintion <br>
  &ldquo;InputParameterSet&rdquo;: [<br>
    {<br>
      // rule-1 enables &lsquo;vmwarehost&rsquo; input when value of &lsquo;vmtype&rsquo; is &lsquo;vmware&rsquo;<br>
      &ldquo;Name&rdquo;: &ldquo;rule-1&rdquo;,<br>
      &ldquo;ControlParameter&rdquo;: &ldquo;vmtype&rdquo;,<br>
      &ldquo;Condition&rdquo;: &ldquo;eq&rdquo;,<br>
      &ldquo;Value&rdquo;: &ldquo;vmware&rdquo;,<br>
      &ldquo;EnableParameters&rdquo;: [<br>
        &ldquo;vmwarehost&rdquo;<br>
      ]<br>
    },<br>
    {<br>
      // rule-2 enables &lsquo;hxcluster&rsquo; input when value of &lsquo;vmtype&rsquo; is &lsquo;hx&rsquo;<br>
      &ldquo;Name&rdquo;: &ldquo;rule-2&rdquo;,<br>
      &ldquo;ControlParameter&rdquo;: &ldquo;vmtype&rdquo;,<br>
      &ldquo;Condition&rdquo;: &ldquo;eq&rdquo;,<br>
      &ldquo;Value&rdquo;: &ldquo;hx&rdquo;,<br>
      &ldquo;EnableParameters&rdquo;: [<br>
        &ldquo;hxcluster&rdquo;<br>
      ]<br>
    }<br>
  ],<br>
  &ldquo;InputDefinition&rdquo;: [<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;VM Type&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;vmtype&rdquo;,<br>
      &ldquo;Required&rdquo;: false,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;ClassId&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;ClassId&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;EnumList&rdquo;: [<br>
            {<br>
              &ldquo;ClassId&rdquo;: &ldquo;workflow.EnumEntry&rdquo;,<br>
              &ldquo;ObjectType&rdquo;: &ldquo;workflow.EnumEntry&rdquo;,<br>
              &ldquo;Label&rdquo;: &ldquo;VMWare&rdquo;,<br>
              &ldquo;Value&rdquo;: &ldquo;vmware&rdquo;<br>
            },<br>
            {<br>
              &ldquo;ClassId&rdquo;: &ldquo;workflow.EnumEntry&rdquo;,<br>
              &ldquo;ObjectType&rdquo;: &ldquo;workflow.EnumEntry&rdquo;,<br>
              &ldquo;Label&rdquo;: &ldquo;HX&rdquo;,<br>
              &ldquo;Value&rdquo;: &ldquo;hx&rdquo;<br>
            }<br>
          ],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;Secure&rdquo;: false,<br>
        &ldquo;Type&rdquo;: &ldquo;enum&rdquo;<br>
      }<br>
    },<br>
    {<br>
      &ldquo;Name&rdquo;: &ldquo;vmname&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;VM Name&rdquo;,<br>
      &ldquo;Required&rdquo;: false,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Max&rdquo;: 0<br>
        },<br>
        &ldquo;Secure&rdquo;: false<br>
      },<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Name&rdquo;: &ldquo;vmwarehost&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;Host&rdquo;,<br>
      &ldquo;Required&rdquo;: false,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Max&rdquo;: 0<br>
        },<br>
        &ldquo;Secure&rdquo;: false<br>
      },<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: null<br>
      },<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Name&rdquo;: &ldquo;hxcluster&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;Cluster&rdquo;,<br>
      &ldquo;Required&rdquo;: false,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Max&rdquo;: 0<br>
        },<br>
        &ldquo;Secure&rdquo;: false<br>
      },<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;<br>
    }<br>
  ],<br>
  &ldquo;OutputDefinition&rdquo;: [],<br>
  &ldquo;OutputParameters&rdquo;: null,<br>
  &ldquo;Tasks&rdquo;: [<br>
    {<br>
      &ldquo;ClassId&rdquo;: &ldquo;workflow.StartTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
      &ldquo;NextTask&rdquo;: &ldquo;NewProfile1596244596840&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.StartTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;ClassId&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;ClassId&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5dd45ab6696f6e2d301e2df6&rdquo;,<br>
      &ldquo;ClassId&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Task to create a Profile&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;Provision VM&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;ProvisionVM1596244596840&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;5efd7c84696f6e2d309e6877&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;NewProfile&rdquo;,<br>
      &ldquo;Version&rdquo;: 1<br>
    }<br>
  ],<br>
  &ldquo;Version&rdquo;: 1<br>
}</p>
<p>Following is an example for the parameter sets defined at custom data
type level:</p>
<p>{<br>
  &ldquo;Label&rdquo;: &ldquo;ClusterType&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;ClusterType&rdquo;,<br>
  &ldquo;CompositeType&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;Type definition for a cluster information.&rdquo;,<br>
  &ldquo;TypeDefinition&rdquo;: [<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;Cluster Type&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;clustertype&rdquo;,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;EnumList&rdquo;: [<br>
            {<br>
              &ldquo;ObjectType&rdquo;: &ldquo;workflow.EnumEntry&rdquo;,<br>
              &ldquo;Label&rdquo;: &ldquo;VM Ware&rdquo;,<br>
              &ldquo;Value&rdquo;: &ldquo;vmware&rdquo;<br>
            },<br>
            {<br>
              &ldquo;ObjectType&rdquo;: &ldquo;workflow.EnumEntry&rdquo;,<br>
              &ldquo;Label&rdquo;: &ldquo;HX AP&rdquo;,<br>
              &ldquo;Value&rdquo;: &ldquo;hxap&rdquo;<br>
            }<br>
          ]<br>
        },<br>
        &ldquo;Type&rdquo;: &ldquo;enum&rdquo;<br>
      }<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;VMware Cluster&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;vmwarecluster&rdquo;<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;HX Cluster&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;hxcluster&rdquo;<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;Cluster Description&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;clusterdescr&rdquo;<br>
    }<br>
  ],<br>
  &ldquo;ParameterSet&rdquo;: [<br>
    {<br>
      &ldquo;Name&rdquo;: &ldquo;rule-1&rdquo;,<br>
      &ldquo;Field&rdquo;: &ldquo;clustertype&rdquo;,<br>
      &ldquo;Condition&rdquo;: &ldquo;eq&rdquo;,<br>
      &ldquo;Value&rdquo;: &ldquo;vmware&rdquo;,<br>
      &ldquo;ShowFields&rdquo;: [<br>
        &ldquo;vmwarecluster&rdquo;<br>
      ]<br>
    },<br>
    {<br>
      &ldquo;Name&rdquo;: &ldquo;rule-2&rdquo;,<br>
      &ldquo;Field&rdquo;: &ldquo;clustertype&rdquo;,<br>
      &ldquo;Condition&rdquo;: &ldquo;eq&rdquo;,<br>
      &ldquo;Value&rdquo;: &ldquo;hxap&rdquo;,<br>
      &ldquo;ShowFields&rdquo;: [<br>
        &ldquo;hxcluster&rdquo;<br>
      ]<br>
    }<br>
  ]<br>
}</p>
<p>Supported Workflows for Storage Targets</p>
<p>The following table lists workflows supported in the various storage
targets available on Intersight:</p>
<table>
<colgroup>
<col style="width: 45%" />
<col style="width: 24%" />
<col style="width: 15%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="header">
<th>List of Storage Workflows</th>
<th>Pure Storage</th>
<th>NetApp</th>
<th>Hitachi</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>New Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>New Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="odd">
<td>New VMFS Datastore</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>New NAS Datastore</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove NFS Datastore</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Remove Storage Export Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove VMFS Datastore</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Update Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Update NAS Datastore</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Update VMFS Datastore</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>New Storage Interface</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>New Storage Export Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>New Storage Virtual Machine</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
</tbody>
</table>
<p><span id="_Refd24e4658" class="anchor"></span>Task Designer</p>
<p>Cisco Intersight allows you to create tasks in which API requests can be
executed in remote targets that can be reached through Intersight. You
create tasks so that they can be used in workflows.</p>
<p><strong>Note:</strong> To execute the new tasks for VMware vCenter networking
operations, you should upgrade to Intersight Assist version 1.0.9-278.</p>
<p>To launch the Task Designer, choose Orchestration <strong>&gt;</strong> Task. A
dashboard displays the following details under these tabs, namely, My
Tasks, System Tasks, and All Tasks:</p>
<ul>
<li>
<p>Top Task Categories</p>
</li>
<li>
<p>Number of System Defined Tasks</p>
</li>
<li>
<p>Top Workflows by Targets</p>
</li>
</ul>
<p>Below the dashboard is a tabular list of tasks displaying the following
information:</p>
<ul>
<li>
<p>Display Name</p>
</li>
<li>
<p>Description</p>
</li>
<li>
<p>Validation Status</p>
</li>
<li>
<p>Last Update</p>
</li>
<li>
<p>System Defined</p>
</li>
<li>
<p>Organization</p>
</li>
</ul>
<p>From this screen, with an account administrator or a Workflow Designer
role, you can perform the following actions for an organization:</p>
<ul>
<li>
<p>Create a task</p>
</li>
<li>
<p>Edit or delete a task</p>
</li>
</ul>
<p><strong>Note:</strong> Tasks created in an organization can be used in workflows
created within that organization only.</p>
<p>Supported Requests</p>
<p>You can define and execute one or more API requests in the task
definition. You can extract the required values from the API responses
and use them in subsequent API requests as task output values. You
provide values for different properties in an HTTP API request and use
them in subsequent API request or as task output values. You can also
provide values for different properties of an HTTP API request, such as,
HTTP method, URL, header, cookies, etc.</p>
<p>The API requests can be executed on external targets that are reachable
by Intersight, either directly or through device connectors. The
supported HTTP authentication scheme is Basic Authentication over HTTPS.
The external targets with their credentials are defined when specifying
the Targets in the Targets screen (see: <a href="file://E:%5Chelp%5Cfeatures%5Ccisco_intersight%5Cadmin">Target
Management</a>). Hence,
there is no need to provide credentials or authentication specific
headers in the request. The input parameter of type target data type is
the source from which the details are automatically collected from.</p>
<p>Response Parser</p>
<p>The response parser contains information about the required values,
their types, and the location in the API responses. You specify the
required values along with API request details. These details are used
by the response parser to extract values from the API responses. The
extracted values are used as task output values and to determine the
task execution status and the status message.</p>
<p>The supported response type is JSON. The response parser supports
extraction of values from JSON responses. The users shall provide the
information such as the value parameter name, type and the JSON path of
the value location. You can extract multiple values from the API
response by providing the above details for each required value.</p>
<p>Outcomes</p>
<p>An outcome is the combination of a condition and task status. You use
the extracted values from the API response to determine the task status
and set the status with an appropriate message, when the conditions
match. You can specify one or more outcomes and the outcomes are
evaluated in the specified order. The first outcome condition that
matches sets the task status and message. If none of the outcome
condition matches, the task shall be marked as successful. The outcomes
of a task are as follows:</p>
<ul>
<li>
<p>Success—Marks the API execution as Success if the condition matches</p>
</li>
<li>
<p>Skip to Success—Stops further API executions of the task and marks
the task as successful when the condition matches</p>
</li>
<li>
<p>Status—Retains a task as work in progress, only updating the status</p>
</li>
<li>
<p>Error—Marks the API execution as Failed if the condition matches.
Task retry will be attempted if the task has any retries left</p>
</li>
<li>
<p>Terminal error—Marks the API execution as Failed if the condition
matches. This marks a non-recoverable error and no retries are
attempted</p>
</li>
<li>
<p>Skip Task Execution—Skips execution of task if the condition matches
in the API. This will skip execution of all the subsequent APIs in
the task</p>
</li>
</ul>
<p>If the task status is Terminal Error, there are no retries for that
task.</p>
<p>Creating a Task</p>
<p>Task creation can be broken down into the following sequence of steps:</p>
<ol>
<li>
<p>Defining a task—you specify the name of the task and provide a few
other generic details.</p>
</li>
<li>
<p>Defining task inputs and task outputs—you can specify which input
parameters are required to execute the task and the output expected
from the execution.</p>
</li>
<li>
<p>Adding multiple API requests in the Task Designer.</p>
</li>
</ol>
<p>Defining a Task</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Tasks tab.</p>
</li>
<li>
<p>Choose Create Task.</p>
</li>
<li>
<p>Drag and drop a task from the Tools section on the Design area.</p>
</li>
<li>
<p>In the Task Properties area, choose the General tab and enter the
following information:</p>
<ol>
<li>
<p>Organization—Name of the organization that you are creating the
task in</p>
</li>
<li>
<p>Task Name—A user-friendly short name for the task</p>
</li>
<li>
<p>Description—A description for the task</p>
</li>
<li>
<p>Retry Count—Number of times a task should be tried before it is
marked failed</p>
</li>
<li>
<p>Retry Delay—Delay, in seconds, after which a task is tried again</p>
</li>
<li>
<p>Timeout—Timeout value, in seconds, after which a task is termed
as timed out</p>
</li>
<li>
<p>Set Tags—Set a tag for the task in the key:value format</p>
</li>
<li>
<p>Enable Rollback Task—Enable to rollback a task and choose an
appropriate task from the drop-down list. Create the required
workflow inputs and map it accordingly</p>
</li>
</ol>
</li>
</ol>
<p><strong>Note:</strong> Rollback operation for Assign IP Address to Virtual Machine
Network task is not supported on Windows virtual machines.</p>
<p>Defining Task Inputs and Outputs</p>
<ol>
<li>
<p>In the Task Properties area, choose the Input tab and choose a
parameter. For more information about the Input properties, see
<a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Workflow Designer</a>.</p>
</li>
<li>
<p>Click the Edit icon to open the Create Task Input dialog.</p>
</li>
<li>
<p>In the Add Input screen, enter the following details:</p>
<ol>
<li>
<p>Display Name—Enter user-friendly short name.</p>
</li>
<li>
<p>Reference Name</p>
</li>
<li>
<p>Description—Detailed description of the input</p>
</li>
<li>
<p>Value Restrictions—Choose Required, Collection/Multiple, or can
be left blank</p>
</li>
<li>
<p>Type—Choose a data type for primitive data type. For example,
enum</p>
</li>
<li>
<p>Enum List—Label for the enum value</p>
</li>
<li>
<p>Minimum and Maximum Range</p>
</li>
<li>
<p>Regex—Validates the regular expression when you select String in
the Type field.</p>
</li>
<li>
<p>Object Selector—Enable to configure the Intersight managed
object selectors. This attribute is available only when the
primitive data is String. Specify the Intersight API Reference
and selector attributes to feed the input from the table
selection. Value will be passed according to the configuration
set in the Value attribute.</p>
</li>
<li>
<p>Intersight API Reference—Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute—Enter the attribute name(s) that needs to be
displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
<li>
<p>Value Attribute—Enter the value to be passed as an input while
executing a task. This value should be any one of the attribute
name specified in the Selector Attribute field. This attribute
is available only when the primitive data is String.</p>
</li>
<li>
<p>Secure—Indicates that the values of these properties are
encrypted and stored in Cisco Intersight.</p>
</li>
</ol>
</li>
</ol>
<!-- -->
<ol>
<li>The fields displayed depend on the value you select for the Type
field. Task designer does not support target date type.</li>
</ol>
<!-- -->
<ol>
<li>
<p>Click Add.</p>
</li>
<li>
<p>Repeat this procedure to create multiple task inputs.</p>
</li>
<li>
<p>In the Task Properties area, choose the Output tab and choose a
parameter. For more information about the output properties, see
Input and Output.</p>
</li>
</ol>
<p>The created task is available in the General category in Workflow
Designer. You can create a workflow by dragging and dropping the task on
the Workflow Design area.</p>
<p><strong>Template Engine Syntax</strong></p>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .global.CreateSnapshot.output.HttpStatusCode 400) (lt .global.CreateSnapshot.output.HttpStatusCode 500)}}</p>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}</p>
<p>{{if (eq .global.CreateSnapshot.output.HttpStatusCode 200)}}<br>
Snapshot with name {{.global.CreateSnapshot.input.Name}} is created successfully.<br>
{{end}}</p>
<p>{{if (eq .global.CreateSnapshot.output.HttpStatusCode 200)}}<br>
Snapshot with name {{.global.CreateSnapshot.input.Name}} is created successfully.<br>
{{else}}<br>
Snapshot creation failed with message {{.global.CreateSnapshot.output.HttpStatusMsg}}.<br>
{{end}}</p>
<p>{{if (eq .global.CreateSnapshot.output.HttpStatusCode 200)}}<br>
Snapshot with name {{.global.CreateSnapshot.input.Name}} is created successfully.<br>
{{else if (eq .global.CreateSnapshot.output.HttpStatusCode 409)}}<br>
A Snapshot with name {{.global.CreateSnapshot.input.Name}} already exists.<br>
{{else}}<br>
Snapshot creation failed with message {{.global.CreateSnapshot.output.HttpStatusMsg}}.<br>
{{end}}</p>
<p><strong>Example Task: Creating a Snapshot of Pure Flash Array</strong></p>
<p>This example shows how to create a snapshot of a volume in a Pure Flash
Array. Specify the following information in the General tab of the Task
Properties area.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Task Name</td>
<td>New Pure Volume Snapshot</td>
</tr>
<tr class="even">
<td>Retry Count</td>
<td><p>1</p>
<p>The task will be retried once more when the task fails.</p></td>
</tr>
<tr class="odd">
<td>Retry Delay</td>
<td><p>10</p>
<p>The task will be retried after 10 seconds.</p></td>
</tr>
<tr class="even">
<td>Timeout</td>
<td><p>20</p>
<p>If the task does not complete execution in 20 seconds, then it is marked as Failed. If a retry count is configured (which is 1 for this task), the task is retried after the specified retry delay, which is 10 seconds.</p></td>
</tr>
</tbody>
</table>
<p>The snapshot is created using the Pure Flash Array volume API. Below is
a sample API request and response from Pure Flash Array API Reference.</p>
<p>POST /volume<br>
{<br>
    &ldquo;snap&rdquo;: true,<br>
    &ldquo;source&rdquo;: [<br>
        &ldquo;&lt;Volume Name 1&gt;&rdquo;,<br>
        &ldquo;&lt;Volume Name 2&gt;&rdquo;<br>
    ]<br>
}</p>
<p>From the above API, it can be inferred that the name of the source
volume is required, for which the snapshot is created. To do this, add a
task input parameter of type string to fetch the volume name as a task
input. Assuming the task input parameter is named as VolumeName, the
following template can be used to create the above request. This
template is populated as value for Body field in the API request’s input
panel.</p>
<p>{<br>
    &ldquo;snap&rdquo;: true,<br>
    &ldquo;source&rdquo;: [<br>
        &ldquo;{{.global.task.input.VolumeName}}&rdquo;<br>
    ]<br>
}</p>
<p>You either receive a success or a failure message for the request. The
following is a sample of the success message. The success message
displays the serial number and the new snapshot name against the Name
and Serial properties. This information is extracted as a task output.</p>
<p>200 OK<br>
[<br>
    {<br>
        &ldquo;created&rdquo;: &ldquo;2017-12-16T05:12:53Z&rdquo;,<br>
        &ldquo;name&rdquo;: &ldquo;&lt;snapshot name&gt;&rdquo;,<br>
        &ldquo;serial&rdquo;: &ldquo;&lt;serial number&gt;&rdquo;,<br>
        &ldquo;size&rdquo;: 5368709120,<br>
        &ldquo;source&rdquo;: &ldquo;&lt;volume name&gt;&rdquo;<br>
    }<br>
]</p>
<p>In case of a failure, the response displays an array of errors. Each
error contains a message, a code, and a context. In this example, if the
specified volume name is not found, the following message is displayed.</p>
<p>400 BAD REQUEST<br>
[<br>
    {<br>
        &ldquo;msg&rdquo;: &ldquo;Volume does not exist.&rdquo;,<br>
        &ldquo;code&rdquo;: 6,<br>
        &ldquo;ctx&rdquo;: &ldquo;&lt;Volume Name&gt;&rdquo;<br>
    }<br>
]</p>
<p>If the msg property is present in the response, the property can be used
to determine the task status with HTTP status code 400. The property
named msg can be accessed using the JSON path $[0].msg. The details to
extract the parameters are provided as value for Response Parser field
in API request’s input area. The path is a valid JSON path that locates
a required data in the API response.</p>
<table>
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="header">
<th>Response Parameter</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SnapshotName</td>
<td><p>This parameter contains the extracted snapshot name in the API output.</p>
<ul>
<li><p><strong>Name:</strong> SnapshotName</p></li>
<li><p><strong>Path:</strong> $[0].name</p></li>
<li><p><strong>Type:</strong> string</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Serial</td>
<td><p>This parameter contains the extracted serial value in the API output.</p>
<ul>
<li><p><strong>Name:</strong> Serial</p></li>
<li><p><strong>Path:</strong> $[0].serial</p></li>
<li><p><strong>Type:</strong> string</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Error</td>
<td><p>This parameter contains the extracted error message in the API output.</p>
<ul>
<li><p><strong>Name:</strong> Error</p></li>
<li><p><strong>Path:</strong> $[0].msg</p></li>
<li><p><strong>Type:</strong> string</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>To define a task, drag and drop the <strong>Invoke Web API Request</strong> task into
the Task Designer area. Use the Properties area to populate API details.
The following is sample information that can be entered the General tab.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Name</td>
<td><p><strong>Create Snapshot</strong></p>
<p>The name must be unique. The APIs inside the task cannot be named as <strong>Create Snapshot</strong>. A name without space, such as <strong>CreateSnapshot</strong> can be used to refer the API output in subsequent API requests. In this example the following details are referred using API name.</p>
<p><strong>HTTP Status Code:</strong></p>
<p>{{.global.CreateSnapshot.output.HttpStatusCode}}</p>
<p>The parameters extracted from the response are referred using the API name after extracting the value from the response through the response parser as follows:</p>
<p>{{.global.CreateSnapshot.output.Serial}}</p></td>
</tr>
<tr class="even">
<td>Set External Target</td>
<td><p><strong>Checked - true</strong></p>
<p>As this is the first API and task does not have an input of type Target, a dialog appears that can be used to add a task input of Target type. The claimed Pure Storage Array target is provided as value for this task input during execution.</p></td>
</tr>
</tbody>
</table>
<p>The task input pertains to the API request details and to extract the
required values from response. The following is an example of the
required input values for the create snapshot API.</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Method</td>
<td>POST</td>
</tr>
<tr class="even">
<td>URL</td>
<td><p>/volume</p>
<p>The relative URL of the REST API end point is specified. The host part is filled through the information in pure target (Protocol, IPAddress, Port).</p></td>
</tr>
<tr class="odd">
<td>Body</td>
<td><p>Content Type: JSON</p>
<p>Text:</p>
<p>{<br />
    "snap": true,<br />
    "source": [<br />
        "{{.global.task.input.VolumeName}}"<br />
    ]<br />
}</p></td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>The following parameters are added:</p>
<ul>
<li><p><strong>SnapshotName:</strong> Path: $[0].name, Type: string</p></li>
<li><p><strong>Serial:</strong> Path: $[0].serial, Type: string</p></li>
<li><p><strong>Error:</strong> Path: $[0].msg, Type: string</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The extracted values from the API responses determine the task status.
In this example, the following outcomes are added based on the API
response.</p>
<ol>
<li>If the status code is 401, the task encounters terminal failure with
<strong>Authorization Failed</strong> message. The retry also fails. Hence the
outcome type is set as <strong>Terminal Error</strong>. So, the task is not
retried despite a retry is being specified.</li>
</ol>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Name</td>
<td><p><strong>Authorization Error</strong></p>
<p>Identifies an outcome in the outcomes list of task designer. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td>Condition</td>
<td><p>{{eq .global.CreateSnapshot.output.HttpStatusCode 401}}</p>
<p>This condition checks whether the response status code of API named ‘Create Snapshot’ is 401.</p></td>
</tr>
<tr class="odd">
<td>Outcome Type</td>
<td><strong>Terminal Error</strong></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><strong>Authorization Error. Check the target credentials.</strong></td>
</tr>
</tbody>
</table>
<ol>
<li>If the HTTP status code is 400 and the extracted error is <strong>Volume
does not exist</strong>, the task fails terminally. In this case, the retry
execution also fails, hence the outcome type is set as <strong>Terminal
Error</strong>.</li>
</ol>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Name</td>
<td><p><strong>Volume does not exist</strong></p>
<p>The name here is to identify an outcome quickly in the outcomes list of task. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td>Condition</td>
<td><p>{{and (eq .global.CreateSnapshot.output.HttpStatusCode 400)<br />
 (eq .global.CreateSnapshot.output.Error 'Volume does not exist.')}}</p>
<p>If we refer the sample response in previous sections, we will get a 400-Bad Request with response containing error msg ‘Volume does not exist.’.</p></td>
</tr>
<tr class="odd">
<td>Outcome Type</td>
<td><strong>Terminal Error</strong></td>
</tr>
<tr class="even">
<td>Message</td>
<td><p><strong>A volume with name {{.global.task.input.VolumeName}} does not exist. Check the volume name given.</strong></p>
<p>This outcome for a given volume name input ‘oracle-db’ will fail the task with message ‘A volume with name oracle-db does not exist. Check the volume name given.</p></td>
</tr>
</tbody>
</table>
<ol>
<li>For any API failure caused by bad user input, do not retry and fail
the task immediately.</li>
</ol>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Name</strong></td>
<td><p><strong>Any client error</strong></p>
<p>Identifies a result in the outcomes list of task designer, and is not used for any other purpose</p></td>
</tr>
<tr class="even">
<td><strong>Condition</strong></td>
<td><p>{{and (ge .global.CreateSnapshot.output.HttpStatusCode 400)<br />
(lt .global.CreateSnapshot.output.HttpStatusCode 500)}}</p>
<p>This condition checks if the HTTP status code is in the range between 400 to 499.</p></td>
</tr>
<tr class="odd">
<td><strong>Outcome Type</strong></td>
<td><strong>Terminal Error</strong></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><p>API request failed - {{.global.CreateSnapshot.output.HttpStatusCode}}<br />
{{if (index .global.CreateSnapshot.output `Error`)}}:<br />
{{.global.CreateSnapshot.output.Error}}{{else}} <br />
{{.global.CreateSnapshot.output.HttpStatusMsg}}{{end}}</p>
<p>This message checks that a valid error message is extracted by using an if else block</p>
<p>{{if (index .global.CreateSnapshot.output `Error`)}}</p>
<p>If the error value is ‘Snapshot not supported’, the task status message is ‘API request failed – 405: Snapshot not supported’.</p>
<p>If no valid error message is present in the response, the HTTP status message is used. For example, <strong>API request failed – 413 Payload Too Large</strong>.</p></td>
</tr>
</tbody>
</table>
<ol>
<li>For errors on the server, the task must be tried again before
setting the outcome type as <strong>Error</strong> instead of <strong>Terminal Error</strong>.</li>
</ol>
<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Name</strong></td>
<td><p><strong>Any server error</strong></p>
<p>The name here is to identify an outcome quickly in the outcomes list of task designer. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td><strong>Condition</strong></td>
<td><p>{{and (ge .global.CreateSnapshot.output.HttpStatusCode 500) <br />
(lt .global.CreateSnapshot.output.HttpStatusCode 600)}}</p>
<p>This condition checks if the HTTP status code is in the range between 500 to 599.</p></td>
</tr>
<tr class="odd">
<td><strong>Outcome Type</strong></td>
<td><p><strong>Error</strong></p>
<p>The outcome type is set as <strong>Error</strong>. Hence, the request is retried, if retries are configured.</p></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><p>API request failed - {{.global.CreateSnapshot.output.HttpStatusCode}}<br />
{{if (index .global.CreateSnapshot.output `Error`)}}:<br />
{{.global.CreateSnapshot.output.Error}}{{else}} {{.global.CreateSnapshot.output.HttpStatusMsg}}{{end}}</p>
<p>This is the same message that is used in the client error outcome.</p></td>
</tr>
</tbody>
</table>
<ol>
<li>This can be termed as the final outcome for a successful completion.</li>
</ol>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Name</strong></td>
<td><p><strong>All Good</strong></p>
<p>The name identifies an outcome in the outcomes list of task designer. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td><strong>Condition</strong></td>
<td><p><strong>True</strong></p>
<p>{{eq .global.CreateSnapshot.output.HttpStatusCode 200}}</p>
<p><strong>True</strong> can be used as the condition to capture all scenarios or the specific success response status code can be used, which is 200.</p></td>
</tr>
<tr class="odd">
<td><strong>Outcome Type</strong></td>
<td><strong>Success</strong></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><p>A snapshot with name</p>
<p>{{.global.CreateSnapshot.output.SnapshotName}}</p>
<p>and serial</p>
<p>{{.global.CreateSnapshot.output.Serial}}</p>
<p>is created successfully for volume with name</p>
<p>{{.global.task.input.VolumeName}}</p>
<p>.</p>
<p>The outcome for a given volume name input oracle-db sets the task to success with the message: <strong>A snapshot with name oracle-db.8 and serial B3CD9AF2175A4E2800011010 is created successfully for volume with name oracle-db</strong>.</p></td>
</tr>
</tbody>
</table>
<p>As part of this task, an inventory refresh request can be sent to pull
the new snapshot inventory. This API contains the following details in
the request.</p>
<p>POST /v1/task/PureScopedInventories<br>
{<br>
    &ldquo;Type&rdquo;: &ldquo;storage.PureVolumeSnapshot&rdquo;,<br>
    &ldquo;NamingProperty&rdquo;: &ldquo;Name&rdquo;,<br>
    &ldquo;Values&rdquo;: [<br>
        &ldquo;&lt;Snapshot_Name&gt;&rdquo;<br>
    ],<br>
    &ldquo;RegisteredDevice&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;asset.DeviceRegistration&rdquo;,<br>
        &ldquo;Moid&rdquo;: &ldquo;&lt;Pure Device Registration Id&gt;&rdquo;<br>
    }<br>
}</p>
<p>The snapshot name is obtained from previous API output by using the
following reference: {{.global.CreateSnapshot.output.SnapshotName}}.</p>
<p>The device registration ID is obtained by performing a GET API of the
selected target and extracting the <strong>MOID</strong> from the
<strong>RegisteredDevice</strong>. For more information, see <a href="http:///apidocs">API
Docs</a>.</p>
<p>This section is realized by sending two Intersight API requests: GET
/v1/asset/Targets/&lt;Target_Moid&gt; and using the extracted registered
device Moid in the above request. Having explained the API specific
details in the previous section, we will quickly add two API calls to
the same task.</p>
<p>Do not choose the Set External Target option in the General tab. This is
because the API calls can be inferred as Intersight API calls.</p>
<p>This section captures the details related to the Intersight API call
that gets the registered device Moid from the given target task input.</p>
<p>The outcomes shall be added for better experience with these Intersight
API calls and since the previous section explains the outcomes in
detail, this section does not cover them.</p>
<p>GET is used as the default, if no value is provided for Method field.</p>
<table>
<colgroup>
<col style="width: 27%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="header">
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>API Name</strong></td>
<td>Get Device Id</td>
</tr>
<tr class="even">
<td><strong>Set External Target</strong></td>
<td>Unchecked/false</td>
</tr>
<tr class="odd">
<td><strong>URL</strong></td>
<td><p>/v1/asset/Targets/</p>
<p>{{.global.task.input.Target.Moid}}</p></td>
</tr>
<tr class="even">
<td><strong>Response Parser</strong></td>
<td><p>We will extract the Moid of the ‘RegisteredDevice’ relation.</p>
<p>DeviceMoid – Path: $.RegisteredDevice.Moid, Type: string</p></td>
</tr>
</tbody>
</table>
<p>The target Moid required in the URL is populated from the task input
Target. As part of this API output, the extracted device Moid can be
referred in the next API request body with the following reference:</p>
<p>{{.global.GetDeviceId.output.DeviceMoid}}</p>
<p>Using this example, you can also capture details for the Intersight API
that requests the inventory refresh for Pure Flash Array snapshots. The
snapshot name is extracted from the first API and the device Moid is
extracted from the second API to create a request for this API.</p>
<table>
<colgroup>
<col style="width: 23%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="header">
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>API Name</strong></td>
<td>Request Inventory Refresh</td>
</tr>
<tr class="even">
<td><strong>Set External Target</strong></td>
<td>Unchecked or false</td>
</tr>
<tr class="odd">
<td><strong>Method</strong></td>
<td>POST</td>
</tr>
<tr class="even">
<td><strong>URL</strong></td>
<td><strong>/v1/task/PureScopedInventories</strong></td>
</tr>
<tr class="odd">
<td><strong>Body</strong></td>
<td><p>Content Type: JSON</p>
<p>Text:</p>
<p>{<br />
    "Type": "storage.PureVolumeSnapshot",<br />
    "NamingProperty": "Name",<br />
    "Values": [<br />
        "{{.global.CreateSnapshot.output.SnapshotName}}"<br />
    ],<br />
    "RegisteredDevice": {<br />
        "ObjectType": "asset.DeviceRegistration",<br />
        "Moid": "{{.global.GetDeviceId.output.DeviceMoid}}"<br />
    }<br />
}</p></td>
</tr>
</tbody>
</table>
<p>There is no response body for this request. Therefore, the outcomes can
be added based on API HTTP status code to set the task status. The
outcome is not added her as they have been captured in detail for the
first outcome. The extracted values from the API response
<strong>SnapshotName</strong> and <strong>Serial</strong> are mapped to task output so that they
are available as task output that can be referred in subsequent tasks in
a workflow. This can be done by creating two task output parameters
named ‘<strong>SnapshotName</strong>’ and ‘<strong>Serial</strong>’ in ‘Output tab of Properties
area. The task output can be mapped to take API response values by using
Map to Task Output action. The values extracted using <strong>Response
Parser</strong> in an API can be mapped by selecting Parameters and then the
API Name entry in Task Output drop down and providing the actual
parameter names in Path field.</p>
<p><strong>Example: Obtaining Cisco ASA Details</strong></p>
<p>The previous example illustrates the need to make API requests to a
claimed target in Intersight. This section explains a sample task that
obtains simple information from Cisco ASA, while is reachable from
Intersight Assist. Intersight does not have a device connector for Cisco
ASA.</p>
<p>As a first step, Cisco ASA is added as custom target. Cisco ASA uses
HTTP basic authentication and has REST API interface. Hence, requests
can be made to Cisco ASA as part of Intersight IO tasks. The device must
be reachable from Intersight Assist. The device can be added as a Custom
Target in Targets screen, by providing IP address, credentials and
Intersight Assist from which the device is reachable. Cisco ASA added as
custom target must be configured from Intersight tasks. Though, Cisco
ASA supports basic authentication and does not need a session token to
be created in Intersight, you can use a session token to showcase the
Web API support for handling values for request and response headers.</p>
<p>A session token is created and used in the request header to facilitate
in the extraction of response headers. In this example, the task
executes two API requests in Cisco ASA, namely create a session token
and use the session token to obtain the Cisco ASA version.</p>
<p>To obtain a session token, use the <strong>Post</strong> call /api/tokenservices’ to
create a session token. Use the <strong>Delete</strong> request
/api/tokenservices/&lt;Token&gt; to delete the session. Cisco ASA expects a
request to create a session token. It must include the basic
authentication header that Intersight populates when using the details
in the custom target.</p>
<p>POST /api/tokenservices<br>
204 No Content</p>
<p>Response Headers<br>
X-Auth-Token: &lt;New Session Token&gt;</p>
<p>The subsequent API requests must have the X-Auth-Token request header.</p>
<p>The following table explains the request details that need to be
provided in Task Designer to create session token.</p>
<table>
<colgroup>
<col style="width: 23%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="header">
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>API Name</td>
<td>Get Session Token</td>
</tr>
<tr class="even">
<td>Set External Target</td>
<td><p>Checked</p>
<p>A task input of target type is added through the Task Designer dialog.</p></td>
</tr>
<tr class="odd">
<td>Method</td>
<td>POST</td>
</tr>
<tr class="even">
<td>URL</td>
<td>/api/tokenservices</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> There is no need to have a request body or response parser
given because the API does not generate a response body.</p>
<p>Details, such as, response headers, cookies, status code, and status
message, can be referred in subsequent API requests using references
based on the API name as follows:</p>
<table>
<colgroup>
<col style="width: 22%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="header">
<th>Response Parameter</th>
<th>Reference Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Headers-—A map of headers with keys being the header name and values being a string array of header values.</td>
<td><p>{{.global.GetSessionToken.output.HttpHeaders}}</p>
<p>A specific response header value can be obtained using two notations: {{.global.GetSessionToken.output.HttpHeaders.&lt;HeaderName&gt;}} or {{index .global.GetSessionToken.output.HttpHeaders `HeaderName`}}</p>
<p>Examples of above notations are:</p>
<p>{{.global.GetSessionToken.output.HttpHeaders.Date}}</p>
<p>{{index .global.GetSessionToken.output.HttpHeaders `X-Auth-Token`}}</p>
<p>The above examples get the header value in the form of <strong>string array</strong> and individual values can be accessed by index template function. The index function can also be used to access a specific header in Headers.</p>
<p>{{index .global.GetSessionToken.output.HttpHeaders.Date 0}}</p>
<p>{{index (index .global.GetSessionToken.output.HttpHeaders `X-Auth-Token`) 0}}</p>
<p><strong>Note:</strong> The template engine used by Intersight IO considers hyphens (-) as special characters and does not allow obtaining headers with hyphens using the first dotted notation. Considering the fact that most of the header names are hyphenated, it is recommended to use the second notation only.</p></td>
</tr>
<tr class="even">
<td>Cookies—A map of cookies with keys being cookie names and the values being strings.</td>
<td><p>{{.global.GetSessionToken.output.HttpCookies}}</p>
<p>The further values of specific cookies can be referred using either the dot notation or with index function. The details are explained in the previous row about Headers.</p></td>
</tr>
<tr class="odd">
<td>HTTP Status Code—Number</td>
<td>{{.global.GetSessionToken.output.HttpStatusCode}}</td>
</tr>
<tr class="even">
<td>HTTP Status Message—String</td>
<td>{{.global.GetSessionToken.output.HttpStatusMsg}}</td>
</tr>
</tbody>
</table>
<p>The following table explains the various outcomes that the API request
can produce.</p>
<table>
<colgroup>
<col style="width: 26%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Name</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Unauthorized</td>
<td><p>Condition—{{eq .global.GetSessionToken.output.HttpStatusCode 401}}</p>
<p>Outcome Type:—Terminal Error</p>
<p>Message: Authorization failed. Check the target credentials.</p></td>
</tr>
<tr class="even">
<td>Session Limit Breached</td>
<td><p>Condition—{{eq .global.GetSessionToken.output.HttpStatusCode 503}}</p>
<p>Outcome—Type: Error</p>
<p>Message—Maximum number of sessions reached.</p></td>
</tr>
<tr class="odd">
<td>All Well</td>
<td><p>Condition—{{eq .global.GetSessionToken.output.HttpStatusCode 204}}</p>
<p>Outcome Type—Success</p>
<p>Message—Session token is Obtained.</p></td>
</tr>
</tbody>
</table>
<p>The auth token obtained from the first API can be used in the second API
to obtain the ASA version and other details as follows:</p>
<p>GET /api/monitoring/device/components/version<br>
Request Headers:<br>
X-Auth-Token: &lt;Auth-Token-Obtained-from-Token-Api&gt;<br>
200 OK<br>
{<br>
    &ldquo;kind&rdquo;: &ldquo;object#Version&rdquo;,<br>
    &ldquo;selfLink&rdquo;: &ldquo;/api/monitoring/device/version&rdquo;,<br>
    &ldquo;deviceType&rdquo;: &ldquo;ASAv&rdquo;,<br>
    &ldquo;upTimeinSeconds&rdquo;: 208800,<br>
    &ldquo;totalFlashinMB&rdquo;: 8192,<br>
    &ldquo;currentTimeinSeconds&rdquo;: 1612870500,<br>
    &ldquo;firewallMode&rdquo;: &ldquo;Transparent&rdquo;,<br>
    &ldquo;asaVersion&rdquo;: &ldquo;9.5(2)&rdquo;<br>
} </p>
<p>The following table explains the request details that need to be
provided in Task Designer API request panel for the ASA version request.</p>
<table>
<colgroup>
<col style="width: 22%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="header">
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>API Name</td>
<td>Get ASA Version</td>
</tr>
<tr class="even">
<td>Set External Target</td>
<td>Checked</td>
</tr>
<tr class="odd">
<td>URL</td>
<td>/api/monitoring/device/components/version</td>
</tr>
<tr class="even">
<td>Headers—JSON with header name mapped to array of header values</td>
<td><p>{<br />
  "X-Auth-Token": [<br />
    "{{index (index .global.GetSessionToken.output.HttpHeaders <br />
`X-Auth-Token`) 0}}"<br />
  ]<br />
}</p>
<p>The token value is extracted from the previous API response header and used here in this API request header.</p></td>
</tr>
<tr class="odd">
<td>Response Parser</td>
<td>Version—Path: $.asaVersion, Type: string</td>
</tr>
</tbody>
</table>
<p>A simple outcome checks for status code. If outcome is 200, the task is
marked as failed.</p>
<ul>
<li>
<p>Name—Not OK</p>
</li>
<li>
<p>Condition—{{ne .global.GetASAVersion.output.HttpStatusCode 200}}</p>
</li>
<li>
<p>Outcome Type—Error</p>
</li>
<li>
<p>Message—GET ASA version failed</p>
</li>
</ul>
<p>The two API requests have been added to obtain session token and then to
obtain the ASA version. The extracted API output can be mapped to the
task output.</p>
<p>Task Input and Executor Output Mapping</p>
<p>Task inputs and previous executors output can be used for direct mapping
or transformed mappings. The syntax to refer to these will depend on the
type of mapping. Task inputs are referenced as
{{.global.task.input.InputName}} where InputName is the Reference Name
given to the Task input and not the Display Name or Label. Similarly,
task outputs are referenced as ${TaskName.output.TaskOutput}.</p>
<p>To specify an input mapping, select a task and click <strong>Edit</strong> against a
task input parameter.</p>
<p>The options available are:</p>
<ul>
<li>
<p>Static Value—Enter a value that is assigned to the task input field.</p>
</li>
<li>
<p>Direct Mapping—Map an existing task input or previous executors
output to the selected task input</p>
</li>
<li>
<p>Transformed Mapping—Allows applying data transformation through a
combination of one or more transformation stages for a task&rsquo;s input.
In each transformation stage, you can select a transformation
function along with its inputs. The transformation stages will be
converted into a template. You can then preview the template and
test the transformation with sample values.</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> Transformed mapping is only supported for task inputs of
primitive data types, such as <em>string</em>, <em>integer</em>, <em>boolean</em>, and
<em>float</em>.</p>
</blockquote>
<ul>
<li>Advanced Mapping—Map a Golang template to the task input. For
example, FindAllString function returns a slice of all substrings
that match the given regular expression in the given string.</li>
</ul>
<!-- -->
<ul>
<li>
<p>Example 1:</p>
</li>
<li>
<p>FindAllString(s, regex string) ([]string, error)<br>
Example: {{(FindAllString .global.task.input.NumberString \&quot;([0-9]+)\&quot;)}} <br>
returns array [“123”, “456”] for input string “123 some text 456”.</p>
</li>
<li>
<p>Example 2:</p>
</li>
<li>
<p>Atoi function converts the given number in string format to integer type.<br>
Atoi(s string) (int, error)<br>
Example: {{Atoi .global.task.input.SizeString}} <br>
returns integer 2048 for input string “2048”</p>
</li>
</ul>
<p>Exporting a Task</p>
<p>Intersight Cloud Orchestrator enables you to export tasks from an
account to your system and then import them to another account.</p>
<p>To export a task, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Tasks.</p>
</li>
<li>
<p>From the tabular list of tasks, do one of the following:</p>
</li>
</ol>
<ul>
<li>
<p>Select a task, click the Ellipsis (…) icon in the same row, and then
choose Export Task.</p>
</li>
<li>
<p>Select multiple tasks, click the Ellipsis (…) icon from the header
or footer of the tabular list, and then choose Export Task.</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> You can also export tasks from the Actions menu in the Task
Designer window.</p>
</blockquote>
<ol>
<li>
<p>In the Export Task screen:</p>
<ol>
<li>
<p>In the JSON File Name field, use the default filename or enter a
filename of your choice for the JSON file that stores the task
components.</p>
</li>
<li>
<p>Use the Export Tags toggle button to include or exclude the
user-defined tags. ICO does not export the system-defined tags.</p>
</li>
<li>
<p>Click Export.</p>
</li>
<li>
<p>Save a local copy of the JSON file.</p>
</li>
</ol>
</li>
</ol>
<p>Importing a Task</p>
<p>Intersight Cloud Orchestrator enables you to import tasks to your
account by importing a JSON file that contains the task components. You
can create the JSON file by exporting the task components from another
account.</p>
<p>To import a task, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Tasks.</p>
</li>
<li>
<p>Click Import.</p>
</li>
</ol>
<!-- -->
<ol>
<li>The Import wizard appears.</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Select File screen:</p>
<ol>
<li>
<p>From the Organization drop-down list, choose the organization to
which you want to import the task(s).</p>
</li>
<li>
<p>Click Browse, and then select the JSON file that contains the
task(s).</p>
</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Ensure that the file size of the JSON file is not more than
1MB. If the file size is more than 1MB, export the task(s) in batches,
and then try import.</p>
</blockquote>
<ol>
<li>Click Next.</li>
</ol>
<!-- -->
<ol>
<li>Intersight Cloud Orchestrator validates the JSON file and displays
<blockquote>
<p>the task(s) in the Details screen.</p>
</blockquote>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Details screen:</p>
<ol>
<li>To associate an additional tag to the components listed in the
table, enter the tag in the Set Tags field.</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Set Tags is an optional field. You must enter the tag in the
key:value format.</p>
</blockquote>
<ol>
<li>
<p>If one or more task or task components are already available in the
system, choose a rule to replace or skip the duplicate components.</p>
</li>
<li>
<p>Click Import.</p>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Import Result screen:</p>
<ol>
<li>
<p>Verify the status of the imported task and task components.</p>
</li>
<li>
<p>If you want to view the details of the import request:</p>
</li>
</ol>
</li>
</ol>
<ul>
<li>
<p>Click the link displayed above the table.</p>
</li>
<li>
<p>Alternatively, click the Requests icon displayed in the menu bar.</p>
</li>
</ul>
<!-- -->
<ul>
<li>
<p>For more information, see
<a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Requests</a>.</p>
<ol>
<li>Click Close.</li>
</ol>
</li>
</ul>
<p>Managing the Lifecycle of a Task</p>
<p>Task management consists of organizing, creating, updating, and deletion
of tasks. The following table describes the set of actions that you can
perform with tasks in Cisco Intersight.</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Actions</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>View Tasks</td>
<td>Choosing Orchestration from the left navigation pane will display all workflows in a tabular format. Clicking Tasks will display all tasks in a tabular format. You can view information such as the task name and description, the number of versions available, the number of times the task has been executed, the last execution status, validation information and the last update time and date.</td>
</tr>
<tr class="even">
<td>Create a New Task</td>
<td>Choose Orchestration from the left navigation pane and click Tasks. Then, click Create Task. This option opens up the Task Designer, using which you can create a new task.</td>
</tr>
<tr class="odd">
<td>Delete a Task</td>
<td>From the tabular list of workflows, you can select a task and click Delete. This will remove the task.</td>
</tr>
<tr class="even">
<td>Clone a Task</td>
<td>From the tabular list of tasks, you can select a task and click Clone. This will clone the selected task.</td>
</tr>
<tr class="odd">
<td>Save a Task as</td>
<td><p>From the tabular list of tasks, you can choose a task and click. By default, the workflow details are displayed in the Designer tab. You can choose Save As option from the Action drop-down list to clone a task.</p>
<p>In the Save As screen, you can specify user-friendly short name, reference name, description, and tag key. Click Save. For more information, see Cloning a Task.</p></td>
</tr>
</tbody>
</table>
<p>Cloning a Task</p>
<p>You can clone only a user-defined task. The cloned task is identical to
the original task. You can edit the new task immediately. You might do
this, for example, to create a task that is similar to the source task
that can be edited based on your requirements.</p>
<p>To clone a task, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Tasks.</p>
</li>
<li>
<p>From the tabular list of tasks, select a task and choose Clone.</p>
</li>
<li>
<p>In the Clone Task screen, edit the user-friendly short name,
reference name, and description.</p>
</li>
<li>
<p>Check the Open Clone in Editor check box if you want to open the
cloned task and edit the details.</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Open Clone in Editor check box is not displayed when you
clone a task using the Save As option</p>
</blockquote>
<ol>
<li>Click Clone. The cloned task will be created in the same
organization the source task belongs to.</li>
</ol>
<p>Supported Target Management Tasks</p>
<p>The Target Management tasks contain a subset of tasks that can be used
within workflows to perform a range ot operations on the endpoint
targets. The Target Management tasks supported in Intersight are:</p>
<ul>
<li>
<p>New Target—Claim a new endpoint within a workflow in Intersight. The
supported target types are HTTP, SSH, Powershell, or Ansible
endpoints.</p>
</li>
<li>
<p>Get Target—Get the details of a claimed target within a workflow.
The task inputs are name, hostname or IP address, and target type.
On successful execution, name, moid, hostname or IP address, port,
connection status, and target type are generated as the task
outputs.</p>
</li>
</ul>
<!-- -->
<ul>
<li>The supported target types are HTTP, SSH, Powershell, or Ansible
endpoints.</li>
</ul>
<!-- -->
<ul>
<li>Remove Target—Unclaim the target endpoint from Intersight. When a
target is unclaimed, it is immediately detached from the
corresponding Intersight account. The target retains any
configuration applied before the unclaim operation.</li>
</ul>
<p>Compute Tasks Matrix</p>
<p>The following table lists compute tasks supported on UCS C-Series
Standalone Server and Intersight Managed Mode (IMM) Server:</p>
<table>
<colgroup>
<col style="width: 48%" />
<col style="width: 37%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="header">
<th>Compute Tasks</th>
<th>UCS C-Series Standalone Server</th>
<th>IMM Server</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Copy Server Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Deploy Server Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Dismount Server Virtual Media Device</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Mount Server Virtual Media Device</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove Server from Server Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Remove Server Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Restart IMC</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Set Server One Time Boot Device</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Set Server Power State</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Set Server to Server Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Stop Server Operating System</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Add Server Policies to Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Clear Server Storage Controller Configuration</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Remove Server Policies from Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>New Server Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>New Server Profile from Template</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Delete Server Virtual Drives</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Clear Server Storage Controller Foreign Configuration</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Import Server Storage Controller Foreign Configuration</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Set Server Physical Drive State</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>New Server Precision Boot Device</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Server Precision Boot Device</td>
<td>Y</td>
<td>N</td>
</tr>
</tbody>
</table>
<p>Supported Tasks for Storage Targets</p>
<p>The following table lists tasks supported in the various storage targets
available on Intersight:</p>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 20%" />
<col style="width: 13%" />
<col style="width: 12%" />
</colgroup>
<thead>
<tr class="header">
<th>List of Tasks</th>
<th>Pure Storage</th>
<th>NetApp</th>
<th>Hitachi</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Add Storage Export Policy to Volume</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Add Host to Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Add Hosts to Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="even">
<td>Compress Storage Pool</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Connect Initiators to Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Connect Volume to Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Copy Hitachi Volume</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Disconnect Storage Export Policy from Volume</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Disconnect Initiators from Storage Host</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Disconnect Volume from Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Expand Storage LUN</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Edit Aggregates For Storage Virtual Machine</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Edit Storage Pool</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Edit Storage Snapshot Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Edit Storage Export Policy Rule</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Edit Storage Snapshot Policy Schedule</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Expand Storage Volume</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Find NetApp igroup LUN Map</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Expand Storage Pool</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Find Storage LUN by ID</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Find Storage Volume by ID</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Format Storage Volume</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>New Storage Export Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>New Storage Fibre Channel Interface</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>New Storage Data IP Interface</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>New Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>New Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="even">
<td>New Storage LUN</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>New Storage LUN ID</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>New Storage Snapshot Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>New Storage Snapshot Policy Schedule</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>New Storage Pool</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>New Storage Volume</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>New Storage Volume Snapshot</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>New Storage Export Policy Rule</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>New Storage Virtual Machine</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove Storage export policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Host from Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove Hosts from Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Remove Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage LUN</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove Storage LUN ID</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage Pool</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Remove Storage Volume</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Remove Storage Virtual Machine</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove Storage IP Interface</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage FC Interface</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Rename Storage Volume Snapshot</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage Snapshot Policy Schedule</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove Storage Export Policy Rule</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage Snapshot Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove Storage Volume Snapshot</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>New NetApp Smart LUN</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>New NetApp NAS Smart Volume</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove NetApp Smart LUN</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
</tbody>
</table>
<p>Supported Tasks for Network Targets</p>
<p>The following table lists tasks supported in the various network targets
available on Intersight:</p>
<table>
<colgroup>
<col style="width: 57%" />
<col style="width: 22%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="header">
<th>List of Network Tasks</th>
<th>Nexus Switch</th>
<th>MDS Switch</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Add Port to Port Channel</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Copy Running to Startup Configuration of Switch</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Edit Spanning Tree Protocol</td>
<td>Y</td>
<td>Not Applicable</td>
</tr>
<tr class="even">
<td>New Port Channel</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Remove Port Channel</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Remove Port from Port Channel</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Remove DNS Server</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Remove NTP Server</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Set DNS Server</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Set Feature State</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Set MTU</td>
<td>Y</td>
<td>Not Applicable</td>
</tr>
<tr class="even">
<td>Set NTP Server</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Set Port Channel State</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Set Port Mode</td>
<td>Y</td>
<td>Not Applicable</td>
</tr>
<tr class="odd">
<td>Set Port Speed</td>
<td>Y</td>
<td>Not Applicable</td>
</tr>
<tr class="even">
<td>Set Port State</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Set Switch Host Name</td>
<td>Y</td>
<td>Y</td>
</tr>
</tbody>
</table>
<p><span id="_Refd24e9258" class="anchor"></span>Data Types</p>
<p>Intersight Orchestrator supports the use of data types for workflows and
tasks. Data types for input and output defines types and associated
constraints on values that can be specified. Data types also specify
boundaries for values, and constraints like regular expressions.</p>
<p>Cisco Intersight provides a whole range of system-defined data types
that you can use in your workflows. In addition, you can also create a
data type in Cisco Intersight. To view all data types that are currently
available or configured, choose Orchestration <strong>&gt;</strong> Data Types. A
dashboard displays the following details under these tabs, namely, My
Data Types, System Data Types, and All Data Types:</p>
<ul>
<li>
<p>Number of Composite Type</p>
</li>
<li>
<p>Number of System Defined Data Type</p>
</li>
</ul>
<p>You can view a tabular list of data types with the following
information:</p>
<ul>
<li>
<p>Reference Name</p>
</li>
<li>
<p>Display Name</p>
</li>
<li>
<p>Composite Type</p>
</li>
<li>
<p>Description</p>
</li>
<li>
<p>Last Updated</p>
</li>
<li>
<p>Organization</p>
</li>
</ul>
<p>From this screen, as an Account Administrator, or as a user with
Workflow Designer privileges, you can perform the following actions:</p>
<ul>
<li>
<p>Create a new data type</p>
</li>
<li>
<p>Edit or delete a custom data type</p>
</li>
<li>
<p>Clone a data type</p>
</li>
</ul>
<p><strong>Note:</strong> You cannot edit or delete a system-defined data type.</p>
<p>There are many input types defined in Cisco Intersight representing a
broad selection of categorical, numeric, and text parameters. For
example, some existing data types are:</p>
<ul>
<li>
<p>Generic Text Input (the least restricted input type)</p>
</li>
<li>
<p>IPv4 Address</p>
</li>
<li>
<p>OS Type</p>
</li>
<li>
<p>Memory Size Selector</p>
</li>
</ul>
<!-- -->
<ul>
<li>
<p>Primitive data type—Represents primitive data like String, Float,
Integer, Boolean, Json, or Enum. Following are the attributes
specific to primitive data types:</p>
<ul>
<li>
<p>Type</p>
</li>
<li>
<p>Secure</p>
</li>
<li>
<p>Constraints (specifies limits and boundaries for values)</p>
</li>
<li>
<p>Object Selector (lists the Cisco Intersight managed object
selectors). This attribute is available only when the primitive
data is String. Following are the attributes specific to Object
Selector:</p>
<ul>
<li>
<p>Intersight API Reference—Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute—Enter the attribute name(s) that needs to
be displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
<li>
<p>Value Attribute—Enter the value to be passed as an input
while executing a task. This value should be any one of the
attribute name specified in the Selector Attribute field.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Array data type—Represents an array of a given type. It can be an
array of primitive data, reference data, or of custom data type.
Following are the attributes specific to array data types:</p>
<ul>
<li>
<p>ArrayItemType</p>
</li>
<li>
<p>Min</p>
</li>
<li>
<p>Max</p>
</li>
</ul>
</li>
<li>
<p>MoReference data type—Represents Cisco Intersight Managed object
reference. Following are the attributes specific to reference data
types:</p>
<ul>
<li>
<p>Intersight API Reference—Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute—Enter the attribute name(s) that needs to be
displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
</ul>
</li>
<li>
<p>Target data type—Represents a target endpoint or device. Following
are the attributes specific to target data types:</p>
<ul>
<li>
<p>Intersight API Reference—Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute—Enter the attribute name(s) that needs to be
displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
<li>
<p>Support Objects—Enter the object filter used for mentioning the
interesting object in the task definition. You can add multiple
support objects by clicking +.</p>
</li>
<li>
<p>Constraint Attribute—Enter the attribute used for defining
decision conditions to choose the right implementation task. You
can add multiple constraint attributes by clicking +.</p>
</li>
<li>
<p>Connector Attribute—Enter the attribute used for defining what
value to be passed as input to the implementation task.</p>
</li>
</ul>
</li>
<li>
<p>Custom data type—Allows defining type constraints once and then use
them in multiple tasks and workflows. Following are the attributes
specific to target data types:</p>
<ul>
<li>
<p>Custom Data Type Name</p>
</li>
<li>
<p>Catalog Moid</p>
</li>
</ul>
</li>
</ul>
<p>You choose existing input types from a list that displays a name, type,
and category for each variable. The list can be filtered to make finding
a given data type manageable.</p>
<p>If none of the existing data types serves your need in a particular
application, it is possible to create custom data types by defining
restrictions on existing data types.</p>
<p>Creating a Data Type</p>
<p>To create a data type, perform the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane and click Data
Types.</p>
</li>
<li>
<p>Choose Create Data Type.</p>
</li>
<li>
<p>In the Create Data Type screen, enter the following information:</p>
</li>
</ol>
<ul>
<li>
<p>Organization—Choose an organization from the drop-down list.</p>
</li>
<li>
<p>Name—Enter a name for the custom data type definition. The name can
be alphanumeric and can include a combination of upper case and
lower case letters and special characters.</p>
</li>
<li>
<p>Label—Enter a label that helps you identify the data type.</p>
</li>
<li>
<p>Description—Enter a description, if required.</p>
</li>
<li>
<p>Set Tags—Enter a tag in the key:value format, if required.</p>
</li>
</ul>
<ol>
<li>Select the parameters for the data type—Choose Simple or Composite.
A Simple data type has only a singular value, while a composite data
type has multiple properties.</li>
</ol>
<!-- -->
<ol>
<li>For example, a LoginName is a simple data type whereas a
MailingAddress would be a Composite data type (with street, city,
state, and so on.)</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Target data type is not supported when you choose Composite
as a parameter input.</p>
</blockquote>
<ol>
<li>To add additional inputs, click Add Field and click New Definition.
Then, enter the following information:</li>
</ol>
<ul>
<li>
<p>Name</p>
</li>
<li>
<p>Label</p>
</li>
<li>
<p>Description</p>
</li>
<li>
<p>Required—Update this field only when you are adding a Composite data
type.</p>
</li>
<li>
<p>Type—Choose a data type for primitive data type. For example,
String, Integer, Float, Boolean, Json, Enum, MoReference, Target
Data Type, or custom data type.</p>
</li>
</ul>
<!-- -->
<ul>
<li>The fields displayed depend on the value you select for the Type
field.</li>
</ul>
<ol>
<li>
<p>If you select the data type as Enum, specify the following:</p>
<ol>
<li>
<p>Enum List—Enum label and value. You can add multiple selector
attributes by clicking +.</p>
</li>
<li>
<p>Widget type.</p>
</li>
</ol>
</li>
<li>
<p>If you select the data type as String, specify the following:</p>
<ol>
<li>
<p>Minimum and MaximumRange</p>
</li>
<li>
<p>Regex—Validates the regular expression when you select String in
the Type field.</p>
</li>
<li>
<p>Secure—Indicates that the values of these properties are
encrypted and stored in Cisco Intersight.</p>
</li>
<li>
<p>ObjectSelector—Enable to configure the Intersight managed object
selectors. This attribute is available only when the primitive
data is String. Specify the Intersight API Reference and
selector attributes to feed the input from the table selection.
Value will be passed according to the configuration set in the
Value attribute.</p>
</li>
</ol>
</li>
<li>
<p>If you select the data type as Integer or Float, specify the
following:</p>
<ol>
<li>Minimum and MaximumRange.</li>
</ol>
</li>
<li>
<p>If you select the data type as MoReference, specify the following:</p>
<ol>
<li>
<p>Intersight API Reference—Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute—Enter the attribute name(s) that needs to be
displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
</ol>
</li>
<li>
<p>If you selected a composite data type, you can specify the field
mapping details. With field mapping, you can pass the value from the
parent composite data type to a child composite data type.</p>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>To specify the field mapping, do the following:</p>
<ol>
<li>
<p>Key—The input field that you want to hide.</p>
</li>
<li>
<p>Value Attribute—The value in a template style to be passed
dynamically during the execution. The inputs are referenced as
${datatype.type.AttributeName}.</p>
</li>
</ol>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>Click Add.</p>
</li>
<li>
<p>To add a Parameter Set rule, click Add Rule &gt; Parameter Set.</p>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>For more information, see <strong>Error! Reference source not found.</strong>.</p>
<ol>
<li>
<p>Name—The name of the Parameter Set rule.</p>
</li>
<li>
<p>If Field—Select the input field that will be used for the
Parameter Set rule.</p>
</li>
<li>
<p>Condition—The condition for the rule. The condition can be Equal
to, Not equal to, Contains, or Matches Pattern.</p>
</li>
<li>
<p>Value—The value of the input (If Field) that will be used for
the Parameter Set rule.</p>
</li>
<li>
<p>Field to be shown—Select input fields that should be made
available when the Parameter Set rule condition is satisfied.</p>
</li>
<li>
<p>Click Save.</p>
</li>
</ol>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>Click Preview to validate the definitions that you have added and
make corrections, if required.</p>
</li>
<li>
<p>Click Add.</p>
</li>
</ol>
<!-- -->
<ol>
<li>The data type that you added is displayed in the tabular list on the
Data Types screen. You can now create a workflow and use this data
type in the workflow input. Similar to workflows, you can define the
Parameter Set rules at custom data type level.</li>
</ol>
<p>Data Type Parameter Set Rule</p>
<p>When you create a composite data type, you can specify the fields for
the data type. After you define the fields, you can set a Parameter Set
rules. The Parameter Set rule control the availability of specific
parameters or inputs during the execution. After the first input is
specified, the Parameter Set rule controls which subsequent input fields
are made available during the execution.</p>
<p><strong>Note:</strong> You can define a Parameter Set rule only for a custom data
type that has more than two input fields with the supported data type.</p>
<p>The supported data types for the Parameter Set rules are:</p>
<ul>
<li>
<p>Boolean</p>
</li>
<li>
<p>Enum</p>
</li>
<li>
<p>String Object Selector</p>
</li>
<li>
<p>MoReference</p>
</li>
</ul>
<p>Example: The following example shows how to create a Parameter Set rule
for a composite data type with four fields. The composite data type
fields are:</p>
<ul>
<li>
<p>Cluster Type—Type is <em>Enum</em> and Enum list is <em>VM</em> and <em>HX</em>.</p>
</li>
<li>
<p>VMware Cluster—Type is <em>String</em>.</p>
</li>
<li>
<p>HX Cluster—Type is <em>String</em>.</p>
</li>
<li>
<p>Cluster Description—Type is <em>String</em>.</p>
</li>
</ul>
<p>You can create two Parameter Set rules. During the execution when the
Cluster Type value is <em>VM</em> only VMware Cluster field is made available.
Alternately, when the Cluster Type value is <em>HX</em>, only HX Cluster is
made available. The details of the Parameter Set rules are:</p>
<ul>
<li>
<p>Rule1—If Field is <em>Cluster Type</em>, Condition is <em>Equal to</em>, Value is
<em>VM</em>, and Fields to be shown is <em>VMware Cluster.</em></p>
</li>
<li>
<p>Rule2—If Field is <em>Cluster Type</em>, Condition is <em>Equal to</em>, Value is
<em>HX</em>, and Fields to be shown is <em>HC Cluster.</em></p>
</li>
</ul>
<p>Cloning a Data Type</p>
<p>You can clone a data type. The cloned data type is identical to the
original data type. You can edit the new data type immediately. You
might do this, for example, to create a data type that is similar to the
source data type that can be edited based on your requirements. The new
data type has a new, separate version history.</p>
<p>To clone a data type, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Data Type.</p>
</li>
<li>
<p>From the tabular list of data types, select a data type and choose
Clone.</p>
</li>
<li>
<p>In the Clone Data Type screen, edit the user-friendly short name,
reference name, description, and organization details. The
organization mappings are displayed only for pre-canned data types
and not for the custom data types.</p>
</li>
<li>
<p>Check the Open Clone in Editor check box if you want to open the
cloned data type and edit the details.</p>
</li>
<li>
<p>Click Clone.</p>
</li>
</ol>
<p>Exporting a Data Type</p>
<p>Intersight Cloud Orchestrator enables you to export data types from an
account to your system and then import them to another account.</p>
<p>To export a data type, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Data Type.</p>
</li>
<li>
<p>From the tabular list of data types, do one of the following:</p>
</li>
</ol>
<ul>
<li>
<p>Select a data type, click the Ellipsis (…) icon in the same row, and
then choose Export Data Type.</p>
</li>
<li>
<p>Select multiple data types, click the Ellipsis (…) icon from the
header or footer of the tabular list, and then choose Export Data
Type.</p>
</li>
</ul>
<ol>
<li>
<p>In the Export Data Type screen:</p>
<ol>
<li>
<p>In the JSON File Name field, use the default filename or enter a
filename of your choice for the JSON file that stores the data
type components.</p>
</li>
<li>
<p>Use the Export Tags toggle button to include or exclude the
user-defined tags. ICO does not export the system-defined tags.</p>
</li>
<li>
<p>Click Export.</p>
</li>
<li>
<p>Save a local copy of the JSON file.</p>
</li>
</ol>
</li>
</ol>
<p>Importing a Data Type</p>
<p>Intersight Cloud Orchestrator enables you to import data types to your
account by importing a JSON file that contains the data type components.
You can create the JSON file by exporting the data type components from
another account.</p>
<p>To import a data type, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Data Type.</p>
</li>
<li>
<p>Click Import.</p>
</li>
</ol>
<!-- -->
<ol>
<li>The Import wizard appears.</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Select File screen:</p>
<ol>
<li>
<p>From the Organization drop-down list, choose the organization to
which you want to import the data type(s).</p>
</li>
<li>
<p>Click Browse, and then select the JSON file that contains the
data type(s).</p>
</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Ensure that the file size of the JSON file is not more than
1MB. If the file size is more than 1MB, export the data type(s) in
batches, and then try import.</p>
</blockquote>
<ol>
<li>Click Next.</li>
</ol>
<!-- -->
<ol>
<li>Intersight Cloud Orchestrator validates the JSON file and displays
<blockquote>
<p>the data type(s) in the Details screen.</p>
</blockquote>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Details screen:</p>
<ol>
<li>To associate an additional tag to the components listed in the
table, enter the tag in the Set Tags field.</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Set Tags is an optional field. You must enter the tag in the
key:value format.</p>
</blockquote>
<ol>
<li>
<p>If one or more data type components are already available in the
system, choose a rule to replace or skip the duplicate components.</p>
</li>
<li>
<p>Click Import.</p>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Import Result screen:</p>
<ol>
<li>
<p>Verify the status of the imported data type(s).</p>
</li>
<li>
<p>If you want to view the details of the import request:</p>
</li>
</ol>
</li>
</ol>
<ul>
<li>
<p>Click the link displayed above the table.</p>
</li>
<li>
<p>Alternatively, click the Requests icon displayed in the menu bar.</p>
</li>
</ul>
<!-- -->
<ul>
<li>
<p>For more information, see
<a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Requests</a>.</p>
<ol>
<li>Click Close.</li>
</ol>
</li>
</ul>
<p><span id="_Refd24e10361" class="anchor"></span>Executors – Invoke
PowerShell Script</p>
<p>Intersight Cloud Orchestrator allows workflow designers to run
PowerShell Script on a PowerShell target endpoint using the <strong>Invoke
PowerShell Script</strong> embedded task in the workflow. The Invoke PowerShell
Script task is an out-of-box solution that allows you to automate
PowerShell operations on the PowerShell target that is added as a
PowerShell endpoint target in Cisco Intersight. This feature allows a
workflow designer to extend the automation capabilities of the workflow
engine beyond what is natively available in the task library and
interact with the PowerShell target endpoint.</p>
<p>Supported Targets</p>
<p>The Invoke PowerShell Script task can be run only on the targets that
are added as a PowerShell endpoint target type in Cisco Intersight.</p>
<p>To run the PowerShell Script task on the PowerShell target endpoint from
Cisco Intersight, ensure that:</p>
<ul>
<li></li>
</ul>
<!-- -->
<ul>
<li>
<p>The endpoint is reachable through Intersight Assist.</p>
</li>
<li></li>
</ul>
<!-- -->
<ul>
<li>
<p>The endpoint target is in the Connected state.</p>
</li>
<li>
<p>PowerShell Remoting is enabled on the target endpoint to allow the
endpoint to receive PowerShell remote commands.</p>
</li>
</ul>
<p><strong>Note:</strong> You can run the Invoke PowerShell Script task only on a
Windows system.</p>
<p>To enable PowerShell Remoting on a PowerShell endpoint target, execute
the following remoting script on the PowerShell target endpoint:</p>
<p>[CmdletBinding()]<br>
Param (<br>
    [switch]$EnableBasicAuth = $false,<br>
    [switch]$SKipNetworkProfileCheck = $false,<br>
    [switch]$ForceNewSSLCert = $false,<br>
    [string]$SubjectName = $env:COMPUTERNAME,<br>
    [int]$CertValidityDays = 1095<br>
)</p>
<p>Function New-SelfSignedCert<br>
{<br>
    Param (<br>
        [string]$SubjectName,<br>
        [int]$ValidDays = 1095<br>
    )</p>
<p>    $hostnonFQDN = $env:computerName<br>
    $hostFQDN = [System.Net.Dns]::GetHostByName(($env:computerName)).Hostname<br>
    $SignatureAlgorithm = &ldquo;SHA256&rdquo;</p>
<p>    $name = New-Object -COM &ldquo;X509Enrollment.CX500DistinguishedName.1&rdquo;<br>
    $name.Encode(&ldquo;CN=$SubjectName&rdquo;, 0)</p>
<p>    $key = New-Object -COM &ldquo;X509Enrollment.CX509PrivateKey.1&rdquo;<br>
    $key.ProviderName = &ldquo;Microsoft Enhanced RSA and AES Cryptographic Provider&rdquo;<br>
    $key.KeySpec = 1<br>
    $key.Length = 4096<br>
    $key.SecurityDescriptor = &ldquo;D:PAI(A;;0xd01f01ff;;;SY)(A;;0xd01f01ff;;;BA)(A;;0x80120089;;;NS)&rdquo;<br>
    $key.MachineContext = 1<br>
    $key.Create()</p>
<p>    $serverauthoid = New-Object -COM &ldquo;X509Enrollment.CObjectId.1&rdquo;<br>
    $serverauthoid.InitializeFromValue(&ldquo;1.3.6.1.5.5.7.3.1&rdquo;)<br>
    $ekuoids = New-Object -COM &ldquo;X509Enrollment.CObjectIds.1&rdquo;<br>
    $ekuoids.Add($serverauthoid)<br>
    $ekuext = New-Object -COM &ldquo;X509Enrollment.CX509ExtensionEnhancedKeyUsage.1&rdquo;<br>
    $ekuext.InitializeEncode($ekuoids)</p>
<p>    $cert = New-Object -COM &ldquo;X509Enrollment.CX509CertificateRequestCertificate.1&rdquo;<br>
    $cert.InitializeFromPrivateKey(2, $key, &ldquo;&rdquo;)<br>
    $cert.Subject = $name<br>
    $cert.Issuer = $cert.Subject<br>
    $cert.NotBefore = (Get-Date).AddDays(-1)<br>
    $cert.NotAfter = $cert.NotBefore.AddDays($ValidDays)</p>
<p>    $SigOID = New-Object -ComObject X509Enrollment.CObjectId<br>
    $SigOID.InitializeFromValue(([Security.Cryptography.Oid]$SignatureAlgorithm).Value)</p>
<p>    [string[]] $AlternativeName  += $hostnonFQDN<br>
    $AlternativeName += $hostFQDN<br>
    $IAlternativeNames = New-Object -ComObject X509Enrollment.CAlternativeNames</p>
<p>    foreach ($AN in $AlternativeName)<br>
    {<br>
        $AltName = New-Object -ComObject X509Enrollment.CAlternativeName<br>
        $AltName.InitializeFromString(0x3,$AN)<br>
        $IAlternativeNames.Add($AltName)<br>
    }</p>
<p>    $SubjectAlternativeName = New-Object -ComObject X509Enrollment.CX509ExtensionAlternativeNames<br>
    $SubjectAlternativeName.InitializeEncode($IAlternativeNames)</p>
<p>    [String[]]$KeyUsage = (&ldquo;DigitalSignature&rdquo;, &ldquo;KeyEncipherment&rdquo;)<br>
    $KeyUsageObj = New-Object -ComObject X509Enrollment.CX509ExtensionKeyUsage<br>
    $KeyUsageObj.InitializeEncode([int][Security.Cryptography.X509Certificates.X509KeyUsageFlags]($KeyUsage))<br>
    $KeyUsageObj.Critical = $true</p>
<p>    $cert.X509Extensions.Add($KeyUsageObj)<br>
    $cert.X509Extensions.Add($ekuext)<br>
    $cert.SignatureInformation.HashAlgorithm = $SigOID<br>
    $CERT.X509Extensions.Add($SubjectAlternativeName)<br>
    $cert.Encode()</p>
<p>    $enrollment = New-Object -COM &ldquo;X509Enrollment.CX509Enrollment.1&rdquo;<br>
    $enrollment.InitializeFromRequest($cert)<br>
    $certdata = $enrollment.CreateRequest(0)<br>
    $enrollment.InstallResponse(2, $certdata, 0, &ldquo;&rdquo;)</p>
<p>    # extract/return the thumbprint from the generated cert<br>
    $parsed_cert = New-Object System.Security.Cryptography.X509Certificates.X509Certificate2<br>
    $parsed_cert.Import([System.Text.Encoding]::UTF8.GetBytes($certdata))</p>
<p>    return $parsed_cert.Thumbprint<br>
}</p>
<p># Setup error handling<br>
Trap<br>
{<br>
    $_<br>
    Exit 1<br>
}</p>
<p># Treat non terminating erros as terminating errors<br>
$ErrorActionPreference = &ldquo;Stop&rdquo;</p>
<p># Get the ID and security principal of the current user account<br>
$myWindowsID=[System.Security.Principal.WindowsIdentity]::GetCurrent()<br>
$myWindowsPrincipal=new-object System.Security.Principal.WindowsPrincipal($myWindowsID)</p>
<p># Get the security principal for the Administrator role<br>
$adminRole=[System.Security.Principal.WindowsBuiltInRole]::Administrator</p>
<p># Check to see if we are currently running &ldquo;as Administrator&rdquo;<br>
if (-Not $myWindowsPrincipal.IsInRole($adminRole))<br>
{<br>
    Write-Output &ldquo;ERROR: You need elevated Administrator privileges in order to run this script.&rdquo;<br>
    Write-Output &quot;       Start Windows PowerShell by using the Run as Administrator option.&quot;<br>
    Exit 2<br>
}</p>
<p># Ensure PowerShell version is greater that 3.0<br>
if ($PSVersionTable.PSVersion.Major -lt 3) {<br>
    Throw &ldquo;Minimum required PowerShell version is 3.0&rdquo;<br>
}</p>
<p># Ensure WinRM is present on the machine<br>
if (!(Get-Service &ldquo;WinRM&rdquo; -ErrorAction SilentlyContinue)) {<br>
    Throw &ldquo;WinRM service is not present on the machine&rdquo;<br>
}</p>
<p># Ensure WinRM is running on the machine<br>
if (!(Get-Service &ldquo;WinRM&rdquo; -ErrorAction SilentlyContinue | where {$_.Status -eq &ldquo;Running&rdquo;})) {<br>
    Write-Output &ldquo;WinRM service is not running&rdquo;<br>
    Write-Output &ldquo;Attempting to start WinRM service&rdquo;<br>
    Start-Service &ldquo;WinRM&rdquo;<br>
}</p>
<p># Check if PS Remoting is already enabled, if not enable it<br>
# WinRM should be running; check that we have a PS session config.<br>
if (!(Get-PSSessionConfiguration -Verbose:$false) -or (!(Get-ChildItem WSMan:\localhost\Listener)))<br>
{<br>
  if ($SkipNetworkProfileCheck) {<br>
    Write-Verbose &ldquo;Enabling PS Remoting without checking Network profile.&rdquo;<br>
    Enable-PSRemoting -SkipNetworkProfileCheck -Force -ErrorAction Stop<br>
    Write-Output &ldquo;Enabled PS Remoting.&rdquo;<br>
  }<br>
  else {<br>
    Write-Verbose &ldquo;Enabling PS Remoting.&rdquo;<br>
    Enable-PSRemoting -Force -ErrorAction Stop<br>
    Write-Output &ldquo;Enabled PS Remoting.&rdquo;<br>
  }<br>
}<br>
else<br>
{<br>
    Write-Verbose &ldquo;PS Remoting is already enabled.&rdquo;<br>
}</p>
<p># Ensure LocalAccountTokenFilterPolicy is set to 1<br>
# https://github.com/ansible/ansible/issues/42978<br>
# Needed for NTLM authentication<br>
$token_path = &ldquo;HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System&rdquo;<br>
$token_prop_name = &ldquo;LocalAccountTokenFilterPolicy&rdquo;<br>
$token_key = Get-Item -Path $token_path<br>
$token_value = $token_key.GetValue($token_prop_name, $null)<br>
if ($token_value -ne 1) {<br>
    Write-Verbose &ldquo;Setting LocalAccountTOkenFilterPolicy to 1&rdquo;<br>
    if ($null -ne $token_value) {<br>
        Remove-ItemProperty -Path $token_path -Name $token_prop_name<br>
    }<br>
    New-ItemProperty -Path $token_path -Name $token_prop_name -Value 1 -PropertyType DWORD &gt; $null<br>
}</p>
<p># Make sure there is a SSL listener.<br>
$listeners = Get-ChildItem WSMan:\localhost\Listener<br>
if (!($listeners | Where-Object {$_.Keys -like &ldquo;TRANSPORT=HTTPS&rdquo;}))<br>
{<br>
    # We cannot use New-SelfSignedCertificate on 2012R2 and earlier<br>
    $thumbprint = New-SelfSignedCert -SubjectName $SubjectName -ValidDays $CertValidityDays<br>
    Write-Output &ldquo;Self-signed SSL certificate generated; thumbprint: $thumbprint&rdquo;<br>
    # Create the hashtables of settings to be used.<br>
    $valueset = @{<br>
        Hostname = $SubjectName<br>
        CertificateThumbprint = $thumbprint<br>
    }<br>
    $selectorset = @{<br>
        Transport = &ldquo;HTTPS&rdquo;<br>
        Address = &ldquo;*&rdquo;<br>
    }<br>
    Write-Verbose &ldquo;Enabling SSL listener.&rdquo;<br>
    New-WSManInstance -ResourceURI &lsquo;winrm/config/Listener&rsquo; -SelectorSet $selectorset -ValueSet $valueset<br>
    Write-Verbose &ldquo;Enabled SSL listener.&rdquo;<br>
}<br>
else<br>
{<br>
    Write-Verbose &ldquo;SSL listener is already active.&rdquo;<br>
    # Force a new SSL cert on Listener if the $ForceNewSSLCert<br>
    if ($ForceNewSSLCert)<br>
    {<br>
        # We cannot use New-SelfSignedCertificate on 2012R2 and earlier<br>
        $thumbprint = New-SelfSignedCert -SubjectName $SubjectName -ValidDays $CertValidityDays<br>
        Write-Verbose &ldquo;Self-signed SSL certificate generated; thumbprint: $thumbprint&rdquo;<br>
        $valueset = @{<br>
            CertificateThumbprint = $thumbprint<br>
            Hostname = $SubjectName<br>
        }<br>
        # Delete the listener for SSL<br>
        $selectorset = @{<br>
            Address = &ldquo;*&rdquo;<br>
            Transport = &ldquo;HTTPS&rdquo;<br>
        }<br>
        Remove-WSManInstance -ResourceURI &lsquo;winrm/config/Listener&rsquo; -SelectorSet $selectorset<br>
        # Add new Listener with new SSL cert<br>
        New-WSManInstance -ResourceURI &lsquo;winrm/config/Listener&rsquo; -SelectorSet $selectorset -ValueSet $valueset<br>
    }<br>
}</p>
<p># Enable/Disable basic authentication as needed<br>
$basicAuth = Get-Item WSMan:\localhost\Service\Auth\Basic<br>
if ($EnableBasicAuth) {<br>
    if ($basicAuth.Value -eq &ldquo;true&rdquo;) {<br>
        Write-Output &ldquo;Basic authentication is already enabled&rdquo;<br>
    } else {<br>
        Write-Output &ldquo;Basic authentication is currently disabled&rdquo;<br>
        Set-Item WSMan:\localhost\Service\Auth\Basic -Value $true<br>
        Write-Output &ldquo;Basic authentication has been enabled&rdquo;<br>
    }<br>
} else {<br>
    if ($basicAuth.Value -eq &ldquo;true&rdquo;) {<br>
        Write-Output &ldquo;Basic authentication is currently enabled&rdquo;<br>
        Set-Item WSMan:\localhost\Service\Auth\Basic -Value $false<br>
        Write-Output &ldquo;Basic authentication has been disabled&rdquo;<br>
    } else {<br>
        Write-Output &ldquo;Basic authentication is already disabled&rdquo;<br>
    }<br>
}</p>
<p># Check firewall<br>
$rule = Get-NetFirewallRule | where {$_.DisplayName -eq &ldquo;Allow WinRM HTTPS&rdquo;}<br>
if ($rule) {<br>
    if ($rule.Profile.ToString() -eq &ldquo;Any&rdquo;) {<br>
        Write-Output &ldquo;Firewall rule already exists for WinRM&rdquo;<br>
    } else {<br>
        Set-NetFirewallRule -DisplayName &ldquo;Allow WinRM HTTPS&rdquo; -Profile Any<br>
    }<br>
} else {<br>
   Write-Output &ldquo;Creating firewall rule for WinRM&rdquo;<br>
   New-NetFirewallRule -Profile Any -Name &ldquo;Allow WinRM HTTPS&rdquo; -DisplayName &ldquo;Allow WinRM HTTPS&rdquo; -Direction Inbound -LocalPort 5986 -Protocol &ldquo;TCP&rdquo; -Action Allow -Enabled True | Out-Null<br>
}</p>
<p># Test a remoting connection to localhost, which should work.<br>
$httpResult = Invoke-Command -ComputerName &ldquo;localhost&rdquo; -ScriptBlock {$env:COMPUTERNAME} -ErrorVariable httpError -ErrorAction SilentlyContinue<br>
$httpsOptions = New-PSSessionOption -SkipCACheck -SkipCNCheck -SkipRevocationCheck<br>
$httpsResult = New-PSSession -UseSSL -ComputerName &ldquo;localhost&rdquo; -SessionOption $httpsOptions -ErrorVariable httpsError -ErrorAction SilentlyContinue<br>
if ($httpResult -and $httpsResult)<br>
{<br>
    Write-Verbose &ldquo;HTTP: Enabled | HTTPS: Enabled&rdquo;<br>
}<br>
elseif ($httpsResult -and !$httpResult)<br>
{<br>
    Write-Verbose &ldquo;HTTP: Disabled | HTTPS: Enabled&rdquo;<br>
}<br>
elseif ($httpResult -and !$httpsResult)<br>
{<br>
    Write-Verbose &ldquo;HTTP: Enabled | HTTPS: Disabled&rdquo;<br>
}<br>
else<br>
{<br>
    Write-Output &ldquo;Unable to establish an HTTP or HTTPS remoting session.&rdquo;<br>
    Throw &ldquo;Unable to establish an HTTP or HTTPS remoting session.&rdquo;<br>
}<br>
Remove-PSSession -Session $httpsResult -ErrorAction SilentlyContinue<br>
Write-Output &ldquo;PS Remoting has been successfully configured for Intersight.&rdquo;</p>
<p>For more information on Intersight Target Claim, see <a href="file://E:%5Chelp%5Cgetting_started%5Cclaim_targets">Target Claim Using
Intersight Assist</a>.</p>
<p>Using the Executor PowerShell Script embedded task</p>
<p>Use the <strong>Invoke PowerShell Script</strong> from the <strong>Executors</strong> section in
the Intersight Orchestrator Workflow Designer UI to create a task for a
PowerShell Script target endpoint.</p>
<p>The following table explains the PowerShell Script task properties:</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><p>The PowerShell endpoint on which the PowerShell Script task is run.</p>
<p>The PowerShell Script target must be in the connected state.</p>
<ul>
<li><p>Static Value—Click Select External Target to select the PowerShell endpoint target from the Cisco Intersight target inventory.</p></li>
<li><p>Direct Mapping—Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Script</td>
<td><p>The PowerShell script to be executed on the endpoint.</p>
<ul>
<li><p>Static Value—The PowerShell script.</p></li>
<li><p>Direct Mapping—Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul>
<p><strong>Note:</strong> When you specify the PowerShell script statement and enable the Response Parser Type as JSON, at the time of execution of the workflow, Intersight pipes <em>ConvertTo-Json</em> to the script to get the corresponding responses as JSON output. However, PowerShell script statements do not output to the pipe command, and the workflow may fail and return the error "An empty pipe element is not allowed.". For example, for a script foreach ($x in 1,2,3,4,5) {$x} with Response Parser Type as JSON, when the workflow is executed the workflow fails and returns the error "<em>An empty pipe element is not allowed</em>".</p>
<p>You must wrap the PowerShell script statement with the $() operator, such as $(foreach ($x in 1,2,3,4,5) {$x} ) for the PowerShell script to work.</p></td>
</tr>
<tr class="odd">
<td>Timeout</td>
<td><p>The duration in seconds for which the task waits for a response from the PowerShell target endpoint.</p>
<p>The field corresponds to the wsman:OperationTimeout field in the WinRM SOAP/XML message.</p>
<ul>
<li><p>Static Value—The timeout in seconds.</p></li>
<li><p>Direct Mapping—Select the command timeout from the Workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>The response parser contains information about the required values, their types, and the location in the API responses. You specify the required values along with API request details. These details are used by the response parser to extract the values from the API responses.</p>
<ul>
<li><p>Static Value—Select the response type as JSON or Text.</p>
<ul>
<li><p>Enable JSON Parsing—Select enable to parse the script response and extract the data from it.</p></li>
</ul>
<ul>
<li><blockquote>
<p>Depth—The number of levels of the contained objects that must be included in the JSON representation.</p>
</blockquote></li>
<li><blockquote>
<p>Path—The content specific path information that identifies the parameter value within the content. The value is usually XPath or JSONPath.</p>
</blockquote></li>
<li><blockquote>
<p>Name—The name of the output under which the captured value is saved.</p>
</blockquote></li>
<li><blockquote>
<p>Type—The response parameter type—String, Integer, Float, or Boolean.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Enable Text Parsing—Select enable to parse the script response and extract data from it.</p></li>
</ul>
<ul>
<li><blockquote>
<p>Regular Expression—The regular expression of the line in the command response where the interested capture value resides. The format to specify the capture value in this input is $&lt;Name of the parameter&gt;. For example, if the value of the Regular Expression field is $&lt;ParameterName&gt;\@cisco\.com, then the Name field must be given the value - ParameterName.</p>
</blockquote></li>
<li><blockquote>
<p>Name—The name of the output under which the captured value is saved. This name should be the same that is provided in the Regular Expression—$&lt;Name&gt;.</p>
</blockquote></li>
<li><blockquote>
<p>Type—The response parameter type—String, Integer, Float, or Boolean.</p>
</blockquote></li>
</ul></li>
<li><p>Direct Mapping—Select the command timeout from the Workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the task Output properties:</p>
<table>
<colgroup>
<col style="width: 21%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Exit Code</td>
<td>The exit code after the execution of the PowerShell script against the given endpoint.</td>
</tr>
<tr class="even">
<td>Response</td>
<td>The response returned by the script.</td>
</tr>
<tr class="odd">
<td>Extracted Parameters</td>
<td>The list of output parameters extracted from the response.</td>
</tr>
</tbody>
</table>
<p>The following table explains the task Outcomes properties:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Outcomes</td>
<td><p>To use the extracted values from the API response to determine the task status and set the status with an appropriate message, when the conditions match, do the following:</p>
<ol type="1">
<li><p>Click Add Outcome.</p></li>
<li><p>Name—The name for the outcome.</p></li>
<li><p>Outcome Type—Select the outcome type as Success, Error, or Skip Task Execution.</p></li>
</ol>
<ol start="26" type="1">
<li><p>For more information on Outcomes, see <a href="file://E:\\help\\resources\\Task_Designer">Outcomes</a></p></li>
</ol>
<ol start="4" type="1">
<li><p>Message—The message when the condition is met.</p></li>
<li><p>Condition—The condition for the outcome.</p></li>
</ol>
<ol start="27" type="1">
<li><p>For example, {{eq .local.response.ExitCode "0"}}.</p></li>
<li><p>This condition checks whether the response exit code of API is 0.</p></li>
</ol></td>
</tr>
</tbody>
</table>
<p>Using the Executor PowerShell Script custom task</p>
<p>Use the <strong>Invoke PowerShell Script</strong> from the <strong>Executors</strong> section in
the Intersight Orchestrator Task Designer UI .</p>
<p>For more information on custom tasks, see <a href="file://E:%5Chelp%5Cresources%5CTask_Designer">Defining a
Task</a></p>
<p>The following table explains the PowerShell Script custom task
properties:</p>
<table>
<colgroup>
<col style="width: 10%" />
<col style="width: 89%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General</td>
<td><p>For more information, see <a href="file://E:\\help\\resources\\Task_Designer">Defining a Task</a></p>
<p>.</p></td>
</tr>
<tr class="even">
<td>Inputs</td>
<td>External Target—The PowerShell endpoint target on which the PowerShell script task is run.</td>
</tr>
<tr class="odd">
<td>Outputs</td>
<td><p>To extract the required values from the API responses and map it to task outputs, do the following:</p>
<ol type="1">
<li><p>Create Task Output—Specify the task output.</p></li>
<li><p>Map to Task Output—Check the check box to map the task output to an API response.</p></li>
<li><p>Task Output—Select the API response to which the task output is mapped. The options available are:</p></li>
</ol>
<ul>
<li><p><em>Exit Code | Invoke PowerShell Script</em></p></li>
<li><p><em>Response | Invoke PowerShell Script</em></p></li>
<li><p><em>Extracted Parameters | Invoke PowerShell Script</em></p></li>
</ul>
<p>For example, if you create a new task output <em>New Exit Code</em> and map it to <em>Exit Code | Invoke PowerShell Script</em>, after the workflow is executed, the output will show:</p>
<p>.<br />
└── Outputs/<br />
    ├── ConfigResults:[ 1 ]/<br />
    │   └── Object:{ 3 }/<br />
    │       ├── ConfigResCtx:{ 1 }/<br />
    │       │   └── EntityData:{ 1 }/<br />
    │       │       └── task:workflow.PowerShellApiTask<br />
    │       ├── State:Ok<br />
    │       └── Type:Config<br />
    ├── Custom_Task_Output:Handles NPM(K) PM(K) WS(K) CPU(s) Id SI ProcessName/<br />
    │                        ----- ------ ----- ----- ------ -- -- -----------<br />
    │                       264 16 4880 24808 1.11 2600 2 ApplicationFrameHost<br />
    │                       405 28 109036 5628 85.55 2112 2 chrome<br />
    │                       ...<br />
    └── New Exit Code:0</p></td>
</tr>
</tbody>
</table>
<p>The following table explains the PowerShell Script custom task input:</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Script</td>
<td><p>The PowerShell script to be executed on the target endpoint.</p>
<ul>
<li><p>Static Value—The PowerShell Script.</p></li>
<li><p>Direct Mapping—Select an existing Task input or Task output field.</p></li>
</ul>
<blockquote>
<p><strong>Note:</strong> When you use Direct Mapping and select a task input, and then execute the workflow it fails and returns the error <em>map[Text:get-service : The term 'map[Text:get-service' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.</em>.</p>
<p>You must prefix <em>.Text</em> to the Direct Mapping input in Advanced Mapping. For example, for a task input Script, the Advanced Mapping input should be{{.global.task.input.Script.Text}}</p>
</blockquote>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Timeout</td>
<td><p>The duration in seconds for which the task waits for a response from the PowerShell target endpoint.</p>
<p>The field corresponds to the wsman:OperationTimeout field in the WinRM SOAP/XML message.</p>
<ul>
<li><p>Static Value—The timeout in seconds.</p></li>
<li><p>Direct Mapping—Select the command timeout from the Task input or Task output.</p></li>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Response Parser</td>
<td><p>The response parser contains information about the required values, their types, and the location in the API responses. You specify the required values along with API request details. These details are used by the response parser to extract the values from the API responses.</p>
<ul>
<li><p>Static Value—Select the response type as JSON or Text.</p>
<ul>
<li><p>Enable JSON Parsing—Select enable to parse the script response and extract the data from it.</p></li>
</ul>
<ul>
<li><blockquote>
<p>Depth—The number of levels of the contained objects that must be included in the JSON representation.</p>
</blockquote></li>
<li><blockquote>
<p>Path—The content specific path information that identifies the parameter value within the content. The value is usually XPath or JSONPath.</p>
</blockquote></li>
<li><blockquote>
<p>Name—The name of the output under which the captured value is saved.</p>
</blockquote></li>
<li><blockquote>
<p>Type—The response parameter type—String, Integer, Float, or Boolean.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Enable Text Parsing—Select enable to parse the script response and extract data from it.</p></li>
</ul>
<ul>
<li><blockquote>
<p>Regular Expression—The regular expression of the line in the command response where the interested capture value resides. The format to specify the capture value in this input is $&lt;Name of the parameter&gt;. For example, if the value of the Regular Expression field is $&lt;ParameterName&gt;\@cisco\.com, then the Name field must be given the value - ParameterName.</p>
</blockquote></li>
<li><blockquote>
<p>Name—The name of the output under which the captured value is saved. This name should be the same that is provided in the Regular Expression—$&lt;Name&gt;.</p>
</blockquote></li>
<li><blockquote>
<p>Type—The response parameter type—String, Integer, Float, or Boolean.</p>
</blockquote></li>
</ul></li>
<li><p>Direct Mapping—Select the input from the Task input or Task output.</p></li>
</ul>
<blockquote>
<p><strong>Note:</strong> When you use Direct Mapping and select a task input, and execute the workflow it fails and returns the error <em>Error in execution: API request cannot be populated: invalid character 'm' looking for beginning of value</em>.</p>
<p>You must pipe <em>ToJson</em> to Direct Mapping in Advanced Mapping. For example, for a task input ResponseParser, the Advanced Mapping input should be {{.global.task.input.ResponseParser| ToJson}}.</p>
</blockquote>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the PowerShell Script custom task Outcomes:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Outcomes</td>
<td><p>To use the extracted values from the API response to determine the task status and set the status with an appropriate message, when the conditions match, do the following:</p>
<ol type="1">
<li><p>Click Add Outcome.</p></li>
<li><p>Name—The name for the outcome.</p></li>
<li><p>Outcome Type—Select the outcome type. The options available are Success, Skip To Success, Error, Terminal Error, Skip Task Execution, or Status.</p></li>
</ol>
<ol start="29" type="1">
<li><p>For more information on Outcomes, see <a href="file://E:\\help\\resources\\Task_Designer">Outcomes</a></p></li>
</ol>
<ol start="4" type="1">
<li><p>Message—The message when the condition is met.</p></li>
<li><p>Condition—The condition for the outcome.</p></li>
</ol>
<ol start="30" type="1">
<li><p>For example, {{eq .global.InvokePowerShellScript1.output.ExitCode "0"}}.</p></li>
<li><p>This condition checks whether the response exit code of the API named ‘InvokePowerShellScript1’ used in a custom task is 0.</p></li>
</ol></td>
</tr>
</tbody>
</table>
<p>Template Parameters</p>
<p>The request body template can refer to values from workflow inputs,
previous task outputs, or implicit parameters for Intersight API calls.
The following table explains the template parameters.</p>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="header">
<th>Prefix/Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{.global.workflow.input.&lt;ParameterName&gt;}}</td>
<td>Workflow input reference.</td>
</tr>
<tr class="even">
<td>{{.global.&lt;TaskRefName&gt;.output.<br />
Parameters.&lt;ParameterName&gt;}}</td>
<td>Previous task output reference. <strong>TaskRefName</strong> is the name of the previous task having output <strong>ParameterName</strong>.</td>
</tr>
<tr class="odd">
<td>{{.security.AccountMoid}}</td>
<td>Implicit parameter reference to Account MoID under which the workflow is running.</td>
</tr>
<tr class="even">
<td>{{.security.OrganizationMoid}}</td>
<td>Implicit parameter reference to Organization MoID under which the workflow is running.</td>
</tr>
</tbody>
</table>
<p>Template Functions</p>
<p>The template engine has in-built functions to transform values before
they are populated in the request templates. The following table
explains the functions supported in <strong>Invoke Web API Request</strong> task.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TrimSpace</td>
<td><p>Returns a string after removing whitespaces from a the string.</p>
<p>Example:</p>
<p>{{TrimSpace .global.workflow.input.HostName}}</p></td>
</tr>
<tr class="even">
<td>ContainsString</td>
<td><p>Returns a boolean if a substring is present in a given string.</p>
<p>Example:</p>
<p>{{if (ContainsString .global.workflow.input.SizeAsString \”MB\”)}}Mega Bytes{{else}}Bytes{{end}}</p></td>
</tr>
<tr class="odd">
<td>FindAllString</td>
<td><p>Returns a slice of substrings matching the regular expression in a given string.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \”([0-9]+)\”)}}</p>
<p>The above example returns array [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="even">
<td>ToJson</td>
<td><p>Converts a value to a JSON format.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \"([0-9]+)\") | ToJson}}</p>
<p>The above example returns JSON array literal [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="odd">
<td>AsArray</td>
<td><p>Takes in an element and returns an array of one element.</p>
<p>Example:</p>
<p>{{AsArray .global.workflow.output.serverMo}}</p>
<p>The above example returns an array of one server Mo.</p></td>
</tr>
<tr class="even">
<td>Substring</td>
<td><p>Returns a substring within the given index bounds.</p>
<p>Example:</p>
<p>{{Substring .global.workflow.input.StorageId 2 6}}</p>
<p>The above example returns “ABCD” for string “12ABCD3456.”</p></td>
</tr>
<tr class="odd">
<td>IpToCidr</td>
<td><p>Returns the classless inter-domain routing (CIDR) notation of an IPv4 address and subnet mask.</p>
<p>Example:</p>
<p>{{IpToCidr .global.workflow.input.Ip .global.workflow.input.Netmask}}</p>
<p>The above example returns “10.10.10.10/24” for the input parameters “10.10.10.10” and “255.255.255.0.”</p></td>
</tr>
<tr class="even">
<td>LookupInSlice</td>
<td><p>Checks if a given value is present in given slice or array and returns true if it exists. This function can be used for any value.</p>
<p>Example:</p>
<p>{{LookupInSlice .global.workflow.input.IpAddressList \”10.10.10.10\”}}</p>
<p>The above example returns true for input [”10.10.10.10”, “20.20.20.20”].</p></td>
</tr>
<tr class="odd">
<td>Index</td>
<td><p>Returns a value from an array when an input index exists.</p>
<p>Example:</p>
<p>{{ index .global.workflow.input.nodes .global.workflow.input.idx }} </p>
<p>In the above example, if nodes is an array of devices and idx is 2, the index function returns the second device in the array.</p></td>
</tr>
<tr class="even">
<td>Itob</td>
<td><p>Converts an integer to a boolean.</p>
<p>Example:</p>
<p>{{ Itob global.workflow.input.OnOffFlip }} </p>
<p>The above example returns true and false for inputs 1 and 0 respectively.</p></td>
</tr>
<tr class="odd">
<td>Itoa</td>
<td><p>Converts a given number to a string value.</p>
<p>Example:</p>
<p>{{ Itoa global.workflow.input.Port }} </p>
<p>The above example returns “12345” for input 12345.</p></td>
</tr>
<tr class="even">
<td>Itof</td>
<td><p>Converts a given integer to a float value.</p>
<p>Example:</p>
<p>{{ Itof global.workflow.input.Rate }}</p>
<p>The above example returns 15.0 for an input 15.</p></td>
</tr>
<tr class="odd">
<td>Btoa</td>
<td><p>Converts a given boolean to a string value.</p>
<p>Example:</p>
<p>{{ Btoa global.workflow.input.OnOffFlip }}</p>
<p>The above example returns “true” for input true.</p></td>
</tr>
<tr class="even">
<td>Btoi</td>
<td><p>Converts a given boolean to a integer value.</p>
<p>Example:</p>
<p>{{ Btoi global.workflow.input.OnOffFlip }}</p>
<p>The above example returns 1 and 0 for inputs true and false respectively.</p></td>
</tr>
<tr class="odd">
<td>Atob</td>
<td><p>Converts the given string into a Boolean value.</p>
<p>Example:</p>
<p>{{ Atob global.workflow.input.OnOffFlip }}Returns true for input “true”</p></td>
</tr>
<tr class="even">
<td>Atoi</td>
<td><p>Converts a given number in string format to the integer type.</p>
<p>Example:</p>
<p>{{Atoi .global.task.input.SizeString}} returns integer 2048 for input string “2048”</p></td>
</tr>
<tr class="odd">
<td>Ftoa</td>
<td><p>Converts a given number into the string form based on the given precision.</p>
<p>Example:</p>
<p>{{Ftoa .global.task.input.Size 2}} returns the following output: 123.456 =&gt; “123.45”, 1028 =&gt; “1028.00”</p></td>
</tr>
<tr class="even">
<td>Ftoi</td>
<td><p>Converts a given float input to a integer value.</p>
<p>Example:</p>
<p>{{ Ftoi global.workflow.input.Rate }}</p>
<p>The above example returns 15 for an input 15.833.</p></td>
</tr>
<tr class="odd">
<td>Eval</td>
<td><p>Supports an expression evaluation function. The below example returns 2GB for a input value of 2048. Note that the second argument is passed as ‘.’ in the template, which represents the map of all parameters.</p>
<p>{{Eval \"{{.global.workflow.input.Size}} / 1024\" .}}GB</p></td>
</tr>
</tbody>
</table>
<p>Template Engine Syntax</p>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}</p>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}</p>
<p>PowerShell Script Task Examples</p>
<p><strong>Example 1: Create a workflow to run a PowerShell Script task to get
the items and child items on a PowerShell Target endpoint</strong></p>
<p>The example below shows the execution of a script to get the items and
child items on a PowerShell target endpoint. The response parser of the
PowerShell script task is configured to use the <em>Depth</em> parameter to
limit the number of levels to recurse to 1.</p>
<p>The workflow input field required for this example is as follows:</p>
<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="header">
<th>Workflow Input</th>
<th>Input Fields</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><ul>
<li><p>Reference Name—Target</p></li>
<li><p>Type—Target Data Type</p></li>
<li><p>Intersight API Reference—/api/v1/asset/Targets?$filter=(TargetType eq PowerShellEndpoint and Status eq Connected)</p>
<ul>
<li><p>Name</p></li>
<li><p>Target Type</p></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the PowerShell Script task properties:</p>
<table>
<colgroup>
<col style="width: 24%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><p>The target on which the PowerShell Script task is executed.</p>
<p>—${workflow.input.Target}</p></td>
</tr>
<tr class="even">
<td>Script</td>
<td>Static Value—get-childitem</td>
</tr>
<tr class="odd">
<td>Timeout</td>
<td>Static Value—60 sec</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><ul>
<li><p>Response Type—JSON</p></li>
<li><p>Depth—1</p></li>
<li><p>Enable JSON Parsing—Enable</p></li>
<li><p>JSON Parser Parameters</p>
<ul>
<li><p>Path—$</p></li>
<li><p>Name—Dir</p></li>
<li><p>Type—String</p></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>After you execute the workflow, the task output is:</p>
<p>.<br>
└── ConfigResults:[ 1 ]/<br>
    └── Object:{ 3 }/<br>
        ├── ConfigResCtx:{ 1 }/<br>
        │   └── EntityData:{ 1 }/<br>
        │       └── task:workflow.PowerShellApiTask<br>
        ├── State:Ok<br>
        ├── Type:Config<br>
        ├── Response:[/<br>
        │   ├── {<br>
        │   ├── &ldquo;Name&rdquo;: &ldquo;Desktop&rdquo;,<br>
        │   ├── &ldquo;Parent&rdquo;: &ldquo;Administrator&rdquo;,<br>
        │   ├── &ldquo;Exists&rdquo;: true,<br>
        │   ├── &ldquo;Root&rdquo;: &ldquo;C:\\&rdquo;,<br>
        │   ├── &ldquo;FullName&rdquo;: &ldquo;C:\\Users\\Administrator\\Desktop&rdquo;,<br>
        │   ├── &ldquo;Extension&rdquo;: &ldquo;&rdquo;,<br>
        │   ├── &ldquo;CreationTime&rdquo;: &ldquo;\/Date(1633091610981)\/&rdquo;,<br>
        │   ├── &ldquo;CreationTimeUtc&rdquo;: &ldquo;\/Date(1633091610981)\/&rdquo;,<br>
        │   ├── &ldquo;LastAccessTime&rdquo;: &ldquo;\/Date(1634588500706)\/&rdquo;,<br>
        │   ├── &ldquo;LastAccessTimeUtc&rdquo;: &ldquo;\/Date(1634588500706)\/&rdquo;,<br>
        │   ├── &ldquo;LastWriteTime&rdquo;: &ldquo;\/Date(1634588500706)\/&rdquo;,<br>
        │   ├── &ldquo;LastWriteTimeUtc&rdquo;: &ldquo;\/Date(1634588500706)\/&rdquo;,<br>
        │   ├── &ldquo;Attributes&rdquo;: 17,<br>
        │   ├── &ldquo;PSPath&rdquo;: &ldquo;Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\Administrator\\Desktop&rdquo;,<br>
        │   ├── &ldquo;PSParentPath&rdquo;: &ldquo;Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\Administrator&rdquo;,<br>
        │   ├── &ldquo;PSChildName&rdquo;: &ldquo;Desktop&rdquo;,<br>
        │   ├── &ldquo;PSDrive&rdquo;: &ldquo;C&rdquo;,<br>
        │   ├── &ldquo;PSProvider&rdquo;: &ldquo;Microsoft.PowerShell.Core\\FileSystem&rdquo;,<br>
        │   ├── &ldquo;PSIsContainer&rdquo;: true,<br>
        │   ├── &ldquo;Mode&rdquo;: &ldquo;d-r&mdash;&rdquo;,<br>
        │   ├── &ldquo;BaseName&rdquo;: &ldquo;Desktop&rdquo;,<br>
        │   ├── &ldquo;Target&rdquo;: &ldquo;&rdquo;,<br>
        │   ├── &ldquo;LinkType&rdquo;: null<br>
        │   ├── },<br>
        │   ├── {<br>
        │   ├── &ldquo;Name&rdquo;: &ldquo;Documents&rdquo;,<br>
        │   ├── &ldquo;Parent&rdquo;: &ldquo;Administrator&rdquo;,<br>
        │   ├── &ldquo;Exists&rdquo;: true,<br>
        │   ├── &ldquo;Root&rdquo;: &ldquo;C:\\&rdquo;,<br>
        │   ├── &ldquo;FullName&rdquo;: &ldquo;C:\\Users\\Administrator\\Documents&rdquo;,<br>
        │   ├── &ldquo;Extension&rdquo;: &ldquo;&rdquo;,<br>
        │   ├── &ldquo;CreationTime&rdquo;: &ldquo;\/Date(1633091610981)\/&rdquo;,<br>
        │   ├── &ldquo;CreationTimeUtc&rdquo;: &ldquo;\/Date(1633091610981)\/&rdquo;,<br>
        │   ├── &ldquo;LastAccessTime&rdquo;: &ldquo;\/Date(1637588960280)\/&rdquo;,<br>
        │   ├── &ldquo;LastAccessTimeUtc&rdquo;: &ldquo;\/Date(1637588960280)\/&rdquo;,<br>
        │   ├── &ldquo;LastWriteTime&rdquo;: &ldquo;\/Date(1637588960280)\/&rdquo;,<br>
        │   ├── &ldquo;LastWriteTimeUtc&rdquo;: &ldquo;\/Date(1637588960280)\/&rdquo;,<br>
        │   ├── &ldquo;Attributes&rdquo;: 17,<br>
        │   ├── &ldquo;PSPath&rdquo;: &ldquo;Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\Administrator\\Documents&rdquo;,<br>
        │   ├── &ldquo;PSParentPath&rdquo;: &ldquo;Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\Administrator&rdquo;,<br>
        │   ├── &ldquo;PSChildName&rdquo;: &ldquo;Documents&rdquo;,<br>
        │   ├── &ldquo;PSDrive&rdquo;: &ldquo;C&rdquo;,<br>
        │   ├── &ldquo;PSProvider&rdquo;: &ldquo;Microsoft.PowerShell.Core\\FileSystem&rdquo;,<br>
        │   ├── &ldquo;PSIsContainer&rdquo;: true,<br>
        │   ├── &ldquo;Mode&rdquo;: &ldquo;d-r&mdash;&rdquo;,<br>
        │   ├── &ldquo;BaseName&rdquo;: &ldquo;Documents&rdquo;,<br>
        │   ├── &ldquo;Target&rdquo;: &ldquo;&rdquo;,<br>
        │   ├── &ldquo;LinkType&rdquo;: null<br>
        │   ├── },<br>
        │   └── &hellip;<br>
        ├── Exit Code:{ 0 }<br>
        └── Extracted Parameters:{ 1 }/<br>
            └── Test:[ 11 ]/<br>
                └── Object:{ 20 }/<br>
                    ├── Attributes:17<br>
                    ├── BaseName:Contacts<br>
                    ├── CreationTime:/Date(1633091626520)/<br>
                    ├── CreationTimeUtc:/Date(1633091626520)/<br>
                    ├── Exists:true<br>
                    ├── FullName:C:\Users\Administrator\Contacts<br>
                    ├── LastAccessTime:/Date(1633091626520)/<br>
                    └── LastAccessTimeUtc:/Date(1633091626520)/<br>
&hellip;</p>
<p>The following is a sample code view:</p>
<p>{<br>
  &ldquo;Catalog&rdquo;: {<br>
    &ldquo;Moid&rdquo;: &ldquo;5c350f48696f6e2d3121feec&rdquo;,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.Catalog&rdquo;,<br>
    &ldquo;link&rdquo;: &ldquo;<a href="https://www.intersight.com/api/v1/workflow/Catalogs/5c350f48696f6e2d3121feec%22">https://www.intersight.com/api/v1/workflow/Catalogs/5c350f48696f6e2d3121feec&quot;</a><br>
  },<br>
  &ldquo;DefaultVersion&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
  &ldquo;InputDefinition&rdquo;: [<br>
    {<br>
      &ldquo;CustomDataTypeProperties&rdquo;: {<br>
        &ldquo;CatalogMoid&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;CustomDataTypeId&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;CustomDataTypeName&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.CustomDataProperty&rdquo;<br>
      },<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;IsValueSet&rdquo;: false,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: null<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;The PowerShell endpoint on which the script is to be executed. PowerShell Remoting must be enabled on the endpoint to allow for scripts to be executed remotely.\n&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;Dropdown&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;IsArray&rdquo;: false,<br>
      &ldquo;Label&rdquo;: &ldquo;External Target&rdquo;,<br>
      &ldquo;Max&rdquo;: 0,<br>
      &ldquo;Min&rdquo;: 0,<br>
      &ldquo;Name&rdquo;: &ldquo;Target&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.TargetDataType&rdquo;,<br>
      &ldquo;Properties&rdquo;: [<br>
        {<br>
          &ldquo;ConnectorAttribute&rdquo;: &ldquo;&rdquo;,<br>
          &ldquo;ConstraintAttributes&rdquo;: [],<br>
          &ldquo;DisplayAttributes&rdquo;: [<br>
            &ldquo;Name&rdquo;,<br>
            &ldquo;TargetType&rdquo;<br>
          ],<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.TargetProperty&rdquo;,<br>
          &ldquo;Selector&rdquo;: &ldquo;/api/v1/asset/Targets?$filter=(TargetType eq PowerShellEndpoint and Status eq Connected)&rdquo;,<br>
          &ldquo;SelectorProperty&rdquo;: {<br>
            &ldquo;Body&rdquo;: null,<br>
            &ldquo;Method&rdquo;: &ldquo;GET&rdquo;,<br>
            &ldquo;ObjectType&rdquo;: &ldquo;workflow.SelectorProperty&rdquo;<br>
          },<br>
          &ldquo;SupportedObjects&rdquo;: [<br>
            &ldquo;asset.Target&rdquo;<br>
          ]<br>
        }<br>
      ],<br>
      &ldquo;Required&rdquo;: true<br>
    }<br>
  ],<br>
  &ldquo;InputParameterSet&rdquo;: [],<br>
  &ldquo;Label&rdquo;: &ldquo;Example1PowerShell&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;Example1PowerShell&rdquo;,<br>
  &ldquo;OutputDefinition&rdquo;: [],<br>
  &ldquo;OutputParameters&rdquo;: null,<br>
  &ldquo;Properties&rdquo;: {<br>
    &ldquo;Cloneable&rdquo;: true,<br>
    &ldquo;EnableDebug&rdquo;: false,<br>
    &ldquo;ExternalMeta&rdquo;: true,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkflowProperties&rdquo;,<br>
    &ldquo;Retryable&rdquo;: false,<br>
    &ldquo;SupportStatus&rdquo;: &ldquo;Supported&rdquo;<br>
  },<br>
  &ldquo;Tags&rdquo;: [],<br>
  &ldquo;Tasks&rdquo;: [<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
      &ldquo;NextTask&rdquo;: &ldquo;InvokePowerShellScript1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.StartTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5c2fc884696f6e2d316c5d59&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes the given PowerShell script against the given PowerShell endpoint. The endpoint is typically a windows\nmachine with PowerShell Remoting enabled to allow for scripts to be executed remotely. The task connects to the\nPowerShell endpoint using the WinRM protocol.\n&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;OperationTimeout&rdquo;: 60,<br>
        &ldquo;ResponseParser&rdquo;: {<br>
          &ldquo;Depth&rdquo;: 1,<br>
          &ldquo;EnableJsonParser&rdquo;: &ldquo;Enable&rdquo;,<br>
          &ldquo;JsonParameters&rdquo;: [<br>
            {<br>
              &ldquo;Name&rdquo;: &ldquo;Dir&rdquo;,<br>
              &ldquo;Path&rdquo;: &ldquo;$&rdquo;,<br>
              &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
            }<br>
          ],<br>
          &ldquo;ResponseType&rdquo;: &ldquo;json&rdquo;<br>
        },<br>
        &ldquo;Script&rdquo;: {<br>
          &ldquo;Text&rdquo;: &ldquo;get-childitem&rdquo;<br>
        },<br>
        &ldquo;Target&rdquo;: &ldquo;${workflow.input.Target}&rdquo;<br>
      },<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke PowerShell Script&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokePowerShellScript1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;617913dd696f6e2d30bf346a&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokePowerShellScript&rdquo;,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;Version&rdquo;: 1<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;<br>
    }<br>
  ],<br>
  &ldquo;UiInputFilters&rdquo;: [],<br>
  &ldquo;UiRenderingData&rdquo;: {<br>
    &ldquo;Positions&rdquo;: [<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
        &ldquo;X&rdquo;: 10,<br>
        &ldquo;Y&rdquo;: 18.5<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 199.33338273233647,<br>
        &ldquo;Y&rdquo;: 381.4409231740322<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 462.33337796396506,<br>
        &ldquo;Y&rdquo;: 365.6328414754678<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokePowerShellScript1&rdquo;,<br>
        &ldquo;X&rdquo;: 178.5,<br>
        &ldquo;Y&rdquo;: 117<br>
      }<br>
    ]<br>
  },<br>
  &ldquo;Version&rdquo;: 1,<br>
  &ldquo;WorkflowMetadata&rdquo;: null<br>
}</p>
<p><strong>Example 2: Create a workflow to run a PowerShell Script task to
install an Internet Information Services (IIS) web server and create a
sample website</strong></p>
<p>The following example workflow has two PowerShell script tasks. The
first task installs the IIS web server on the PowerShell target
endpoint. The second task connects to the same PowerShell endpoint
target and creates a sample website.</p>
<p>The workflow input field required for this example are as follows:</p>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Workflow Input</th>
<th>Input Fields</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><ul>
<li><p>Reference Name—Target</p></li>
<li><p>Type—Target Data Type</p></li>
<li><p>Intersight API Reference—/api/v1/asset/Targets?$filter=(TargetType eq PowerShellEndpoint and Status eq Connected)</p>
<ul>
<li><p>Name</p></li>
<li><p>Target Type</p></li>
</ul></li>
</ul></td>
</tr>
<tr class="even">
<td>Role or Feature Name</td>
<td><ul>
<li><p>Reference Name—RoleorFeatureName</p></li>
<li><p>Type—String</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Website Name</td>
<td><ul>
<li><p>Reference Name—WebsiteName</p></li>
<li><p>Type—String</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the PowerShell Script task properties for
installing the IIS web server :</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><p>The target on which the PowerShell Script task is executed.</p>
<p>${workflow.input.Target}</p></td>
</tr>
<tr class="even">
<td>Script</td>
<td><p>&gt;Install-WindowsFeature -name Web-Server -IncludeManagementTools</p>
<p>Static Value</p>
<p>#Install role or feature<br />
Write-Output 'Installing "{{.global.workflow.input.RoleorFeatureName}}" Feature'<br />
Install-WindowsFeature -Name "{{.global.workflow.input.RoleorFeatureName}}" -IncludeManagementTools</p></td>
</tr>
<tr class="odd">
<td>Timeout</td>
<td>Static Value—15060 sec</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><ul>
<li><p>Response Type—JSON</p></li>
<li><p>Depth—1</p></li>
<li><p>Enable JSON Parsing—Enable</p></li>
<li><p>JSON Parser Parameters</p>
<ul>
<li><p>Path—$.Success</p></li>
<li><p>Name—Installation Succeeded</p></li>
<li><p>Type—String</p></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the PowerShell script task properties for
creating a sample website:</p>
<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><p>The target on which the PowerShell Script task is executed.</p>
<p>${workflow.input.Target}</p></td>
</tr>
<tr class="even">
<td>Script</td>
<td><p>Static Value</p>
<p>#Create website content<br />
$site = "{{.global.workflow.input.WebsiteName}}"<br />
New-Item -ItemType Directory -Name 'MyWebsite' -Path 'C:\'<br />
New-Item -ItemType File -Name 'index.html' -Path 'C:\MyWebsite\'<br />
Get-Service | ConvertTo-Html -As LIST | Out-File C:\MyWebsite\index.html<br />
#Create a new site<br />
New-IISSite -Name $site -PhysicalPath 'C:\MyWebsite\' -BindingInformation "*:8088:"<br />
Get-IISSite | where Name -Contains $site | Format-Table -Property Name,State</p></td>
</tr>
<tr class="odd">
<td>Timeout</td>
<td>Static Value—10060 sec</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><ul>
<li><p>Response Type—Text</p></li>
<li><p>Depth—1</p></li>
<li><p>Enable Text Parsing—Enable</p></li>
<li><p>Text Parser Parameters</p>
<ul>
<li><p>Regular Expression—^demo+\s$&lt;SiteState&gt;</p></li>
<li><p>Name—SiteState</p></li>
<li><p>Type—String</p></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>After you execute the workflow, the task output is:</p>
<p>#Invoke PowerShell Script<br>
&hellip;<br>
├── Inputs /<br>
│   ├── Script:{ 1 }/<br>
│   │           Text:#Install role or feature<br>
│   │               Write-Output &lsquo;Installing &ldquo;Web-Server&rdquo; Feature&rsquo;<br>
│   │               Install-WindowsFeature -Name &ldquo;Web-Server&rdquo; -IncludeManagementTools<br>
│   ├── Timeout:150<br>
│   ├── Response Parser:{ 4 }/<br>
│   │   ├── Depth: 1<br>
│   │   └── Enable JSON Parsing:Enable/<br>
│   │       ├── JSON Parser Parameters:[ 1 ]/<br>
│   │       │   └── Object:{ 3 }/<br>
│   │       │       ├── Name:Installation Succeeded<br>
│   │       │       ├── Path:$.Success<br>
│   │       │       └── Type:string<br>
│   │       └── Response Type:json<br>
│   └── External Target:{ 2 }/<br>
│       ├── Moid:61a5f99c6f72612d30b1e4bf<br>
│       └── ObjectType:asset.Target<br>
└── Outputs/<br>
    ├── ConfigResults:[ 1 ]/<br>
    │   ├── Object:{ 3 }/<br>
    │   │   └── ConfigResCtx:{ 1 }/<br>
    │   │       └── EntityData:{ 1 }/<br>
    │   │           └── task:workflow.PowerShellApiTask<br>
    │   ├── State:Ok<br>
    │   └── Type:Config<br>
    ├── Response:Installing &ldquo;Web-Server&rdquo; Feature/<br>
    │              {<br>
    │               &ldquo;Success&rdquo;: true,<br>
    │               &ldquo;RestartNeeded&rdquo;: 1,<br>
    │               &ldquo;FeatureResult&rdquo;: [<br>
    │               &ldquo;Common HTTP Features&rdquo;,<br>
    │               &ldquo;Default Document&rdquo;,<br>
    │               &ldquo;Directory Browsing&rdquo;,<br>
    │               &ldquo;Request Filtering&rdquo;,<br>
    │               &ldquo;Health and Diagnostics&rdquo;,<br>
    │               &ldquo;HTTP Errors&rdquo;,<br>
    │               &ldquo;HTTP Logging&rdquo;,<br>
    │               &ldquo;IIS Management Console&rdquo;,<br>
    │               &ldquo;Management Tools&rdquo;,<br>
    │               &ldquo;Performance&rdquo;,<br>
    │               &ldquo;Security&rdquo;,<br>
    │               &ldquo;Web Server (IIS)&rdquo;,<br>
    │               &ldquo;Static Content Compression&rdquo;,<br>
    │               &ldquo;Static Content&rdquo;,<br>
    │               &ldquo;Web Server&rdquo;<br>
    │               ],<br>
    │               &ldquo;ExitCode&rdquo;: 0<br>
    │               }<br>
    └── Exit Code:{ 0 }<br>
#Invoke PowerShell Script<br>
&hellip;<br>
.<br>
└── Inputs/<br>
    ├── Script:{ 1 }/<br>
    │           Text:#Create website content<br>
    │           $site = &ldquo;demo&rdquo;<br>
    │           New-Item -ItemType Directory -Name &lsquo;MyWebsite&rsquo; -Path &lsquo;C:\&rsquo;<br>
    │           New-Item -ItemType File -Name &lsquo;index.html&rsquo; -Path &lsquo;C:\MyWebsite\&rsquo;<br>
    │           Get-Service | ConvertTo-Html -As LIST | Out-File C:\MyWebsite\index.html<br>
    │           #Create a new site<br>
    │           New-IISSite -Name $site -PhysicalPath &lsquo;C:\MyWebsite\&rsquo; -BindingInformation &ldquo;*:8088:&rdquo;<br>
    │           Get-IISSite | where Name -Contains $site | Format-Table -Property Name,State<br>
    ├── Timeout:100<br>
    └── Response Parser:{ 3 }/<br>
        ├── Enable Text Parsing:Enable<br>
        ├── Response Type:text<br>
        ├── Text Parser Parameters:[ 1 ]/<br>
        │   └── Object:{ 3 }/<br>
        │       ├── Name:SiteState<br>
        │       ├── RegexLine:^demo+\s$&lt;SiteState&gt;<br>
        │       └── Type:string<br>
        ├── External Target:{ 2 }/<br>
        │   ├── Moid:61a5f99c6f72612d30b1e4bf<br>
        │   └── ObjectType:asset.Target<br>
└── Outputs/<br>
    ├── ConfigResults:[ 1 ]/<br>
        │   └── Object:{ 3 }/<br>
        │       ├── ConfigResCtx:{ 1 }/<br>
        │       │   └── EntityData:{ 1 }/<br>
        │       │       └── task:workflow.PowerShellApiTask<br>
        │       ├── State:Ok<br>
        │       └── Type:Config<br>
        ├── Response:Directory: C:\/<br>
        │                        Mode LastWriteTime Length Name<br>
        │                        &mdash;- &mdash;&mdash;&mdash;&mdash;- &mdash;&mdash; &mdash;-<br>
        │                       d&mdash;&ndash; 12/1/2021 11:43 AM MyWebsite<br>
        │                       Directory: C:\MyWebsite<br>
        │                       Mode LastWriteTime Length Name<br>
        │                       &mdash;- &mdash;&mdash;&mdash;&mdash;- &mdash;&mdash; &mdash;-<br>
        │                       -a&mdash;- 12/1/2021 11:43 AM 0 index.html<br>
        │                       Name State<br>
        │                       &mdash;- &mdash;&ndash;<br>
        │                       demo Started<br>
        ├── Exit Code:{ 0 }<br>
        └── Extracted Parameters:{ 1 }/<br>
            └── SiteState:Started</p>
<p>The following is a sample code view:</p>
<p>{<br>
  &ldquo;Catalog&rdquo;: {<br>
    &ldquo;Moid&rdquo;: &ldquo;6166bf80696f6e2d30f796b7&rdquo;,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.Catalog&rdquo;,<br>
    &ldquo;link&rdquo;: &ldquo;<a href="https://www.intersight.com/api/v1/workflow/Catalogs/6166bf80696f6e2d30f796b7%22">https://www.intersight.com/api/v1/workflow/Catalogs/6166bf80696f6e2d30f796b7&quot;</a><br>
  },<br>
  &ldquo;DefaultVersion&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
  &ldquo;InputDefinition&rdquo;: [<br>
    {<br>
      &ldquo;CustomDataTypeProperties&rdquo;: {<br>
        &ldquo;CatalogMoid&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;CustomDataTypeId&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;CustomDataTypeName&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.CustomDataProperty&rdquo;<br>
      },<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;IsValueSet&rdquo;: false,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: null<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;The PowerShell endpoint on which the script is to be executed. PowerShell Remoting must be enabled on the endpoint to allow for scripts to be executed remotely.\n&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;Dropdown&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;IsArray&rdquo;: false,<br>
      &ldquo;Label&rdquo;: &ldquo;External Target&rdquo;,<br>
      &ldquo;Max&rdquo;: 0,<br>
      &ldquo;Min&rdquo;: 0,<br>
      &ldquo;Name&rdquo;: &ldquo;Target&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.TargetDataType&rdquo;,<br>
      &ldquo;Properties&rdquo;: [<br>
        {<br>
          &ldquo;ConnectorAttribute&rdquo;: &ldquo;&rdquo;,<br>
          &ldquo;ConstraintAttributes&rdquo;: [],<br>
          &ldquo;DisplayAttributes&rdquo;: [<br>
            &ldquo;Name&rdquo;,<br>
            &ldquo;TargetType&rdquo;<br>
          ],<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.TargetProperty&rdquo;,<br>
          &ldquo;Selector&rdquo;: &ldquo;/api/v1/asset/Targets?$filter=(TargetType eq PowerShellEndpoint and Status eq Connected)&rdquo;,<br>
          &ldquo;SelectorProperty&rdquo;: {<br>
            &ldquo;Body&rdquo;: null,<br>
            &ldquo;Method&rdquo;: &ldquo;GET&rdquo;,<br>
            &ldquo;ObjectType&rdquo;: &ldquo;workflow.SelectorProperty&rdquo;<br>
          },<br>
          &ldquo;SupportedObjects&rdquo;: [<br>
            &ldquo;asset.Target&rdquo;<br>
          ]<br>
        }<br>
      ],<br>
      &ldquo;Required&rdquo;: true<br>
    },<br>
    {<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;IsValueSet&rdquo;: false,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: null<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;Role or Feature Name&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;Role or Feature Name&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;RoleorFeatureName&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;EnumList&rdquo;: [],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Secure&rdquo;: false,<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
      },<br>
      &ldquo;Required&rdquo;: false<br>
    },<br>
    {<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;IsValueSet&rdquo;: false,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: null<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;Website Name&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;Website Name&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;WebsiteName&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;EnumList&rdquo;: [],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Secure&rdquo;: false,<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
      },<br>
      &ldquo;Required&rdquo;: false<br>
    }<br>
  ],<br>
  &ldquo;InputParameterSet&rdquo;: [],<br>
  &ldquo;Label&rdquo;: &ldquo;PowerShellExample2&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;PowerShellExample2&rdquo;,<br>
  &ldquo;OutputDefinition&rdquo;: [],<br>
  &ldquo;OutputParameters&rdquo;: null,<br>
  &ldquo;Properties&rdquo;: {<br>
    &ldquo;Cloneable&rdquo;: true,<br>
    &ldquo;EnableDebug&rdquo;: false,<br>
    &ldquo;ExternalMeta&rdquo;: true,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkflowProperties&rdquo;,<br>
    &ldquo;Retryable&rdquo;: false,<br>
    &ldquo;SupportStatus&rdquo;: &ldquo;Supported&rdquo;<br>
  },<br>
  &ldquo;Tags&rdquo;: [],<br>
  &ldquo;Tasks&rdquo;: [<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
      &ldquo;NextTask&rdquo;: &ldquo;InvokePowerShellScript1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.StartTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;6166bf7f696f6e2d30f796a6&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes the given PowerShell script against the given PowerShell endpoint. The endpoint is typically a windows\nmachine with PowerShell Remoting enabled to allow for scripts to be executed remotely. The task connects to the\nPowerShell endpoint using the WinRM protocol.\n&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;OperationTimeout&rdquo;: 150,<br>
        &ldquo;ResponseParser&rdquo;: {<br>
          &ldquo;Depth&rdquo;: 1,<br>
          &ldquo;EnableJsonParser&rdquo;: &ldquo;Enable&rdquo;,<br>
          &ldquo;JsonParameters&rdquo;: [<br>
            {<br>
              &ldquo;Name&rdquo;: &ldquo;Installation Succeeded &ldquo;,<br>
              &ldquo;Path&rdquo;: &ldquo;$.Success&rdquo;,<br>
              &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
            }<br>
          ],<br>
          &ldquo;ResponseType&rdquo;: &ldquo;json&rdquo;<br>
        },<br>
        &ldquo;Script&rdquo;: {<br>
          &ldquo;Text&rdquo;: &ldquo;#Install role or feature\r\nWrite-Output &lsquo;Installing \&rdquo;{{.global.workflow.input.RoleorFeatureName}}\&rdquo; Feature&rsquo;\r\nInstall-WindowsFeature -Name \&rdquo;{{.global.workflow.input.RoleorFeatureName}}\&quot; -IncludeManagementTools&quot;<br>
        },<br>
        &ldquo;Target&rdquo;: &ldquo;${workflow.input.Target}&rdquo;<br>
      },<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke PowerShell Script&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokePowerShellScript1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;InvokePowerShellScript2&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;616e70f8696f6e2d30355005&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokePowerShellScript&rdquo;,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;Version&rdquo;: 1<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;6166bf7f696f6e2d30f796a6&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes the given PowerShell script against the given PowerShell endpoint. The endpoint is typically a windows\nmachine with PowerShell Remoting enabled to allow for scripts to be executed remotely. The task connects to the\nPowerShell endpoint using the WinRM protocol.\n&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;OperationTimeout&rdquo;: 100,<br>
        &ldquo;ResponseParser&rdquo;: {<br>
          &ldquo;EnableTextParser&rdquo;: &ldquo;Enable&rdquo;,<br>
          &ldquo;ResponseType&rdquo;: &ldquo;text&rdquo;,<br>
          &ldquo;TextParameters&rdquo;: [<br>
            {<br>
              &ldquo;Name&rdquo;: &ldquo;SiteState&rdquo;,<br>
              &ldquo;RegexLine&rdquo;: &ldquo;^demo+\\s$&lt;SiteState&gt;&rdquo;,<br>
              &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
            }<br>
          ]<br>
        },<br>
        &ldquo;Script&rdquo;: {<br>
          &ldquo;Text&rdquo;: &ldquo;#Create website content\r\n$site = \&rdquo;{{.global.workflow.input.WebsiteName}}\&quot;\r\nNew-Item -ItemType Directory -Name &lsquo;MyWebsite&rsquo; -Path &lsquo;C:\\&rsquo;\r\nNew-Item -ItemType File -Name &lsquo;index.html&rsquo; -Path &lsquo;C:\\MyWebsite\\&rsquo;\r\nGet-Service | ConvertTo-Html -As LIST | Out-File C:\\MyWebsite\\index.html\r\n#Create a new site\r\nNew-IISSite -Name $site -PhysicalPath &lsquo;C:\\MyWebsite\\&rsquo; -BindingInformation \&quot;*:8088:\&quot;\r\nGet-IISSite | where Name -Contains $site | Format-Table -Property Name,State&quot;<br>
        },<br>
        &ldquo;Target&rdquo;: &ldquo;${workflow.input.Target}&rdquo;<br>
      },<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke PowerShell Script&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokePowerShellScript2&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;616e70f8696f6e2d30355005&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokePowerShellScript&rdquo;,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;Version&rdquo;: 1<br>
    }<br>
  ],<br>
  &ldquo;UiInputFilters&rdquo;: [],<br>
  &ldquo;UiRenderingData&rdquo;: {<br>
    &ldquo;Positions&rdquo;: [<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
        &ldquo;X&rdquo;: 10,<br>
        &ldquo;Y&rdquo;: 18<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 10,<br>
        &ldquo;Y&rdquo;: 692<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 152,<br>
        &ldquo;Y&rdquo;: 692<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokePowerShellScript1&rdquo;,<br>
        &ldquo;X&rdquo;: 72.5,<br>
        &ldquo;Y&rdquo;: 182<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokePowerShellScript2&rdquo;,<br>
        &ldquo;X&rdquo;: 116,<br>
        &ldquo;Y&rdquo;: 323<br>
      }<br>
    ]<br>
  },<br>
  &ldquo;Version&rdquo;: 1,<br>
  &ldquo;WorkflowMetadata&rdquo;: null<br>
}</p>
<p><span id="_Refd24e12594" class="anchor"></span>Executors – Invoke
Ansible Playbook - Embedded Task</p>
<p>Intersight Cloud Orchestrator allows workflow designers to run Ansible
Playbook on the Ansible Controller node using the <strong>Invoke Ansible
Playbook</strong> embedded task in the workflow. The Invoke Ansible Playbook
task is an out-of-box solution that allows you to automate Ansible
operations on the Ansible Controller node that is added as an Ansible
Endpoint target in Cisco Intersight. This feature allows a workflow
designer to extend the automation capabilities of the workflow engine
beyond what is natively available in the task library and interact with
the Ansible Controller node target.</p>
<p>For more inforormation on Invoke Ansible Playbook - Reusable Task, see
<a href="file://E:%5Chelp%5Cresources%5CExecutor_Ansible_Reusable">Invoke Ansible Playbook - Reusable
Task</a>.</p>
<p>Supported Targets</p>
<p>The Invoke Ansible Playbook task can be run only on the targets that are
added as an Ansible Endpoint target type in Cisco Intersight.</p>
<p>The <strong>Invoke Ansible Playbook</strong> task is executed as an orchestrator task
and does not include the management of the Ansible Controller node.</p>
<p>To run the Ansible Playbook task on the Ansible Controller node from
Cisco Intersight, ensure that:</p>
<ul>
<li></li>
</ul>
<!-- -->
<ul>
<li>
<p>The Ansible target is reachable through Intersight Assist when
hosted on the customer premises.</p>
</li>
<li></li>
</ul>
<!-- -->
<ul>
<li>
<p>The Ansible Playbook modules and Ansible Playbook executables
required to run the playbooks are already installed on the Ansible
Controller node.</p>
</li>
<li>
<p>The Ansible Controller node has password-less SSH access to the
hosts.</p>
</li>
<li>
<p>The Ansible Controller node can resolve the endpoint hostnames if
the Ansible Host Inventory file specifies the hostnames.</p>
</li>
</ul>
<p>For more information on Intersight Target Claim, see <a href="file://E:%5Chelp%5Cgetting_started%5Cclaim_targets">Target Claim Using
Intersight Assist</a>.</p>
<p>Using the Executor Ansible Playbook task</p>
<p>Use the <strong>Invoke Ansible Playbook</strong> from the <strong>Executors</strong> section in
the Intersight Orchestrator Workflow Designer UI to create a request for
an Ansible Playbook target.</p>
<p>The following table explains the task Input properties:</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Ansible Controller</td>
<td><p>The target on which the Ansible Playbook task is run.</p>
<p>The Ansible Playbook target must be in the Connected state.</p>
<ul>
<li><p>Static Value—Click Select External Target to select an Ansible endpoint target from Cisco Intersight target inventory.</p></li>
<li><p>Direct Mapping—Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Playbook Path</td>
<td><p>The path of the Ansible Playbook file that resides on the Ansible Controller node added as Ansible Endpoint target in Intersight.</p>
<ul>
<li><p>Static Value—The path of the Ansible Playbook.</p></li>
<li><p>Direct Mapping—Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Host Inventory</td>
<td><p>The path of the host inventory file that resides on the Ansible Controller or a comma-separated list of hosts on which the Ansible Playbook task is run.</p>
<ul>
<li><p>Static Value—The path of the host inventory file that resides on the Ansible Controller or a comma-separated list of hosts.</p></li>
</ul>
<ul>
<li><blockquote>
<p>For example, you can enter the hostname as root@10.10.10.10,</p>
</blockquote></li>
</ul>
<blockquote>
<p><strong>Note:</strong> The hostname must be suffixed with a comma (,).</p>
</blockquote>
<ul>
<li><p>Direct Mapping—Select the path from the Workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Command Timeout</td>
<td><p>The command timeout in seconds for the execution of the Ansible Playbook. The range is 10 to 7200 seconds.</p>
<p>The default timeout is 600 seconds.</p>
<ul>
<li><p>Static Value—The command timeout in seconds.</p></li>
<li><p>Direct Mapping—Select the command timeout from the Workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Command Line Argument</td>
<td><p>The optional command line arguments required to run the Ansible playbook.</p>
<ul>
<li><p>Static Value—The command line argument.</p></li>
<li><p>Direct Mapping—Select the input from the Workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul>
<p>Escape character backslash(\) needs to be used when the command line arguments contain double quotes(").</p>
<p><strong>Note:</strong> For Invoke Ansible Playbook - Reusable Task, escape character backslash(\) is not necessary when the command line arguments contain double quotes(").</p>
<p>The following command line options are not supported by the Ansible Playbook task.</p>
<ul>
<li><p>-vvv</p></li>
<li><p>-vvvv</p></li>
<li><p>-k, -K</p></li>
<li><p>-c</p></li>
<li><p>--connection</p></li>
<li><p>--sftp-extra-args</p></li>
<li><p>--scp-extra-args</p></li>
<li><p>--ask-vault-password</p></li>
<li><p>--step</p></li>
</ul>
<ul>
<li><blockquote>
<p>For information on the available command line arguments, see <a href="https://docs.ansible.com/ansible/latest/cli/ansible-playbook.html">https://docs.ansible.com/ansible/latest/cli/ansible-playbook.html</a>.</p>
</blockquote></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the task Output properties:</p>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Exit Code</td>
<td>The exit code after the execution of the Ansible Playbook against the given endpoint.</td>
</tr>
<tr class="even">
<td>Execution Summary</td>
<td>The summary after the execution of Ansible Playbook against the given endpoint.</td>
</tr>
<tr class="odd">
<td>Execution Log Path</td>
<td>The Ansible execution log path on the Ansible Control node after the execution of Ansible Playbook against the given endpoint.</td>
</tr>
</tbody>
</table>
<p>Template Parameters</p>
<p>The request body template can refer to values from workflow inputs,
previous task outputs, or implicit parameters. The following table
explains the template parameters.</p>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="header">
<th>Prefix/Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{.global.workflow.input.&lt;ParameterName&gt;}}</td>
<td>Workflow input reference.</td>
</tr>
<tr class="even">
<td>{{.global.&lt;TaskRefName&gt;.output.<br />
Parameters.&lt;ParameterName&gt;}}</td>
<td>Previous task output reference. <strong>TaskRefName</strong> is the name of the previous task having output <strong>ParameterName</strong>.</td>
</tr>
<tr class="odd">
<td>{{.security.AccountMoid}}</td>
<td>Implicit parameter reference to Account MoID under which the workflow is running.</td>
</tr>
<tr class="even">
<td>{{.security.OrganizationMoid}}</td>
<td>Implicit parameter reference to Organization MoID under which the workflow is running.</td>
</tr>
</tbody>
</table>
<p>Template Functions</p>
<p>The template engine has in-built functions to transform values before
they are populated in the request templates. The following table
explains the functions supported in <strong>Invoke Ansible Playbook</strong> task.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TrimSpace</td>
<td><p>Returns a string after removing whitespaces from a the string.</p>
<p>Example:</p>
<p>{{TrimSpace .global.workflow.input.HostName}}</p></td>
</tr>
<tr class="even">
<td>ContainsString</td>
<td><p>Returns a boolean if a substring is present in a given string.</p>
<p>Example:</p>
<p>{{if (ContainsString .global.workflow.input.SizeAsString \”MB\”)}}Mega Bytes{{else}}Bytes{{end}}</p></td>
</tr>
<tr class="odd">
<td>FindAllString</td>
<td><p>Returns a slice of substrings matching the regular expression in a given string.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \”([0-9]+)\”)}}</p>
<p>The above example returns array [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="even">
<td>ToJson</td>
<td><p>Converts a value to a JSON format.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \"([0-9]+)\") | ToJson}}</p>
<p>The above example returns JSON array literal [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="odd">
<td>AsArray</td>
<td><p>Takes in an element and returns an array of one element.</p>
<p>Example:</p>
<p>{{AsArray .global.workflow.output.serverMo}}</p>
<p>The above example returns an array of one server Mo.</p></td>
</tr>
<tr class="even">
<td>Substring</td>
<td><p>Returns a substring within the given index bounds.</p>
<p>Example:</p>
<p>{{Substring .global.workflow.input.StorageId 2 6}}</p>
<p>The above example returns “ABCD” for string “12ABCD3456.”</p></td>
</tr>
<tr class="odd">
<td>IpToCidr</td>
<td><p>Returns the classless inter-domain routing (CIDR) notation of an IPv4 address and subnet mask.</p>
<p>Example:</p>
<p>{{IpToCidr .global.workflow.input.Ip .global.workflow.input.Netmask}}</p>
<p>The above example returns “10.10.10.10/24” for the input parameters “10.10.10.10” and “255.255.255.0.”</p></td>
</tr>
<tr class="even">
<td>LookupInSlice</td>
<td><p>Checks if a given value is present in given slice or array and returns true if it exists. This function can be used for any value.</p>
<p>Example:</p>
<p>{{LookupInSlice .global.workflow.input.IpAddressList \”10.10.10.10\”}}</p>
<p>The above example returns true for input [”10.10.10.10”, “20.20.20.20”].</p></td>
</tr>
<tr class="odd">
<td>Index</td>
<td><p>Returns a value from an array when an input index exists.</p>
<p>Example:</p>
<p>{{ index .global.workflow.input.nodes .global.workflow.input.idx }} </p>
<p>In the above example, if nodes is an array of devices and idx is 2, the index function returns the second device in the array.</p></td>
</tr>
<tr class="even">
<td>Itob</td>
<td><p>Converts an integer to a boolean.</p>
<p>Example:</p>
<p>{{ Itob global.workflow.input.OnOffFlip }} </p>
<p>The above example returns true and false for inputs 1 and 0 respectively.</p></td>
</tr>
<tr class="odd">
<td>Itoa</td>
<td><p>Converts a given number to a string value.</p>
<p>Example:</p>
<p>{{ Itoa global.workflow.input.Port }} </p>
<p>The above example returns “12345” for input 12345.</p></td>
</tr>
<tr class="even">
<td>Itof</td>
<td><p>Converts a given integer to a float value.</p>
<p>Example:</p>
<p>{{ Itof global.workflow.input.Rate }}</p>
<p>The above example returns 15.0 for an input 15.</p></td>
</tr>
<tr class="odd">
<td>Btoa</td>
<td><p>Converts a given boolean to a string value.</p>
<p>Example:</p>
<p>{{ Btoa global.workflow.input.OnOffFlip }}</p>
<p>The above example returns “true” for input true.</p></td>
</tr>
<tr class="even">
<td>Btoi</td>
<td><p>Converts a given boolean to a integer value.</p>
<p>Example:</p>
<p>{{ Btoi global.workflow.input.OnOffFlip }}</p>
<p>The above example returns 1 and 0 for inputs true and false respectively.</p></td>
</tr>
<tr class="odd">
<td>Atob</td>
<td><p>Converts the given string into a Boolean value.</p>
<p>Example:</p>
<p>{{ Atob global.workflow.input.OnOffFlip }}Returns true for input “true”</p></td>
</tr>
<tr class="even">
<td>Atoi</td>
<td><p>Converts a given number in string format to the integer type.</p>
<p>Example:</p>
<p>{{Atoi .global.task.input.SizeString}} returns integer 2048 for input string “2048”</p></td>
</tr>
<tr class="odd">
<td>Ftoa</td>
<td><p>Converts a given number into the string form based on the given precision.</p>
<p>Example:</p>
<p>{{Ftoa .global.task.input.Size 2}} returns the following output: 123.456 =&gt; “123.45”, 1028 =&gt; “1028.00”</p></td>
</tr>
<tr class="even">
<td>Ftoi</td>
<td><p>Converts a given float input to a integer value.</p>
<p>Example:</p>
<p>{{ Ftoi global.workflow.input.Rate }}</p>
<p>The above example returns 15 for an input 15.833.</p></td>
</tr>
<tr class="odd">
<td>Eval</td>
<td><p>Supports an expression evaluation function. The below example returns 2GB for a input value of 2048. Note that the second argument is passed as ‘.’ in the template, which represents the map of all parameters.</p>
<p>{{Eval \"{{.global.workflow.input.Size}} / 1024\" .}}GB</p></td>
</tr>
</tbody>
</table>
<p>Template Engine Syntax</p>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}</p>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}</p>
<p>Ansible Playbook Task Example</p>
<p><strong>Example: Create a workflow to run Ansible Playbook task to install
Nginx on the hosts</strong></p>
<p>The following example workflow has two tasks—Ansible Playbook and SSH
Command tasks. The first task runs the Ansible Playbook on a controller
and installs Nginx on host nodes. In this task, the Playbook Path, Host
Inventory, Sudo Password, and other inputs are provided by the workflow
input fields. The second task, SSH Command, connects to the Ansible
endpoint target over SSH and verifies the Ansible logs.</p>
<p>The workflow input fields required for this example are as follows:</p>
<table>
<colgroup>
<col style="width: 23%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="header">
<th>Workflow Input</th>
<th>Input Fields</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Install Package</td>
<td><ul>
<li><p>Reference Name—InstallPackage</p></li>
<li><p>Type—String</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Host Inventory</td>
<td><ul>
<li><p>Reference Name—HostInventory</p></li>
<li><p>Type—String</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>SudoPassword</td>
<td><ul>
<li><p>Reference Name—SudoPassword</p></li>
<li><p>Type—String</p></li>
<li><p>Secure option is selected. The values of these properties are encrypted and stored in Intersight.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Command Line Arguments</td>
<td><ul>
<li><p>Reference Name—CommandLineArguments</p></li>
<li><p>Type—String</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the Ansible Playbook task properties:</p>
<table>
<colgroup>
<col style="width: 31%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Ansible Controller</td>
<td>The target on which the Ansible Playbook task is executed.</td>
</tr>
<tr class="even">
<td>Playbook Path</td>
<td>Static Value—${workflow.input.InstallPackage}</td>
</tr>
<tr class="odd">
<td>Host Inventory</td>
<td>Static Value—${workflow.input.HostInventory}</td>
</tr>
<tr class="even">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="odd">
<td>Command Line Argument</td>
<td>Static Value—${workflow.input.CommandLineArguments}</td>
</tr>
</tbody>
</table>
<p>The following table displays the SSH command task properties:</p>
<table>
<colgroup>
<col style="width: 7%" />
<col style="width: 92%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td>The Ansible Controller VM that is used in the previous task.</td>
</tr>
<tr class="even">
<td>SSH Command</td>
<td><p>Command—cat {{.global.InvokeAnsiblePlaybook1.output.ExecutionLogPath}}</p>
<p>In the above example, <em>InvokeAnsiblePlaybook1</em> is the task reference name of the previous task. To determine the task reference name, navigate to the Code view. For example:</p>
<p>"Tasks": <br />
    ...<br />
   "Description": "Executes Ansible Playbook against the given endpoint. This task can be executed on targets added as Ansible Endpoint in Intersight.\n",<br />
      "Label": "Invoke Ansible Playbook - Install Package",<br />
      "Name": "InvokeAnsiblePlaybook1",<br />
...</p></td>
</tr>
<tr class="odd">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="even">
<td>Expected Exit Codes</td>
<td>Default value.</td>
</tr>
<tr class="odd">
<td>Show Command Output</td>
<td>Select Show Command Option check box.</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><ul>
<li><p>Node 1</p>
<ul>
<li><p>Regular Expression— 10.106.*?\"changed\":.*?\"stderr\":\s\"$&lt;VersionOnNode1&gt;\",</p></li>
<li><p>Name—VersionOnNode1</p></li>
</ul>
<ul>
<li><blockquote>
<p>Type String</p>
</blockquote></li>
</ul></li>
<li><p>Node 2</p>
<ul>
<li><p>Regular Expression—10.106.*?\"changed\":.*?\"stderr\":\s\"$&lt;VersionOnNode2&gt;\",</p></li>
<li><p>Name—VersionOnNode2</p></li>
</ul>
<ul>
<li><blockquote>
<p>Type—String</p>
</blockquote></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>After you execute the workflow, you would see the following output:</p>
<p>.<br>
├── ConfigResults: [ 1 ]<br>
├── Object: { 3 }<br>
│   └── ConfigResCtx: { 1 }<br>
│       ├── EntityData: { 1 }<br>
│       │   └── task: workflow.SshTask<br>
│       ├── State: Ok<br>
│       └── Type: Config<br>
├── Command Output:<br>
│   ├── 2021-10-30 04:22:59,999 p=512757 u=qali n=ansible | Using /etc/ansible/ansible.cfg as config file<br>
│   ├── 2021-10-30 04:23:00,224 p=512757 u=qali n=ansible | PLAY [Install nginx] ***********************************************************<br>
│   ├── 2021-10-30 04:23:00,237 p=512757 u=qali n=ansible | TASK [Gathering Facts] *********************************************************<br>
│   ├── 2021-10-30 04:23:01,801 p=512757 u=qali n=ansible | ok: [guest@10.10.10.1]<br>
│   ├── 2021-10-30 04:23:02,033 p=512757 u=qali n=ansible | ok: [root@10.10.10.2]<br>
│   ├── 2021-10-30 04:23:02,042 p=512757 u=qali n=ansible | TASK [Add epel-release repo] ***************************************************<br>
│   ├── 2021-10-30 04:23:03,060 p=512757 u=qali n=ansible | ok: [guest@10.10.10.1] =&gt; {&ldquo;changed&rdquo;: false, &ldquo;msg&rdquo;: &ldquo;&quot;, &ldquo;rc&rdquo;: 0, &ldquo;results&rdquo;: [&ldquo;epel-release-7-12.noarch providing epel-release is already installed&rdquo;]}<br>
│   ├── 2021-10-30 04:23:27,036 p=512757 u=qali n=ansible | ok: [root@10.10.10.2] =&gt; {&ldquo;changed&rdquo;: false, &ldquo;msg&rdquo;: &ldquo;Nothing to do&rdquo;, &ldquo;rc&rdquo;: 0, &ldquo;results&rdquo;: []}<br>
│   ├── 2021-10-30 04:23:27,042 p=512757 u=qali n=ansible | TASK [Install nginx] ***********************************************************<br>
│   ├── 2021-10-30 04:23:27,887 p=512757 u=qali n=ansible | ok: [guest@10.10.10.1] =&gt; {&ldquo;changed&rdquo;: false, &ldquo;msg&rdquo;: &ldquo;&quot;, &ldquo;rc&rdquo;: 0, &ldquo;results&rdquo;: [&ldquo;1:nginx-1.20.1-9.el7.x86_64 providing nginx is already installed&rdquo;]}<br>
│   ├── 2021-10-30 04:23:29,534 p=512757 u=qali n=ansible | ok: [root@10.10.10.2] =&gt; {&ldquo;changed&rdquo;: false, &ldquo;msg&rdquo;: &ldquo;Nothing to do&rdquo;, &ldquo;rc&rdquo;: 0, &ldquo;results&rdquo;: []}<br>
│   ├── 2021-10-30 04:23:29,541 p=512757 u=qali n=ansible | TASK [Nginx Version] ***********************************************************<br>
│   ├── 2021-10-30 04:23:30,086 p=512757 u=qali n=ansible | changed: [guest@10.10.10.1] =&gt; {&ldquo;changed&rdquo;: true, &ldquo;cmd&rdquo;: [&ldquo;nginx&rdquo;, &ldquo;-v&rdquo;], &ldquo;delta&rdquo;: &ldquo;0:00:00.006230&rdquo;, &ldquo;end&rdquo;: &ldquo;2021-10-29 05:52:52.465579&rdquo;, &ldquo;rc&rdquo;: 0, &ldquo;start&rdquo;: &ldquo;2021-10-29 05:52:52.459349&rdquo;, &ldquo;stderr&rdquo;: &ldquo;nginx version: nginx/1.20.1&rdquo;, &ldquo;stderr_lines&rdquo;: [&ldquo;nginx version: nginx/1.20.1&rdquo;], &ldquo;stdout&rdquo;: &ldquo;&quot;, &ldquo;stdout_lines&rdquo;: []}<br>
│   ├── 2021-10-30 04:23:30,236 p=512757 u=qali n=ansible | changed: [root@10.10.10.2] =&gt; {&ldquo;changed&rdquo;: true, &ldquo;cmd&rdquo;: [&ldquo;nginx&rdquo;, &ldquo;-v&rdquo;], &ldquo;delta&rdquo;: &ldquo;0:00:00.005168&rdquo;, &ldquo;end&rdquo;: &ldquo;2021-10-29 06:04:28.863644&rdquo;, &ldquo;rc&rdquo;: 0, &ldquo;start&rdquo;: &ldquo;2021-10-29 06:04:28.858476&rdquo;, &ldquo;stderr&rdquo;: &ldquo;nginx version: nginx/1.14.1&rdquo;, &ldquo;stderr_lines&rdquo;: [&ldquo;nginx version: nginx/1.14.1&rdquo;], &ldquo;stdout&rdquo;: &ldquo;&quot;, &ldquo;stdout_lines&rdquo;: []}<br>
│   ├── 2021-10-30 04:23:30,248 p=512757 u=qali n=ansible | TASK [Start NGiNX] *************************************************************<br>
│   ├── 2021-10-30 04:23:31,043 p=512757 u=qali n=ansible | ok: [guest@10.10.10.1] =&gt; {&ldquo;changed&rdquo;: false, &ldquo;name&rdquo;: &ldquo;nginx&rdquo;, &ldquo;state&rdquo;: &ldquo;started&rdquo;, &ldquo;status&rdquo;: {&ldquo;ActiveEnterTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:20:15 EDT&rdquo;, &ldquo;ActiveEnterTimestampMonotonic&rdquo;: &ldquo;24390544004045&rdquo;, &ldquo;ActiveExitTimestampMonotonic&rdquo;: &ldquo;0&rdquo;, &ldquo;ActiveState&rdquo;: &ldquo;active&rdquo;, &ldquo;After&rdquo;: &ldquo;remote-fs.target nss-lookup.target systemd-journald.socket basic.target system.slice -.mount tmp.mount network-online.target&rdquo;, &ldquo;AllowIsolate&rdquo;: &ldquo;no&rdquo;, &ldquo;AmbientCapabilities&rdquo;: &ldquo;0&rdquo;, &ldquo;AssertResult&rdquo;: &ldquo;yes&rdquo;, &ldquo;AssertTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:20:15 EDT&rdquo;, &ldquo;AssertTimestampMonotonic&rdquo;: &ldquo;24390543923354&rdquo;, &ldquo;Before&rdquo;: &ldquo;shutdown.target&rdquo;, &ldquo;BlockIOAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;BlockIOWeight&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;CPUAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;CPUQuotaPerSecUSec&rdquo;: &ldquo;infinity&rdquo;, &ldquo;CPUSchedulingPolicy&rdquo;: &ldquo;0&rdquo;, &ldquo;CPUSchedulingPriority&rdquo;: &ldquo;0&rdquo;, &ldquo;CPUSchedulingResetOnFork&rdquo;: &ldquo;no&rdquo;, &ldquo;CPUShares&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;CanIsolate&rdquo;: &ldquo;no&rdquo;, &ldquo;CanReload&rdquo;: &ldquo;yes&rdquo;, &ldquo;CanStart&rdquo;: &ldquo;yes&rdquo;, &ldquo;CanStop&rdquo;: &ldquo;yes&rdquo;, &ldquo;CapabilityBoundingSet&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;ConditionResult&rdquo;: &ldquo;yes&rdquo;, &ldquo;ConditionTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:20:15 EDT&rdquo;, &ldquo;ConditionTimestampMonotonic&rdquo;: &ldquo;24390543923353&rdquo;, &ldquo;Conflicts&rdquo;: &ldquo;shutdown.target&rdquo;, &ldquo;ControlGroup&rdquo;: &ldquo;/system.slice/nginx.service&rdquo;, &ldquo;ControlPID&rdquo;: &ldquo;0&rdquo;, &ldquo;DefaultDependencies&rdquo;: &ldquo;yes&rdquo;, &ldquo;Delegate&rdquo;: &ldquo;no&rdquo;, &ldquo;Description&rdquo;: &ldquo;The nginx HTTP and reverse proxy server&rdquo;, &ldquo;DevicePolicy&rdquo;: &ldquo;auto&rdquo;, &ldquo;ExecMainCode&rdquo;: &ldquo;0&rdquo;, &ldquo;ExecMainExitTimestampMonotonic&rdquo;: &ldquo;0&rdquo;, &ldquo;ExecMainPID&rdquo;: &ldquo;10910&rdquo;, &ldquo;ExecMainStartTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:20:15 EDT&rdquo;, &ldquo;ExecMainStartTimestampMonotonic&rdquo;: &ldquo;24390544003959&rdquo;, &ldquo;ExecMainStatus&rdquo;: &ldquo;0&rdquo;, &ldquo;ExecReload&rdquo;: &ldquo;{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -s reload ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }&quot;, &ldquo;ExecStart&rdquo;: &ldquo;{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx ; ignore_errors=no ; start_time=[Wed 2021-10-27 09:20:15 EDT] ; stop_time=[Wed 2021-10-27 09:20:15 EDT] ; pid=10909 ; code=exited ; status=0 }&quot;, &ldquo;ExecStartPre&rdquo;: &ldquo;{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t ; ignore_errors=no ; start_time=[Wed 2021-10-27 09:20:15 EDT] ; stop_time=[Wed 2021-10-27 09:20:15 EDT] ; pid=10905 ; code=exited ; status=0 }&quot;, &ldquo;FailureAction&rdquo;: &ldquo;none&rdquo;, &ldquo;FileDescriptorStoreMax&rdquo;: &ldquo;0&rdquo;, &ldquo;FragmentPath&rdquo;: &ldquo;/usr/lib/systemd/system/nginx.service&rdquo;, &ldquo;GuessMainPID&rdquo;: &ldquo;yes&rdquo;, &ldquo;IOScheduling&rdquo;: &ldquo;0&rdquo;, &ldquo;Id&rdquo;: &ldquo;nginx.service&rdquo;, &ldquo;IgnoreOnIsolate&rdquo;: &ldquo;no&rdquo;, &ldquo;IgnoreOnSnapshot&rdquo;: &ldquo;no&rdquo;, &ldquo;IgnoreSIGPIPE&rdquo;: &ldquo;yes&rdquo;, &ldquo;InactiveEnterTimestampMonotonic&rdquo;: &ldquo;0&rdquo;, &ldquo;InactiveExitTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:20:15 EDT&rdquo;, &ldquo;InactiveExitTimestampMonotonic&rdquo;: &ldquo;24390543931397&rdquo;, &ldquo;JobTimeoutAction&rdquo;: &ldquo;none&rdquo;, &ldquo;JobTimeoutUSec&rdquo;: &ldquo;0&rdquo;, &ldquo;KillMode&rdquo;: &ldquo;process&rdquo;, &ldquo;KillSignal&rdquo;: &ldquo;3&rdquo;, &ldquo;LimitAS&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitCORE&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitCPU&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitDATA&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitFSIZE&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitLOCKS&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitMEMLOCK&rdquo;: &ldquo;65536&rdquo;, &ldquo;LimitMSGQUEUE&rdquo;: &ldquo;819200&rdquo;, &ldquo;LimitNICE&rdquo;: &ldquo;0&rdquo;, &ldquo;LimitNOFILE&rdquo;: &ldquo;4096&rdquo;, &ldquo;LimitNPROC&rdquo;: &ldquo;15066&rdquo;, &ldquo;LimitRSS&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitRTPRIO&rdquo;: &ldquo;0&rdquo;, &ldquo;LimitRTTIME&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitSIGPENDING&rdquo;: &ldquo;15066&rdquo;, &ldquo;LimitSTACK&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LoadState&rdquo;: &ldquo;loaded&rdquo;, &ldquo;MainPID&rdquo;: &ldquo;10910&rdquo;, &ldquo;MemoryAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;MemoryCurrent&rdquo;: &ldquo;2322432&rdquo;, &ldquo;MemoryLimit&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;MountFlags&rdquo;: &ldquo;0&rdquo;, &ldquo;Names&rdquo;: &ldquo;nginx.service&rdquo;, &ldquo;NeedDaemonReload&rdquo;: &ldquo;no&rdquo;, &ldquo;Nice&rdquo;: &ldquo;0&rdquo;, &ldquo;NoNewPrivileges&rdquo;: &ldquo;no&rdquo;, &ldquo;NonBlocking&rdquo;: &ldquo;no&rdquo;, &ldquo;NotifyAccess&rdquo;: &ldquo;none&rdquo;, &ldquo;OOMScoreAdjust&rdquo;: &ldquo;0&rdquo;, &ldquo;OnFailureJobMode&rdquo;: &ldquo;replace&rdquo;, &ldquo;PIDFile&rdquo;: &ldquo;/run/nginx.pid&rdquo;, &ldquo;PermissionsStartOnly&rdquo;: &ldquo;no&rdquo;, &ldquo;PrivateDevices&rdquo;: &ldquo;no&rdquo;, &ldquo;PrivateNetwork&rdquo;: &ldquo;no&rdquo;, &ldquo;PrivateTmp&rdquo;: &ldquo;yes&rdquo;, &ldquo;ProtectHome&rdquo;: &ldquo;no&rdquo;, &ldquo;ProtectSystem&rdquo;: &ldquo;no&rdquo;, &ldquo;RefuseManualStart&rdquo;: &ldquo;no&rdquo;, &ldquo;RefuseManualStop&rdquo;: &ldquo;no&rdquo;, &ldquo;RemainAfterExit&rdquo;: &ldquo;no&rdquo;, &ldquo;Requires&rdquo;: &ldquo;-.mount system.slice basic.target&rdquo;, &ldquo;RequiresMountsFor&rdquo;: &ldquo;/var/tmp&rdquo;, &ldquo;Restart&rdquo;: &ldquo;no&rdquo;, &ldquo;RestartUSec&rdquo;: &ldquo;100ms&rdquo;, &ldquo;Result&rdquo;: &ldquo;success&rdquo;, &ldquo;RootDirectoryStartOnly&rdquo;: &ldquo;no&rdquo;, &ldquo;RuntimeDirectoryMode&rdquo;: &ldquo;0755&rdquo;, &ldquo;SameProcessGroup&rdquo;: &ldquo;no&rdquo;, &ldquo;SecureBits&rdquo;: &ldquo;0&rdquo;, &ldquo;SendSIGHUP&rdquo;: &ldquo;no&rdquo;, &ldquo;SendSIGKILL&rdquo;: &ldquo;yes&rdquo;, &ldquo;Slice&rdquo;: &ldquo;system.slice&rdquo;, &ldquo;StandardError&rdquo;: &ldquo;inherit&rdquo;, &ldquo;StandardInput&rdquo;: &ldquo;null&rdquo;, &ldquo;StandardOutput&rdquo;: &ldquo;journal&rdquo;, &ldquo;StartLimitAction&rdquo;: &ldquo;none&rdquo;, &ldquo;StartLimitBurst&rdquo;: &ldquo;5&rdquo;, &ldquo;StartLimitInterval&rdquo;: &ldquo;10000000&rdquo;, &ldquo;StartupBlockIOWeight&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;StartupCPUShares&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;StatusErrno&rdquo;: &ldquo;0&rdquo;, &ldquo;StopWhenUnneeded&rdquo;: &ldquo;no&rdquo;, &ldquo;SubState&rdquo;: &ldquo;running&rdquo;, &ldquo;SyslogLevelPrefix&rdquo;: &ldquo;yes&rdquo;, &ldquo;SyslogPriority&rdquo;: &ldquo;30&rdquo;, &ldquo;SystemCallErrorNumber&rdquo;: &ldquo;0&rdquo;, &ldquo;TTYReset&rdquo;: &ldquo;no&rdquo;, &ldquo;TTYVHangup&rdquo;: &ldquo;no&rdquo;, &ldquo;TTYVTDisallocate&rdquo;: &ldquo;no&rdquo;, &ldquo;TasksAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;TasksCurrent&rdquo;: &ldquo;3&rdquo;, &ldquo;TasksMax&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;TimeoutStartUSec&rdquo;: &ldquo;1min 30s&rdquo;, &ldquo;TimeoutStopUSec&rdquo;: &ldquo;5s&rdquo;, &ldquo;TimerSlackNSec&rdquo;: &ldquo;50000&rdquo;, &ldquo;Transient&rdquo;: &ldquo;no&rdquo;, &ldquo;Type&rdquo;: &ldquo;forking&rdquo;, &ldquo;UMask&rdquo;: &ldquo;0022&rdquo;, &ldquo;UnitFilePreset&rdquo;: &ldquo;disabled&rdquo;, &ldquo;UnitFileState&rdquo;: &ldquo;disabled&rdquo;, &ldquo;Wants&rdquo;: &ldquo;network-online.target&rdquo;, &ldquo;WatchdogTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:20:15 EDT&rdquo;, &ldquo;WatchdogTimestampMonotonic&rdquo;: &ldquo;24390544003990&rdquo;, &ldquo;WatchdogUSec&rdquo;: &ldquo;0&rdquo;}}<br>
│   ├── 2021-10-30 04:23:31,244 p=512757 u=qali n=ansible | ok: [root@10.10.10.2] =&gt; {&ldquo;changed&rdquo;: false, &ldquo;name&rdquo;: &ldquo;nginx&rdquo;, &ldquo;state&rdquo;: &ldquo;started&rdquo;, &ldquo;status&rdquo;: {&ldquo;ActiveEnterTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:31:49 EDT&rdquo;, &ldquo;ActiveEnterTimestampMonotonic&rdquo;: &ldquo;3803190467261&rdquo;, &ldquo;ActiveExitTimestampMonotonic&rdquo;: &ldquo;0&rdquo;, &ldquo;ActiveState&rdquo;: &ldquo;active&rdquo;, &ldquo;After&rdquo;: &ldquo;-.mount tmp.mount system.slice systemd-journald.socket network.target nss-lookup.target remote-fs.target basic.target sysinit.target systemd-tmpfiles-setup.service&rdquo;, &ldquo;AllowIsolate&rdquo;: &ldquo;no&rdquo;, &ldquo;AllowedCPUs&rdquo;: &ldquo;&quot;, &ldquo;AllowedMemoryNodes&rdquo;: &ldquo;&quot;, &ldquo;AmbientCapabilities&rdquo;: &ldquo;&quot;, &ldquo;AssertResult&rdquo;: &ldquo;yes&rdquo;, &ldquo;AssertTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:31:49 EDT&rdquo;, &ldquo;AssertTimestampMonotonic&rdquo;: &ldquo;3803190328406&rdquo;, &ldquo;Before&rdquo;: &ldquo;shutdown.target&rdquo;, &ldquo;BlockIOAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;BlockIOWeight&rdquo;: &ldquo;[not set]&quot;, &ldquo;CPUAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;CPUAffinity&rdquo;: &ldquo;&quot;, &ldquo;CPUAffinityFromNUMA&rdquo;: &ldquo;no&rdquo;, &ldquo;CPUQuotaPerSecUSec&rdquo;: &ldquo;infinity&rdquo;, &ldquo;CPUQuotaPeriodUSec&rdquo;: &ldquo;infinity&rdquo;, &ldquo;CPUSchedulingPolicy&rdquo;: &ldquo;0&rdquo;, &ldquo;CPUSchedulingPriority&rdquo;: &ldquo;0&rdquo;, &ldquo;CPUSchedulingResetOnFork&rdquo;: &ldquo;no&rdquo;, &ldquo;CPUShares&rdquo;: &ldquo;[not set]&quot;, &ldquo;CPUUsageNSec&rdquo;: &ldquo;[not set]&quot;, &ldquo;CPUWeight&rdquo;: &ldquo;[not set]&quot;, &ldquo;CacheDirectoryMode&rdquo;: &ldquo;0755&rdquo;, &ldquo;CanFreeze&rdquo;: &ldquo;yes&rdquo;, &ldquo;CanIsolate&rdquo;: &ldquo;no&rdquo;, &ldquo;CanReload&rdquo;: &ldquo;yes&rdquo;, &ldquo;CanStart&rdquo;: &ldquo;yes&rdquo;, &ldquo;CanStop&rdquo;: &ldquo;yes&rdquo;, &ldquo;CapabilityBoundingSet&rdquo;: &ldquo;cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend&rdquo;, &ldquo;CollectMode&rdquo;: &ldquo;inactive&rdquo;, &ldquo;ConditionResult&rdquo;: &ldquo;yes&rdquo;, &ldquo;ConditionTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:31:49 EDT&rdquo;, &ldquo;ConditionTimestampMonotonic&rdquo;: &ldquo;3803190328406&rdquo;, &ldquo;ConfigurationDirectoryMode&rdquo;: &ldquo;0755&rdquo;, &ldquo;Conflicts&rdquo;: &ldquo;shutdown.target&rdquo;, &ldquo;ControlGroup&rdquo;: &ldquo;/system.slice/nginx.service&rdquo;, &ldquo;ControlPID&rdquo;: &ldquo;0&rdquo;, &ldquo;DefaultDependencies&rdquo;: &ldquo;yes&rdquo;, &ldquo;DefaultMemoryLow&rdquo;: &ldquo;0&rdquo;, &ldquo;DefaultMemoryMin&rdquo;: &ldquo;0&rdquo;, &ldquo;Delegate&rdquo;: &ldquo;no&rdquo;, &ldquo;Description&rdquo;: &ldquo;The nginx HTTP and reverse proxy server&rdquo;, &ldquo;DevicePolicy&rdquo;: &ldquo;auto&rdquo;, &ldquo;DynamicUser&rdquo;: &ldquo;no&rdquo;, &ldquo;EffectiveCPUs&rdquo;: &ldquo;&quot;, &ldquo;EffectiveMemoryNodes&rdquo;: &ldquo;&quot;, &ldquo;ExecMainCode&rdquo;: &ldquo;0&rdquo;, &ldquo;ExecMainExitTimestampMonotonic&rdquo;: &ldquo;0&rdquo;, &ldquo;ExecMainPID&rdquo;: &ldquo;2348498&rdquo;, &ldquo;ExecMainStartTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:31:49 EDT&rdquo;, &ldquo;ExecMainStartTimestampMonotonic&rdquo;: &ldquo;3803190463259&rdquo;, &ldquo;ExecMainStatus&rdquo;: &ldquo;0&rdquo;, &ldquo;ExecReload&rdquo;: &ldquo;{ path=/bin/kill ; argv[]=/bin/kill -s HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }&quot;, &ldquo;ExecStart&rdquo;: &ldquo;{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx ; ignore_errors=no ; start_time=[Wed 2021-10-27 09:31:49 EDT] ; stop_time=[Wed 2021-10-27 09:31:49 EDT] ; pid=2348496 ; code=exited ; status=0 }&quot;, &ldquo;ExecStartPre&rdquo;: &ldquo;{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t ; ignore_errors=no ; start_time=[Wed 2021-10-27 09:31:49 EDT] ; stop_time=[Wed 2021-10-27 09:31:49 EDT] ; pid=2348495 ; code=exited ; status=0 }&quot;, &ldquo;FailureAction&rdquo;: &ldquo;none&rdquo;, &ldquo;FileDescriptorStoreMax&rdquo;: &ldquo;0&rdquo;, &ldquo;FragmentPath&rdquo;: &ldquo;/usr/lib/systemd/system/nginx.service&rdquo;, &ldquo;FreezerState&rdquo;: &ldquo;running&rdquo;, &ldquo;GID&rdquo;: &ldquo;[not set]&quot;, &ldquo;GuessMainPID&rdquo;: &ldquo;yes&rdquo;, &ldquo;IOAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;IOSchedulingClass&rdquo;: &ldquo;0&rdquo;, &ldquo;IOSchedulingPriority&rdquo;: &ldquo;0&rdquo;, &ldquo;IOWeight&rdquo;: &ldquo;[not set]&quot;, &ldquo;IPAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;IPEgressBytes&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;IPEgressPackets&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;IPIngressBytes&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;IPIngressPackets&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;Id&rdquo;: &ldquo;nginx.service&rdquo;, &ldquo;IgnoreOnIsolate&rdquo;: &ldquo;no&rdquo;, &ldquo;IgnoreSIGPIPE&rdquo;: &ldquo;yes&rdquo;, &ldquo;InactiveEnterTimestampMonotonic&rdquo;: &ldquo;0&rdquo;, &ldquo;InactiveExitTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:31:49 EDT&rdquo;, &ldquo;InactiveExitTimestampMonotonic&rdquo;: &ldquo;3803190345159&rdquo;, &ldquo;InvocationID&rdquo;: &ldquo;3ea4654765104d85977c279dbe1f7588&rdquo;, &ldquo;JobRunningTimeoutUSec&rdquo;: &ldquo;infinity&rdquo;, &ldquo;JobTimeoutAction&rdquo;: &ldquo;none&rdquo;, &ldquo;JobTimeoutUSec&rdquo;: &ldquo;infinity&rdquo;, &ldquo;KeyringMode&rdquo;: &ldquo;private&rdquo;, &ldquo;KillMode&rdquo;: &ldquo;mixed&rdquo;, &ldquo;KillSignal&rdquo;: &ldquo;3&rdquo;, &ldquo;LimitAS&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitASSoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitCORE&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitCORESoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitCPU&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitCPUSoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitDATA&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitDATASoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitFSIZE&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitFSIZESoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitLOCKS&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitLOCKSSoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitMEMLOCK&rdquo;: &ldquo;65536&rdquo;, &ldquo;LimitMEMLOCKSoft&rdquo;: &ldquo;65536&rdquo;, &ldquo;LimitMSGQUEUE&rdquo;: &ldquo;819200&rdquo;, &ldquo;LimitMSGQUEUESoft&rdquo;: &ldquo;819200&rdquo;, &ldquo;LimitNICE&rdquo;: &ldquo;0&rdquo;, &ldquo;LimitNICESoft&rdquo;: &ldquo;0&rdquo;, &ldquo;LimitNOFILE&rdquo;: &ldquo;262144&rdquo;, &ldquo;LimitNOFILESoft&rdquo;: &ldquo;1024&rdquo;, &ldquo;LimitNPROC&rdquo;: &ldquo;6751&rdquo;, &ldquo;LimitNPROCSoft&rdquo;: &ldquo;6751&rdquo;, &ldquo;LimitRSS&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitRSSSoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitRTPRIO&rdquo;: &ldquo;0&rdquo;, &ldquo;LimitRTPRIOSoft&rdquo;: &ldquo;0&rdquo;, &ldquo;LimitRTTIME&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitRTTIMESoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitSIGPENDING&rdquo;: &ldquo;6751&rdquo;, &ldquo;LimitSIGPENDINGSoft&rdquo;: &ldquo;6751&rdquo;, &ldquo;LimitSTACK&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitSTACKSoft&rdquo;: &ldquo;8388608&rdquo;, &ldquo;LoadState&rdquo;: &ldquo;loaded&rdquo;, &ldquo;LockPersonality&rdquo;: &ldquo;no&rdquo;, &ldquo;LogLevelMax&rdquo;: &ldquo;-1&rdquo;, &ldquo;LogRateLimitBurst&rdquo;: &ldquo;0&rdquo;, &ldquo;LogRateLimitIntervalUSec&rdquo;: &ldquo;0&rdquo;, &ldquo;LogsDirectoryMode&rdquo;: &ldquo;0755&rdquo;, &ldquo;MainPID&rdquo;: &ldquo;2348498&rdquo;, &ldquo;MemoryAccounting&rdquo;: &ldquo;yes&rdquo;, &ldquo;MemoryCurrent&rdquo;: &ldquo;6414336&rdquo;, &ldquo;MemoryDenyWriteExecute&rdquo;: &ldquo;no&rdquo;, &ldquo;MemoryHigh&rdquo;: &ldquo;infinity&rdquo;, &ldquo;MemoryLimit&rdquo;: &ldquo;infinity&rdquo;, &ldquo;MemoryLow&rdquo;: &ldquo;0&rdquo;, &ldquo;MemoryMax&rdquo;: &ldquo;infinity&rdquo;, &ldquo;MemoryMin&rdquo;: &ldquo;0&rdquo;, &ldquo;MemorySwapMax&rdquo;: &ldquo;infinity&rdquo;, &ldquo;MountAPIVFS&rdquo;: &ldquo;no&rdquo;, &ldquo;MountFlags&rdquo;: &ldquo;&quot;, &ldquo;NFileDescriptorStore&rdquo;: &ldquo;0&rdquo;, &ldquo;NRestarts&rdquo;: &ldquo;0&rdquo;, &ldquo;NUMAMask&rdquo;: &ldquo;&quot;, &ldquo;NUMAPolicy&rdquo;: &ldquo;n/a&rdquo;, &ldquo;Names&rdquo;: &ldquo;nginx.service&rdquo;, &ldquo;NeedDaemonReload&rdquo;: &ldquo;no&rdquo;, &ldquo;Nice&rdquo;: &ldquo;0&rdquo;, &ldquo;NoNewPrivileges&rdquo;: &ldquo;no&rdquo;, &ldquo;NonBlocking&rdquo;: &ldquo;no&rdquo;, &ldquo;NotifyAccess&rdquo;: &ldquo;none&rdquo;, &ldquo;OOMScoreAdjust&rdquo;: &ldquo;0&rdquo;, &ldquo;OnFailureJobMode&rdquo;: &ldquo;replace&rdquo;, &ldquo;PIDFile&rdquo;: &ldquo;/run/nginx.pid&rdquo;, &ldquo;PermissionsStartOnly&rdquo;: &ldquo;no&rdquo;, &ldquo;Perpetual&rdquo;: &ldquo;no&rdquo;, &ldquo;PrivateDevices&rdquo;: &ldquo;no&rdquo;, &ldquo;PrivateMounts&rdquo;: &ldquo;no&rdquo;, &ldquo;PrivateNetwork&rdquo;: &ldquo;no&rdquo;, &ldquo;PrivateTmp&rdquo;: &ldquo;yes&rdquo;, &ldquo;PrivateUsers&rdquo;: &ldquo;no&rdquo;, &ldquo;ProtectControlGroups&rdquo;: &ldquo;no&rdquo;, &ldquo;ProtectHome&rdquo;: &ldquo;no&rdquo;, &ldquo;ProtectKernelModules&rdquo;: &ldquo;no&rdquo;, &ldquo;ProtectKernelTunables&rdquo;: &ldquo;no&rdquo;, &ldquo;ProtectSystem&rdquo;: &ldquo;no&rdquo;, &ldquo;RefuseManualStart&rdquo;: &ldquo;no&rdquo;, &ldquo;RefuseManualStop&rdquo;: &ldquo;no&rdquo;, &ldquo;RemainAfterExit&rdquo;: &ldquo;no&rdquo;, &ldquo;RemoveIPC&rdquo;: &ldquo;no&rdquo;, &ldquo;Requires&rdquo;: &ldquo;system.slice sysinit.target -.mount&rdquo;, &ldquo;RequiresMountsFor&rdquo;: &ldquo;/var/tmp&rdquo;, &ldquo;Restart&rdquo;: &ldquo;no&rdquo;, &ldquo;RestartUSec&rdquo;: &ldquo;100ms&rdquo;, &ldquo;RestrictNamespaces&rdquo;: &ldquo;no&rdquo;, &ldquo;RestrictRealtime&rdquo;: &ldquo;no&rdquo;, &ldquo;RestrictSUIDSGID&rdquo;: &ldquo;no&rdquo;, &ldquo;Result&rdquo;: &ldquo;success&rdquo;, &ldquo;RootDirectoryStartOnly&rdquo;: &ldquo;no&rdquo;, &ldquo;RuntimeDirectoryMode&rdquo;: &ldquo;0755&rdquo;, &ldquo;RuntimeDirectoryPreserve&rdquo;: &ldquo;no&rdquo;, &ldquo;RuntimeMaxUSec&rdquo;: &ldquo;infinity&rdquo;, &ldquo;SameProcessGroup&rdquo;: &ldquo;no&rdquo;, &ldquo;SecureBits&rdquo;: &ldquo;0&rdquo;, &ldquo;SendSIGHUP&rdquo;: &ldquo;no&rdquo;, &ldquo;SendSIGKILL&rdquo;: &ldquo;yes&rdquo;, &ldquo;Slice&rdquo;: &ldquo;system.slice&rdquo;, &ldquo;StandardError&rdquo;: &ldquo;inherit&rdquo;, &ldquo;StandardInput&rdquo;: &ldquo;null&rdquo;, &ldquo;StandardInputData&rdquo;: &ldquo;&quot;, &ldquo;StandardOutput&rdquo;: &ldquo;journal&rdquo;, &ldquo;StartLimitAction&rdquo;: &ldquo;none&rdquo;, &ldquo;StartLimitBurst&rdquo;: &ldquo;5&rdquo;, &ldquo;StartLimitIntervalUSec&rdquo;: &ldquo;10s&rdquo;, &ldquo;StartupBlockIOWeight&rdquo;: &ldquo;[not set]&quot;, &ldquo;StartupCPUShares&rdquo;: &ldquo;[not set]&quot;, &ldquo;StartupCPUWeight&rdquo;: &ldquo;[not set]&quot;, &ldquo;StartupIOWeight&rdquo;: &ldquo;[not set]&quot;, &ldquo;StateChangeTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:31:49 EDT&rdquo;, &ldquo;StateChangeTimestampMonotonic&rdquo;: &ldquo;3803190467261&rdquo;, &ldquo;StateDirectoryMode&rdquo;: &ldquo;0755&rdquo;, &ldquo;StatusErrno&rdquo;: &ldquo;0&rdquo;, &ldquo;StopWhenUnneeded&rdquo;: &ldquo;no&rdquo;, &ldquo;SubState&rdquo;: &ldquo;running&rdquo;, &ldquo;SuccessAction&rdquo;: &ldquo;none&rdquo;, &ldquo;SyslogFacility&rdquo;: &ldquo;3&rdquo;, &ldquo;SyslogLevel&rdquo;: &ldquo;6&rdquo;, &ldquo;SyslogLevelPrefix&rdquo;: &ldquo;yes&rdquo;, &ldquo;SyslogPriority&rdquo;: &ldquo;30&rdquo;, &ldquo;SystemCallErrorNumber&rdquo;: &ldquo;0&rdquo;, &ldquo;TTYReset&rdquo;: &ldquo;no&rdquo;, &ldquo;TTYVHangup&rdquo;: &ldquo;no&rdquo;, &ldquo;TTYVTDisallocate&rdquo;: &ldquo;no&rdquo;, &ldquo;TasksAccounting&rdquo;: &ldquo;yes&rdquo;, &ldquo;TasksCurrent&rdquo;: &ldquo;2&rdquo;, &ldquo;TasksMax&rdquo;: &ldquo;10802&rdquo;, &ldquo;TimeoutStartUSec&rdquo;: &ldquo;1min 30s&rdquo;, &ldquo;TimeoutStopUSec&rdquo;: &ldquo;5s&rdquo;, &ldquo;TimerSlackNSec&rdquo;: &ldquo;50000&rdquo;, &ldquo;Transient&rdquo;: &ldquo;no&rdquo;, &ldquo;Type&rdquo;: &ldquo;forking&rdquo;, &ldquo;UID&rdquo;: &ldquo;[not set]&quot;, &ldquo;UMask&rdquo;: &ldquo;0022&rdquo;, &ldquo;UnitFilePreset&rdquo;: &ldquo;disabled&rdquo;, &ldquo;UnitFileState&rdquo;: &ldquo;disabled&rdquo;, &ldquo;UtmpMode&rdquo;: &ldquo;init&rdquo;, &ldquo;WatchdogTimestampMonotonic&rdquo;: &ldquo;0&rdquo;, &ldquo;WatchdogUSec&rdquo;: &ldquo;0&rdquo;}}<br>
│   ├── 2021-10-30 04:23:31,246 p=512757 u=qali n=ansible | PLAY RECAP *********************************************************************<br>
│   ├── 2021-10-30 04:23:31,246 p=512757 u=qali n=ansible | guest@10.10.10.1 : ok=5 changed=1 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0<br>
│   └── 2021-10-30 04:23:31,246 p=512757 u=qali n=ansible | root@10.10.10.2 : ok=5 changed=1 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0<br>
├── Exit Code: 0<br>
└── Extracted Parameters: { 2 }<br>
    ├── <strong>VersionOnNode1: nginx version: nginx/1.14.1</strong><br>
    └── <strong>VersionOnNode2: nginx version: nginx/1.20.1</strong><br>
         </p>
<p>The following is a sample code view:</p>
<p>{<br>
  &ldquo;Tags&rdquo;: [],<br>
  &ldquo;DefaultVersion&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
  &ldquo;InputDefinition&rdquo;: [<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;IsValueSet&rdquo;: true,<br>
        &ldquo;Override&rdquo;: true,<br>
        &ldquo;Value&rdquo;: &ldquo;/home/qali/vspancha/playbooks/install_nginx.yml&rdquo;<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;The path of the ansible playbook residing on the Ansible Endpoint target.\n&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;Install Package&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InstallPackage&rdquo;,<br>
      &ldquo;Required&rdquo;: true,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;EnumList&rdquo;: [],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;Secure&rdquo;: false,<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
      }<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;IsValueSet&rdquo;: true,<br>
        &ldquo;Override&rdquo;: true,<br>
        &ldquo;Value&rdquo;: &ldquo;/home/qali/vspancha/playbooks/nginx_hosts&rdquo;<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;The path of the host inventory file residing on the Ansible Endpoint target or comma separated list of hosts on which Ansible playbook execution happens.\n&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;Host Inventory&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;HostInventory&rdquo;,<br>
      &ldquo;Required&rdquo;: true,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;EnumList&rdquo;: [],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;Secure&rdquo;: false,<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
      }<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;IsValueSet&rdquo;: false,<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: &quot;&rdquo;<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;SudoPassword&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SudoPassword&rdquo;,<br>
      &ldquo;Required&rdquo;: true,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;EnumList&rdquo;: [],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;Secure&rdquo;: true,<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
      }<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;IsValueSet&rdquo;: true,<br>
        &ldquo;Override&rdquo;: true,<br>
        &ldquo;Value&rdquo;: &ldquo;&ndash;extra-vars &lsquo;ansible_become_pass={{.global.workflow.input.SudoPassword}}&rsquo;&rdquo;<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;The command line arguments for the execution of the ansible playbook against the given endpoint. \nEscape character backslash(\\) needs to be used when the command line arguments contain double quotes(\&quot;) in them.\n\nBelow command line options are not supported by the Ansible task.\n1. -vvv\n2. -vvvv\n3. -k, -K\n4. -c\n5. &ndash;connection\n6. &ndash;sftp-extra-args\n7. &ndash;scp-extra-args\n8. &ndash;ask-vault-password\n9. &ndash;step\n\nPlease refer the ansible-playbook documentation here\nhttps://docs.ansible.com/ansible/latest/cli/ansible-playbook.html for the list of other supported command line options.\n&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;Command Line Arguments&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;CommandLineArguments&rdquo;,<br>
      &ldquo;Required&rdquo;: false,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;EnumList&rdquo;: [],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;Secure&rdquo;: false,<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
      }<br>
    }<br>
  ],<br>
  &ldquo;InputParameterSet&rdquo;: [],<br>
  &ldquo;Label&rdquo;: &ldquo;Chander-Ansible-UserCase&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;Chander-Ansible-UserCase&rdquo;,<br>
  &ldquo;OutputDefinition&rdquo;: [],<br>
  &ldquo;OutputParameters&rdquo;: null,<br>
  &ldquo;Properties&rdquo;: {<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkflowProperties&rdquo;,<br>
    &ldquo;Cloneable&rdquo;: true,<br>
    &ldquo;EnableDebug&rdquo;: false,<br>
    &ldquo;ExternalMeta&rdquo;: true,<br>
    &ldquo;Retryable&rdquo;: false,<br>
    &ldquo;RollbackOnFailure&rdquo;: false,<br>
    &ldquo;SupportStatus&rdquo;: &ldquo;Supported&rdquo;<br>
  },<br>
  &ldquo;Tasks&rdquo;: [<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.StartTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
      &ldquo;NextTask&rdquo;: &ldquo;InvokeAnsiblePlaybook1&rdquo;<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes Ansible Playbook against the given endpoint. This task can be executed on targets added as Ansible Endpoint in Intersight.\n&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke Ansible Playbook - Install Package&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokeAnsiblePlaybook1&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;AnsibleController&rdquo;: {<br>
          &ldquo;Moid&rdquo;: &ldquo;6172a1be6f72612d31cd4908&rdquo;,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;asset.Target&rdquo;<br>
        },<br>
        &ldquo;CommandLineArguments&rdquo;: &ldquo;${workflow.input.CommandLineArguments}&rdquo;,<br>
        &ldquo;HostInventory&rdquo;: &ldquo;${workflow.input.HostInventory}&rdquo;,<br>
        &ldquo;PlaybookPath&rdquo;: &ldquo;${workflow.input.InstallPackage}&rdquo;<br>
      },<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;InvokeSshCommands2&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5c2fc884696f6e2d316c5d59&rdquo;,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;617b9248696f6e2d30c2fc95&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokeAnsiblePlaybook&rdquo;,<br>
      &ldquo;Version&rdquo;: 1<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes SSH commands against the given endpoint. This task can be executed on targets added as SSH Endpoint in Intersight.\n&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke SSH Commands - Ansible Play logs 1&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands2&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;ResponseParser&rdquo;: {<br>
          &ldquo;Parameters&rdquo;: [<br>
            {<br>
              &ldquo;Name&rdquo;: &ldquo;VersionOnNode1&rdquo;,<br>
              &ldquo;RegexLine&rdquo;: &ldquo;10.106.*?\\\&ldquo;changed\\\&rdquo;:.*?\\\&ldquo;stderr\\\&rdquo;:\\s\\\&quot;$&lt;VersionOnNode1&gt;\\\&rdquo;,&rdquo;,<br>
              &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
            },<br>
            {<br>
              &ldquo;Name&rdquo;: &ldquo;VersionOnNode2&rdquo;,<br>
              &ldquo;RegexLine&rdquo;: &ldquo;10.105.*?\\\&ldquo;changed\\\&rdquo;:.*?\\\&ldquo;stderr\\\&rdquo;:\\s\\\&quot;$&lt;VersionOnNode2&gt;\\\&rdquo;,&rdquo;,<br>
              &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
            }<br>
          ]<br>
        },<br>
        &ldquo;ShowCommandOutput&rdquo;: true,<br>
        &ldquo;SshCommand&rdquo;: {<br>
          &ldquo;Command&rdquo;: &ldquo;cat {{.global.InvokeAnsiblePlaybook1.output.ExecutionLogPath}}&rdquo;,<br>
          &ldquo;CommandType&rdquo;: &ldquo;NonInteractiveCmd&rdquo;<br>
        },<br>
        &ldquo;Target&rdquo;: {<br>
          &ldquo;Moid&rdquo;: &ldquo;617664826f72612d31ce8bae&rdquo;,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;asset.Target&rdquo;<br>
        }<br>
      },<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5c2fc884696f6e2d316c5d59&rdquo;,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;6172c602696f6e2d30d270a5&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokeSshCommands&rdquo;,<br>
      &ldquo;Version&rdquo;: 1<br>
    }<br>
  ],<br>
  &ldquo;UiInputFilters&rdquo;: [],<br>
  &ldquo;UiRenderingData&rdquo;: {<br>
    &ldquo;Positions&rdquo;: [<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
        &ldquo;X&rdquo;: 263.5,<br>
        &ldquo;Y&rdquo;: 40.5<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 281.33331298828125,<br>
        &ldquo;Y&rdquo;: 398.4323780336132<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 451.833251953125,<br>
        &ldquo;Y&rdquo;: 388.4387670304674<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokeAnsiblePlaybook1&rdquo;,<br>
        &ldquo;X&rdquo;: 178.5,<br>
        &ldquo;Y&rdquo;: 117<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands2&rdquo;,<br>
        &ldquo;X&rdquo;: 176.83331298828125,<br>
        &ldquo;Y&rdquo;: 215.1672194151248<br>
      }<br>
    ]<br>
  },<br>
  &ldquo;Version&rdquo;: 1,<br>
  &ldquo;Catalog&rdquo;: {<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.Catalog&rdquo;,<br>
    &ldquo;Moid&rdquo;: &ldquo;5efbdb7e696f6e2d303fda29&rdquo;,<br>
    &ldquo;link&rdquo;: &ldquo;<a href="https://intersight.com/api/v1/workflow/Catalogs/5efbdb7e696f6e2d303fda29%22">https://intersight.com/api/v1/workflow/Catalogs/5efbdb7e696f6e2d303fda29&quot;</a><br>
  },<br>
  &ldquo;WorkflowMetadata&rdquo;: null<br>
}</p>
<p><span id="_Refd24e14025" class="anchor"></span>Executors – Invoke
Ansible Playbook - Reusable Task</p>
<p>Intersight Cloud Orchestrator allows workflow designers to run Ansible
Playbook on the Ansible Controller node using the <strong>Invoke Ansible
Playbook</strong> reusable task in the workflow.</p>
<p>For more inforormation on Invoke Ansible Playbook - Embedded Task, see
<a href="file://E:%5Chelp%5Cresources%5CExecutor_Ansible">Invoke Ansible Playbook - Embedded
Task</a>.</p>
<p>Supported Targets</p>
<p>The Invoke Ansible Playbook task can be run only on the targets that are
added as an Ansible Endpoint target type in Cisco Intersight.</p>
<p>The <strong>Invoke Ansible Playbook</strong> task is executed as an orchestrator task
and does not include the management of the Ansible Controller node.</p>
<p>To run the Ansible Playbook task on the Ansible Controller node from
Cisco Intersight, ensure that:</p>
<ul>
<li>
<p>The Ansible target is reachable through Intersight Assist when
hosted on the customer premises.</p>
</li>
<li>
<p>The Ansible Playbook modules and Ansible Playbook executables
required to run the playbooks are already installed on the Ansible
Controller node.</p>
</li>
<li>
<p>The Ansible Controller node has password-less SSH access to the
hosts.</p>
</li>
<li>
<p>The Ansible Controller node can resolve the endpoint hostnames if
the Ansible Host Inventory file specifies the hostnames.</p>
</li>
</ul>
<p>For more information on Intersight Target Claim, see <a href="file://E:%5Chelp%5Cgetting_started%5Cclaim_targets">Target Claim Using
Intersight Assist</a>.</p>
<p>Using the Executor Ansible Playook Reusable Task</p>
<p>Use the <strong>Invoke Ansible Playbook</strong> from the <strong>Executors</strong> section in
the Intersight Orchestrator Task Designer UI to create a Invoke Ansible
Playbook reusable task.</p>
<p>For more information on tasks, see <a href="file://E:%5Chelp%5Cresources%5CTask_Designer">Defining a
Task</a>.</p>
<p>The following table explains the Invoke Ansible Playbook task
properties:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General</td>
<td>For more information, see <a href="file://E:\\help\\resources\\Task_Designer">Defining a Task</a>.</td>
</tr>
<tr class="even">
<td>Inputs</td>
<td><p>Ansible Controller—The target on which the Ansible Playbook task is run. By default, the Ansible Controller task input is created for the task.</p>
<p>The Ansible Playbook target must be in the Connected state.</p></td>
</tr>
<tr class="odd">
<td>Outputs</td>
<td><p>To extract the required values from the command responses and map it to task outputs, do the following:</p>
<ol type="1">
<li><p>Create Task Output—Specify the task output.</p></li>
<li><p>Map to Task Output—Check the check box to map the task output to an command response.</p></li>
<li><p>Task Output—Select the command response to which the task output is mapped. The options available are:</p></li>
</ol>
<ul>
<li><p><em>Exit Code | Invoke Ansible Playbook</em></p></li>
<li><p><em>Execution Summary | Invoke Ansible Playbook</em></p></li>
<li><p><em>Execution Log Path | Invoke Ansible Playbook</em></p></li>
</ul>
<p>For example, if you create two task outputs <em>Exitcode</em> and <em>Logapth</em> and map it to <em>Exit Code | Invoke Ansible Playbook</em> and <em>Execution Log Path | Invoke Ansible Playbook</em> respectively, after the workflow is executed, the output will show:</p></td>
</tr>
</tbody>
</table>
<p>The following table explains the Invoke Ansible Playbook executor input:</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Playbook Path</td>
<td><p>The path of the Ansible Playbook file that resides on the Ansible Controller node added as Ansible Endpoint target in Intersight.</p>
<ul>
<li><p>Static Value—The path of the Ansible Playbook.</p></li>
<li><p>Direct Mapping—Select an existing task input or task output field.</p></li>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Host Inventory</td>
<td><p>The path of the host inventory file that resides on the Ansible Controller or a comma-separated list of hosts on which the Ansible Playbook task is run.</p>
<ul>
<li><p>Static Value—The path of the host inventory file that resides on the Ansible Controller or a comma-separated list of hosts.</p></li>
</ul>
<ul>
<li><blockquote>
<p>For example, you can enter the hostname as root@10.10.10.10,</p>
</blockquote></li>
</ul>
<blockquote>
<p><strong>Note:</strong> The hostname must be suffixed with a comma (,).</p>
</blockquote>
<ul>
<li><p>Direct Mapping—Select the path from the task input or task output.</p></li>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Command Timeout</td>
<td><p>The command timeout in seconds for the execution of the Ansible Playbook. The range is 10 to 7200 seconds.</p>
<p>The default timeout is 600 seconds.</p>
<ul>
<li><p>Static Value—The command timeout in seconds.</p></li>
<li><p>Direct Mapping—Select the command timeout from the task input or task output.</p></li>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Command Line Argument</td>
<td><p>The optional command line arguments required to run the Ansible playbook.</p>
<ul>
<li><p>Static Value—The command line argument.</p></li>
<li><p>Direct Mapping—Select the input from the task input or task output.</p></li>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul>
<p><strong>Note:</strong> For Invoke Ansible Playbook - Reusable Task, escape character backslash(\) is not necessary when the command line arguments contain double quotes(").</p>
<p>The following command line options are not supported by the Ansible Playbook task.</p>
<ul>
<li><p>-vvv</p></li>
<li><p>-vvvv</p></li>
<li><p>-k, -K</p></li>
<li><p>-c</p></li>
<li><p>--connection</p></li>
<li><p>--sftp-extra-args</p></li>
<li><p>--scp-extra-args</p></li>
<li><p>--ask-vault-password</p></li>
<li><p>--step</p></li>
</ul>
<ul>
<li><blockquote>
<p>For information on the available command line arguments, see <a href="https://docs.ansible.com/ansible/latest/cli/ansible-playbook.html">https://docs.ansible.com/ansible/latest/cli/ansible-playbook.html</a>.</p>
</blockquote></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the Ansible Playbook executor Outputs:</p>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Exit Code</td>
<td>The exit code after the execution of the Ansible Playbook against the given endpoint.</td>
</tr>
<tr class="even">
<td>Execution Summary</td>
<td>The summary after the execution of Ansible Playbook against the given endpoint.</td>
</tr>
<tr class="odd">
<td>Execution Log Path</td>
<td>The Ansible execution log path on the Ansible Control node after the execution of Ansible Playbook against the given endpoint.</td>
</tr>
</tbody>
</table>
<p>The following table explains the Invoke Ansible Playbook task Outcomes:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Outcomes</td>
<td><p>To set the custom execution status and status message based on the obtained outputs, do the following:</p>
<ol type="1">
<li><p>Click Add Outcome.</p></li>
<li><p>Name—The name for the outcome.</p></li>
<li><p>Outcome Type—Select the outcome type. The options available are Success, Skip To Success, Error, Terminal Error, Skip Task Execution, or Status.</p></li>
</ol>
<ol start="32" type="1">
<li><p>For more information on Outcomes, see <a href="file://E:\\help\\resources\\Task_Designer">Outcomes</a>.</p></li>
</ol>
<ol start="4" type="1">
<li><p>Message—The message when the condition is met.</p></li>
<li><p>Condition—The condition for the outcome.</p></li>
</ol>
<ol start="33" type="1">
<li><p>For example, {{eq .global.InvokeAnsiblePlaybook1.output.ExitCode "0"}}.</p></li>
<li><p>This condition checks whether the output `ExitCode` of the executor named `InvokeAnsiblePlaybook1` equals to 0. If the condition is true, the task status is set to the value provided in `Outcome Type` and task status message is set to value provided in `Message`.</p></li>
</ol></td>
</tr>
</tbody>
</table>
<p>Template Parameters</p>
<p>The request body template can refer to values from task inputs, previous
task outputs, or implicit parameters. The following table explains the
template parameters.</p>
<table>
<colgroup>
<col style="width: 67%" />
<col style="width: 32%" />
</colgroup>
<thead>
<tr class="header">
<th>Prefix/Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{.global.task.input.&lt;ParameterName&gt;}}</td>
<td>Task input reference.</td>
</tr>
<tr class="even">
<td>{{.global.&lt;ExecutorRefName&gt;.output.&lt;ParameterName&gt;}}</td>
<td>Previous executor output reference. <strong>ExecutorRefName</strong> is the name of the previous executor having output <strong>ParameterName</strong>.</td>
</tr>
<tr class="odd">
<td>{{.security.AccountMoid}}</td>
<td>Implicit parameter reference to Account MoID under which the workflow is running.</td>
</tr>
<tr class="even">
<td>{{.security.OrganizationMoid}}</td>
<td>Implicit parameter reference to Organization MoID under which the workflow is running.</td>
</tr>
</tbody>
</table>
<p>Template Functions</p>
<p>The template engine has in-built functions to transform values before
they are populated in the request templates. The following table
explains the functions supported in <strong>Invoke SSH Commands</strong> task.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TrimSpace</td>
<td><p>Returns a string after removing white spaces from a the string.</p>
<p>Example:</p>
<p>{{TrimSpace .global.task.input.HostName}}</p></td>
</tr>
<tr class="even">
<td>ContainsString</td>
<td><p>Returns a boolean if a substring is present in a given string.</p>
<p>Example:</p>
<p>{{if (ContainsString .global.task.input.SizeAsString \”MB\”)}}Mega Bytes{{else}}Bytes{{end}}</p></td>
</tr>
<tr class="odd">
<td>FindAllString</td>
<td><p>Returns a slice of substrings matching the regular expression in a given string.</p>
<p>Example:</p>
<p>{{(FindAllString .global.task.input.NumberString \”([0-9]+)\”)}}</p>
<p>The above example returns array [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="even">
<td>ToJson</td>
<td><p>Converts a value to a JSON format.</p>
<p>Example:</p>
<p>{{(FindAllString .global.task.input.NumberString \"([0-9]+)\") | ToJson}}</p>
<p>The above example returns JSON array literal [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="odd">
<td>AsArray</td>
<td><p>Takes in an element and returns an array of one element.</p>
<p>Example:</p>
<p>{{AsArray .global.task.output.serverMo}}</p>
<p>The above example returns an array of one server Mo.</p></td>
</tr>
<tr class="even">
<td>Substring</td>
<td><p>Returns a substring within the given index bounds.</p>
<p>Example:</p>
<p>{{Substring .global.task.input.StorageId 2 6}}</p>
<p>The above example returns “ABCD” for string “12ABCD3456.”</p></td>
</tr>
<tr class="odd">
<td>IpToCidr</td>
<td><p>Returns the classless inter-domain routing (CIDR) notation of an IPv4 address and subnet mask.</p>
<p>Example:</p>
<p>{{IpToCidr .global.task.input.Ip .global.task.input.Netmask}}</p>
<p>The above example returns “10.10.10.10/24” for the input parameters “10.10.10.10” and “255.255.255.0.”</p></td>
</tr>
<tr class="even">
<td>LookupInSlice</td>
<td><p>Checks if a given value is present in given slice or array and returns true if it exists. This function can be used for any value.</p>
<p>Example:</p>
<p>{{LookupInSlice .global.task.input.IpAddressList \”10.10.10.10\”}}</p>
<p>The above example returns true for input [”10.10.10.10”, “20.20.20.20”].</p></td>
</tr>
<tr class="odd">
<td>Index</td>
<td><p>Returns a value from an array when an input index exists.</p>
<p>Example:</p>
<p>{{ index .global.task.input.nodes .global.task.input.idx }} </p>
<p>In the above example, if nodes is an array of devices and idx is 2, the index function returns the second device in the array.</p></td>
</tr>
<tr class="even">
<td>Itob</td>
<td><p>Converts an integer to a boolean.</p>
<p>Example:</p>
<p>{{ Itob global.task.input.OnOffFlip }} </p>
<p>The above example returns true and false for inputs 1 and 0 respectively.</p></td>
</tr>
<tr class="odd">
<td>Itoa</td>
<td><p>Converts a given number to a string value.</p>
<p>Example:</p>
<p>{{ Itoa global.task.input.Port }} </p>
<p>The above example returns “12345” for input 12345.</p></td>
</tr>
<tr class="even">
<td>Itof</td>
<td><p>Converts a given integer to a float value.</p>
<p>Example:</p>
<p>{{ Itof global.task.input.Rate }}</p>
<p>The above example returns 15.0 for an input 15.</p></td>
</tr>
<tr class="odd">
<td>Btoa</td>
<td><p>Converts a given boolean to a string value.</p>
<p>Example:</p>
<p>{{ Btoa global.task.input.OnOffFlip }}</p>
<p>The above example returns “true” for input true.</p></td>
</tr>
<tr class="even">
<td>Btoi</td>
<td><p>Converts a given boolean to a integer value.</p>
<p>Example:</p>
<p>{{ Btoi global.task.input.OnOffFlip }}</p>
<p>The above example returns 1 and 0 for inputs true and false respectively.</p></td>
</tr>
<tr class="odd">
<td>Atob</td>
<td><p>Converts the given string into a boolean value.</p>
<p>Example:</p>
<p>{{ Atob global.task.input.OnOffFlip }}Returns true for input “true”</p></td>
</tr>
<tr class="even">
<td>Atoi</td>
<td><p>Converts a given number in string format to the integer type.</p>
<p>Example:</p>
<p>{{Atoi .global.task.input.SizeString}} returns integer 2048 for input string “2048”</p></td>
</tr>
<tr class="odd">
<td>Ftoa</td>
<td><p>Converts a given number into the string form based on the given precision.</p>
<p>Example:</p>
<p>{{Ftoa .global.task.input.Size 2}} returns the following output: 123.456 =&gt; “123.45”, 1028 =&gt; “1028.00”</p></td>
</tr>
<tr class="even">
<td>Ftoi</td>
<td><p>Converts a given float input to a integer value.</p>
<p>Example:</p>
<p>{{ Ftoi global.task.input.Rate }}</p>
<p>The above example returns 15 for an input 15.833.</p></td>
</tr>
<tr class="odd">
<td>Eval</td>
<td><p>Supports an expression evaluation function. The below example returns 2GB for a input value of 2048. Note that the second argument is passed as ‘.’ in the template, which represents the map of all parameters.</p>
<p>{{Eval \"{{.global.task.input.Size}} / 1024\" .}}GB</p></td>
</tr>
</tbody>
</table>
<p>Template Engine Syntax</p>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}</p>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}</p>
<p>Invoke Ansible Playbook Reusable Task Example</p>
<p><strong>Example: Create a reusable task to run Ansible Playbook on the hosts</strong></p>
<p>This example task runs on an Intersight Ansible Playbook controller. In
this task, the Ansible Playbook path and host inventory list fields are
provided by the task input fields.</p>
<p>The task properties required for this example are as following:</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General</td>
<td><ul>
<li><p>Organization—The organization that you are creating the task in.</p></li>
<li><p>Display Name—A user friendly short name to identify the task definition.</p></li>
<li><p>Reference Name—The name of the Task definition.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Inputs</td>
<td><ul>
<li><p>Ansible Controller—By default, the Ansible Controller task input is created for the task.</p>
<ul>
<li><p>Reference Name—AnsibleController</p></li>
<li><p>Type—Target Data Type</p></li>
</ul></li>
<li><p>Playbook Path—The user defined task input for the path of the Ansible Playbook.</p>
<ul>
<li><p>Reference Name—PlaybookPath</p></li>
<li><p>Type—String</p></li>
</ul></li>
<li><p>Host Inventory—The user defined task input for the path of the host inventory file.</p>
<ul>
<li><p>Reference Name—HostInventory</p></li>
<li><p>Type—String</p></li>
</ul></li>
</ul></td>
</tr>
<tr class="odd">
<td>Outputs</td>
<td><ul>
<li><p>ExitCode—Task output</p>
<ul>
<li><p>Reference Name—ExitCode</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Exit Code | Invoke Ansible Playbook</em></p></li>
</ul></li>
<li><p>Summary—Task output</p>
<ul>
<li><p>Reference Name—Summary</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Execution Summary | Invoke Ansible Playbook</em></p></li>
</ul></li>
<li><p>Logpath—Task output</p>
<ul>
<li><p>Reference Name—Logpath</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Execution Log Path | Invoke Ansible Playbook</em></p></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the Invoke Ansible Playbook executor
inputs:</p>
<table>
<colgroup>
<col style="width: 27%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Playbook Path</td>
<td>Direct Mapping—{{.global.task.input.PlaybookPath}}</td>
</tr>
<tr class="even">
<td>Host Inventory</td>
<td>Direct Mapping—{{.global.task.input.HostInventory}}</td>
</tr>
<tr class="odd">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="even">
<td>Command Line Argument</td>
<td><p>Static—-vv</p>
<p>Command line argument --vv is for the Ansible execution log verbosity.</p></td>
</tr>
</tbody>
</table>
<p><span id="_Refd24e15533" class="anchor"></span>Executors – Invoke SSH
Commands - Embedded Task</p>
<p>Intersight Cloud Orchestrator allows workflow designers to run commands
over SSH by using the <strong>Invoke SSH Commands</strong> task in the workflows. The
<strong>Invoke SSH Commands</strong> task is an out-of-box solution that allows you
to automate operations on the SSH targets. This feature allows a
workflow designer to extend the automation capabilities of the workflow
engine beyond what is natively available in the task library and
interact with the SSH target.</p>
<p>The <strong>Invoke SSH Commands</strong> task executes SSH commands against the given
Intersight SSH endpoint target.</p>
<p>Supported Targets</p>
<p>The Invoke SSH Commands task can be run only on the targets that are
added as an SSH or Ansible endpoint target type in Cisco Intersight.</p>
<p>To run the SSH Command task on the SSH endpoint target from Cisco
Intersight, ensure that:</p>
<ul>
<li>
<p>The endpoint is reachable through Intersight Assist.</p>
</li>
<li>
<p>The endpoint target is in the Connected state.</p>
</li>
<li>
<p>The endpoint credentials are valid.</p>
</li>
</ul>
<p>For more information on Intersight Target Claim, see <a href="file://E:%5Chelp%5Cgetting_started%5Cclaim_targets">Target Claim Using
Intersight Assist</a>.</p>
<p>Using the Invoke SSH Commands task</p>
<p>Use the <strong>Invoke SSH Commands</strong> from the <strong>Executors</strong> section in the
Workflow Designer UI to create a task to invoke SSH commands on a
target.</p>
<p>The following table explains the task Input properties:</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><p>The external SSH endpoint target on which the SSH commands task is run.</p>
<p>The SSH target must be in the Connected state.</p>
<p>You can specify the external target as:</p>
<ul>
<li><p>Static Value—Click Select External Target to select an SSH target from the Intersight target inventory.</p></li>
<li><p>Direct Mapping—Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>SSH Command</td>
<td><p>The SSH commands that need to be executed on the remote server along with the details of command type.</p>
<p>Command— The SSH command string to execute against the given target. You need to specify only the command string.</p>
<p>You can specify multiple commands that need to run on the given target. For more information, see <a href="file://E:\\help\\resources\\Executor_SSH">Using SSH Commands</a> .</p>
<p><strong>Note:</strong> The command chaining is allowed only when the command type is non-interactive.</p>
<ul>
<li><p>Static Value—The SSH commands that are to be run on the remote server.</p>
<ul>
<li><p>Non-Interactive Command—The SSH command that does not require user prompts.</p></li>
<li><p>Interactive Command—The SSH commands that require user prompts. For example, the Sudo or install packages command prompts for the user inputs. To specify the user inputs for the command, do the following:</p>
<ul>
<li><p>Expect —The regular expression of the expect prompt of the interactive command. You must provide the complete regular expression of the Expect string and the expression must end with the special character '$' to match the end of the Expect string.</p></li>
<li><p>Send—The answer string to the expect prompt. You can specify a string value or a workflow input.</p></li>
<li><p>End prompt—The regular expression of the Shell Prompt of the remote server or target. You must provide the complete regular expression of the Shell Prompt and it must end with special character '$' to match the end of the Shell Prompt string.</p></li>
</ul></li>
</ul></li>
<li><p>Direct Mapping—Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Command Timeout</td>
<td><p>The command timeout in seconds for the execution of the command against the given endpoint. The range is 10 to 7200 seconds.</p>
<p>The default timeout value is 600 seconds.</p>
<ul>
<li><p>Static Value—The command timeout in seconds for the execution of the command against the given target.</p></li>
<li><p>Direct Mapping——Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Expected Exit Codes</td>
<td><p>The list of expected exit codes for the SSH command that is run by the task. Task status is set to Success if the obtained exit code is present in the list of expected exit codes.</p>
<p>If this input is not specified, then the default exit code is 0 and is used to determine the status of command execution.</p>
<ul>
<li><p>Static Value—The exit code for the SSH command that is run by the task.</p></li>
<li><p>Direct Mapping—Select the expected exit codes from the workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Show Command Output</td>
<td><p>Set this value to True if the entire command response needs to be displayed as part of the task output.</p>
<p>This default value is False.</p>
<ul>
<li><p>Static Value—Select the Show Command Output check box to display the entire command response as a part of the task output.</p></li>
<li><p>Direct Mapping—Select a Workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>The response parser specification which is used to extract the values from the command response.</p>
<ul>
<li><p>Static Value</p>
<ul>
<li><p>Regular Expression—The regular expression of the line in the command response where the interested capture value resides. The format to specify the capture value in this input is '$&lt;Name of the parameter&gt;'. For example, if we need to capture <em>'intersight'</em> in the sample response 'intersight@cisco.com', the regular expression looks like $&lt;Name&gt;\@cisco\.com where '<em>Name</em>' is the name given to this captured parameter.</p></li>
<li><p>Name—The name of the output under which the captured value is saved. This name should be the same that is provided in the Regular Expression—$&lt;Name&gt;.</p></li>
<li><p>Type—The response parameter type—String, Integer, Float, or Boolean.</p></li>
</ul>
<ul>
<li><blockquote>
<p>The default value is String.</p>
</blockquote></li>
</ul></li>
<li><p>Direct Mapping—Select a Workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul>
<p>For more information, see <a href="file://E:\\help\\resources\\Executor_SSH">Response Parser</a>.</p></td>
</tr>
</tbody>
</table>
<p>The following table explains the task Output properties:</p>
<table>
<colgroup>
<col style="width: 23%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Exit Code</td>
<td>The exit code after the execution of the command against the given endpoint.</td>
</tr>
<tr class="even">
<td>Command Output</td>
<td><p>The complete response after the execution of the command against the given endpoint.</p>
<p>The output is displayed only if the task input parameter Show Command Output is set to True.</p></td>
</tr>
<tr class="odd">
<td>Command Execution Error</td>
<td>Captures the error encountered while executing the command.</td>
</tr>
<tr class="even">
<td>Extracted Parameters</td>
<td>The response parser extracted outputs from the command execution response.</td>
</tr>
</tbody>
</table>
<p>Using SSH Commands</p>
<p>You can specify multiple commands that need to run on the given target
by chaining the commands with special characters. The following table
explains the operators.</p>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="header">
<th>Operators</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&amp;&amp; (Logical AND)</td>
<td>The command following this operator will only execute if the command preceding this operator has been successfully executed.</td>
</tr>
<tr class="even">
<td>; (Semi-colon)</td>
<td>The command following this operator will execute even if the command preceding this operator is not successfully executed.</td>
</tr>
<tr class="odd">
<td>|| ( Logical OR)</td>
<td>The command succeeding this operator is only executed if the command preceding it has failed.</td>
</tr>
<tr class="even">
<td>| (Pipe)</td>
<td>The output of the first command acts as input to the second command.</td>
</tr>
<tr class="odd">
<td>! (NOT)</td>
<td>Negates an expression within a command. It is much like an “except” statement.</td>
</tr>
<tr class="even">
<td>&gt;,&gt;&gt;, &lt; (Redirection)</td>
<td>Redirects the output of a command or a group of commands to a file or stream.</td>
</tr>
</tbody>
</table>
<p>Template Parameters</p>
<p>The request body template can refer to values from workflow inputs,
previous task outputs, or implicit parameters. The following table
explains the template parameters.</p>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="header">
<th>Prefix/Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{.global.workflow.input.&lt;ParameterName&gt;}}</td>
<td>Workflow input reference.</td>
</tr>
<tr class="even">
<td>{{.global.&lt;TaskRefName&gt;.output.<br />
Parameters.&lt;ParameterName&gt;}}</td>
<td>Previous task output reference. <strong>TaskRefName</strong> is the name of the previous task having output <strong>ParameterName</strong>.</td>
</tr>
<tr class="odd">
<td>{{.security.AccountMoid}}</td>
<td>Implicit parameter reference to Account MoID under which the workflow is running.</td>
</tr>
<tr class="even">
<td>{{.security.OrganizationMoid}}</td>
<td>Implicit parameter reference to Organization MoID under which the workflow is running.</td>
</tr>
</tbody>
</table>
<p>Template Functions</p>
<p>The template engine has in-built functions to transform values before
they are populated in the request templates. The following table
explains the functions supported in <strong>Invoke SSH Command</strong> task.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TrimSpace</td>
<td><p>Returns a string after removing white spaces from a the string.</p>
<p>Example:</p>
<p>{{TrimSpace .global.workflow.input.HostName}}</p></td>
</tr>
<tr class="even">
<td>ContainsString</td>
<td><p>Returns a boolean if a substring is present in a given string.</p>
<p>Example:</p>
<p>{{if (ContainsString .global.workflow.input.SizeAsString \”MB\”)}}Mega Bytes{{else}}Bytes{{end}}</p></td>
</tr>
<tr class="odd">
<td>FindAllString</td>
<td><p>Returns a slice of substrings matching the regular expression in a given string.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \”([0-9]+)\”)}}</p>
<p>The above example returns array [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="even">
<td>ToJson</td>
<td><p>Converts a value to a JSON format.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \"([0-9]+)\") | ToJson}}</p>
<p>The above example returns JSON array literal [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="odd">
<td>AsArray</td>
<td><p>Takes in an element and returns an array of one element.</p>
<p>Example:</p>
<p>{{AsArray .global.workflow.output.serverMo}}</p>
<p>The above example returns an array of one server Mo.</p></td>
</tr>
<tr class="even">
<td>Substring</td>
<td><p>Returns a substring within the given index bounds.</p>
<p>Example:</p>
<p>{{Substring .global.workflow.input.StorageId 2 6}}</p>
<p>The above example returns “ABCD” for string “12ABCD3456.”</p></td>
</tr>
<tr class="odd">
<td>IpToCidr</td>
<td><p>Returns the classless inter-domain routing (CIDR) notation of an IPv4 address and subnet mask.</p>
<p>Example:</p>
<p>{{IpToCidr .global.workflow.input.Ip .global.workflow.input.Netmask}}</p>
<p>The above example returns “10.10.10.10/24” for the input parameters “10.10.10.10” and “255.255.255.0.”</p></td>
</tr>
<tr class="even">
<td>LookupInSlice</td>
<td><p>Checks if a given value is present in given slice or array and returns true if it exists. This function can be used for any value.</p>
<p>Example:</p>
<p>{{LookupInSlice .global.workflow.input.IpAddressList \”10.10.10.10\”}}</p>
<p>The above example returns true for input [”10.10.10.10”, “20.20.20.20”].</p></td>
</tr>
<tr class="odd">
<td>Index</td>
<td><p>Returns a value from an array when an input index exists.</p>
<p>Example:</p>
<p>{{ index .global.workflow.input.nodes .global.workflow.input.idx }} </p>
<p>In the above example, if nodes is an array of devices and idx is 2, the index function returns the second device in the array.</p></td>
</tr>
<tr class="even">
<td>Itob</td>
<td><p>Converts an integer to a boolean.</p>
<p>Example:</p>
<p>{{ Itob global.workflow.input.OnOffFlip }} </p>
<p>The above example returns true and false for inputs 1 and 0 respectively.</p></td>
</tr>
<tr class="odd">
<td>Itoa</td>
<td><p>Converts a given number to a string value.</p>
<p>Example:</p>
<p>{{ Itoa global.workflow.input.Port }} </p>
<p>The above example returns “12345” for input 12345.</p></td>
</tr>
<tr class="even">
<td>Itof</td>
<td><p>Converts a given integer to a float value.</p>
<p>Example:</p>
<p>{{ Itof global.workflow.input.Rate }}</p>
<p>The above example returns 15.0 for an input 15.</p></td>
</tr>
<tr class="odd">
<td>Btoa</td>
<td><p>Converts a given boolean to a string value.</p>
<p>Example:</p>
<p>{{ Btoa global.workflow.input.OnOffFlip }}</p>
<p>The above example returns “true” for input true.</p></td>
</tr>
<tr class="even">
<td>Btoi</td>
<td><p>Converts a given boolean to a integer value.</p>
<p>Example:</p>
<p>{{ Btoi global.workflow.input.OnOffFlip }}</p>
<p>The above example returns 1 and 0 for inputs true and false respectively.</p></td>
</tr>
<tr class="odd">
<td>Atob</td>
<td><p>Converts the given string into a boolean value.</p>
<p>Example:</p>
<p>{{ Atob global.workflow.input.OnOffFlip }}Returns true for input “true”</p></td>
</tr>
<tr class="even">
<td>Atoi</td>
<td><p>Converts a given number in string format to the integer type.</p>
<p>Example:</p>
<p>{{Atoi .global.task.input.SizeString}} returns integer 2048 for input string “2048”</p></td>
</tr>
<tr class="odd">
<td>Ftoa</td>
<td><p>Converts a given number into the string form based on the given precision.</p>
<p>Example:</p>
<p>{{Ftoa .global.task.input.Size 2}} returns the following output: 123.456 =&gt; “123.45”, 1028 =&gt; “1028.00”</p></td>
</tr>
<tr class="even">
<td>Ftoi</td>
<td><p>Converts a given float input to a integer value.</p>
<p>Example:</p>
<p>{{ Ftoi global.workflow.input.Rate }}</p>
<p>The above example returns 15 for an input 15.833.</p></td>
</tr>
<tr class="odd">
<td>Eval</td>
<td><p>Supports an expression evaluation function. The below example returns 2GB for a input value of 2048. Note that the second argument is passed as ‘.’ in the template, which represents the map of all parameters.</p>
<p>{{Eval \"{{.global.workflow.input.Size}} / 1024\" .}}GB</p></td>
</tr>
</tbody>
</table>
<p>Template Engine Syntax</p>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}</p>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}</p>
<p>Response Parser</p>
<p>A response parser is a collection of parameters that model values to be
extracted from the SSH command response.</p>
<p><strong>Example: Create a response parser to get the IP address for a ping
command</strong></p>
<p>To get the IP address for the host such as <em><a href="https://www.example.com">www.example.com</a></em>, you can
use the ping command:</p>
<p>ping example.com -4<br>
Pinging example.com [<strong>93.184.216.34</strong>] with 32 bytes of data:<br>
Reply from 93.184.216.34: bytes=32 time=229ms TTL=53<br>
Reply from 93.184.216.34: bytes=32 time=230ms TTL=53<br>
Reply from 93.184.216.34: bytes=32 time=230ms TTL=53<br>
Reply from 93.184.216.34: bytes=32 time=229ms TTL=53ping example.com</p>
<p>To extract the IP address from the command output for an SSH Command
task, you can configure the response parser as:</p>
<ul>
<li>
<p>Regular Expression—Pinging\s+example.com\s+\[$&lt;IP&gt;\]\s+.*</p>
</li>
<li>
<p>Name—IP</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> This name should be the same that is provided in the Regular
Expression field. In the above example, the Regular Expression uses
name $&lt;IP&gt; so the Name specified must be &ldquo;IP&rdquo;.</p>
</blockquote>
<ul>
<li>Type—String</li>
</ul>
<p>SSH Command Task Examples</p>
<p><strong>Example 1: Create a workflow with SSH Command task to install VIM
package on a host using interactive SSH commands</strong></p>
<p>The example below shows the execution of a script to install the vim
package on a host. In this example, the shell prompt
qali@automationvm-15:~$ appears. When the sudo ./vimInstall.sh command
is run, the user is prompted for the sudo password using the prompt
[sudo] password for qali:. The user enters the correct sudo password
(Send/Answer string) and the installation process starts.</p>
<p>qali@automationvm-15:~$ sudo ./vimInstall.sh<br>
[sudo] password for qali:<br>
Reading package lists&hellip; Done<br>
Building dependency tree<br>
Reading state information&hellip; Done<br>
Suggested packages:<br>
ctags vim-doc vim-scripts<br>
The following NEW packages will be installed:<br>
vim<br>
0 upgraded, 1 newly installed, 0 to remove and 224 not upgraded.<br>
Need to get 1238 kB of archives.<br>
After this operation, 3111 kB of additional disk space will be used.<br>
Get:1 http://in.archive.ubuntu.com/ubuntu focal-updates/main amd64 vim amd64 2:8.1.2269-1ubuntu5.3 [1238 kB]<br>
Fetched 1238 kB in 18s (68.8 kB/s)<br>
Selecting previously unselected package vim.<br>
(Reading database &hellip; 296388 files and directories currently installed.)<br>
Preparing to unpack &hellip;/vim_2%3a8.1.2269-1ubuntu5.3_amd64.deb &hellip;<br>
Unpacking vim (2:8.1.2269-1ubuntu5.3) &hellip;<br>
Setting up vim (2:8.1.2269-1ubuntu5.3) &hellip;<br>
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vim (vim) in auto mode<br>
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vimdiff (vimdiff) in auto mode<br>
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rvim (rvim) in auto mode<br>
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rview (rview) in auto mode<br>
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vi (vi) in auto mode<br>
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/view (view) in auto mode<br>
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/ex (ex) in auto mode<br>
qali@automationvm-15:~$</p>
<p>To automate this task, you can create a workflow with a single Executor
Invoke SSH Command task. This task runs on an Intersight SSH Command
endpoint target. In this task, the Sudo password is provided by the
workflow input field, and the VM installation script is available in the
SSH endpoint target.</p>
<p>This workflow input field required for this example is as follows:</p>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="header">
<th>Workflow Input</th>
<th>Input Fields</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Sudo Password</td>
<td><ul>
<li><p>Reference Name—SudoPassword</p></li>
<li><p>Type—String</p></li>
<li><p>Secure option is selected. The values of these properties are encrypted and stored in Intersight.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the SSH Command task properties:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td>The target on which the SSH commands are executed.</td>
</tr>
<tr class="even">
<td>SSH Command</td>
<td><p>Command—sudo ./vimInstall.sh</p>
<ul>
<li><p>Expect—The Expect string obtained while executing the SSH command is [sudo] password for qali:. You need to specify the Expect input as the regular expression of the Obtained prompt \[sudo\]\spassword\sfor\sqali:\s$.</p></li>
<li><p>Send—{{.global.workflow.input.SudoPassword}}</p></li>
<li><p>Shell Prompt—The shell prompt obtained before executing the SSH command is qali@automationvm-15:~$. You need to specify the regular expression of the obtained shell prompt qali\@automationvm-15:~\$\s$</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="even">
<td>Expected Exit Codes</td>
<td>Default value.</td>
</tr>
<tr class="odd">
<td>Show Command Output</td>
<td>Select Show Command Option check box.</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>When you run the sudo ./vimInstall.sh command, you get the following output:</p>
<p>...<br />
Reading state information... Done<br />
<strong>vim is already the newest version (2:8.1.2269-1ubuntu5.3).</strong><br />
The following package was automatically installed and is no longer required:<br />
libllvm11</p>
<p>To extracts the VM package version and display it, configure the response parser as:</p>
<ul>
<li><p>Regular Expression—vim.*\($&lt;VimPackageVersion&gt;\).</p></li>
<li><p>Name—VimPackageVersion</p></li>
</ul>
<ul>
<li><blockquote>
<p>Type—String</p>
</blockquote></li>
</ul>
<p>The response parser specified above, extracts the VM package version and displays it under the Extracted Parameters task output.</p>
<p>├── Extracted Parameters: [ 1 ]/<br />
│   └── VimPackageVersion:2:8.1.2269-1ubuntu5.3</p></td>
</tr>
</tbody>
</table>
<p>After you execute the workflow, the task output is:</p>
<p>.<br>
├── ConfigResults: [ 1 ]/<br>
│   └── Object: { 3 }/<br>
│       └── ConfigResCtx:{ 1 }/<br>
│           ├── EntityData: { 1 }/<br>
│           │   └── task: workflow.SshTask<br>
│           ├── State: Ok<br>
│           └── Type: Config<br>
├── Command Output:/<br>
│   ├── &hellip;<br>
│         vim is already the newest version (2:8.1.2269-1ubuntu5.3).<br>
│         The following package was automatically installed and is no longer required:<br>
│         libllvm11<br>
│         Use &lsquo;sudo apt autoremove&rsquo; to remove it.<br>
│         0 upgraded, 0 newly installed, 0 to remove and 59 not upgraded.<br>
├── Exit Code: 0<br>
└── Extracted Parameters: { 1 }/<br>
    └── <strong>VimPackageVersion: 2:8.1.2269-1ubuntu5.3</strong><br>
         </p>
<p>The following is a sample code view.</p>
<p>{<br>
  &ldquo;Catalog&rdquo;: {<br>
    &ldquo;Moid&rdquo;: &ldquo;5efbdb7e696f6e2d303fda29&rdquo;,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.Catalog&rdquo;,<br>
    &ldquo;link&rdquo;: &ldquo;<a href="https://intersight.com/api/v1/workflow/Catalogs/5efbdb7e696f6e2d303fda29%22">https://intersight.com/api/v1/workflow/Catalogs/5efbdb7e696f6e2d303fda29&quot;</a><br>
  },<br>
  &ldquo;DefaultVersion&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
  &ldquo;InputDefinition&rdquo;: [<br>
    {<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;IsValueSet&rdquo;: false,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: null<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;Sudo Password&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SudoPassword&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;EnumList&rdquo;: [],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Secure&rdquo;: true,<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
      },<br>
      &ldquo;Required&rdquo;: false<br>
    }<br>
  ],<br>
  &ldquo;InputParameterSet&rdquo;: [],<br>
  &ldquo;Label&rdquo;: &ldquo;SSH-Command-Task-Interactive&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;SSH-Command-Task-Interactive&rdquo;,<br>
  &ldquo;OutputDefinition&rdquo;: [],<br>
  &ldquo;OutputParameters&rdquo;: null,<br>
  &ldquo;Properties&rdquo;: {<br>
    &ldquo;Cloneable&rdquo;: true,<br>
    &ldquo;EnableDebug&rdquo;: false,<br>
    &ldquo;ExternalMeta&rdquo;: true,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkflowProperties&rdquo;,<br>
    &ldquo;Retryable&rdquo;: false,<br>
    &ldquo;RollbackOnFailure&rdquo;: false,<br>
    &ldquo;SupportStatus&rdquo;: &ldquo;Supported&rdquo;<br>
  },<br>
  &ldquo;Tags&rdquo;: [],<br>
  &ldquo;Tasks&rdquo;: [<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
      &ldquo;NextTask&rdquo;: &ldquo;InvokeSshCommands1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.StartTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5c2fc884696f6e2d316c5d59&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes SSH commands against the given target. This task can be executed on targets added as SSH Target in Intersight.\n&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;ResponseParser&rdquo;: {<br>
          &ldquo;Parameters&rdquo;: [<br>
            {<br>
              &ldquo;Name&rdquo;: &ldquo;VimPackageVersion&rdquo;,<br>
              &ldquo;RegexLine&rdquo;: &ldquo;vim.*\\($&lt;VimPackageVersion&gt;\\).&rdquo;,<br>
              &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
            }<br>
          ]<br>
        },<br>
        &ldquo;ShowCommandOutput&rdquo;: true,<br>
        &ldquo;SshCommand&rdquo;: {<br>
          &ldquo;Command&rdquo;: &ldquo;sudo ./vimInstall.sh&rdquo;,<br>
          &ldquo;CommandType&rdquo;: &ldquo;InteractiveCmd&rdquo;,<br>
          &ldquo;ExpectPrompts&rdquo;: [<br>
            {<br>
              &ldquo;Expect&rdquo;: &ldquo;\\[sudo\\]\\spassword\\sfor\\sqali:\\s$&rdquo;,<br>
              &ldquo;Send&rdquo;: &ldquo;{{.global.workflow.input.SudoPassword}}&rdquo;<br>
            }<br>
          ],<br>
          &ldquo;ShellPrompt&rdquo;: &ldquo;qali\\@automationvm-15:~\\$\\s$&rdquo;<br>
        },<br>
        &ldquo;Target&rdquo;: {<br>
          &ldquo;Moid&rdquo;: &ldquo;6177bcab6f72612d31fb23f5&rdquo;,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;asset.Target&rdquo;<br>
        }<br>
      },<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke SSH Commands&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;6172c602696f6e2d30d270a5&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokeSshCommands&rdquo;,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;Version&rdquo;: 1<br>
    }<br>
  ],<br>
  &ldquo;UiInputFilters&rdquo;: [],<br>
  &ldquo;UiRenderingData&rdquo;: {<br>
    &ldquo;Positions&rdquo;: [<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
        &ldquo;X&rdquo;: 263,<br>
        &ldquo;Y&rdquo;: 35<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 263,<br>
        &ldquo;Y&rdquo;: 194<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 405,<br>
        &ldquo;Y&rdquo;: 194<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands1&rdquo;,<br>
        &ldquo;X&rdquo;: 178,<br>
        &ldquo;Y&rdquo;: 106<br>
      }<br>
    ]<br>
  },<br>
  &ldquo;Version&rdquo;: 1,<br>
  &ldquo;WorkflowMetadata&rdquo;: null<br>
}</p>
<p><strong>Example 2: Create a workflow with SSH Command tasks to list the
folders and files in the current working directory on the host using
output mapping</strong></p>
<p>The following example workflow has two SSH command tasks. The first task
runs the pwd command on the SSH endpoint target and obtains the current
working directory in the output. The second task takes the workflow
output from the previous task and runs the ls -lrt command on the
extracted path on the endpoint target.</p>
<p>The following table lists the properties for the SSH Command Task 1:</p>
<table>
<colgroup>
<col style="width: 19%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td>The target on which the SSH commands are executed.</td>
</tr>
<tr class="even">
<td>SSH Command</td>
<td>Static | Non-interactive | Command—pwd</td>
</tr>
<tr class="odd">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="even">
<td>Expected Exit Codes</td>
<td>Default value.</td>
</tr>
<tr class="odd">
<td>Show Command Output</td>
<td>Select Show Command Option check box.</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>When you run the pwd command, you get the following output:</p>
<p>$pwd<br />
/home/user</p>
<p>To extracts the path and display it, configure the response parser as:</p>
<ul>
<li><p>Regular Expression—$&lt;Path&gt;</p></li>
<li><p>Name—Path</p></li>
</ul>
<ul>
<li><blockquote>
<p>Type—String</p>
</blockquote></li>
</ul>
<p>The response parser specified above, extracts the path and displays it under the Extracted Parameters task output:</p>
<p>├── Extracted Parameters: [ 1 ]/<br />
│   └── Path:/home/user</p></td>
</tr>
</tbody>
</table>
<p>The following table lists the properties for the SSH Command Task 2:</p>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 85%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td>The target on which the SSH commands are executed.</td>
</tr>
<tr class="even">
<td>SSH Command</td>
<td><p>The output for the first task extracts the path and displays it under the Extracted Parameters task output as:</p>
<p>├── Extracted Parameters: [ 1 ]/<br />
│   └── Path:/home/user</p>
<p>To map the output of the previous task as the input, specify the SSH command as:</p>
<p>Static | Non-interactive | Command—ls -lrt {{.global.InvokeSshCommands1.output.ExtractedParameters.Path}}</p>
<p>In the above example, <em>InvokeSshCommands1</em> is the task reference name of the previous task. To determine the task reference name, navigate to the Code view. For example:</p>
<p>"Tasks": <br />
    ...<br />
   "Label": "Invoke SSH Commands",<br />
      "Name": "InvokeSshCommands1",<br />
      "ObjectType": "workflow.WorkerTask",<br />
...</p></td>
</tr>
<tr class="odd">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="even">
<td>Expected Exit Codes</td>
<td>Default value.</td>
</tr>
<tr class="odd">
<td>Show Command Output</td>
<td>Select Show Command Option check box.</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>None.</td>
</tr>
</tbody>
</table>
<p>After you execute the workflow, the task output is:</p>
<p>.<br>
├── ConfigResults: [ 1 ]<br>
│   └── Object:{ 3 }<br>
│       ├── ConfigResCtx:{ 1 }<br>
│       │   ├── EntityData:{ 1 }<br>
│       │   └── task:workflow.SshTask<br>
│       ├── State:Ok<br>
│       └── Type:Config<br>
└── Command Output:total 62544<br>
    ├── -rw-rw-r&ndash; 1 qali qali 6549016 Jul 22 2020 intersight_devops_python_sdk_v3_0.0.1.16837.tar.gz<br>
    ├── -rw-r&ndash;r&ndash; 1 qali qali 8980 Apr 5 2021 examples.desktop<br>
    ├── drwxr-xr-x 2 qali qali 4096 Apr 5 2021 Videos<br>
    ├── drwxr-xr-x 2 qali qali 4096 Apr 5 2021 Templates<br>
    ├── drwxr-xr-x 2 qali qali 4096 Apr 5 2021 Public<br>
    ├── drwxr-xr-x 2 qali qali 4096 Apr 5 2021 Pictures<br>
    ├── drwxr-xr-x 2 qali qali 4096 Apr 5 2021 Music<br>
    ├── drwxr-xr-x 2 qali qali 4096 Apr 5 2021 Documents<br>
    ├── &hellip;<br>
    └── Exit Code:0</p>
<p>The following is a sample code view:</p>
<p>{<br>
  &ldquo;Catalog&rdquo;: {<br>
    &ldquo;Moid&rdquo;: &ldquo;5efbdb7e696f6e2d303fda29&rdquo;,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.Catalog&rdquo;,<br>
    &ldquo;link&rdquo;: &ldquo;<a href="https://www.intersight.com/api/v1/workflow/Catalogs/5efbdb7e696f6e2d303fda29%22">https://www.intersight.com/api/v1/workflow/Catalogs/5efbdb7e696f6e2d303fda29&quot;</a><br>
  },<br>
  &ldquo;DefaultVersion&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
  &ldquo;InputDefinition&rdquo;: [],<br>
  &ldquo;InputParameterSet&rdquo;: [],<br>
  &ldquo;Label&rdquo;: &ldquo;NonIntMappingSsh&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;NonIntMappingSsh&rdquo;,<br>
  &ldquo;OutputDefinition&rdquo;: [],<br>
  &ldquo;OutputParameters&rdquo;: null,<br>
  &ldquo;Properties&rdquo;: {<br>
    &ldquo;Cloneable&rdquo;: true,<br>
    &ldquo;EnableDebug&rdquo;: false,<br>
    &ldquo;ExternalMeta&rdquo;: true,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkflowProperties&rdquo;,<br>
    &ldquo;Retryable&rdquo;: false,<br>
    &ldquo;RollbackOnFailure&rdquo;: false,<br>
    &ldquo;SupportStatus&rdquo;: &ldquo;Supported&rdquo;<br>
  },<br>
  &ldquo;Tags&rdquo;: [],<br>
  &ldquo;Tasks&rdquo;: [<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
      &ldquo;NextTask&rdquo;: &ldquo;InvokeSshCommands1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.StartTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5c2fc884696f6e2d316c5d59&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes SSH commands against the given endpoint. This task can be executed on targets added as SSH Endpoint in Intersight.\n&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;ResponseParser&rdquo;: {<br>
          &ldquo;Parameters&rdquo;: [<br>
            {<br>
              &ldquo;Name&rdquo;: &ldquo;Path&rdquo;,<br>
              &ldquo;RegexLine&rdquo;: &ldquo;$&lt;Path&gt;&rdquo;,<br>
              &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
            }<br>
          ]<br>
        },<br>
        &ldquo;ShowCommandOutput&rdquo;: true,<br>
        &ldquo;SshCommand&rdquo;: {<br>
          &ldquo;Command&rdquo;: &ldquo;pwd&rdquo;,<br>
          &ldquo;CommandType&rdquo;: &ldquo;NonInteractiveCmd&rdquo;<br>
        },<br>
        &ldquo;Target&rdquo;: {<br>
          &ldquo;Moid&rdquo;: &ldquo;618a500a6f72612d31586284&rdquo;,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;asset.Target&rdquo;<br>
        }<br>
      },<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke SSH Commands&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;InvokeSshCommands2&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;6172c602696f6e2d30d270a5&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokeSshCommands&rdquo;,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;Version&rdquo;: 1<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5c2fc884696f6e2d316c5d59&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes SSH commands against the given endpoint. This task can be executed on targets added as SSH Endpoint in Intersight.\n&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;ShowCommandOutput&rdquo;: true,<br>
        &ldquo;SshCommand&rdquo;: {<br>
          &ldquo;Command&rdquo;: &ldquo;ls -lrt {{.global.InvokeSshCommands1.output.ExtractedParameters.Path}}&rdquo;,<br>
          &ldquo;CommandType&rdquo;: &ldquo;NonInteractiveCmd&rdquo;<br>
        },<br>
        &ldquo;Target&rdquo;: {<br>
          &ldquo;Moid&rdquo;: &ldquo;618a500a6f72612d31586284&rdquo;,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;asset.Target&rdquo;<br>
        }<br>
      },<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke SSH Commands1&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands2&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;6172c602696f6e2d30d270a5&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokeSshCommands&rdquo;,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;Version&rdquo;: 1<br>
    }<br>
  ],<br>
  &ldquo;UiInputFilters&rdquo;: [],<br>
  &ldquo;UiRenderingData&rdquo;: {<br>
    &ldquo;Positions&rdquo;: [<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
        &ldquo;X&rdquo;: 10,<br>
        &ldquo;Y&rdquo;: 18<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 10,<br>
        &ldquo;Y&rdquo;: 697<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 152,<br>
        &ldquo;Y&rdquo;: 697<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands1&rdquo;,<br>
        &ldquo;X&rdquo;: 178.5,<br>
        &ldquo;Y&rdquo;: 105.7421875<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands2&rdquo;,<br>
        &ldquo;X&rdquo;: 178.25390625,<br>
        &ldquo;Y&rdquo;: 204.75390625<br>
      }<br>
    ]<br>
  },<br>
  &ldquo;Version&rdquo;: 1,<br>
  &ldquo;WorkflowMetadata&rdquo;: null<br>
}</p>
<p><span id="_Refd24e17342" class="anchor"></span>Executors – Invoke SSH
Commands - Reusable Task</p>
<p>Intersight Cloud Orchestrator allows workflow designers to run commands
over SSH by using the <strong>Invoke SSH Commands</strong> reusable task in the
workflows.</p>
<p>The <strong>Invoke SSH Commands</strong> task executes SSH commands against the given
Intersight SSH endpoint target.</p>
<p>Supported Targets</p>
<p>The Invoke SSH Commands task can be run only on the targets that are
added as an SSH or Ansible endpoint target type in Cisco Intersight.</p>
<p>To run the SSH Command task on the SSH or Ansible endpoint target from
Cisco Intersight, ensure that:</p>
<ul>
<li>
<p>The endpoint is reachable through Intersight Assist.</p>
</li>
<li>
<p>The endpoint target is in the Connected state.</p>
</li>
<li>
<p>The endpoint credentials are valid.</p>
</li>
</ul>
<p>For more information on Intersight Target Claim, see <a href="file://E:%5Chelp%5Cgetting_started%5Cclaim_targets">Target Claim Using
Intersight Assist</a>.</p>
<p>Using the Executor SSH Commands Reusable Task</p>
<p>Use the <strong>Invoke SSH Commands</strong> from the <strong>Executors</strong> section in the
Intersight Orchestrator Task Designer UI to create a Invoke SSH Commands
reusable task.</p>
<p>For more information on tasks, see <a href="file://E:%5Chelp%5Cresources%5CTask_Designer">Defining a
Task</a>.</p>
<p>The following table explains the Invoke SSH Commands task properties:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General</td>
<td>For more information, see <a href="file://E:\\help\\resources\\Task_Designer">Defining a Task</a>.</td>
</tr>
<tr class="even">
<td>Inputs</td>
<td><p>External Target—The external target on which the SSH commands are run. By default, the External Target task input is created for the task.</p>
<p>The SSH commands can be run only on targets added as SSH or Ansible endpoint target in Intersight and are in the connected state.</p></td>
</tr>
<tr class="odd">
<td>Outputs</td>
<td><p>To extract the required values from the command responses and map it to task outputs, do the following:</p>
<ol type="1">
<li><p>Create Task Output—Specify the task output.</p></li>
<li><p>Map to Task Output—Check the check box to map the task output to an command response.</p></li>
<li><p>Task Output—Select the command response to which the task output is mapped. The options available are:</p></li>
</ol>
<ul>
<li><p><em>Exit Code | Invoke SSH Commands</em></p></li>
<li><p><em>Command Output | Invoke SSH Commands</em></p></li>
<li><p><em>Command Execution Error| Invoke SSH Commands</em></p></li>
<li><p><em>Extracted Parameters | Invoke SSH Commands</em></p></li>
</ul>
<ol start="35" type="1">
<li><p>For more information on task outputs, see Executor Output properties.</p></li>
</ol></td>
</tr>
</tbody>
</table>
<p>The following table explains the Invoke SSH Commands executor input:</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SSH Command</td>
<td><p>The SSH commands that need to be executed on the remote server along with the details of command type.</p>
<p>Command— The SSH command string to execute against the given target. You need to specify only the command string.</p>
<p>You can specify multiple commands that need to run on the given target. For more information, see <a href="file://E:\\help\\resources\\Executor_SSH">Using SSH Commands</a>.</p>
<p><strong>Note:</strong> The command chaining is allowed only when the command type is non-interactive.</p>
<ul>
<li><p>Static Value—The SSH commands that are to be run on the remote server.</p>
<ul>
<li><p>Non-Interactive Command—The SSH command that does not require user prompts.</p></li>
<li><p>Interactive Command—The SSH commands that require user prompts. For example, the Sudo or install packages command prompts for the user inputs. To specify the user inputs for the command, do the following:</p>
<ul>
<li><p>Expect —The regular expression of the expect prompt of the interactive command. You must provide the complete regular expression of the Expect string and the expression must end with the special character '$' to match the end of the Expect string.</p></li>
<li><p>Send—The answer string to the expect prompt. You can specify a string value.</p></li>
<li><p>End prompt—The regular expression of the Shell Prompt of the remote server or target. You must provide the complete regular expression of the Shell Prompt and it must end with special character '$' to match the end of the Shell Prompt string.</p></li>
</ul></li>
</ul></li>
<li><p>Direct Mapping—Select an existing task input or task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>You can map only a custom data type of type SSH Command.</p>
</blockquote></li>
</ul>
<blockquote>
<p><strong>Note:</strong> Direct mapping of task input or output of string data type is not valid.</p>
</blockquote>
<ul>
<li><p>Advanced Mapping—You can use Go template expressions for advance use cases where data manipulation is required.</p></li>
</ul>
<ul>
<li><blockquote>
<p>For example, to use substring of the task input StringInput in the SSH command, the advanced mapping can be:</p>
</blockquote></li>
<li><blockquote>
<p>{Command: "{{Substring .global.task.input.StringInput 5 15}}", <br />
CommandType: "NonInteractiveCmd"}</p>
</blockquote></li>
<li><blockquote>
<p>The <em>CommandType</em> can be `NonInteractiveCmd` and `InteractiveCmd`.</p>
</blockquote></li>
<li><blockquote>
<p>Following is an example for the 'InteractiveCmd':</p>
</blockquote></li>
<li><blockquote>
<p>{<br />
"Command": "{{Substring .global.task.input.StringInput 5 15}}",<br />
"CommandType": "InteractiveCmd",<br />
"ExpectPrompts": [<br />
{<br />
"Expect": "Password:\\s+$",<br />
"Send": "dummyValue"<br />
}<br />
],<br />
"ShellPrompt": "\\[root\\@onprem-appliance\\]\\s+$"<br />
}</p>
</blockquote></li>
<li><blockquote>
<p>For more information on template functions, see <a href="file://E:\\help\\resources\\Executor_SSH_Reusable">Template Functions</a>.</p>
</blockquote></li>
</ul></td>
</tr>
<tr class="even">
<td>Command Timeout</td>
<td><p>The command timeout in seconds for the execution of the command against the given endpoint. The range is 10 to 7200 seconds.</p>
<p>The default timeout value is 600 seconds.</p>
<ul>
<li><p>Static Value—The command timeout in seconds for the execution of the command against the given target.</p></li>
<li><p>Direct Mapping——Select an existing task input or task output field.</p></li>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Expected Exit Codes</td>
<td><p>The list of expected exit codes for the SSH command that is run by the task. Task status is set to Success if the obtained exit code is present in the list of expected exit codes.</p>
<p>If this input is not specified, then the default exit code is 0 and is used to determine the status of command execution.</p>
<ul>
<li><p>Static Value—The exit code for the SSH command that is run by the task.</p></li>
<li><p>Direct Mapping—Select the expected exit codes from the task input or task output.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>The response parser specification which is used to extract the values from the command response.</p>
<ul>
<li><p>Static Value</p>
<ul>
<li><p>Regular Expression—The regular expression of the line in the command response where the interested capture value resides. The format to specify the capture value in this input is '$&lt;Name of the parameter&gt;'. For example, if we need to capture <em>'intersight'</em> in the sample response 'intersight@cisco.com', the regular expression looks like $&lt;Name&gt;\@cisco\.com where '<em>Name</em>' is the name given to this captured parameter.</p></li>
<li><p>Name—The name of the output under which the captured value is saved. This name should be the same that is provided in the Regular Expression—$&lt;Name&gt;.</p></li>
<li><p>Type—The response parameter type—String, Integer, Float, or Boolean.</p></li>
</ul>
<ul>
<li><blockquote>
<p>The default value is String.</p>
</blockquote></li>
</ul></li>
<li><p>Direct Mapping—Select a task input or task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul>
<p>For more information, see <a href="file://E:\\help\\resources\\Executor_SSH">Response Parser</a>.</p></td>
</tr>
</tbody>
</table>
<p>The following table explains the SSH Command executor Outputs :</p>
<table>
<colgroup>
<col style="width: 24%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Exit Code</td>
<td>The exit code after the execution of the command against the given endpoint.</td>
</tr>
<tr class="even">
<td>Command Output</td>
<td>The complete response after the execution of the command against the given endpoint.</td>
</tr>
<tr class="odd">
<td>Command Execution Error</td>
<td>Captures the error encountered while executing the command.</td>
</tr>
<tr class="even">
<td>Extracted Parameters</td>
<td>The response parser extracted outputs from the command execution response.</td>
</tr>
</tbody>
</table>
<p>The following table explains the Invoke SSH Commands task Outcomes:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Outcomes</td>
<td><p>To set the custom execution status and status message based on the obtained outputs, do the following:</p>
<ol type="1">
<li><p>Click Add Outcome.</p></li>
<li><p>Name—The name for the outcome.</p></li>
<li><p>Outcome Type—Select the outcome type. The options available are Success, Skip To Success, Error, Terminal Error, Skip Task Execution, or Status.</p></li>
</ol>
<ol start="36" type="1">
<li><p>For more information on Outcomes, see <a href="file://E:\\help\\resources\\Task_Designer">Outcomes</a>.</p></li>
</ol>
<ol start="4" type="1">
<li><p>Message—The message when the condition is met.</p></li>
<li><p>Condition—The condition for the outcome.</p></li>
</ol>
<ol start="37" type="1">
<li><p>For example, {{eq .global.InvokeSshCommands1.output.ExitCode "0"}}.</p></li>
<li><p>This condition checks whether the output `ExitCode` of the executor named `InvokeSshCommands1` equals to 0. If the condition is true, the task status is set to the value provided in `Outcome Type` and task status message is set to value provided in `Message`.</p></li>
</ol></td>
</tr>
</tbody>
</table>
<p>Using SSH Commands</p>
<p>You can specify multiple commands that need to run on the given target
by chaining the commands with special characters. The following table
explains the operators.</p>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="header">
<th>Operators</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&amp;&amp; (Logical AND)</td>
<td>The command following this operator will only execute if the command preceding this operator has been successfully executed.</td>
</tr>
<tr class="even">
<td>; (Semi-colon)</td>
<td>The command following this operator will execute even if the command preceding this operator is not successfully executed.</td>
</tr>
<tr class="odd">
<td>|| ( Logical OR)</td>
<td>The command succeeding this operator is only executed if the command preceding it has failed.</td>
</tr>
<tr class="even">
<td>| (Pipe)</td>
<td>The output of the first command acts as input to the second command.</td>
</tr>
<tr class="odd">
<td>! (NOT)</td>
<td>Negates an expression within a command. It is much like an “except” statement.</td>
</tr>
<tr class="even">
<td>&gt;,&gt;&gt;, &lt; (Redirection)</td>
<td>Redirects the output of a command or a group of commands to a file or stream.</td>
</tr>
</tbody>
</table>
<p>Template Parameters</p>
<p>The request body template can refer to values from task inputs, previous
task outputs, or implicit parameters. The following table explains the
template parameters.</p>
<table>
<colgroup>
<col style="width: 67%" />
<col style="width: 32%" />
</colgroup>
<thead>
<tr class="header">
<th>Prefix/Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{.global.task.input.&lt;ParameterName&gt;}}</td>
<td>Task input reference.</td>
</tr>
<tr class="even">
<td>{{.global.&lt;ExecutorRefName&gt;.output.&lt;ParameterName&gt;}}</td>
<td>Previous executor output reference. <strong>ExecutorRefName</strong> is the name of the previous executor having output <strong>ParameterName</strong>.</td>
</tr>
<tr class="odd">
<td>{{.security.AccountMoid}}</td>
<td>Implicit parameter reference to Account MoID under which the workflow is running.</td>
</tr>
<tr class="even">
<td>{{.security.OrganizationMoid}}</td>
<td>Implicit parameter reference to Organization MoID under which the workflow is running.</td>
</tr>
</tbody>
</table>
<p>Template Functions</p>
<p>The template engine has in-built functions to transform values before
they are populated in the request templates. The following table
explains the functions supported in <strong>Invoke SSH Commands</strong> task.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TrimSpace</td>
<td><p>Returns a string after removing white spaces from a the string.</p>
<p>Example:</p>
<p>{{TrimSpace .global.task.input.HostName}}</p></td>
</tr>
<tr class="even">
<td>ContainsString</td>
<td><p>Returns a boolean if a substring is present in a given string.</p>
<p>Example:</p>
<p>{{if (ContainsString .global.task.input.SizeAsString \”MB\”)}}Mega Bytes{{else}}Bytes{{end}}</p></td>
</tr>
<tr class="odd">
<td>FindAllString</td>
<td><p>Returns a slice of substrings matching the regular expression in a given string.</p>
<p>Example:</p>
<p>{{(FindAllString .global.task.input.NumberString \”([0-9]+)\”)}}</p>
<p>The above example returns array [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="even">
<td>ToJson</td>
<td><p>Converts a value to a JSON format.</p>
<p>Example:</p>
<p>{{(FindAllString .global.task.input.NumberString \"([0-9]+)\") | ToJson}}</p>
<p>The above example returns JSON array literal [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="odd">
<td>AsArray</td>
<td><p>Takes in an element and returns an array of one element.</p>
<p>Example:</p>
<p>{{AsArray .global.task.output.serverMo}}</p>
<p>The above example returns an array of one server Mo.</p></td>
</tr>
<tr class="even">
<td>Substring</td>
<td><p>Returns a substring within the given index bounds.</p>
<p>Example:</p>
<p>{{Substring .global.task.input.StorageId 2 6}}</p>
<p>The above example returns “ABCD” for string “12ABCD3456.”</p></td>
</tr>
<tr class="odd">
<td>IpToCidr</td>
<td><p>Returns the classless inter-domain routing (CIDR) notation of an IPv4 address and subnet mask.</p>
<p>Example:</p>
<p>{{IpToCidr .global.task.input.Ip .global.task.input.Netmask}}</p>
<p>The above example returns “10.10.10.10/24” for the input parameters “10.10.10.10” and “255.255.255.0.”</p></td>
</tr>
<tr class="even">
<td>LookupInSlice</td>
<td><p>Checks if a given value is present in given slice or array and returns true if it exists. This function can be used for any value.</p>
<p>Example:</p>
<p>{{LookupInSlice .global.task.input.IpAddressList \”10.10.10.10\”}}</p>
<p>The above example returns true for input [”10.10.10.10”, “20.20.20.20”].</p></td>
</tr>
<tr class="odd">
<td>Index</td>
<td><p>Returns a value from an array when an input index exists.</p>
<p>Example:</p>
<p>{{ index .global.task.input.nodes .global.task.input.idx }} </p>
<p>In the above example, if nodes is an array of devices and idx is 2, the index function returns the second device in the array.</p></td>
</tr>
<tr class="even">
<td>Itob</td>
<td><p>Converts an integer to a boolean.</p>
<p>Example:</p>
<p>{{ Itob global.task.input.OnOffFlip }} </p>
<p>The above example returns true and false for inputs 1 and 0 respectively.</p></td>
</tr>
<tr class="odd">
<td>Itoa</td>
<td><p>Converts a given number to a string value.</p>
<p>Example:</p>
<p>{{ Itoa global.task.input.Port }} </p>
<p>The above example returns “12345” for input 12345.</p></td>
</tr>
<tr class="even">
<td>Itof</td>
<td><p>Converts a given integer to a float value.</p>
<p>Example:</p>
<p>{{ Itof global.task.input.Rate }}</p>
<p>The above example returns 15.0 for an input 15.</p></td>
</tr>
<tr class="odd">
<td>Btoa</td>
<td><p>Converts a given boolean to a string value.</p>
<p>Example:</p>
<p>{{ Btoa global.task.input.OnOffFlip }}</p>
<p>The above example returns “true” for input true.</p></td>
</tr>
<tr class="even">
<td>Btoi</td>
<td><p>Converts a given boolean to a integer value.</p>
<p>Example:</p>
<p>{{ Btoi global.task.input.OnOffFlip }}</p>
<p>The above example returns 1 and 0 for inputs true and false respectively.</p></td>
</tr>
<tr class="odd">
<td>Atob</td>
<td><p>Converts the given string into a boolean value.</p>
<p>Example:</p>
<p>{{ Atob global.task.input.OnOffFlip }}Returns true for input “true”</p></td>
</tr>
<tr class="even">
<td>Atoi</td>
<td><p>Converts a given number in string format to the integer type.</p>
<p>Example:</p>
<p>{{Atoi .global.task.input.SizeString}} returns integer 2048 for input string “2048”</p></td>
</tr>
<tr class="odd">
<td>Ftoa</td>
<td><p>Converts a given number into the string form based on the given precision.</p>
<p>Example:</p>
<p>{{Ftoa .global.task.input.Size 2}} returns the following output: 123.456 =&gt; “123.45”, 1028 =&gt; “1028.00”</p></td>
</tr>
<tr class="even">
<td>Ftoi</td>
<td><p>Converts a given float input to a integer value.</p>
<p>Example:</p>
<p>{{ Ftoi global.task.input.Rate }}</p>
<p>The above example returns 15 for an input 15.833.</p></td>
</tr>
<tr class="odd">
<td>Eval</td>
<td><p>Supports an expression evaluation function. The below example returns 2GB for a input value of 2048. Note that the second argument is passed as ‘.’ in the template, which represents the map of all parameters.</p>
<p>{{Eval \"{{.global.task.input.Size}} / 1024\" .}}GB</p></td>
</tr>
</tbody>
</table>
<p>Template Engine Syntax</p>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}</p>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}</p>
<p>Response Parser</p>
<p>A response parser is a collection of parameters that model values to be
extracted from the SSH command response.</p>
<p><strong>Example: Create a response parser to get the IP address for a ping
command</strong></p>
<p>To get the IP address for the host such as <em><a href="https://www.example.com">www.example.com</a></em>, you can
use the ping command:</p>
<p>ping example.com -4<br>
Pinging example.com [<strong>93.184.216.34</strong>] with 32 bytes of data:<br>
Reply from 93.184.216.34: bytes=32 time=229ms TTL=53<br>
Reply from 93.184.216.34: bytes=32 time=230ms TTL=53<br>
Reply from 93.184.216.34: bytes=32 time=230ms TTL=53<br>
Reply from 93.184.216.34: bytes=32 time=229ms TTL=53ping example.com</p>
<p>To extract the IP address from the command output for an SSH Command
task, you can configure the response parser as:</p>
<ul>
<li>
<p>Regular Expression—Pinging\s+example.com\s+\[$&lt;IP&gt;\]\s+.*</p>
</li>
<li>
<p>Name—IP</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> This name should be the same that is provided in the Regular
Expression field. In the above example, the Regular Expression uses
name $&lt;IP&gt; so the Name specified must be &ldquo;IP&rdquo;.</p>
</blockquote>
<ul>
<li>Type—String</li>
</ul>
<p>Invoke SSH Command Reusable Task Examples</p>
<p><strong>Example 1: Create a reusable SSH Command task to list the current
working directory on the host</strong></p>
<p>This example task runs on an Intersight SSH endpoint target. This task
runs the <em>pwd</em> command on the SSH endpoint target and obtains the
current working directory in the output.</p>
<p>The task properties required for this example are as following:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General</td>
<td><ul>
<li><p>Organization—The organization that you are creating the task in.</p></li>
<li><p>Display Name—A user friendly short name to identify the task definition.</p></li>
<li><p>Reference Name—The name of the Task definition.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Inputs</td>
<td><ul>
<li><p>External Target—By default, the External Target task input is created for the task.</p>
<ul>
<li><p>Reference Name—Target</p></li>
<li><p>Type—Target Data Type</p></li>
</ul></li>
</ul></td>
</tr>
<tr class="odd">
<td>Outputs</td>
<td><ul>
<li><p>ExitCode—Task output</p>
<ul>
<li><p>Reference Name—ExitCode</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Exit Code | Invoke SSH Command</em></p></li>
</ul></li>
<li><p>Response—Task output</p>
<ul>
<li><p>Reference Name—Response</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Command Output| Invoke SSH Command</em></p></li>
</ul></li>
<li><p>Lastline—Task output</p>
<ul>
<li><p>Reference Name—Response</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Extracted Parameters | Invoke SSH Command</em> - <em>WorkingDirectory</em></p></li>
</ul></li>
<li><p>Error—Task output</p>
<ul>
<li><p>Reference Name—Error</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Extracted Parameters | Invoke SSH Command</em> - <em>CommandExecutionError</em></p></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the Invoke SSH Command executor inputs:</p>
<table>
<colgroup>
<col style="width: 24%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SSH Command</td>
<td>Static | Non-interactive—Command—pwd</td>
</tr>
<tr class="even">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="odd">
<td>Expected Exit Codes</td>
<td>Default value.</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>When you run the pwd command, you get the following output:</p>
<p>$pwd<br />
/home/user</p>
<p>To extracts the path and display it, configure the response parser as:</p>
<ul>
<li><p>Regular Expression—$&lt;WorkingDirectory&gt;</p></li>
<li><p>Name—WorkingDirectory</p></li>
<li><p>Type—String</p></li>
</ul>
<p>The configured response parser captures the entire response line.</p></td>
</tr>
</tbody>
</table>
<p><strong>Example 2: Create a reusable SSH Command task to install jq Linux
command line utility on a host using interactive SSH commands</strong></p>
<p>This example task runs on an Intersight SSH endpoint target. In this
task, the <em>Sudo</em> password is provided by the command input field, and jq
Linux command line utility is installed on the SSH endpoint target.</p>
<p>The task properties required for this example are as following:</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General</td>
<td><ul>
<li><p>Organization—The organization that you are creating the task in.</p></li>
<li><p>Display Name—A user friendly short name to identify the task definition.</p></li>
<li><p>Reference Name—The name of the Task definition.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Inputs</td>
<td><ul>
<li><p>External Target—By default, the External Target task input is created for the task.</p>
<ul>
<li><p>Reference Name—Target</p></li>
<li><p>Type—Target Data Type</p></li>
</ul></li>
</ul></td>
</tr>
<tr class="odd">
<td>Outputs</td>
<td><ul>
<li><p>ExitCode—Task output</p>
<ul>
<li><p>Reference Name—ExitCode</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Exit Code | Invoke SSH Command</em></p></li>
</ul></li>
<li><p>Response—Task output</p>
<ul>
<li><p>Reference Name—Response</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Command Output| Invoke SSH Command</em></p></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the Invoke SSH Command executor inputs:</p>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 85%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SSH Command</td>
<td><p>Static | Interactive—Command—<em>sudo yum install -y jq</em> | Interactive</p>
<ul>
<li><p>Expect—The Expect string obtained while executing the SSH command is <em>[sudo]</em> password for <em>qali:</em>. You need to specify the Expect input as the regular expression of the Obtained prompt <em>\[sudo\]\spassword\sfor\sqali:\s$</em>.</p></li>
<li><p>Send—<em>testPasswd</em>.</p></li>
<li><p>Shell Prompt—The shell prompt obtained before executing the SSH command is <em>qali@automationvm-15:~$</em>. You need to specify the regular expression of the obtained shell prompt <em>qali\@automationvm-15:~\$\s?$</em>.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="odd">
<td>Expected Exit Codes</td>
<td>Default value.</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>Default value.</td>
</tr>
</tbody>
</table>
<p><span id="_Refd24e19406" class="anchor"></span>Executors – Invoke Web
API Request</p>
<p>Intersight Orchestrator allows workflow designers to perform web API
requests by using the <strong>Invoke Web API Request</strong> task in workflows. The
<strong>Web API Request</strong> task allows executing web API requests on external
targets not managed by Intersight or on the Intersight API endpoints.</p>
<p>Intersight Orchestrator framework provides predefined reusable tasks
that form the basis of workflows to automate customer operations. In
some scenarios, predefined tasks are not enough to automate customer
operations:</p>
<ul>
<li>
<p>New parameters are added to the device specific API to enhance the
existing functionality or the device exposes new functionality which
is not available in the task library.</p>
</li>
<li>
<p>To orchestrate the device operations for devices that are not
currently managed by Intersight.</p>
</li>
</ul>
<p>The <strong>Web API Request</strong> task is an out-of-box solution that allows you
to automate operations on the endpoints by invoking web APIs via HTTP or
HTTPS. This feature allows a workflow designer to extend the automation
capabilities of the workflow engine beyond what is natively available in
the task library and interact with any HTTP or HTTPS endpoint.</p>
<p>Supported Endpoints</p>
<p>Natively supported Intersight targets on which a Web API Task is tested
and verified are Cisco UCS Director, Pure Storage Flash Array, NetApp
Active Iq Unified Manager, Hitachi Virtual Storage Platform, VMware
vCenter Server, Terraform Cloud, and Cisco Application Policy
Infrastructure Controller (APIC).</p>
<p><strong>Note:</strong> The Web API task is supported on Cisco UCS Director 6.8.3.0 or
later.</p>
<p>The Web API task can also be executed on any HTTP(S) endpoint, which is
added as HTTP Endpoint target type in Intersight Targets, provided the
endpoint is reachable either directly from Intersight or via Intersight
Assist when hosted on customer premises.</p>
<p>HTTP Endpoints</p>
<p>The Invoke Web API Request task allows sending HTTP(S) requests to HTTP
Endpoint. HTTP Endpoint is an external entity that can be configured
under Intersight Targets and can be accessed in Intersight Orchestrator
workflows through the APIs exposed by the endpoint. HTTP Endpoint must
be accessed via Intersight Assist if the endpoint resides in customer
premises. This can be facilitated by associating the Intersight Assist
input while claiming the HTTP Endpoint target. The target entities that
are directly reachable from the Intersight Cloud do not need Intersight
Assist.</p>
<p>Endpoints that support the following HTTP Authentication schemes can be
added as Targets:</p>
<ul>
<li>
<p>Basic HTTP Authentication–Requires username and password to
authenticate the endpoint.</p>
</li>
<li>
<p>Bearer Token Authentication–Requires token to authenticate the
endpoint.</p>
</li>
</ul>
<p><strong>Note:</strong> Bearer Token Authentication requires a valid access token to
invoke the endpoint API. You should refresh the access token if it is
expired and update the HTTP Endpoint target with the refreshed token.</p>
<p>You can also add HTTP Endpoint target without authentication. This is to
facilitate invoking HTTP(S) API on the endpoints that do not require any
authentication or on the endpoint that requires an authentication method
that is not natively supported. In the later scenario, you should
provide the authentication parameters in the required format in the web
API task. The Invoke Nexus device API to authenticate using aaaLogin in
the web API examples illustrate invoking web API task on Nexus switch
that requires aaaLogin authentication mechanism.</p>
<p>External targets not connected to Intersight can be modeled as HTTP
Endpoint objects as follows:</p>
<ul>
<li>
<p>Capture all the required information to connect to and authenticate
the target. For example, to invoke HTTP or HTTPS web APIs on the
target using the Invoke Web API Request, HTTP Endpoint must have IP
address, port number, and the authentication parameters to connect
to the endpoint.</p>
</li>
<li>
<p>Supports a single HTTP connection parameter set per Target and
Target name is mandatory. HTTP Endpoint with different name having
the same IP address or hostname cannot be created.</p>
</li>
</ul>
<p>Using the Invoke Web API Request</p>
<p>Use the <strong>Invoke Web API Request Task</strong> from <strong>Executors</strong> section in
the Intersight Orchestrator UI to create a request for a target. The
target can be Intersight API or an external endpoint added as HTTP
Endpoint in the Intersight Targets. The following table explains the
input properties.</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td>Maps a HTTP Endpoint. An external target not selected indicates that the request will be considered as an Intersight API request.</td>
</tr>
<tr class="even">
<td>Method</td>
<td>Standard HTTP method requested for the specified URL.</td>
</tr>
<tr class="odd">
<td>URL</td>
<td>Relative URL of the RestAPI endpoint without hostname and port details. For external targets, this field points to the relative URL path of the RestAPI endpoint. If an external target is empty, this field points to the relative path of the Intersight API endpoint.</td>
</tr>
<tr class="even">
<td>Headers</td>
<td>Request headers that are sent in the key value pairs. The values should be array of type string.</td>
</tr>
<tr class="odd">
<td>Cookies</td>
<td>The key value pairs provided in this input are sent in HTTP 'Cookie' header. The values should be array of type string.</td>
</tr>
<tr class="even">
<td>Content Type</td>
<td>Response content type. Currently supports JSON.</td>
</tr>
<tr class="odd">
<td>Body</td>
<td>(Optional) The request body includes two values: The content type of the request body—JSON or Text and the actual request body. The request body is a template if a workflow input or previous task output values are referred in the request body.</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>Structure of the response parser providing a list of values to be extracted from the API response.</td>
</tr>
<tr class="odd">
<td>Outcomes</td>
<td>(Optional) Allows to define the custom API execution status and/or custom execution message based on the task outputs.</td>
</tr>
</tbody>
</table>
<p>Template Parameters</p>
<p>The request body template can refer to values from workflow inputs,
previous task outputs, or implicit parameters for Intersight API calls.
The following table explains the template parameters.</p>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="header">
<th>Prefix/Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{.global.workflow.input.&lt;ParameterName&gt;}}</td>
<td>Workflow input reference.</td>
</tr>
<tr class="even">
<td>{{.global.&lt;TaskRefName&gt;.output.<br />
Parameters.&lt;ParameterName&gt;}}</td>
<td>Previous task output reference. <strong>TaskRefName</strong> is the name of the previous task having output <strong>ParameterName</strong>.</td>
</tr>
<tr class="odd">
<td>{{.security.AccountMoid}}</td>
<td>Implicit parameter reference to Account MoID under which the workflow is running.</td>
</tr>
<tr class="even">
<td>{{.security.OrganizationMoid}}</td>
<td>Implicit parameter reference to Organization MoID under which the workflow is running.</td>
</tr>
</tbody>
</table>
<p>Template Functions</p>
<p>The template engine has in-built functions to transform values before
they are populated in the request templates. The following table
explains the functions supported in <strong>Invoke Web API Request</strong> task.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TrimSpace</td>
<td><p>Returns a string after removing whitespaces from a the string.</p>
<p>Example:</p>
<p>{{TrimSpace .global.workflow.input.HostName}}</p></td>
</tr>
<tr class="even">
<td>ContainsString</td>
<td><p>Returns a boolean if a substring is present in a given string.</p>
<p>Example:</p>
<p>{{if (ContainsString .global.workflow.input.SizeAsString \”MB\”)}}Mega Bytes{{else}}Bytes{{end}}</p></td>
</tr>
<tr class="odd">
<td>FindAllString</td>
<td><p>Returns a slice of substrings matching the regular expression in a given string.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \”([0-9]+)\”)}}</p>
<p>The above example returns array [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="even">
<td>ToJson</td>
<td><p>Converts a value to a JSON format.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \"([0-9]+)\") | ToJson}}</p>
<p>The above example returns JSON array literal [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="odd">
<td>AsArray</td>
<td><p>Takes in an element and returns an array of one element.</p>
<p>Example:</p>
<p>{{AsArray .global.workflow.output.serverMo}}</p>
<p>The above example returns an array of one server Mo.</p></td>
</tr>
<tr class="even">
<td>Substring</td>
<td><p>Returns a substring within the given index bounds.</p>
<p>Example:</p>
<p>{{Substring .global.workflow.input.StorageId 2 6}}</p>
<p>The above example returns “ABCD” for string “12ABCD3456.”</p></td>
</tr>
<tr class="odd">
<td>IpToCidr</td>
<td><p>Returns the classless inter-domain routing (CIDR) notation of an IPv4 address and subnet mask.</p>
<p>Example:</p>
<p>{{IpToCidr .global.workflow.input.Ip .global.workflow.input.Netmask}}</p>
<p>The above example returns “10.10.10.10/24” for the input parameters “10.10.10.10” and “255.255.255.0.”</p></td>
</tr>
<tr class="even">
<td>LookupInSlice</td>
<td><p>Checks if a given value is present in given slice or array and returns true if it exists. This function can be used for any value.</p>
<p>Example:</p>
<p>{{LookupInSlice .global.workflow.input.IpAddressList \”10.10.10.10\”}}</p>
<p>The above example returns true for input [”10.10.10.10”, “20.20.20.20”].</p></td>
</tr>
<tr class="odd">
<td>Index</td>
<td><p>Returns a value from an array when an input index exists.</p>
<p>Example:</p>
<p>{{ index .global.workflow.input.nodes .global.workflow.input.idx }} </p>
<p>In the above example, if nodes is an array of devices and idx is 2, the index function returns the second device in the array.</p></td>
</tr>
<tr class="even">
<td>Itob</td>
<td><p>Converts an integer to a boolean.</p>
<p>Example:</p>
<p>{{ Itob global.workflow.input.OnOffFlip }} </p>
<p>The above example returns true and false for inputs 1 and 0 respectively.</p></td>
</tr>
<tr class="odd">
<td>Itoa</td>
<td><p>Converts a given number to a string value.</p>
<p>Example:</p>
<p>{{ Itoa global.workflow.input.Port }} </p>
<p>The above example returns “12345” for input 12345.</p></td>
</tr>
<tr class="even">
<td>Itof</td>
<td><p>Converts a given integer to a float value.</p>
<p>Example:</p>
<p>{{ Itof global.workflow.input.Rate }}</p>
<p>The above example returns 15.0 for an input 15.</p></td>
</tr>
<tr class="odd">
<td>Btoa</td>
<td><p>Converts a given boolean to a string value.</p>
<p>Example:</p>
<p>{{ Btoa global.workflow.input.OnOffFlip }}</p>
<p>The above example returns “true” for input true.</p></td>
</tr>
<tr class="even">
<td>Btoi</td>
<td><p>Converts a given boolean to a integer value.</p>
<p>Example:</p>
<p>{{ Btoi global.workflow.input.OnOffFlip }}</p>
<p>The above example returns 1 and 0 for inputs true and false respectively.</p></td>
</tr>
<tr class="odd">
<td>Atob</td>
<td><p>Converts the given string into a Boolean value.</p>
<p>Example:</p>
<p>{{ Atob global.workflow.input.OnOffFlip }}Returns true for input “true”</p></td>
</tr>
<tr class="even">
<td>Atoi</td>
<td><p>Converts a given number in string format to the integer type.</p>
<p>Example:</p>
<p>{{Atoi .global.task.input.SizeString}} returns integer 2048 for input string “2048”</p></td>
</tr>
<tr class="odd">
<td>Ftoa</td>
<td><p>Converts a given number into the string form based on the given precision.</p>
<p>Example:</p>
<p>{{Ftoa .global.task.input.Size 2}} returns the following output: 123.456 =&gt; “123.45”, 1028 =&gt; “1028.00”</p></td>
</tr>
<tr class="even">
<td>Ftoi</td>
<td><p>Converts a given float input to a integer value.</p>
<p>Example:</p>
<p>{{ Ftoi global.workflow.input.Rate }}</p>
<p>The above example returns 15 for an input 15.833.</p></td>
</tr>
<tr class="odd">
<td>Eval</td>
<td><p>Supports an expression evaluation function. The below example returns 2GB for a input value of 2048. Note that the second argument is passed as ‘.’ in the template, which represents the map of all parameters.</p>
<p>{{Eval \"{{.global.workflow.input.Size}} / 1024\" .}}GB</p></td>
</tr>
</tbody>
</table>
<p>Template Engine Syntax</p>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}</p>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}</p>
<p>Response Parser</p>
<p>A response parser allows extracting values from API responses. A
response parser is a collection of parameters that model values to be
extracted from the API response. Each parameter needs to specify the
following values:</p>
<ul>
<li>
<p><strong>Path</strong>—Content specific path reference pointing to the location
where the value is present in the response. Currently, JSON is
supported. The path is JSONPath.</p>
</li>
<li>
<p><strong>Name</strong>—Unique name in the response parser to identify and extract
a specific value.</p>
</li>
<li>
<p><strong>Type</strong>—Type of the value extracted from the response.</p>
</li>
</ul>
<p><strong>Note:</strong> The values extracted using the response parser are populated
in the task output parameters.</p>
<p>Outcomes</p>
<p>An outcome is the combination of a condition and task status. You use
the extracted values from the API response to determine the task status
and set the status with an appropriate message, when the condition
matches. You can specify one or more outcomes and the outcomes are
evaluated in the specified order. The first outcome condition that
matches, sets the task status and message. Outcomes is an optional input
to web API task and if not specified, task status is set to failed when
the HTTP status code is between 400 to 600, else the status is marked as
successful.</p>
<p>The outcomes of a task are as follows:</p>
<ul>
<li>
<p><strong>Success</strong>—Marks the task as Success if the condition matches.</p>
</li>
<li>
<p><strong>Error</strong>—Marks the task as Failed if the condition matches.</p>
</li>
<li>
<p><strong>Terminal error</strong>—Marks the API execution as Failed if the
condition matches. This marks a non-recoverable error and no retries
are attempted.</p>
</li>
<li>
<p><strong>Skip Task Execution</strong>—Skips the execution of a task if the
respective condition matches.</p>
</li>
</ul>
<p>Outcomes feature is illustrated in the example - Fetch details of NetApp
volume using volume ID.</p>
<p><strong>Web API Responses</strong></p>
<p>The web API responses for the requests are sent in the following
parameters as described in the following table.</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Headers</td>
<td><p>Response headers extracted from the API response. The extracted response headers can be referred to and mapped using the following format:</p>
<p>{{.global.&lt;TaskRefName&gt;.output.Headers.&lt;HeaderName&gt;}}.</p>
<p>For example if the task reference name is <strong>InvokeGenericWebApi1</strong>, to get ContentLength header, the reference name will be:</p>
<p>{{.global.InvokeGenericWebApi1.output.Headers.ContentLength}}.</p></td>
</tr>
<tr class="even">
<td>Cookies</td>
<td>List of cookies obtained from the response in the form of key value pairs.</td>
</tr>
<tr class="odd">
<td>Status Code</td>
<td>HTTP status code of the web API response.</td>
</tr>
<tr class="even">
<td>Status Message</td>
<td>HTTP status message of the web API response.</td>
</tr>
<tr class="odd">
<td>Parameters</td>
<td><p>List of output parameters extracted from the response. The output capture template format is as follows:</p>
<p>{{.global.[Name of the previous task].output.Parameters.<br />
[Name of the parameter in response parser of the previous task]}}</p>
<p>For example, if the response parser captures a string value as `Moid` from the API response, the corresponding output mapping for `Moid` is as follows:</p>
<p>{{.global.[TaskRefName].output.Parameters.Moid}}</p>
<p>In the above example, <strong>TaskRefName</strong> refers to a task which has MOID as output parameter.</p></td>
</tr>
</tbody>
</table>
<p><strong>Note: TaskRefName</strong> for the output mapping must be referred from the
corresponding task name in the JSON View tab of Workflow Designer.</p>
<p>Web API Request Task Examples</p>
<p><strong>Example: Create a NetApp Volume and Create Snapshot of the Volume –
Illustrates Task Output Mapping</strong></p>
<p>The following example workflow has two Invoke Web API tasks. The first
task shows how to create a NetApp volume. In this task, the UUID is
extracted for the newly created volume from the response. The second
task fetches the previously created volume details using the first
task’s captured UUID output and Create Snapshot for the same Volume.
This example assumes that the workflow inputs names are <strong>VolumeName</strong>,
<strong>VolumeSize</strong>, <strong>StorageVM</strong>, and <strong>Aggregate</strong> already exists.</p>
<p>The following is a sample API request sent to NetApp to create a volume.</p>
<p>POST /api/storage/volumes?return_timeout=0&amp;return_records=true HTTP/1.1<br>
{<br>
&ldquo;name&rdquo;: &ldquo;backup&rdquo;,<br>
&ldquo;size&rdquo;: &ldquo;4TB&rdquo;, &ldquo;svm&rdquo;: {<br>
&ldquo;name&rdquo;: &ldquo;backup-svm&rdquo;<br>
},<br>
&ldquo;aggregates&rdquo;: [<br>
{<br>
&ldquo;name&rdquo;: &ldquo;backup-aggregate&rdquo;<br>
}<br>
]<br>
}</p>
<p>The following is a sample response received from NetApp.</p>
<p>{<br>
&ldquo;num_records&rdquo;: 1, &ldquo;records&rdquo;: [<br>
{<br>
&ldquo;uuid&rdquo;: &ldquo;19d79da1-2e89-11eb-9685-00a0986a3b4f&rdquo;, &ldquo;name&rdquo;: &ldquo;&rdquo;,<br>
&ldquo;size&rdquo;:4294967296,<br>
&ldquo;aggregates&rdquo;: [<br>
{<br>
&ldquo;name&rdquo;: &ldquo;backup-aggregate&rdquo;<br>
}<br>
],<br>
&ldquo;svm&rdquo;: {<br>
&ldquo;name&rdquo;: &ldquo;backup-svm&rdquo;<br>
}<br>
}<br>
],<br>
&ldquo;job&rdquo;: {<br>
&ldquo;uuid&rdquo;: &ldquo;19db360a-2e89-11eb-9685-00a0986a3b4f&rdquo;, &ldquo;_links&rdquo;: {<br>
&ldquo;self&rdquo;: {<br>
&ldquo;href&rdquo;: &ldquo;/api/cluster/jobs/19db360a-2e89-11eb-9685-00a0986a3b4f&rdquo;<br>
}<br>
}<br>
}<br>
}</p>
<p>From the above response, the JSON path for the <strong>uuid</strong> value in the
<strong>records</strong> parameter is <strong>$.records[0].uuid</strong>.</p>
<p>The following table displays the required web API request task input and
response parser to achieve the above requirements.</p>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Target</td>
<td>External targets can be mapped to Targets either as custom value or workflow input.</td>
</tr>
<tr class="even">
<td>Method</td>
<td>"Method": "POST",</td>
</tr>
<tr class="odd">
<td>URL</td>
<td>"Url": "/api/storage/volumes?<br />
return_records=true",</td>
</tr>
<tr class="even">
<td>Body</td>
<td><p>The request body has templates with values referred from workflow input as follows:</p>
<p>"Body": {<br />
"name":<br />
"{{.global.workflow.input.VolumeName}}",<br />
"size":<br />
"{{.global.workflow.input.VolumeSize}}",<br />
"svm": {<br />
"name":<br />
"{{.global.workflow.input.StorageVm}}"<br />
},<br />
"aggregates": [<br />
{<br />
"name":<br />
"{{.global.workflow.input.Aggregate}}"<br />
}<br />
]<br />
}</p></td>
</tr>
<tr class="odd">
<td>Content Type</td>
<td>"ContentType": "json",</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>"ResponseParser": {<br />
"Parameters": [<br />
{<br />
"Name": "Uuid",<br />
"Path": "$.records[0].uuid",<br />
"Type": "string"<br />
}</td>
</tr>
</tbody>
</table>
<p>The following is a sample API request sent to NetApp to create snapshots
using volume UUID:</p>
<p>POST /api/storage/volumes/19d79da1-2e89-11eb-9685-00a0986a3b4f/snapshots<br>
{&ldquo;name&rdquo;: &ldquo;BackupVolume&rdquo;, &ldquo;comment&rdquo;: &ldquo;backup Data&rdquo; }</p>
<p>The following is a sample response received from NetApp.</p>
<p>{<br>
    &ldquo;job&rdquo;: {<br>
        &ldquo;uuid&rdquo;: &ldquo;13194cda-7d20-11eb-9991-00a0986a3b4f&rdquo;,<br>
        &ldquo;_links&rdquo;: {<br>
            &ldquo;self&rdquo;: {<br>
                &ldquo;href&rdquo;: &ldquo;/api/cluster/jobs/13194cda-7d20-11eb-9991-00a0986a3b4f&rdquo;<br>
            }<br>
        }<br>
    }<br>
}</p>
<p>The web API request task inputs and response parser are captured from
the snapshots UUID. The URL input requires previous task’s UUID output.
The name of web API tasks within a workflow is named
InvokeGenericWebApi&lt;number&gt;, irrespective of what the user names it.
To get previous task name through workflow designer, click the JSON View
button and make a note of the Task Name, for example,
InvokeGenericWebApi1.</p>
<img src="./images//media/image4.jpeg" style="width:6.69291in;height:2.926in" />
<p>The output mapping template format is as follows:</p>
<p>{{.global.InvokeGenericWebApi1.output.Parameters.Uuid}}</p>
<p>The following table displays the required web API request task input and
response parser to achieve the above requirements.</p>
<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Target</td>
<td>External targets can be mapped to Targets either as custom value or workflow input.</td>
</tr>
<tr class="even">
<td>Method</td>
<td>"Method": "POST",</td>
</tr>
<tr class="odd">
<td>URL</td>
<td><p>"Url": "/api/storage/volumes/{{.global.InvokeGenericWebApi1.output.Parameters.Uuid}}/snapshots",</p>
<p><strong>Note: InvokeGenericWebApi1</strong> is the task reference name of the previous task in the workflow.</p></td>
</tr>
<tr class="even">
<td>Body</td>
<td><p>The request body has templates with values referred from workflow input as follows:</p>
<p>"Body": {"name": "{{.global.workflow.input.SnapshotName}}", "comment": "Backup Copy" }</p></td>
</tr>
<tr class="odd">
<td>Content Type</td>
<td>"ContentType": "json",</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>"ResponseParser": <br />
{ "Parameters": [ { "Name": "SUuid", "Path": "$.job.uuid", "Type": "string" }</td>
</tr>
</tbody>
</table>
<p><strong>Example: Create a Serial over LAN (SOL) Policy</strong></p>
<p>The following example shows how to create Serial over LAN (SOL) in
Intersight using RestAPI calls.</p>
<p>The following is a sample of the API request.</p>
<p>{<br>
&ldquo;Name&rdquo;: &ldquo;SolPolicy&rdquo;,<br>
&ldquo;ComPort&rdquo;: &ldquo;com0&rdquo;,<br>
&ldquo;Organization&rdquo;: {<br>
&ldquo;ObjectType&rdquo;: &ldquo;organization.Organization&rdquo;,<br>
&ldquo;Moid&rdquo;: &ldquo;5facccc96972652d305616a7&rdquo;<br>
}<br>
}</p>
<p>The following is a sample API response.</p>
<p>{<br>
&ldquo;Moid&rdquo;: &ldquo;5fbcdca26275722d31de7519&rdquo;,<br>
&ldquo;ObjectType&rdquo;: &ldquo;sol.Policy&rdquo;,<br>
&ldquo;ClassId&rdquo;: &ldquo;sol.Policy&rdquo;,<br>
&ldquo;CreateTime&rdquo;: &ldquo;2020-11-24T10:12:51.160304663Z&rdquo;,<br>
&ldquo;ModTime&rdquo;: &ldquo;2020-11-24T10:12:51.160304663Z&rdquo;,<br>
&ldquo;Tags&rdquo;: [],<br>
&ldquo;Owners&rdquo;: [<br>
&ldquo;5facccc67564612d33a29166&rdquo;<br>
],<br>
&ldquo;SharedScope&rdquo;: &ldquo;&rdquo;,<br>
&ldquo;AccountMoid&rdquo;: &ldquo;5facccc67564612d33a29166&rdquo;,<br>
&ldquo;DomainGroupMoid&rdquo;: &ldquo;5facccc67564612d33a29167&rdquo;,<br>
&ldquo;Ancestors&rdquo;: null,<br>
&ldquo;PermissionResources&rdquo;: [{<br>
&ldquo;ObjectType&rdquo;: &ldquo;organization.Organization&rdquo;,<br>
&ldquo;ClassId&rdquo;: &ldquo;mo.MoRef&rdquo;,<br>
&ldquo;Moid&rdquo;: &ldquo;5facccc96972652d305616a7&rdquo;,<br>
&ldquo;link&rdquo;: &ldquo;<a href="https://intersight.com/api/v1/organization/Organizations/5facccc96972652d305616a7%22">https://intersight.com/api/v1/organization/Organizations/5facccc96972652d305616a7&quot;</a><br>
}],<br>
&ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
&ldquo;Name&rdquo;: &ldquo;SolPolicy&rdquo;,<br>
&ldquo;BaudRate&rdquo;: 9600,<br>
&ldquo;ComPort&rdquo;: &ldquo;com0&rdquo;,<br>
&ldquo;Enabled&rdquo;: true,<br>
&ldquo;SshPort&rdquo;: 2400,<br>
&ldquo;Organization&rdquo;: {<br>
&ldquo;ObjectType&rdquo;: &ldquo;organization.Organization&rdquo;,<br>
&ldquo;ClassId&rdquo;: &ldquo;mo.MoRef&rdquo;,<br>
&ldquo;Moid&rdquo;: &ldquo;5facccc96972652d305616a7&rdquo;,<br>
&ldquo;link&rdquo;: &ldquo;<a href="https://intersight.com/api/v1/organization/Organizations/5facccc96972652d305616a7%22">https://intersight.com/api/v1/organization/Organizations/5facccc96972652d305616a7&quot;</a><br>
},<br>
&ldquo;Profiles&rdquo;: null<br>
}</p>
<p>The following table explains the input properties.</p>
<table>
<colgroup>
<col style="width: 22%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Method</td>
<td>POST</td>
</tr>
<tr class="even">
<td>URL</td>
<td>/v1/sol/Policies</td>
</tr>
<tr class="odd">
<td>Content Type</td>
<td>JSON</td>
</tr>
<tr class="even">
<td>Body</td>
<td><p>The <strong>Text</strong> field will have the following value:</p>
<p>{<br />
"Name": "{{.global.workflow.input.Name}}",<br />
"ComPort": "{{.global.workflow.input.ComPort}}",<br />
"Organization": {<br />
"ObjectType": "organization.Organization",<br />
"Moid": "{{.security.OrganizationMoid}}"<br />
}<br />
}</p>
<p>The <strong>Content Type</strong> must be JSON.</p></td>
</tr>
<tr class="odd">
<td>Response Parser</td>
<td><p>The <strong>Response Parser</strong> field will have the following parameter:</p>
<ul>
<li><p><strong>Name</strong>:</p></li>
</ul>
<ul>
<li><blockquote>
<p>MOID</p>
</blockquote></li>
</ul>
<ul>
<li><p><strong>Path</strong>:</p></li>
</ul>
<ul>
<li><blockquote>
<p>$.Moid</p>
</blockquote></li>
</ul>
<ul>
<li><p><strong>Type</strong>:</p></li>
</ul>
<ul>
<li><blockquote>
<p>string</p>
</blockquote></li>
</ul></td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> The <strong>Body</strong> input parameter is optional as it would be empty
for a GET call method.</p>
<p><strong>Example: Fetch details of NetApp volume using volume ID</strong></p>
<p>The following example shows how to fetch the NetApp volume using Uuid of
the volume. It demonstrates the usage of outcomes to set status of API
execution and status message based on the API response.</p>
<p>The following is a sample URL of the request</p>
<p>/api/storage/volumes/0049cef7-8a23-11ea-87ab-00a098605c19</p>
<p>The following is a sample API response.</p>
<p>{<br>
    &ldquo;uuid&rdquo;: &ldquo;0049cef7-8a23-11ea-87ab-00a098605c19&rdquo;,<br>
    &ldquo;name&rdquo;: &ldquo;backup_volume&rdquo;,<br>
    &ldquo;size&rdquo;: 1130258432,<br>
    &ldquo;state&rdquo;: &ldquo;online&rdquo;,<br>
    &ldquo;aggregates&rdquo;: [<br>
        {<br>
            &ldquo;name&rdquo;: &ldquo;aggr01&rdquo;,<br>
            &ldquo;uuid&rdquo;: &ldquo;8347fd83-34b1-4234-a8ba-6c53bad0fc6a&rdquo;<br>
        }<br>
    ],<br>
    &ldquo;snapmirror&rdquo;: {<br>
        &ldquo;is_protected&rdquo;: true<br>
    },<br>
    &ldquo;space&rdquo;: {<br>
        &ldquo;size&rdquo;: 1130258432,<br>
        &ldquo;available&rdquo;: 1065709568,<br>
        &ldquo;used&rdquo;: 8036352<br>
    }<br>
}</p>
<p>The following table explains the input properties.</p>
<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Method</td>
<td>GET</td>
</tr>
<tr class="even">
<td>URL</td>
<td>/api/storage/volumes/0049cef7-8a23-11ea-87ab-00a098605c19</td>
</tr>
<tr class="odd">
<td>Content Type</td>
<td>JSON</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>"ResponseParser": {<br />
"Parameters": [<br />
{<br />
"Name": "Name",<br />
"Path": "$.name",<br />
"Type": "string"<br />
},<br />
{<br />
"Name": "State",<br />
"Path": "$.state",<br />
"Type": "string"<br />
},<br />
{<br />
"Name": "AvailableSize",<br />
"Path": "$.space.available",<br />
"Type": "float"<br />
},<br />
{<br />
"Name": "IsProtected",<br />
"Path": "$.snapmirror.is_protected",<br />
"Type": "boolean"<br />
}<br />
]<br />
}</td>
</tr>
<tr class="odd">
<td>Outcomes</td>
<td>"Outcomes": [<br />
{<br />
"Condition": "{{and (ge .local.response.HttpStatusCode 400)<br />
(lt .local.response.HttpStatusCode 600)}}"<br />
"Message"  : "API request failed - {{.local.response.HttpStatusCode}}:{{.local.response.HttpStatusMsg}}",<br />
"Name"     : "API Invoke Error",<br />
"Type"     : "Error"<br />
},<br />
{<br />
"Condition": "{{ne .local.response.State "online"}}",<br />
"Message"  : "Fetched Volume {{.local.response.Name}} is offline",<br />
"Name"     : "Offline Volume",<br />
"Type"     : "Error"<br />
},<br />
{<br />
"Condition": "{{lt .local.response.AvailableSize 100000000}}",<br />
"Message"  : "Available space in the volume {{.local.response.Name}} is less than 100 MB.",<br />
"Name"     : "Out of Space",<br />
"Type"     : "Error"<br />
},<br />
{<br />
"Condition": "{{eq .local.response.IsProtected false}}",<br />
"Message"  : "Fetched Volume {{.local.response.Name}} is not protected.",<br />
"Name"     : "Insecure Volume",<br />
"Type"     : "Error"<br />
},<br />
{<br />
"Condition": "true",<br />
"Message"  : "Volume prerequisite checks succeeded.",<br />
"Name"     : "All Good",<br />
"Type"     : "Success"<br />
}<br />
]</td>
</tr>
</tbody>
</table>
<p>The response parser specification captures these outputs from the
response such as Name, State, AvailableSize, and IsProtected.</p>
<p>The extracted values can be used to set the task status using outcomes.
The syntax to refer the API outputs in outcomes is
.local.response.&lt;api-output-parameter-name&gt; where
api-output-parameter-name can refer:</p>
<ul>
<li>
<p>Predefined API output parameters such as HttpStatusCode,
HttpStatusMsg</p>
</li>
<li>
<p>Output parameters captured using Response Parser.</p>
</li>
</ul>
<blockquote>
<p><strong>Important:</strong> If the specified output parameter is not available, the
template engine throws validation error message when API is executed.
Following syntax can be used to check if output parameter exists in
response and then use.</p>
<p>{{if index .local.response api-param-name }} {{.local.response.&lt;api-output-parameter-name&gt;}} {{end}}</p>
</blockquote>
<p>In this example, the following outcomes are added based on the API
response.</p>
<ol>
<li>For the API invocation error where the HTTP status code is between
400 to 600 indicates. If the condition evaluates to true then an
error message is set to show the status code and status message.</li>
</ol>
<table>
<colgroup>
<col style="width: 10%" />
<col style="width: 89%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Name</td>
<td><p><strong>API Invoke Error</strong></p>
<p>The name identifies an outcome in the outcomes list. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td>Condition</td>
<td><p>{{and (ge .local.response.HttpStatusCode 400) <br />
      (lt .local.response.HttpStatusCode 600)}}</p>
<p>This condition checks whether the response status code of API is between 400 and 600.</p></td>
</tr>
<tr class="odd">
<td>Outcome Type</td>
<td><p><strong>Error</strong></p>
<p>If the Condition is true, status of API is set to Failed.</p></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><p>API request failed - {{.local.response.HttpStatusCode}}:{{.local.response.HttpStatusMsg}}</p>
<p>If the Condition is true, status message of API is set to above.</p></td>
</tr>
</tbody>
</table>
<ol>
<li>An API error is thrown if the fetched volume is not online. An
example for string comparison is the following.</li>
</ol>
<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Name</td>
<td><p><strong>Offline Volume</strong></p>
<p>The name identifies an outcome in the outcomes list. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td>Condition</td>
<td><p>{{ne .local.response.State "online"}}</p>
<p>This condition checks whether the captured output string State is equal to online. Please make sure the string value is enclosed in double quotes.</p></td>
</tr>
<tr class="odd">
<td>Outcome Type</td>
<td><p><strong>Error</strong></p>
<p>If the Condition is true, status of API is set to Failed.</p></td>
</tr>
<tr class="even">
<td>Message</td>
<td><p>Fetched Volume {{.local.response.Name}} is offline </p>
<p>If the Condition is true, status message of API is set to above.</p></td>
</tr>
</tbody>
</table>
<ol>
<li>An API error is thrown if the fetched volume does not have a of
minimum 100 MB free space.</li>
</ol>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Name</strong></td>
<td><p><strong>Out of Space</strong></p>
<p>The name identifies an outcome in the outcomes list. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td><strong>Condition</strong></td>
<td><p>{{lt .local.response.AvailableSize 100000000}}</p>
<p>This condition checks whether the available space is less than 100 MB. The fetched AvailableSize is of type float64.</p></td>
</tr>
<tr class="odd">
<td><strong>Outcome Type</strong></td>
<td><p><strong>Error</strong></p>
<p>If the Condition is true, status of API is set to Failed.</p></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><p>Available space in the volume {{.local.response.Name}} is less than 100 MB</p>
<p>If the Condition is true, status message of API is set to above.</p></td>
</tr>
</tbody>
</table>
<ol>
<li>An API error is thrown if the fetched volume’s secure property is
not set. An example for Boolean comparison is the following.</li>
</ol>
<table>
<colgroup>
<col style="width: 19%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Name</strong></td>
<td><p><strong>Insecure Volume</strong></p>
<p>The name identifies an outcome in the outcomes list. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td><strong>Condition</strong></td>
<td><p>{{eq .local.response.IsProtected false}} </p>
<p>This condition checks whether the captured IsProtected output parameter is not set.</p></td>
</tr>
<tr class="odd">
<td><strong>Outcome Type</strong></td>
<td><p><strong>Error</strong></p>
<p>If the Condition is true, status of API is set to Failed.</p></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><p>Fetched Volume {{.local.response.Name}} is not protected.</p>
<p>If the Condition is true, status message of API is set to above.</p></td>
</tr>
</tbody>
</table>
<ol>
<li>This can be termed as the final outcome for a successful completion.</li>
</ol>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Name</strong></td>
<td><p><strong>All Good</strong></p>
<p>The name identifies an outcome in the outcomes list of task designer. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td><strong>Condition</strong></td>
<td><p><strong>True</strong></p>
<p>{{eq .local.response.HttpStatusCode 200}}</p>
<p><strong>True</strong> can be used as the condition to capture all scenarios or the specific success response status code can be used, which is 200.</p></td>
</tr>
<tr class="odd">
<td><strong>Outcome Type</strong></td>
<td><strong>Success</strong></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><p><strong>Volume prerequisite checks succeeded.</strong></p>
<p>Above message is set as status message.</p></td>
</tr>
</tbody>
</table>
<p><strong>Example: Invoke Nexus device API to authenticate using aaaLogin and
create VLAN – Illustrates custom Target authentication in the web API
workflow</strong></p>
<p>The following example workflow has two Invoke Web API tasks. The first
task shows how to authenticate against Nexus switch using aaaLogin and
second API creates a VLAN on the switch using the authentication token
extracted from the first login API. It is assumed that Nexus switch is
added as HTTP Endpoint target without authentication parameters.</p>
<p>The following is a sample API request sent to authenticate against Nexus
device and fetch the authentication token.</p>
<p><strong>URL</strong> : POST /api/aaaLogin.json<br>
<strong>Body</strong>:<br>
{<br>
&ldquo;aaaUser&rdquo;: {<br>
&ldquo;attributes&rdquo;: {<br>
&ldquo;name&rdquo;: &ldquo;username&rdquo;,<br>
&ldquo;pwd&rdquo;: &ldquo;password&rdquo;<br>
}<br>
}<br>
}</p>
<p>The following is a sample response received from Nexus device, Token key
in the response holds the Token which should be used in subsequent API
calls to authenticate.</p>
<p>{<br>
&ldquo;totalCount&rdquo;: &ldquo;1&rdquo;,<br>
&ldquo;imdata&rdquo;: [<br>
{<br>
&ldquo;aaaLogin&rdquo;: {<br>
&ldquo;attributes&rdquo;: {<br>
&ldquo;token&rdquo;: &ldquo;Token Value&rdquo;,<br>
&ldquo;refreshTimeoutSeconds&rdquo;: &ldquo;9600&rdquo;,<br>
&ldquo;maximumLifetimeSeconds&rdquo;: &ldquo;86400&rdquo;,<br>
&ldquo;guiIdleTimeoutSeconds&rdquo;: &ldquo;9600&rdquo;,<br>
&ldquo;userName&rdquo;: &ldquo;username&rdquo;,<br>
}<br>
}<br>
}<br>
]<br>
}</p>
<p>From the above response, the JSON path of the token value is
$.imdata[0].aaaLogin.attributes.token.</p>
<p>The following table displays the required web API request task input and
response parser to achieve the above requirements.</p>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 85%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Target</strong></td>
<td><p>External targets can be mapped to Targets either as custom value or workflow input.</p>
<p><strong>Note:</strong> Nexus switch is added as HTTP Endpoint by disabling Authentication Required input slider.</p></td>
</tr>
<tr class="even">
<td><strong>Method</strong></td>
<td>POST</td>
</tr>
<tr class="odd">
<td><strong>URL</strong></td>
<td>/api/aaaLogin.json</td>
</tr>
<tr class="even">
<td><strong>Body</strong></td>
<td><p>The request body has templates with values referred from workflow input as follows:</p>
<p>Password workflow input should be marked as secure property to make sure the value is hidden and encrypted while data-in-transit and data-at-rest.</p>
<p>"Body": {<br />
{<br />
"aaaUser": {<br />
"attributes": {<br />
"name": "{{.global.workflow.input.Username}}",<br />
"pwd": "{{.global.workflow.input.Password}}",<br />
}<br />
}<br />
}<br />
}</p></td>
</tr>
<tr class="odd">
<td><strong>Content Type</strong></td>
<td>JSON</td>
</tr>
<tr class="even">
<td><strong>Response Parser</strong></td>
<td><p>The Response Parser field will have the following parameter:</p>
<p>"ResponseParser": {<br />
"Parameters": [<br />
{<br />
"Name": "AuthToken",<br />
"Path": "$.imdata[0].aaaLogin.attributes.token"<br />
"Type": "string"<br />
}<br />
]<br />
}</p></td>
</tr>
</tbody>
</table>
<p>The following is a sample API request sent to Nexus switch to create
VLAN 501 with authentication token populated in the cookie input.</p>
<p><strong>URL</strong> : POST /api/mo/sys/bd.json<br>
<strong>Cookie</strong> : APIC-cookie=&lt;Token-Value&gt;<br>
<strong>Body</strong> :<br>
{<br>
&ldquo;bdEntity&rdquo;: {<br>
&ldquo;children&rdquo;: [<br>
{<br>
&ldquo;l2BD&rdquo;: {<br>
&ldquo;attributes&rdquo;: {<br>
&ldquo;fabEncap&rdquo;: &ldquo;vlan-501&rdquo;,<br>
&ldquo;pcTag&rdquo;: &ldquo;1&rdquo;<br>
}<br>
}<br>
}<br>
]<br>
}<br>
}</p>
<p>The output of first task &ldquo;AuthToken&rdquo; needs to be populated in the cookie
input of the create VLAN task.</p>
<p>The output mapping template format is as
follows:{{.global.InvokeGenericWebApi1.output.Parameters.AuthToken}}</p>
<p>The following table displays the required web API request task inputs to
achieve the above requirements.</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Target</strong></td>
<td><p>External targets can be mapped to Targets either as custom value or workflow input.</p>
<p><strong>Note:</strong> Nexus switch is added as HTTP Endpoint by disabling Authentication Required input slider.</p></td>
</tr>
<tr class="even">
<td><strong>Method</strong></td>
<td>POST</td>
</tr>
<tr class="odd">
<td><strong>URL</strong></td>
<td>/api/mo/sys/bd.json</td>
</tr>
<tr class="even">
<td><strong>Cookie</strong></td>
<td>{<br />
APIC-cookie={{.global.InvokeGenericWebApi1.output.Parameters.AuthToken}}<br />
}</td>
</tr>
<tr class="odd">
<td><strong>Body</strong></td>
<td>{<br />
"bdEntity": {<br />
"children": [<br />
{<br />
"l2BD": {<br />
"attributes": {<br />
"fabEncap": "vlan-501",<br />
"pcTag": "1"<br />
}<br />
}<br />
}<br />
]<br />
}<br />
}</td>
</tr>
<tr class="even">
<td><strong>Content Type</strong></td>
<td>JSON</td>
</tr>
</tbody>
</table>
<p><strong>Example: Create a Virtual Machine using Content Library and Attach a
SCSI Controller to the created virtual machine–Illustrates Task Output
Mapping</strong></p>
<p>The following example workflow has two Invoke Web API tasks. The first
task shows how to create a virtual machine using content library. In
this task, the Virtual machine ID is extracted for the newly created
virtual machine. The second task fetches the virtual machine ID of
previously created virtual machine and add a SCSI controller to the
created virtual machine. This example assumes that the workflow inputs
names are <strong>libraryID</strong>, <strong>datastoreID</strong>, <strong>folderID, hostID,
respoolID</strong>, and <strong>External Targets</strong> already exists.</p>
<p>The following is a sample API request sent to vCenter endpoint to create
a virtual machine using content library.</p>
<p>POST /rest/com/vmware/vcenter/ovf/library-item/id:{{.global.workflow.input.libraryID}}?~action=deploy<br>
{<br>
{<br>
&ldquo;deployment_spec&rdquo;: {<br>
&ldquo;accept_all_EULA&rdquo;: true,<br>
&ldquo;default_datastore_id&rdquo;: &ldquo;{{.global.workflow.input.datastoreID}}&rdquo;<br>
},<br>
&ldquo;target&rdquo;: {<br>
&ldquo;folder_id&rdquo;: &ldquo;{{.global.workflow.input.folderID}}&rdquo;,<br>
&ldquo;host_id&rdquo;: &ldquo;{{.global.workflow.input.hostID}}&rdquo;,<br>
&ldquo;resource_pool_id&rdquo;: &ldquo;{{.global.workflow.input.respoolID}}&rdquo;<br>
}<br>
}</p>
<p>The following is a sample response received from NetApp.</p>
<p>{<br>
&ldquo;value&rdquo;:<br>
{<br>
&ldquo;resource_id&rdquo;:<br>
{<br>
&ldquo;id&rdquo;:&ldquo;vm-52491&rdquo;<br>
&ldquo;type&rdquo;: &ldquo;VirtualMachine&rdquo;<br>
}<br>
&ldquo;succeeded&rdquo;:&ldquo;true&rdquo;<br>
}<br>
} </p>
<p>From the above response, the JSON path for the <strong>id</strong> value in the
<strong>resource_id</strong> parameter is <strong>$.value.resource_id.id</strong></p>
<p>The following table displays the required web API request task input and
response parser to achieve the above requirements.</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Target</td>
<td>External targets can be mapped to Targets either as custom value or workflow input.</td>
</tr>
<tr class="even">
<td>Method</td>
<td>"Method": "POST",</td>
</tr>
<tr class="odd">
<td>URL</td>
<td>"Url": "/rest/com/vmware/vcenter/ovf/library-item/id:{{.global.workflow.input.libraryID}}?~action=deploy ",</td>
</tr>
<tr class="even">
<td>Body</td>
<td><p>The request body has templates with values referred from workflow input as follows:</p>
<p>"Body": {<br />
"deployment_spec": {<br />
"accept_all_EULA": true,<br />
"default_datastore_id": "{{.global.workflow.input.datastoreID}}"<br />
},<br />
"target": {<br />
"folder_id": "{{.global.workflow.input.folderID}}",<br />
"host_id": "{{.global.workflow.input.hostID}}",<br />
"resource_pool_id": "{{.global.workflow.input.respoolID}}"<br />
}<br />
}</p></td>
</tr>
<tr class="odd">
<td>Content Type</td>
<td>"ContentType": "json",</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>"ResponseParser": {<br />
"Parameters": [<br />
{<br />
"Name": "vmID",<br />
"Path": "$.value.resource_id.id ",<br />
"Type": "string"<br />
}</td>
</tr>
</tbody>
</table>
<p>The following is a sample API request sent to VMware vCenter endpoint to
add SCSI controller using virtual machine ID:</p>
<p>POST /rest/vcenter/vm/vm-52491/hardware/adapter/scsi<br>
{&ldquo;spec&rdquo;: {&ldquo;type&rdquo;: &ldquo;LSILOGICSAS&rdquo;}} </p>
<p>The following is a sample response received from VMware vCenter.</p>
<p>{<br>
&ldquo;value&rdquo;:&ldquo;1000&rdquo;<br>
}</p>
<p>The URL input requires previous task’s <strong>vmID</strong> output. The name of web
API tasks within a workflow is named InvokeGenericWebApi&lt;number&gt;,
irrespective of what the user names it. To get previous task name
through workflow designer, click the JSON View button and make a note of
the Task Name, for example, InvokeGenericWebApi1.</p>
<p>The output mapping template format is as follows:</p>
<p>{{.global.InvokeGenericWebApi1.output.Parameters.vmID}}</p>
<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Target</td>
<td>External targets can be mapped to Targets either as custom value or workflow input.</td>
</tr>
<tr class="even">
<td>Method</td>
<td>"Method": "POST",</td>
</tr>
<tr class="odd">
<td>URL</td>
<td><p>"Url": "/rest/vcenter/vm/{{.global.InvokeGenericWebApi1.output.Parameters.vmID}}/hardware/adapter/scsi ",</p>
<p><strong>Note: InvokeGenericWebApi1</strong> is the task reference name of the previous task in the workflow.</p></td>
</tr>
<tr class="even">
<td>Body</td>
<td><p>The request body has templates with values referred from workflow input as follows:</p>
<p>"Body": {"spec": {"type": "LSILOGICSAS"}</p></td>
</tr>
<tr class="odd">
<td>Content Type</td>
<td>"ContentType": "json",</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>"ResponseParser": <br />
{ "Parameters": [ { "Name": "value", "Path": "$.value", "Type": "string" }</td>
</tr>
</tbody>
</table>
<p><span id="_Refd24e21884" class="anchor"></span>Upgrading Connector Packs
on UCS Director Instances</p>
<p>Cisco Intersight introduces the ability to update connector pack
versions that are installed on claimed UCS Director instances. After
claiming a UCS Director instance in Intersight, as an account
administrator, you can perform the following actions:</p>
<ul>
<li>View a list of updated versions for currently installed connector
packs on the UCS Director instance.</li>
</ul>
<!-- -->
<ul>
<li>The list of updated versions available for connector packs is based
on the UCS Director software version installed on the instance.</li>
</ul>
<!-- -->
<ul>
<li>Download and install the updated versions of the connector packs on
the UCS Director instance. You can either install the updated
versions immediately after downloading them or you can install it at
a later point in time.</li>
</ul>
<p>From Cisco Intersight, you can view and install updated versions of
connector packs only. You cannot download and install updated versions
of Cisco UCS Director. To install the latest versions of Cisco UCS
Director, you must download it from <a href="http://cisco.com/">Cisco.com</a>. For
more information, see the <a href="https://www.cisco.com/c/en/us/support/servers-unified-computing/ucs-director/products-installation-guides-list.html">Cisco UCS Director Installation and Upgrade
Guides</a>.</p>
<p>Prerequisites and Guidelines</p>
<ul>
<li>
<p>This feature is available only with UCS Director version 6.7(4.0)
and later versions.</p>
</li>
<li>
<p>In an optimized multi-node configuration, the updated connector pack
versions are installed on the primary node.</p>
</li>
<li>
<p>Installing updated versions of connector packs on a UCS Director
instance will result in the UCS Director services restarting. All
users who are logged in to the UCS Director instance will be
automatically logged out.</p>
</li>
<li>
<p>Prior to installing the updated versions of the connector packs,
take a backup of the data on the UCS Director instance. For more
information, see <a href="file://E:%5Chelp%5Cresources%5Cbackup_and_restore">Backup and Restore for Cisco UCS Director
Instances</a>.</p>
</li>
<li>
<p>From Cisco Intersight, you can download and update all connector
packs on a UCS Director instance. You cannot download and install
specific connector packs. If you want to install specific connector
packs, then you must use the UCS Director user interface. For more
information, see the <a href="https://www.cisco.com/c/en/us/support/servers-unified-computing/ucs-director/products-maintenance-guides-list.html">Cisco UCS Director Administration
Guide</a>.</p>
</li>
<li>
<p>For customers using Intersight Private Virtual Appliance, the
connector packs are available in the Intersight Private Virtual
Appliance account.</p>
</li>
</ul>
<p>Updating Connector Pack Versions on UCS Director Instances</p>
<ol>
<li>
<p>From the table view of the UCS Director instances, select a UCS
Director instance and click Update Software.</p>
</li>
<li>
<p>In the Update Software screen, wait for the screen to populate
information on the updated versions of connector packs. The
following information is displayed:</p>
</li>
</ol>
<ul>
<li>Connector Pack Version Information—Displays the names of the
connector packs, versions of the connector packs installed on the
UCS Director instance and the latest version number for each
connector pack.</li>
</ul>
<!-- -->
<ul>
<li>This information is based on the last inventory run on the UCS
Director instance. The inventory runs every 12 hours.</li>
</ul>
<!-- -->
<ul>
<li>UCS Director Instance Information—Displays the UCS Director instance
name, management IP address, environment in which the instance is
deployed, the installed UCS Director software version and the time
when the last inventory process was run on the instance.</li>
</ul>
<ol>
<li>Choose one of the following options:</li>
</ol>
<ul>
<li>Click Download to Instance to download the new versions of the
connector packs to the UCS Director instance.</li>
</ul>
<!-- -->
<ul>
<li>After the connector packs are downloaded, you can either choose to
install the updated connector packs right away, or at a later point.
If you want to install specific connector pack versions on the UCS
Director instance, then you must use the UCS Director user
interface.</li>
</ul>
<!-- -->
<ul>
<li>Click Download and Update to download the new versions of the
connector packs and install these versions on the UCS Director
instance immediately.</li>
</ul>
<blockquote>
<p><strong>Note:</strong> Installing latest versions of connector packs on the UCS
Director instance will result in a restart of the UCS Director
services. All logged in users are automatically logged out when the
services restart.</p>
</blockquote>
<ol>
<li>
<p>To view the progress of the installation process, choose Requests on
the header pane, and click View All.</p>
</li>
<li>
<p>Choose a workflow name to view the details.</p>
</li>
</ol>
<p><span id="_Toc105371570" class="anchor"></span>Backup and Restore for
UCS Director in Intersight</p>
<p>Overview</p>
<p>Cisco Intersight introduces the ability to take backups and restore
backups for claimed UCS Director instances. After claiming a UCS
Director instance in Intersight, as an account administrator, you can
perform the following tasks:</p>
<ul>
<li>
<p>Take a backup of Cisco UCS Director—You can either create a backup
policy to run at a scheduled time or you can perform an on-demand
backup. For either of these options, you can choose to have the
backed up files stored on the local UCS Director instance or you can
specify a system on the network.</p>
</li>
<li>
<p>View a list of backups—You can view the list of backup processes
that have run on all UCS Director instances.</p>
</li>
<li>
<p>Restore data from a backup image—You can choose a backup image and
restore it on a UCS Director instance.</p>
</li>
<li>
<p>Download Connector Packs—You can download the latest versions of
installed connector packs on a UCS Director instance.</p>
</li>
</ul>
<p>A user with read-only privileges can only view the list of backup
processes that have run on all UCS Director instances.</p>
<p>Prerequisites and Guidelines</p>
<ul>
<li>
<p>Device Connector version 1.0.9-1165 or higher must be installed.</p>
</li>
<li>
<p>Cisco UCS Director Base Platform Pack version 6.7.3.1 or later must
be installed on the UCS Director instance to use the backup and
restore feature. In an optimized multi-node setup, prior to
installing or upgrading the base platform pack to version 6.7.3.1 or
later, you must first configure passwordless authentication between
the primary node and the database node.</p>
</li>
<li>
<p>You can take backups and restore backups in both, single node and
optimized multi-node configurations. However, you cannot take
backups of a UCS Director instance in a single node configuration
and restore it on an instance in an optimized multi-node
configuration.</p>
</li>
<li>
<p>If the versions of the connector packs in the backup image are more
recent than the connector pack versions installed on the UCS
Director instance that you want to restore the backup to, then the
restore process upgrades the connector packs on the UCS Director
instance to the latest version.</p>
</li>
<li>
<p>If the file location specified for an on-demand backup process and a
scheduled backup process is the same, then the file created by the
on-demand backup process is deleted based on the retention copies
configured in the backup schedule.</p>
</li>
</ul>
<p>Running an Immediate Backup for UCS Director Instances</p>
<p>An immediate backup is a point-in-time process and is initiated
immediately after you provide the backup details. Prior to initiating
this backup, you must specify if the backup file must be stored on the
current UCS Director instance or on a specific system in the network.</p>
<ol>
<li>
<p>From the table view of the UCS Director instances, select a UCS
Director instance and click Backup.</p>
</li>
<li>
<p>In the General page, review the details of the UCS Director instance
that is displayed, and click Next.</p>
</li>
<li>
<p>In the Configure Backup page, specify the location of the backup
file.</p>
</li>
</ol>
<ul>
<li>
<p>Selected Instance—Implies that the backup file must be stored on the
current UCS Director instance.</p>
</li>
<li>
<p>Network Share—Implies that the backup file must be stored in a
location external to the current UCS Direct instance.</p>
</li>
</ul>
<ol>
<li>If you chose Selected Instance, provide the following information:</li>
</ol>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Backup Filename Prefix</td>
<td>A prefix for the name of the backup file. A unique file name is created for the backup image that includes the specified prefix and the timestamp.</td>
</tr>
</tbody>
</table>
<ol>
<li>If you chose Network Share, provide the following information:</li>
</ol>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Backup Filename Prefix</td>
<td>A prefix for the name of the backup file. A unique file name is created for the backup that includes the specified prefix and the timestamp.</td>
</tr>
<tr class="even">
<td>Protocol</td>
<td><p>Protocol to be used to transfer the backup file to the location where the file must be stored. It can be one of the following:</p>
<ul>
<li><p>SCP</p></li>
<li><p>SFTP</p></li>
<li><p>FTP</p></li>
</ul>
<blockquote>
<p><strong>Important:</strong> Storing backup files on anonymous FTP servers is currently not supported.</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>File Location</td>
<td><p>The location where the backup file must be stored. You must provide the IP address or the hostname of the location and the complete file system path.</p>
<p>For example: 10.10.10.10/var/backup.</p></td>
</tr>
<tr class="even">
<td>Username</td>
<td>User name for the backup server.</td>
</tr>
<tr class="odd">
<td>Password</td>
<td>Password for the user name of the backup server.</td>
</tr>
</tbody>
</table>
<ol>
<li>Click Save.</li>
</ol>
<!-- -->
<ol>
<li>The backup process is initiated immediately. You can view the the
list of backup files from the Backups tab.</li>
</ol>
<p>Creating a Backup Schedule</p>
<p>You can create a backup schedule to ensure that backups run at a
stipulated time and backup images are stored at a specific location. You
can choose to store the backup files either in the root directory of the
UCS Director instance or choose a different location on the network.</p>
<ol>
<li>
<p>From the table view of the UCS Director instances, select a UCS
Director instance and click Schedule Backup.</p>
</li>
<li>
<p>In the General page, review the details of the UCS Director instance
that is displayed, and click Next.</p>
</li>
<li>
<p>In the Configure Backup page, specify the organization that the UCS
Director instance belongs to and the type of schedule you want to
create.</p>
</li>
</ol>
<ul>
<li>
<p>Organizations—Displays the list of organizations that the UCS
Director instance belongs to. By choosing a specific organization
from this list, it allows administrators of those specific
organizations to view backup images created for this instance, and
restore from those images.</p>
</li>
<li>
<p>Daily—The backup schedule runs every day, starting with the date and
time you select.</p>
</li>
<li>
<p>Periodic—The backup schedule runs periodically, starting with the
date and time interval you select. By default, a periodic backup
schedule runs every 8 hours. Other options include 4, 12, 16, or 20.</p>
</li>
</ul>
<ol>
<li>Specify the location where the backup file must be stored.</li>
</ol>
<!-- -->
<ol>
<li>It can be one of the following:</li>
</ol>
<ul>
<li>
<p>Selected Instance—Default option. The backup file is stored on the
current UCS Director instance.</p>
</li>
<li>
<p>Network Share—The backup file is stored in a location external to
the current UCS Direct instance.</p>
</li>
</ul>
<ol>
<li>If you chose Selected Instance, provide the following information:</li>
</ol>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Backup Filename Prefix</td>
<td>A prefix for the name of the backup file. A unique file name is created for the backup image that includes the specified prefix and the timestamp.</td>
</tr>
<tr class="even">
<td>Retention Copies</td>
<td>The number of backup copies maintained on the server.</td>
</tr>
</tbody>
</table>
<ol>
<li>If you chose Network Share, provide the following information:</li>
</ol>
<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Backup Filename Prefix</td>
<td>A prefix for the name of the backup file. A unique file name is created for the backup image that includes the specified prefix and the timestamp.</td>
</tr>
<tr class="even">
<td>Protocol</td>
<td><p>Protocol to be used to transfer the backup image to the location where the image must be stored. It can be one of the following:</p>
<ul>
<li><p>SCP</p></li>
<li><p>SFTP</p></li>
<li><p>FTP</p></li>
</ul>
<blockquote>
<p><strong>Important:</strong> Storing backup images on anonymous FTP servers is currently not supported.</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>File Location</td>
<td>The location where the backup file must be stored. Provide the IP address or the hostname of the location and the complete file system path. For example: 10.10.10.10/var/backup.</td>
</tr>
<tr class="even">
<td>Username</td>
<td>User name for the backup server.</td>
</tr>
<tr class="odd">
<td>Password</td>
<td>Password for the user name of the backup server.</td>
</tr>
<tr class="even">
<td>Retention Copies</td>
<td>The number of backup copies maintained on the server.</td>
</tr>
</tbody>
</table>
<ol>
<li>Click Save.</li>
</ol>
<blockquote>
<p><strong>Note:</strong> To edit a backup schedule at a later point in time, select
the UCS Director instance and click Schedule Backup. In the subsequent
panes, edit the values of the fields and click Save.</p>
</blockquote>
<p>Viewing Backup Files for UCS Director Instances</p>
<p>The Backups tab displays the list of backup files that have been created
for all UCS Director instances claimed in Intersight. On this tab, you
can view the following information:</p>
<ul>
<li>
<p>Last Modified—The time when backups were performed on UCS Director
instances.</p>
</li>
<li>
<p>Status—The status of backup processes. It can be Failed or
Completed.</p>
</li>
<li>
<p>Backup Server IP—The IP address of the backup server where the
backup files are stored.</p>
</li>
<li>
<p>Location—The complete path to the backup file on the backup server.</p>
</li>
<li>
<p>Backup File Name—The name of the backup file created.</p>
</li>
<li>
<p>File Size (MB)—The size of the backup file.</p>
</li>
<li>
<p>Duration (minutes)—The duration of the backup process.</p>
</li>
<li>
<p>Instance—The IP address of the UCS Director instance.</p>
</li>
<li>
<p>Organizations—The organizations that the UCS Director instance is
associated with.</p>
</li>
</ul>
<p>Restoring a Backup Image for a UCS Director Instance</p>
<p>You can restore a backup image that is of the same version that is
running on the selected UCS Director instance. While restoring a backup
image, if more recent versions of connector packs that are currently
installed on the UCS Director instance are available, then the restore
process will also upgrade the connector pack versions to the latest
versions.</p>
<ol>
<li>
<p>From the table view of the UCS Director instances, select a UCS
Director instance and click Restore From Backup.</p>
</li>
<li>
<p>In the Backup Selection page, use the toggle bar to indicate if you
want to exclude the licensing information while restoring the backup
image.</p>
</li>
<li>
<p>Review the list of backup files available for the selected UCS
Director instance and select the backup file to restore.</p>
</li>
</ol>
<blockquote>
<p><strong>Important:</strong> The list of backup files displayed is dependent on the
platform version of the UCS Director instance that you selected in
step 1.</p>
</blockquote>
<ol>
<li>
<p>Click Next.</p>
</li>
<li>
<p>In the Backup Location page, modify the following fields, if
required:</p>
</li>
</ol>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Protocol</td>
<td><p>Protocol to transfer the backup image to the location where the image must be restored. It can be one of the following:</p>
<ul>
<li><p>SCP</p></li>
<li><p>SFTP</p></li>
<li><p>FTP</p></li>
</ul>
<p>This value is auto-populated. You cannot modify the protocol if you have chosen to restore from a local backup image.</p></td>
</tr>
<tr class="even">
<td>File Location</td>
<td>This field is auto-populated based on the backup image that you selected in the Backup Selection page.</td>
</tr>
<tr class="odd">
<td>Username</td>
<td>User name of the backup server name.</td>
</tr>
<tr class="even">
<td>Password</td>
<td>Password of the user name of the backup server name.</td>
</tr>
</tbody>
</table>
<ol>
<li>
<p>Click Next.</p>
</li>
<li>
<p>In the Summary page, review the information that is displayed and
click Restore.</p>
</li>
<li>
<p>To view the progress of the restore process, choose Requests on the
header pane and click View All.</p>
</li>
<li>
<p>Click a workflow name to view the details of the process.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1d00da7bb216ac1ee5476bd131f920a8">4.7 - Cisco Intersight ICO - Post-conversion Cleanup</h1>
    <div class="lead">Cisco Intersight ICO</div>
	<h2 id="workflow-designer">Workflow Designer</h2>
<p>The Workflow Designer helps you create new workflows (as well as tasks
and data types) and also edit existing workflows to manage targets in
Cisco Intersight.</p>
<p><strong>Note:</strong> To execute the new tasks for VMware vCenter networking
operations, you should upgrade to Intersight Assist version 1.0.9-278.</p>
<ul>
<li>
<p><strong>Important:</strong> The Orchestration option is visible in the left panel
only if you have installed the Intersight Premier license.</p>
</li>
<li>
<p>Only an Account Administrator or a user with the Workflow Designer
privilege can use the Workflow Designer to create and edit
workflows.</p>
</li>
<li>
<p>The Orchestration option is visible in the left panel only if you
have installed the Intersight Premier license.</p>
</li>
<li>
<p>Only an Account Administrator or a user with the Workflow Designer
privilege can use the Workflow Designer to create and edit
workflows.</p>
</li>
</ul>
<p>To launch the Workflow Designer, choose Orchestration <strong>&gt;</strong>
Workflows. A dashboard displays the following details under these tabs,
namely, My Workflows, Sample Workflows, and All Workflows:</p>
<ul>
<li>
<p>Validation Status</p>
</li>
<li>
<p>Last Execution Status</p>
</li>
<li>
<p>Top Workflows by Execution Count</p>
</li>
<li>
<p>Top Workflow Categories</p>
</li>
<li>
<p>Number of System Defined Workflows</p>
</li>
<li>
<p>Top Workflows by Targets</p>
</li>
</ul>
<p>Using the dashboard, you can create, edit, clone, or delete a tab. To
create your own custom view tab, click + and specify a name and then
choose the required parameters that need to be displayed in the columns,
tag columns, and widgets. You can rename the tabs if it does not have a
Lock icon.</p>
<p>Below the dashboard is a tabular list of workflows displaying the
following information:</p>
<ul>
<li>
<p>Display Name</p>
</li>
<li>
<p>Description</p>
</li>
<li>
<p>System Defined</p>
</li>
<li>
<p>Default Version</p>
</li>
<li>
<p>Executions</p>
</li>
<li>
<p>Last Execution Status</p>
</li>
<li>
<p>Validation Status</p>
</li>
<li>
<p>Last Update</p>
</li>
<li>
<p>Organization</p>
</li>
</ul>
<p>The Actions column allows you to do the following actions:</p>
<ul>
<li>
<p>Execute—Executes the workflow.</p>
</li>
<li>
<p>History—Displays workflow execution history.</p>
</li>
<li>
<p>Manage Versions—create and manage versions for workflows. See
<em>Managing Versions for Workflows</em> later in this document.</p>
</li>
<li>
<p>Delete—Delete a workflow.</p>
</li>
<li>
<p>Retry—Retry a failed workflow.</p>
</li>
</ul>
<h3 id="creating-a-workflow">Creating a Workflow</h3>
<p>Workflow creation can be broken down into the following sequence of
steps:</p>
<ol>
<li>
<p>Defining a workflow—you specify the display name, description, and
other important attributes.</p>
</li>
<li>
<p>Defining workflow inputs, workflow variables, and workflow
outputs—you can specify which input parameters are mandatory for the
workflow execution, define variable(s) for workflow, and the
output(s) generated on successful execution.</p>
</li>
<li>
<p>Adding workflow tasks—you can add one or more workflow tasks in the
Workflow Designer that are needed for the workflow to carry out its
function.</p>
</li>
<li>
<p>Validate the workflow—you can validate a workflow to ensure that
there are no errors in connecting task inputs and outputs.</p>
</li>
</ol>
<h3 id="defining-a-workflow">Defining a Workflow</h3>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Choose Create Workflow. The Create Workflow screen is categorized
into the following areas to help you create a workflow:</p>
</li>
</ol>
<!-- -->
<ol>
<li>The following table describes the options available to you while
creating a workflow:</li>
</ol>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 24%" />
<col style="width: 57%" />
</colgroup>
<thead>
<tr class="header">
<th>Workflow Designer Area/Option</th>
<th>Description</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General Tab</td>
<td>Displays workflow details, and also inputs, variables, and outputs of the workflow.</td>
<td><p>You can add a user-friendly short name, reference name, description, and assign an organization to the workflow. You can also specify a version or set a tag to the workflow. In order to categorize your workflow, use the tag key Category and provide an appropriate category value. Use the following checkboxes to:</p>
<p>Set as Default Version—Sets this version as the default version for the workflow.</p>
<p>Failed/Terminated Actions—Sets the post execution settings for the workflow.</p>
<ul>
<li><p>Enable Retry—Execute the workflow from the point of a failure or retry the execution of the entire workflow. You can retry the execution of the workflow for up to two weeks after the last update to the workflow.</p></li>
<li><p>Enable Auto Rollback—Rollback workflow will be initiated automatically when this option is enabled. You can select one of the following rollback conditions:</p>
<ul>
<li><p>On Failure</p></li>
<li><p>On Cancel</p></li>
<li><p>On Failure or Cancel.</p></li>
</ul></li>
</ul>
<p>Enable Debug Logs—Collects the workflow logs for each tasks. You can analyze and debug the workflow execution.</p>
<p>Workflow Inputs—You can click Add Workflow Input and add workflow inputs. Each input has a user-friendly display name, a reference name, description, restrictions, and data type. Also, you can set a default value and encrypt it. For more information, see [Test](#creating-a-workflow) 
[Test](#creating-a-workflow).</p>
<p>Workflow Variable—You can click Add Workflow Variable and add a workflow variable. Each workflow variable has a reference name, data type, and so on. Also, you can set a default value. For more information, see <a href="file://E:\\help\\resources\\Workflow_Designer">Defining Workflow Inputs, Variables, and Outputs</a>.</p>
<p>Workflow Outputs—You can click Add Workflow Output and add workflow outputs. Each output has a user-friendly display name, a reference name, description, restrictions, and data type. Also, you can encrypt a value and map it to task output.</p></td>
</tr>
<tr class="even">
<td>Designer Tab</td>
<td>Displays the design area where you synthesize your workflow.</td>
<td><p>Categorized into the following areas to help you create a workflow:</p>
<ul>
<li><p>Tools Area—lists all the tasks, workflows, and operations that are currently available in Intersight. You can drag and drop a task or a workflow to the canvas to create or edit the workflow. You can collapse or expand the Tools area. You can use the Search feature to find a specific task or workflow.</p></li>
<li><p>Design Area—where you can build your workflow. Drag and drop tasks and workflows from the Tools area to this area of the screen. This area includes the following options that you can use while creating the workflow:</p>
<ul>
<li><p>Zoom in and Zoom out—Magnify or reduce the view of the workflow.</p></li>
<li><p>Auto Align Workflow—Automatically align the workflow tasks in the design area.</p></li>
<li><p>Auto Align Selected Workflow Entities—Align selected workflow entities in the design area.</p></li>
<li><p>Toggle Task Search—Search for a specific task within the workflow. This is useful when you have several tasks within the workflow.</p></li>
<li><p>Auto Connect Selected Workflow Entity—Add the workflow entity in the design area. You can drag and drop a task in between the tasks. The possible locations where the selected task can be added is denoted with + icon.</p></li>
</ul></li>
<li><p>Task Properties Area—where you define the task properties, inputs, outputs, and variables. Click the <strong>Task</strong> in Designer Area, to view the Task Properties area.</p>
<ul>
<li><p>General—Specify the general details for the task such as name, description, version, and so on.</p></li>
</ul></li>
</ul>
<blockquote>
<p><strong>Note:</strong> The task name should be unique.</p>
</blockquote>
<ul>
<li><blockquote>
<p>Use the <strong>Enable Rollback</strong> option to enable or disable rollback for the selected task.:</p>
</blockquote></li>
</ul>
<blockquote>
<p><strong>Note:</strong> The Enable Rollback option is visible only if the task is rollback capable.</p>
</blockquote>
<ul>
<li><p>Inputs—Specify the task input parameter value that are required to execute the task. You can specify the input as a static value, map it to a workflow input or task output, use transformation or advanced mapping, or map it to a workflow variable.</p></li>
<li><p>Outputs—Displays the task outputs. Click Add Worfklow Output button to map the task output to the workflow output.</p></li>
<li><p>Variables—Specify the workflow variables that can be used across tasks in the workflow. For more information, see <a href="file://E:\\help\\resources\\Workflow_Designer">Worfklow Variables</a>.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Mapping Tab</td>
<td><p>Displays the relationship between the task inputs and the outputs of the selected workflow.</p>
<p>Information on workflow inputs and workflow outputs is also displayed.</p></td>
<td>Expand and collapse the Task Inputs and Task Outputs pane.</td>
</tr>
<tr class="even">
<td>Code Tab</td>
<td>Displays the code view of the workflow definition</td>
<td>Read-only view of the workflow. You can copy the code, use this as a sample to create a workflow using Intersight APIs.</td>
</tr>
<tr class="odd">
<td>History Tab</td>
<td>Status of the executed/in-progress workflows. This tab appears after executing a workflow.</td>
<td><p>View workflow execution history, retry or clone a previous execution. The system displays a maximum of 100 instances of the workflow execution. The workflow execution is populated for each version of the workflow.</p>
<p><strong>Note:</strong> When a workflow is successfully executed, the options for retrying the workflow are not displayed. You can retry a failed workflow only when the Enable Retry option is enabled in the General tab.</p></td>
</tr>
<tr class="even">
<td>Execute</td>
<td>Launches the Enter Workflow Inputs window.</td>
<td><p>Choose the Organization and the Workflow instance name to execute the workflow.</p>
<p>For user-created workflows, the organization must match where it was created.</p></td>
</tr>
<tr class="odd">
<td>Save Workflow</td>
<td>Validates and saves the workflow.</td>
<td>Review validation errors, if any, and rectify them.</td>
</tr>
<tr class="even">
<td>Close Designer</td>
<td>Closes the Workflow Designer.</td>
<td>Closes the Workflow Designer and displays the table view of available workflows.</td>
</tr>
</tbody>
</table>
<h3 id="requests">Requests</h3>
<p>Requests are closely related to workflows. You create requests by
running workflows; a request is generated every time you execute a
workflow in Cisco Intersight. A request is a process under the control
of Cisco Intersight.</p>
<p>You can schedule a workflow for later execution, and Cisco Intersight
stores details of completed requests. To view the detailed information
of a request, choose a request. The following information is displayed
in the <strong>Requests</strong> screen:</p>
<ul>
<li>
<p>Status—Displays the status of a workflow. Request can have one of
several states depending on its execution status:</p>
<ul>
<li>
<p>Running</p>
</li>
<li>
<p>Blocked (for example, awaiting an approval)</p>
</li>
<li>
<p>Completed</p>
</li>
<li>
<p>Failed (a request can fail when one of its component tasks fails
to execute properly)</p>
</li>
</ul>
</li>
<li>
<p>Details—Displays the request details such as name, request ID,
target name and type, source name and type, name of the user who has
executed the request along with the start time and end time, and
duration of the request.</p>
</li>
<li>
<p>Inputs—Displays the workflow input details</p>
</li>
<li>
<p>Outputs—Displays the workflow output details</p>
</li>
<li>
<p>Execution Flow—Enable Show Additional Details to view the logs,
input, and output mapping details of the user-defined workflows.
Displays the workflow execution history details similar to the
details displayed in the History tab.</p>
</li>
</ul>
<h2 id="defining-workflow-inputs-variables-and-outputs">Defining Workflow Inputs, Variables, and Outputs</h2>
<p>Workflows can have any number of tasks, inputs, variables, and outputs.</p>
<p>Any task or workflow input can be either mandatory or optional. A task
or workflow cannot run without all of its mandatory inputs. You define
whether an input is mandatory or optional when you create the task or
workflow.</p>
<p>After specifying the generic properties for a task or workflow, you
define the input parameters and variables required for task or workflow
execution. In addition, you can set workflow input Parameter Set or
Progressive Disclosure rules. These rules control the availability of
workflow inputs or filter the data based on the preceding selection
during the workflow execution. The Task Designer uses the same
parameters and information types as the workflow designer to validate
the mappings of task input and output parameters when a task is used in
a workflow along with other tasks. Task designer uses the same form as
workflow designer to obtain the parameter and information type so as
provide same user experience between workflow designer and task
designer.</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane and click Create
Workflow.</p>
</li>
<li>
<p>In the General tab, click Add Workflow Input in the Workflow Inputs
tab.</p>
</li>
<li>
<p>In the Add Workflow Input screen, enter the following details:</p>
<ol>
<li>
<p>Display Name—Enter user-friendly short name.</p>
</li>
<li>
<p>Reference Name</p>
</li>
<li>
<p>Description—Detailed description of the input</p>
</li>
<li>
<p>Value Restrictions—Choose Required, Collection/Multiple, or can
be left blank</p>
</li>
<li>
<p>Type—Select a data type. For example, String, Integer, Float,
Boolean, Json, Enum, MoReference, Target Data Type, or a custom
data type.</p>
</li>
</ol>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>The fields displayed depend on the value you select for the Type</p>
<blockquote>
<p>field.</p>
</blockquote>
<ol>
<li>
<p>If you select the data type as Enum, specify the following:</p>
<ol>
<li>
<p>Enum List—Label for the Enum value.</p>
</li>
<li>
<p>Widget type.</p>
</li>
<li>
<p>Set Default Value—Select the checkbox and select the
corresponding default value.</p>
</li>
<li>
<p>Override—Allow the user to override the default value.</p>
</li>
</ol>
</li>
<li>
<p>If you select the data type as String, specify the following:</p>
<ol>
<li>
<p>Minimum and Maximum Range</p>
</li>
<li>
<p>Regex—Validates the regular expression when you select
String in the Type field.</p>
</li>
<li>
<p>Secure—Indicates that the values of these properties are
encrypted and stored in Cisco Intersight.</p>
</li>
<li>
<p>Object Selector—Enable to configure the Intersight managed
object selectors. This attribute is available only when the
primitive data is String.</p>
</li>
</ol>
</li>
</ol>
</li>
<li>
<p>Specify the Intersight API Reference and selector attributes to feed</p>
<blockquote>
<p>the input from the table selection. Value will be passed according
to the configuration set in the Value attribute.</p>
</blockquote>
<ol>
<li>
<p>If you select the data type as Integer or Float, specify the
following:</p>
<ol>
<li>
<p>Minimum and Maximum Range</p>
</li>
<li>
<p>Set Default Value—Select the checkbox and the corresponding
default value.</p>
</li>
</ol>
</li>
<li>
<p>If you select the data type as Target Data Type or MoReference,
specify the following:</p>
<ol>
<li>
<p>Intersight API Reference—Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute—Enter the attribute name(s) that needs to
be displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
</ol>
</li>
<li>
<p>If you select the data type as Composite Data Type, you can
specify the field mapping for the input field. With field
mapping, you can pass the value of workflow input to a composite
data field.</p>
</li>
</ol>
</li>
<li>
<p>To pass the value from the parent composite data type to a child</p>
<blockquote>
<p>composite data type, you must specify the field mapping in the
composite data type field. For more information, see <a href="file://E:%5Chelp%5Cresources%5CData_Types">Creating a
Data Type</a>.</p>
</blockquote>
</li>
<li>
<p>To specify the field mapping, do the following:</p>
<ol>
<li>
<p>Key—The input field that you want to hide.</p>
</li>
<li>
<p>Value Attribute—The value in a template style to be passed
dynamically during the execution.</p>
</li>
</ol>
</li>
<li>
<p>If the data type is Object Selector, Enum, or Boolean then the input</p>
<blockquote>
<p>is referenced as ${workflow.input.InputReferenceName}.</p>
</blockquote>
</li>
<li>
<p>If the data type is MoReference or Target Data Type the input is</p>
<blockquote>
<p>referenced as ${workflow.input.InputReferenceName.AttributeName}.</p>
</blockquote>
</li>
<li>
<p>The InputReferenceName is the Reference Name given to the input</p>
<blockquote>
<p>field and not the Display Name or Label.</p>
</blockquote>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>Click Add.</p>
</li>
<li>
<p>Repeat this procedure to create multiple inputs.</p>
</li>
<li>
<p>To add a Parameter Set rule, click Add Rule &gt; Parameter Set.</p>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>For more information, see Workflow <a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Workflow Input Parameter Set and
Progressive Disclosure
Rules</a>.</p>
<ol>
<li>
<p>Name—The name of the Parameter Set rule.</p>
</li>
<li>
<p>If Field—Select the input field and the properties that will be
used to define the Parameter Set rule.</p>
</li>
</ol>
</li>
<li>
<p>The inputs are referenced as <em>InputName</em> or <em>InputName.Properties</em>.</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> The properties are applicable only if the data type is
MoRefefence or Target Data Type. For example, for a Target Data Type
input field (DeviceRegistrations), you can specify <em>Hypervisor
Manager.IP Address</em>.</p>
</blockquote>
<ol>
<li>
<p>Condition—The condition for the rule. The condition can be Equal to,
Not equal to, Contains, or Matches Pattern.</p>
</li>
<li>
<p>Value—Select or enter the value. The Parameter Set rule uses this
value along with the Condition specified to compare the value from
the If Field.</p>
</li>
<li>
<p>Field to be shown—Select the input field(s) that should be made
available when the Parameter Set rule condition is satisfied.</p>
</li>
<li>
<p>Click Save.</p>
</li>
</ol>
<!-- -->
<ol>
<li>To add a Progressive Disclosure rule, click Add Rule &gt;
Progressive Disclosure.</li>
</ol>
<!-- -->
<ol>
<li>
<p>For more information, see <u>Workflow Input Parameter Set and
Progressive Disclosure Rules</u>.</p>
<ol>
<li>
<p>Target Field—The target input field on which the progressive
disclosure is applied.</p>
</li>
<li>
<p>Attribute —The inputs are referenced as
<em>AttributeName.ParameterName</em>. For example, for an input field,
Virtual Manager, you can specify the attribute name as
<em>RegisteredDevice.Moid</em> or <em>ConnectionStatus</em>.</p>
</li>
<li>
<p>Condition—The rule condition for the rule. The condition can be
Equal to, Not equal to, or Contains.</p>
</li>
<li>
<p>Value—The inputs are referenced as
${InputReferenceName.Attribute} or
${InputReferenceName.ParameterName}. For example, for a VM input
field, you can specify the value as ${HypervisorManager.Moid} or
${Target.ConnectionStatus}.</p>
</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> For a String input field, if you have selected the Object
Selector option then you need not specify the Attribute or Parameter
value.</p>
</blockquote>
<ol>
<li>
<p>In the General tab, click Add Workflow Variables in the Workflow
Variables tab. For more information, see <a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Workflow
Variables</a>.</p>
</li>
<li>
<p>In the Add Workflow Variable screen, enter the following details:</p>
<ol>
<li>
<p>Reference Name—Enter user-friendly short name.</p>
</li>
<li>
<p>Type—Select the data type. For example, String, Integer, Float,
Boolean, Json, Enum, MoReference, or Target Data Type.</p>
</li>
</ol>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>The fields displayed depend on the value you select for the Type</p>
<blockquote>
<p>field.</p>
</blockquote>
<ol>
<li>
<p>If you select the data type as String, specify the following:</p>
<ol>
<li>Object Selector—Enable to configure the Intersight managed
object selectors.</li>
</ol>
</li>
</ol>
</li>
<li>
<p>The Object Selector field is optional.</p>
<ol>
<li>Specify the Intersight API Reference and selector attributes to
feed the input from the table selection. The value will be
passed according to the configuration set in the Value
attribute.</li>
</ol>
<!-- -->
<ol>
<li>
<p>If you select the data type as Enum, specify the following:</p>
<ol>
<li>
<p>Enum List—Label and value for the Enum list.</p>
</li>
<li>
<p>Widget type—The widget type as Radio or none.</p>
</li>
</ol>
</li>
<li>
<p>If you select the data type as Target Data Type or MoReference,
specify the following:</p>
<ol>
<li>
<p>Intersight API Reference—Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute—Enter the attribute name(s) that needs to
be displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
</ol>
</li>
<li>
<p>Select the Initial Mapping To type and specify the corresponding
variable value.</p>
</li>
<li>
<p>Click Add.</p>
</li>
</ol>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>Click Workflow Outputs and click Add Workflow Output.</p>
</li>
<li>
<p>Choose a parameter and click Add.</p>
</li>
<li>
<p>Click Save.</p>
</li>
</ol>
<p>Workflow Input Parameter Set and Progressive Disclosure Rules</p>
<p>When you create a workflow, you can specify the inputs for the workflow
execution. After you define the workflow inputs, you can set Parameter
Set or Progressive Disclosure rules. These rules control the
availability of workflow inputs or filter the data based on the
preceding selection during the workflow execution.</p>
<p><strong>Note:</strong> You can define a Parameter Set or Progressive Disclosure rule
only for a workflow that has more than two input fields with the
supported data type.</p>
<h4 id="parameter-set-rule">Parameter Set Rule</h4>
<p>The Parameter Set rules control the availability of specific parameters
or inputs during the execution. After the first input is specified, the
Parameter Set rule controls which subsequent input fields are made
available during the workflow execution.</p>
<p><strong>Example:</strong> The following example shows how to create a Parameter Set
rule for a workflow with three input fields. The workflow input fields
are:</p>
<ul>
<li>
<p>Enum—Type is <em>Enum</em> and Enum list is <em>VM</em> and <em>HX</em>.</p>
</li>
<li>
<p>Input1—Type is <em>String</em>.</p>
</li>
<li>
<p>Input2—Type is <em>String</em>.</p>
</li>
</ul>
<p>You can create two workflow input Parameter Set rules. During the
workflow execution when the Enum value is <em>VM</em> only Input1 field is made
available. Alternately, when the Enum value is <em>HX</em>, only Input2 is made
available. The details of the Parameter Set rules are:</p>
<ul>
<li>
<p>Rule1—If Field is <em>Enum</em>, Condition is <em>Equal to</em>, Value is <em>VM</em>,
and Fields to be shown is <em>Input1.</em></p>
</li>
<li>
<p>Rule2—If Field is <em>Enum</em>, Condition is <em>Equal to</em>, Value is <em>HX</em>,
and Fields to be shown is <em>Input2.</em></p>
</li>
</ul>
<p>The following is a sample of the API request.</p>
<p>  &ldquo;InputParameterSet&rdquo;: [<br>
    {<br>
      &ldquo;Condition&rdquo;: &ldquo;eq&rdquo;,<br>
      &ldquo;ControlParameter&rdquo;: &ldquo;Enum&rdquo;,<br>
      &ldquo;EnableParameters&rdquo;: [<br>
        &ldquo;Input1&rdquo;<br>
      ],<br>
      &ldquo;Name&rdquo;: &ldquo;Rule1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.ParameterSet&rdquo;,<br>
      &ldquo;Value&rdquo;: &ldquo;VM&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Condition&rdquo;: &ldquo;eq&rdquo;,<br>
      &ldquo;ControlParameter&rdquo;: &ldquo;Enum&rdquo;,<br>
      &ldquo;EnableParameters&rdquo;: [<br>
        &ldquo;Input2&rdquo;<br>
      ],<br>
      &ldquo;Name&rdquo;: &ldquo;Rule2&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.ParameterSet&rdquo;,<br>
      &ldquo;Value&rdquo;: &ldquo;HX&rdquo;<br>
    },</p>
<p>The supported data types for Parameter Set rules are:</p>
<ul>
<li>
<p>Boolean</p>
</li>
<li>
<p>Enum</p>
</li>
<li>
<p>String Object Selector</p>
</li>
<li>
<p>MoReference</p>
</li>
<li>
<p>Target</p>
</li>
</ul>
<h4 id="progressive-disclosure-rule">Progressive Disclosure Rule</h4>
<p>The Progressive Disclosure rules filter the data available in an input
field based on the preceding selection during a workflow execution. The
first input field is populated with broadest options. The subsequent
input fields are populated with options based on the previous selection.</p>
<p><strong>Example 1:</strong> The following example shows how to create a Progressive
Disclosure rule for a workflow with two input fields. Both these input
fields are MoReference data type. The workflow input fields are:</p>
<ul>
<li>
<p>Field1—Type is <em>MoReference</em>, Intersight API Reference is
/api/v1/asset/DeviceRegistrations, and Selector attribute is
ConnectionStatus.</p>
</li>
<li>
<p>Field2—Type is <em>MoReference</em>, Intersight API Reference is
/api/v1/asset/DeviceRegistrations, and Selector attribute is
ConnectionStatus.</p>
</li>
</ul>
<p>You can create a Progressive Disclosure rule so that during the workflow
execution, the data is filtered for Field2 fields based on value in the
Field1 field. The details of the Progressive Disclosure rule are:</p>
<ul>
<li>Field2 Rule—Target Field is Field2, Attribute is ConnectionStatus,
Condition is <em>Equal to</em>, and Value is ${Field1.ConnectionStatus}.</li>
</ul>
<p><strong>Example 2:</strong>: The following example shows how to create a Progressive
Disclosure rule for a workflow with two input fields. Both these input
fields are composite custom data type. The workflow input fields are:</p>
<ul>
<li>
<p>Input1—Composite data type with two fields (Field1 and Field2)</p>
<ul>
<li>
<p>Field1—Type is <em>MoReference</em>, Intersight API Reference is
/api/v1/asset/DeviceRegistrations, and Selector attribute is
ConnectionStatus.</p>
</li>
<li>
<p>Field2—Type is <em>MoReference</em>, Intersight API Reference is
/api/v1/asset/DeviceRegistrations, and Selector attribute is
ConnectionStatus.</p>
</li>
</ul>
</li>
<li>
<p>Input2—Composite data type with two fields (Field3 and Field4)</p>
<ul>
<li>
<p>Field3—Type is <em>MoReference</em>, Intersight API Reference is
/api/v1/asset/DeviceRegistrations, and Selector attribute is
ConnectionStatus.</p>
</li>
<li>
<p>Field4—Type is <em>MoReference</em>, Intersight API Reference is
/api/v1/asset/DeviceRegistrations, and Selector attribute is
ConnectionStatus.</p>
</li>
</ul>
</li>
</ul>
<p>You can create two Progressive Disclosure rules. During the workflow
execution, the data is filtered for Input2 fields based on value in the
Input1 fields. The details of the two Progressive Disclosure rules are:</p>
<ul>
<li>
<p>Input2.Field3 Rule—Target Field is Input2.Field3, Attribute is
ConnectionStatus, Condition is <em>Equal to</em>, and Value is
${Input1.Field1.ConnectionStatus}.</p>
</li>
<li>
<p>Input2.Field4 Rule—Target Field is Input2.Field4, Attribute is
ConnectionStatus, Condition is <em>Equal to</em>, and Value is
${Input1.Field2.ConnectionStatus}.</p>
</li>
</ul>
<p>The following is a sample of the API request.</p>
<p>  &ldquo;UiInputFilters&rdquo;: [<br>
    {<br>
      &ldquo;Filters&rdquo;: [<br>
        &ldquo;ConnectionStatus eq &lsquo;${Input1.Field1.ConnectionStatus}&rsquo;&rdquo;<br>
      ],<br>
      &ldquo;Name&rdquo;: &ldquo;Input2.Field3&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.UiInputFilter&rdquo;,<br>
      &ldquo;UserHelpMessage&rdquo;: &quot;&quot;<br>
    },<br>
    {<br>
      &ldquo;Filters&rdquo;: [<br>
        &ldquo;ConnectionStatus eq &lsquo;${Input1.Field2.ConnectionStatus}&rsquo;&rdquo;<br>
      ],<br>
      &ldquo;Name&rdquo;: &ldquo;Input2.Field4&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.UiInputFilter&rdquo;,<br>
      &ldquo;UserHelpMessage&rdquo;: &quot;&quot;<br>
    }<br>
  ]</p>
<p>The supported data types for the Progressive Disclosure rules are:</p>
<ul>
<li>
<p>MoReference</p>
</li>
<li>
<p>Target</p>
</li>
<li>
<p>String Object Selector</p>
</li>
</ul>
<h3 id="workflow-variables">Workflow Variables</h3>
<p>Workflow variables are similar to local variables within functions of a
programming language. You define variables for workflows in Workflow
Designer, and the scope of the workflow variables lies within the
defined workflow. In a workflow, all tasks are bound to the scope of the
workflow and have access to the workflow variables that are defined for
the workflow. You can use the workflow variable to do the following:</p>
<ul>
<li>
<p>Simplify complex workflows which have multiple branches based on the
conditional operator. Save the output of tasks that get executed in
different branches of the workflow into a single variable. This
variable can then be mapped in the downstream tasks irrespective of
the branch from which it was taken.</p>
</li>
<li>
<p>Evaluate the workflow input using a complex expression, save the
result as a variable, and reuse the variable in the subsequent
tasks.</p>
</li>
<li>
<p>Transform the output of a task with the help of template functions
and map the value into a workflow variable. The variables can then
be used in multiple mappings without having to redo the
transformation in every mapping.</p>
</li>
</ul>
<p>To define the workflow variable and specify the corresponding value, you
can do the following:</p>
<ul>
<li>
<p>In the General tab, click Add Workflow Variable and define the
variable properties.</p>
</li>
<li>
<p>In the Designer tab, click the task, and then click the Variables
tab.</p>
<ul>
<li>
<p>To add a new workflow variable, click Add Workflow Variable and
define the variable properties.</p>
</li>
<li>
<p>To add or edit a mapping to an existing variable, click Edit
Mapping and specify the new value.</p>
</li>
</ul>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> To view events for a workflow variable, click the View icon.</p>
</blockquote>
<p>The workflow variables can be assigned one of the following values:</p>
<ul>
<li>
<p>Static value—Either the default value of the variable or the value
specified in the workflow tasks.</p>
</li>
<li>
<p>Direct mapping —Mapped to a workflow input, task output, or another
workflow variable.</p>
</li>
<li>
<p>Advanced or Transformational mapping—Evaluate a complex expression
and save the result in a variable.</p>
</li>
</ul>
<p>After you define the workflow variable, you can map the workflow
variable to task input, workflow output, or as an input for another
variable. For more information, see <u>Input, Variable, and Output
Mapping</u>.</p>
<p>Following is a simple example which explains static mapping for a
workflow variable. A workflow has two tasks <em>Task1</em> and <em>Task2</em> and a
workflow variable <em>Variable1</em> is defined with a default value as <em>100</em>.
For <em>Task1</em>, in the Variable tab for the task, you can specify a static
mapping for the workflow variable value as 90. Similarly, for <em>Task2</em>,
in the Variable tab for the task, you can specify the workflow variable
value as 80 by mapping the <em>Variable1</em> value.</p>
<p>When you execute the workflow, the start value of <em>Variable1</em> is the
default value <em>100</em> . After <em>Task1</em> is executed, the value of
<em>Variable1</em> is set to <em>90</em> based on the static value that is mapped for
the task. After <em>Task2</em> is executed, the value of <em>Variable1</em> is set to
<em>80</em> based on the static value that is mapped for the task.</p>
<p>Input, Variable, and Output Mapping</p>
<p>Workflows inputs, variables, and task outputs can be used for mapping
and they can be used as direct, transformed, or advanced mapping. The
syntax to refer to these will depend on the type of mapping.</p>
<ul>
<li>
<p>Workflow inputs are referenced as ${workflow.input.InputName} where
InputName is the Reference Name given to the workflow input and not
the Display Name or Label.</p>
</li>
<li>
<p>Workflow variables are referenced as ${workflow.variable.InputName}
, where InputName is the Reference Name for the workflow variable.</p>
</li>
<li>
<p>Task outputs are referenced as ${TaskName.output.OutputName} where
TaskName is the Instance Name for the task and not the Display Name
or Label and OutputName is the Reference Name for the task output.</p>
</li>
</ul>
<p>To specify an input mapping, select a task and click Edit against a task
input parameter.</p>
<p>To specify a workflow variable mapping, select a task and click Map
against a workflow variable parameter.</p>
<p>Following are the available options:</p>
<ul>
<li>
<p>Static Value—Enter a value that is assigned to the task input or
workflow variable field.</p>
</li>
<li>
<p>Direct Mapping—Map an existing input, workflow variable, or task
output to the task input.</p>
</li>
<li>
<p>Transformed Mapping—Allows applying data transformation through a
combination of one or more transformation stages for a task&rsquo;s input.
In each transformation stage, you can select a transformation
function along with its inputs. The transformation stages will be
converted into a template. You can then preview the template and
test the transformation with sample values.</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> Transformed mapping is only supported for task inputs of
primitive data types, such as <em>string</em>, <em>integer</em>, <em>boolean</em>, and
<em>float</em>.</p>
</blockquote>
<ul>
<li>Advanced Mapping—Map a Golang template to the task input or workflow
variable. For example, FindAllString function returns a slice of all
substrings that match the given regular expression in the given
string.</li>
</ul>
<!-- -->
<ul>
<li>
<p>FindAllString(s, regex string) ([]string, error)<br>
Example: {{(FindAllString .global.task.input.NumberString \&quot;([0-9]+)\&quot;)}} <br>
returns array [“123”, “456”] for input string “123 some text 456”.</p>
</li>
<li>
<p>For example, Atoi function converts the given number in string
format to integer type.</p>
</li>
<li>
<p>Atoi(s string) (int, error)<br>
Example: {{Atoi .global.task.input.SizeString}} <br>
returns integer 2048 for input string “2048”</p>
</li>
</ul>
<h3 id="operations---conditional-task">Operations - Conditional Task</h3>
<p>Operations can be used to control the execution path of the workflows.
Orchestrator supports Condition tasks which can be used to control the
tasks that need to be executed.</p>
<h4 id="tasks-to-control-execution-flow-of-workflows">Tasks to Control Execution Flow of Workflows</h4>
<p>The Conditional Task under Operations allows you to perform programmatic
decisional expressions in a conditional task during a workflow
execution. The conditional expression can be simple expression or a
combined compound expression.</p>
<p><strong>Note:</strong> Only JSON style template is supported with conditional
expressions.</p>
<p>Conditional expressions support the following operators:</p>
<ul>
<li>
<p><strong>Comparison operators</strong> such as === (Equal to), != (Not equal to),
&gt; (Greater than), &lt; (Less than), &gt;= (Greater than or equal
to), &lt;= (Less than or equal to)</p>
</li>
<li>
<p><strong>Arithmetic operators</strong> such as =, -, * (Multiplication), /
(division), % (Modulo), ** (Logical AND)</p>
</li>
<li>
<p><strong>Logical operators</strong> such as &amp;&amp; (Logical AND), || (Logical OR), !
((Logical NOT)</p>
</li>
<li>
<p><strong>Ternary operator</strong> such as condition ? val1 : val2</p>
</li>
</ul>
<p>The syntax for workflow input is ${workflow.input.&lt;workflow input
ReferenceName&gt;} and the syntax for task output is ${&lt;Task
Name&gt;.output.&lt;Task Output Name&gt;}. You can get the values for the task
name and task output name from the Code view.</p>
<p>Following is an example for conditional expressions:</p>
<p>if ( (${workflow.input.name} != &rsquo;test&rsquo; || ${workflow.input.name} != &rsquo;test123’)) &lsquo;bad input&rsquo;; else if((${workflow.input.id} != null &amp;&amp; ${workflow.input.id} % 2 == 0)) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name} != &rsquo;test123’ || ${workflow.input.name} != &rsquo;test123’)) &lsquo;bad input&rsquo;; else if((${workflow.input.id} != null &amp;&amp; ${workflow.input.id} % 2 == 0)) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name}.length === 12 || ${workflow.input.name} !== ‘test’ )) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;; &lt;&lt; fgfgfgfgfgfg , even<br>
if ( (${workflow.input.name}.length === 12 || ${workflow.input.name} !== ‘test’ )) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;; &lt;&lt; test , odd<br>
if ( (${workflow.input.name} != null &amp;&amp; &lsquo;decisionTest&rsquo;.indexOf(${workflow.input.name}) != -1 )) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name}.toLowerCase() == ‘testing’)) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;; &lt;&lt; used integers as input name to try odd path<br>
if ( (${workflow.input.name}.search(/\s/g) != -1)) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name}.match(/\s/g) != -1)) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name}.startsWith(&lsquo;Not&rsquo;,0) || ${workflow.input.name}.endsWith(&rsquo;.&rsquo;))) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name}.length &gt;= 3 &amp;&amp; ${workflow.input.name}.length &lt;= 20)) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name}. === undefined)) ‘odd’; else ‘even’;<br>
if ( (${workflow.input.name}.search(&lsquo;Failed&rsquo;) != -1)) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;<br>
if ( (${workflow.input.name}.toLowerCase() != &rsquo;&rsquo; || ${workflow.input.name}.toUpperCase() != ‘Not-assigned’ )) &rsquo;even&rsquo;; else &lsquo;odd&rsquo;;</p>
<p>The expression is executed during runtime and depending on the result,
the respective path is chosen. If none of the conditions match, the
default path is chosen.</p>
<p>For example, you can have a conditional task that follows a path of
execution depending on the profile state. You can create a condition in
a workflow to check the state of the profile. If the profile is in the
Assigned state then you can deploy the profile, else delete the profile.</p>
<p>After choosing the conditional task, use the Conditions tab to specify
expressions in the Condition field of the tab. The values for the
condition are specified in the Value field of the Cases area.
Expressions are validated for syntax accuracy when workflow is saved.</p>
<p>The following examples return the value of the condition.</p>
<p>${workflow.input.Names}.length<br>
${workflow.input.ArrayOfIds}.length              (here ArrayOfIds represent an array)<br>
${workflow.input.Names}.toLowerCase()<br>
${workflow.input.Names}.toUpperCase()</p>
<p>The following examples return the boolean value &rsquo;true&rsquo; or &lsquo;false&rsquo;.</p>
<p>${workflow.input.Names}.startsWith(&lsquo;Te&rsquo;)<br>
${workflow.input.Names}.endsWith(&lsquo;st&rsquo;)<br>
${workflow.input.Names} == null<br>
${workflow.input.Names} != null</p>
<p>In addition to workflow, task output can also be used. Here a boolean
value is used in a ternary operation. If True, branch1 executes,
otherwise branch2 executes <em>${task1.output.IsValid} ? branch1 :
branch2</em>.</p>
<h4 id="operations---parallel-loop-task">Operations - Parallel Loop Task</h4>
<p>Operations can be used to control the execution path of the workflows.
Orchestrator supports the Parallel Loop operation task that can be used
to run a single task or sub-workflow, iteratively, based on a specified
count input.</p>
<p>The iteration count can either be a static value that is specified when
the workflow is created or a dynamic value that is derived from a
workflow input or task output.</p>
<p>When the task is executed, the count &lsquo;N&rsquo; is determined, and the tasks or
sub-workflows are scheduled for execution in parallel. When all the
instances of the task or sub-workflow reach a final state, the parallel
loop operation completes, and the workflow execution moves on to the
next task.</p>
<p><strong>Note:</strong> If one of the tasks or sub-workflows fails then the entire
parallel loop task fails.</p>
<p>The dynamic values for the count must be specified as a template
function. For example, if a loop must run for a count which matches the
length of a workflow input called StringArray, then the count must be
specified using a template function <em>{{ len
.global.workflow.input.StringArray }}</em>.</p>
<p>In addition, you can use the keyword <em>.iteration</em> in a workflow template
input to control the inputs that feed into the task. For example, the
task within the loop needs to take one value from the workflow input
StringArray, then the task string input can be mapped to the template
<em>HostGroupName{{.iteration}}</em> during the workflow creation.</p>
<p>Use the <strong>Parallel Loop</strong> task from the <strong>Operations</strong> section in the
Intersight Orchestrator Workflow Designer UI to build the workflow.</p>
<p>To add a task or a sub-workflow to a Parallel Loop task, you must drag
and drop the single task or sub-workflow inside the Parallel Loop task
in the Workflow Designer UI.</p>
<p>The following table explains the Parallel Loop task input properties:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Count</td>
<td><p>The iteration count value for the parallel loop. The count can either be a static value defined as a constant or a dynamic value defined as an expression that is evaluated to an integer value at execution time.</p>
<p>The dynamic values for the count must be specified as a template function. For example, if a loop must run for a count which matches the length of a workflow input called StringArray, then the count must be specified using a template function {{ len .global.workflow.input.StringArray }}.</p>
<p>The count must be less than or equal to 100.</p></td>
</tr>
</tbody>
</table>
<p><strong>Example: Create a workflow with the Parallel Loop task to create
multiple storage host groups</strong></p>
<p>The following example workflow has two tasks—Parallel Loop and New
Storage Host Group. The first task runs the Parallel Loop task. In this
task, the Count input is a static value and is set to <em>2</em>. The second
task, New Storage Host Group, creates storage host groups with the host
group name as a workflow input.</p>
<p>When the workflow is executed, the count &lsquo;N&rsquo; is determined as 2, and two
create storage host group tasks are executed in parallel. When all the
instances of the task reach a final state, the parallel loop completes.</p>
<p>The workflow input field required for this example is as follows:</p>
<table>
<colgroup>
<col style="width: 22%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Storage Device</td>
<td><ul>
<li><p>Reference Name—<em>StorageDevice</em></p></li>
<li><p>Type—<em>Target Data Type</em></p></li>
<li><p>Intersight API Reference—<em>/api/v1/storage/PureArrays</em></p></li>
<li><p>Selector Attribute—<em>Name</em></p></li>
<li><p>Selector Attribute—<em>Vendor</em></p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the properties for the Parallel Loop task:</p>
<table>
<colgroup>
<col style="width: 44%" />
<col style="width: 55%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Count</td>
<td>Count—<em>2</em></td>
</tr>
</tbody>
</table>
<p>The following table lists the properties for the New Storage Host Group
task:</p>
<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Storage Device</td>
<td>Workflow Input—<em>${workflow.input.StorageDevice}</em></td>
</tr>
<tr class="even">
<td>Host Group</td>
<td><p>Custom Value—<em>HostGroupName{{.iteration}}</em></p>
<p>The keyword <em>.iteration</em> in a workflow template input to control the inputs that feed into the task.</p></td>
</tr>
</tbody>
</table>
<p>After you execute the workflow, you would see the following output:</p>
<p>├── New Storage Host Group<br>
├── &hellip;<br>
│   ├── Inputs<br>
│   │   └── Host Group: HostGroupName0<br>
│   │       └── Storage Device:{ 2 }<br>
│   │           ├── Moid: 619efa1d6e64612d317a248a<br>
│   │           └── ObjectType: storage.PureArray<br>
│   └── Outputs<br>
│       ├── ConfigResults:[ 1 ]<br>
│       │   └── Object: { 4 }<br>
│       │       ├── ConfigResCtx: { 1 }<br>
│       │       │   └── EntityData: { 1 }<br>
│       │       │       └── task: workflow.ApiTask<br>
│       │       ├── Message: Host group created successfully.<br>
│       │       ├── State: Ok<br>
│       │       └── Type: Config<br>
│       └── Host Group: HostGroupName0<br>
├── New Storage Host Group<br>
└── &hellip;<br>
    ├── Inputs<br>
    │   └── Host Group: HostGroupName1<br>
    │       └── Storage Device:{ 2 }<br>
    │           ├── Moid: 619efa1d6e64612d317a248a<br>
    │           └── ObjectType: storage.PureArray<br>
    └── Outputs<br>
        ├── ConfigResults:[ 1 ]<br>
        │   └── Object: { 4 }<br>
        │       ├── ConfigResCtx: { 1 }<br>
        │       │   └── EntityData: { 1 }<br>
        │       │       └── task: workflow.ApiTask<br>
        │       ├── Message: Host group created successfully.<br>
        │       ├── State: Ok<br>
        │       └── Type: Config<br>
        └── Host Group: HostGroupName1</p>
<p>The following is a sample code view:</p>
<p>{<br>
  &ldquo;Catalog&rdquo;: {<br>
    &ldquo;Moid&rdquo;: &ldquo;5e6109bc696f6e2d31f856e5&rdquo;,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.Catalog&rdquo;,<br>
    &ldquo;link&rdquo;: &ldquo;<a href="https://www.intersightcom/api/v1/workflow/Catalogs/5e6109bc696f6e2d31f856e5%22">https://www.intersightcom/api/v1/workflow/Catalogs/5e6109bc696f6e2d31f856e5&quot;</a><br>
  },<br>
  &ldquo;DefaultVersion&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
  &ldquo;InputDefinition&rdquo;: [<br>
    {<br>
      &ldquo;CustomDataTypeProperties&rdquo;: {<br>
        &ldquo;CatalogMoid&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;CustomDataTypeId&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;CustomDataTypeName&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.CustomDataProperty&rdquo;<br>
      },<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;IsValueSet&rdquo;: false,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: null<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;IsArray&rdquo;: false,<br>
      &ldquo;Label&rdquo;: &ldquo;Storage Device&rdquo;,<br>
      &ldquo;Max&rdquo;: 0,<br>
      &ldquo;Min&rdquo;: 0,<br>
      &ldquo;Name&rdquo;: &ldquo;StorageDevice&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.TargetDataType&rdquo;,<br>
      &ldquo;Properties&rdquo;: [<br>
        {<br>
          &ldquo;ConnectorAttribute&rdquo;: &ldquo;RegisteredDevice.Moid&rdquo;,<br>
          &ldquo;ConstraintAttributes&rdquo;: [<br>
            &ldquo;ObjectType&rdquo;<br>
          ],<br>
          &ldquo;DisplayAttributes&rdquo;: [<br>
            &ldquo;Name&rdquo;,<br>
            &ldquo;Vendor&rdquo;<br>
          ],<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.TargetProperty&rdquo;,<br>
          &ldquo;Selector&rdquo;: &ldquo;/api/v1/storage/PureArrays&rdquo;,<br>
          &ldquo;SelectorProperty&rdquo;: {<br>
            &ldquo;Body&rdquo;: null,<br>
            &ldquo;Method&rdquo;: &ldquo;GET&rdquo;,<br>
            &ldquo;ObjectType&rdquo;: &ldquo;workflow.SelectorProperty&rdquo;<br>
          },<br>
          &ldquo;SupportedObjects&rdquo;: [<br>
            &ldquo;storage.PureArray&rdquo;<br>
          ]<br>
        }<br>
      ],<br>
      &ldquo;Required&rdquo;: true<br>
    }<br>
  ],<br>
  &ldquo;InputParameterSet&rdquo;: [],<br>
  &ldquo;Label&rdquo;: &ldquo;Parallel Loop&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;ParallelLoop&rdquo;,<br>
  &ldquo;OutputDefinition&rdquo;: [],<br>
  &ldquo;OutputParameters&rdquo;: null,<br>
  &ldquo;Properties&rdquo;: {<br>
    &ldquo;Cloneable&rdquo;: true,<br>
    &ldquo;EnableDebug&rdquo;: false,<br>
    &ldquo;ExternalMeta&rdquo;: true,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkflowProperties&rdquo;,<br>
    &ldquo;Retryable&rdquo;: false,<br>
    &ldquo;SupportStatus&rdquo;: &ldquo;Supported&rdquo;<br>
  },<br>
  &ldquo;Tags&rdquo;: [],<br>
  &ldquo;Tasks&rdquo;: [<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
      &ldquo;NextTask&rdquo;: &ldquo;parallelLoop1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.StartTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Count&rdquo;: &ldquo;2&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;A Parallel Loop is a control task that runs one task or one sub-workflow multiple times based on a specified count.  The count can be a static value that is specified during design time or a dynamic value that is derived from workflow inputs or task outputs.  When the loop is executed, the count &lsquo;N&rsquo; is determined, N tasks or sub-workflows are scheduled for execution in parallel.  When all N instances of the task or sub-workflow reach a final state the parallel loop will complete and workflow execution will move on to the next task.  If any one of the tasks or sub-workflows fails, then the entire loop will fail.  Dynamic values for count must be specified as a template.  For example, if a loop must run for a count which matches the length of a workflow input called StringArray, then the count must be specified using a template &lsquo;{{ len .global.workflow.input.StringArray }}&rsquo;.  The iteration of the loop is available using the keyword &lsquo;.iteration&rsquo; and it can be used to control inputs that feed into the task.  For example, the task inside the loop needs to take one value from the workflow input StringArray, then the task string input can be mapped to the template &lsquo;{{ index .global.workflow.input.StringArray .iteration}}&rsquo; during design.&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;Parallel Loop&rdquo;,<br>
      &ldquo;LoopStartTask&rdquo;: &ldquo;NewStorageHostGroup1&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;parallelLoop1&rdquo;,<br>
      &ldquo;NumberOfBatches&rdquo;: 1,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.LoopTask&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;Parallel&rdquo;: true<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5c2fc884696f6e2d316c5d59&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Create a host group with host group name as input. On successful execution, the newly created host group name is generated as output.&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;HostGroupName&rdquo;: &ldquo;HostGroupName{{.iteration}}&rdquo;,<br>
        &ldquo;StorageDevice&rdquo;: &ldquo;${workflow.input.StorageDevice}&rdquo;<br>
      },<br>
      &ldquo;Label&rdquo;: &ldquo;New Storage Host Group&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;NewStorageHostGroup1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;5f7ed8a2696f6e2d30eb388b&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;NewStorageHostGroup&rdquo;,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;Version&rdquo;: 2<br>
    }<br>
  ],<br>
  &ldquo;UiInputFilters&rdquo;: [],<br>
  &ldquo;UiRenderingData&rdquo;: {<br>
    &ldquo;Positions&rdquo;: [<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
        &ldquo;X&rdquo;: 269.5,<br>
        &ldquo;Y&rdquo;: 45.5<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 269.5,<br>
        &ldquo;Y&rdquo;: 303<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 412.5,<br>
        &ldquo;Y&rdquo;: 303<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;parallelLoop1&rdquo;,<br>
        &ldquo;X&rdquo;: 149.01800537109375,<br>
        &ldquo;Y&rdquo;: 116.75314331054688<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;NewStorageHostGroup1&rdquo;,<br>
        &ldquo;X&rdquo;: 185,<br>
        &ldquo;Y&rdquo;: 177<br>
      }<br>
    ]<br>
  },<br>
  &ldquo;Version&rdquo;: 1,<br>
  &ldquo;WorkflowMetadata&rdquo;: null<br>
}</p>
<h4 id="operations---serial-loop-task">Operations - Serial Loop Task</h4>
<p>Operations can be used to control the execution path of the workflows.
Orchestrator supports the Serial Loop operation task that is used to run
one or more tasks iteratively, based on a specified count input or a
condition.</p>
<p>In a Serial Loop task:</p>
<ul>
<li>
<p>you can execute one or more tasks within a loop, iteratively, based
on a specified count input or condition.</p>
</li>
<li>
<p>the tasks within the loop execute in succession to complete one
iteration, and then move on to the next iteration.</p>
</li>
</ul>
<p>For example, consider a Serial Loop task that comprises two tasks - Task
A and Task B, and a static Iteration Count of 4. When the Serial Loop
task is executed, Task A and Task B are executed in succession. After
the first iteration is completed, the second iteration begins. This
cycle repeats until the iteration count reaches 4.</p>
<p><strong>Note:</strong> The Serial Loop task does not support sub-workflow tasks,
conditional tasks, forks or joins and nested loops.</p>
<p>Use the <strong>Serial Loop</strong> task from the <strong>Operations</strong> section in the
Intersight Orchestrator Workflow Designer UI to build the workflow. To
add tasks to a Serial Loop task, you must drag and drop the tasks inside
the Serial Loop task in the Workflow Designer UI.</p>
<p>The following table explains the Serial Loop task input properties:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Iteration Count</td>
<td><p>The iteration count value for the serial loop.</p>
<p>Iteration Count is specified in Loop Mode and the tasks are scheduled for execution in a serial loop. When the instance of the loop reaches the final iteration count, the serial loop operation ends, and the workflow moves on to the next task.</p>
<p>The count can either be a static value defined as a constant or a dynamic value defined as an expression that is evaluated to an integer value at execution time. The dynamic values for the count must be specified as a Golang template function.</p>
<p>Example of a static Iteration Count Value:</p>
<p>Iteration Count Value—<em>3</em></p>
<p>The loop runs for 3 iterations.</p>
<p>Example for a dynamic Iteration Count Value:</p>
<p>Iteration Count Value—{{ len .global.workflow.input.StringArray }}</p>
<p>If a loop must run for a count which matches the length of a workflow input called StringArray you must specify the count using a template function.</p>
<p><strong>Note:</strong> The count must be less than or equal to 100.</p></td>
</tr>
<tr class="even">
<td>Condition</td>
<td><p>The condition definition for the serial loop execution.</p>
<p>When Condition is selected in Loop Mode, the tasks are scheduled for execution every time the condition holds true. The condition is validated after every iteration. When the instance of the serial loop task does not satisfy the condition anymore, the serial loop operation ends, and the workflow execution moves on to the next task.</p>
<p>The condition statement is a simple JavaScript Boolean expression. If it returns a True value, the serial loop executes, or else, the loop terminates.</p>
<p>For example, when the condition specified in Loop Mode is:</p>
<p>if (${InvokeSshCommands1.output.ExtractedParameters.userCreatedState} == "present") { true; } else { false; }</p>
<p>In this case, the serial loop runs whenever the task output value of (${InvokeSshCommands1.output.ExtractedParameters.userCreatedState} is "present" and the loop terminates when the task output is any value other than "present".</p>
<p>The following are few examples of input values that use JavaScript conditional expressions:</p>
<ul>
<li><p><strong>Static Value</strong>— You can specify a static value within the conditional expression. The serial loop runs until the iteration reaches the defined count.</p></li>
</ul>
<blockquote>
<p><strong>Note:</strong> Use the expression $.&lt;SerialLoopTaskName&gt;['iteration'] in the conditional expression when the condition is based on comparison of iteration count.</p>
</blockquote>
<ul>
<li><blockquote>
<p>if ($.serialLoop1['iteration'] &lt; 3) { true; } else { false; }</p>
</blockquote></li>
<li><blockquote>
<p>In the above example,</p>
</blockquote>
<ul>
<li><p>the static value defined within the conditional expression is 3.</p></li>
<li><p>$.&lt;SerialLoopTaskName&gt;['iteration'] fetches the running iteration count of the serial loop during execution.</p></li>
<li><p>serialLoop1 is the Serial Loop task name.</p></li>
</ul></li>
</ul>
<ul>
<li><p><strong>Workflow Input</strong>— The serial loop takes a workflow input, evaluates the condition, and runs until the iteration reaches the count derived from the workflow input. In the given example, loopcount is the workflow input.</p></li>
</ul>
<ul>
<li><blockquote>
<p>if ($.serialLoop1['iteration'] &lt; ${workflow.input.loopcount}) { true; } else { false; }</p>
</blockquote></li>
</ul>
<ul>
<li><p><strong>Task Output as an Input</strong>— The serial loop takes a task output, evaluates the condition, and runs until the iteration reaches the count derived from the task output. In the given example, countis the task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>if ($.serialLoop1['iteration'] &lt; ${taskA.output.count}) { true; } else { false; }</p>
</blockquote></li>
</ul>
<p><strong>Note:</strong> A maximum of 100 iterations are allowed to prevent infinite looping.</p></td>
</tr>
</tbody>
</table>
<p><strong>Example: Create a workflow using Iteration Count in a serial loop task
to create storage hosts and assign the host to a newly created host
group</strong></p>
<p>The following workflow example consists of a task called New Storage
Host Group, present outside the serial loop, and two tasks — New Storage
Host and Add Host to Storage Host Group, embedded within the serial
loop. The serial loop mode is Iteration Count.</p>
<p>When the workflow is executed, the New Storage Host Group task first
creates a new storage host group. Then, the New Storage Host and the Add
Host to Storage Host Group tasks are implemented in succession within
the serial loop. At the end of the first iteration, the newly created
storage host is added to the new storage host group, and then, the
second iteration begins. The loop repeats until the iteration count,
which is the total number of storage hosts created, reaches the
specified count.</p>
<p>The Workflow Input fields required for this example are as follows:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Host Group</td>
<td><ul>
<li><p>Reference Name—<em>Hostgroup</em></p></li>
<li><p>Type—<em>String</em></p></li>
<li><p>Min—<em>1</em></p></li>
<li><p>Max—<em>63</em></p></li>
<li><p>Regex—<em>^[a-zA-Z0-9]+([a-zA-Z0-9-]*[a-zA-Z0-9])*$</em></p></li>
<li><p>Object Selector— Enable</p></li>
<li><p>Intersight API Reference—<em>/api/v1/search/SearchItems?$filter=(IndexMotypes eq storage.BaseHostGroup)&amp;$orderby=Name</em></p></li>
<li><p>Selector Attribute—<em>Name</em></p></li>
<li><p>Value Attribute—<em>Name</em></p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the properties of the Serial Loop task:</p>
<table>
<colgroup>
<col style="width: 50%" />
<col style="width: 49%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Loop Mode</td>
<td>Iteration Count</td>
</tr>
<tr class="even">
<td>Iteration Count Value</td>
<td><p><em>5</em></p>
<p>This is a static value.</p></td>
</tr>
</tbody>
</table>
<p>The following table lists the input properties of the New Storage Host
task:</p>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Storage Device</td>
<td><p>Static Value</p>
<p>Select the Storage Device.</p></td>
</tr>
<tr class="even">
<td>Host</td>
<td><p>Static Value—serialLoopHost{{.iteration}}</p>
<p>The keyword .iteration is used to append the iteration count, starting from 0, to the input serialLoopHost.</p>
<p>The new storage hosts are created in order, for example: serialLoopHost0, serialLoopHost1, serialLoopHost2, serialLoopHost3 and serialLoopHost4. The loop stops when the count reaches 5.</p></td>
</tr>
<tr class="odd">
<td>Storage Vendor Host Identifier</td>
<td>Static Value—Pure FlashArray</td>
</tr>
<tr class="even">
<td>Storage Vendor Virtual Machine</td>
<td>Static Value—Pure FlashArray</td>
</tr>
<tr class="odd">
<td>Storage Vendor Host Options</td>
<td>Static Value—Pure FlashArray</td>
</tr>
</tbody>
</table>
<p>The following table lists the properties of the Add Host to Storage Host
Group task:</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Storage Device</td>
<td><p>Static Value</p>
<p>Select the Storage Device.</p></td>
</tr>
<tr class="even">
<td>Host Group</td>
<td><p>Advanced Mapping—${NewStorageHostGroup1.output.HostGroupName}</p>
<p>HostGroupName is the task output of the previous task outside the serial loop, which in this case is the New Storage Host Group task.</p></td>
</tr>
<tr class="odd">
<td>Host Name</td>
<td><p>Advanced Mapping—${NewStorageHost1.output.HostName}</p>
<p>HostName is the task output of the previous task inside the serial loop.</p>
<p>Pure FlashArray</p></td>
</tr>
</tbody>
</table>
<p><strong>Example: Create a workflow using condition loop mode in a serial loop task to run Ansible Playbook on the hosts</strong></p>
<p>The following workflow example consists of a Serial Loop task with two
embedded tasks- Invoke Ansible Playbook and Invoke SSH Commands. The
serial loop mode is Condition.</p>
<p>When the serial loop task is executed , the Ansible Playbook and Invoke
SSH Commands tasks run in succession within the loop.</p>
<p>In this example, the workflow requires two Ansible Playbooks- one to
create a user and the other to delete a user. The Invoke Ansible
Playbook task iterates across the playbooks, and a log file is
generated. The Invoke SSH Commands task prints the log file. The log may
show that the user is present or absent based on the Playbook that is
run.</p>
<p>At the end of each iteration, the output value parsed as
userCreatedState which is present in the log file is evaluated. The
serial loop runs another iteration whenever a user is present and there
is a &ldquo;present&rdquo; value in the capture entity called userCreatedState. The
loop exits when there is no value or any value other than &ldquo;present&rdquo; in
userCreatedState.</p>
<p>For example, when the delete user playbook is run, the output value in
userCreatedState may be &ldquo;absent&rdquo;. In such a case, the condition is not
met, and the loop exits.</p>
<p>The Workflow Input fields required for this example are as follows:</p>
<table>
<colgroup>
<col style="width: 27%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>playbookPaths</td>
<td><ul>
<li><p>Reference Name—<em>playbookPaths</em></p></li>
<li><p>Type—<em>String</em></p></li>
<li><p>Value Restrictions—<em>Collection/Multiple</em></p></li>
<li><p>Min—<em>0</em></p></li>
<li><p>Max—<em>100</em></p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the properties for the Serial Loop task:</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Loop Mode</td>
<td>Condition</td>
</tr>
<tr class="even">
<td>Condition Value</td>
<td><p>if</p>
<p>(${InvokeSshCommands1.output.ExtractedParameters.userCreatedState} == "present") { true; } else { false; }</p>
<p>In this case, the serial loop runs whenever a user is present and there is a value "present" in the capture entity called userCreatedState. The loop exits when there is no value or any value other than "present" in userCreatedState.</p></td>
</tr>
</tbody>
</table>
<p>The following table lists the input properties for the Invoke Ansible
Playbook task:</p>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 85%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Ansible Controller</td>
<td>Static Value</td>
</tr>
<tr class="even">
<td>Playbook Path</td>
<td><p>Advanced Mapping—{{index .global.workflow.input.playbookPaths .iteration}}</p>
<p>A Golang expression is used here which iterates over the defined workflow input playbookPaths. In this example, playbookPaths is an array of Ansible playbook paths.</p></td>
</tr>
<tr class="odd">
<td>Host Inventory</td>
<td><p>Static Value</p>
<p>Example: /home/qali/vspancha/playbooks/33hosts</p></td>
</tr>
</tbody>
</table>
<p>The following table lists the input properties for the Invoke SSH
Command task:</p>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 85%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td>Static Value</td>
</tr>
<tr class="even">
<td>SSH Command</td>
<td><p>Static Value—cat {{.global.InvokeAnsiblePlaybook1.output.ExecutionLogPath}}</p>
<p>The SSH command prints the output. ExecutionLogPath is the output of the task InvokeAnsiblePlaybook1 present within the serial loop.</p></td>
</tr>
<tr class="odd">
<td>Show Command Output</td>
<td><p>Static Value</p>
<p>true</p></td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>Static Value</p>
<ul>
<li><p>Regular Expression—The regular expression of the line in the command response where the capture value, which is userCreatedState in this example, resides.\"state\":\s\"$&lt;userCreatedState&gt;\"</p></li>
<li><p>Name—Name of the output under which the captured value is saved, userCreatedState.</p></li>
<li><p>Type—<em>String</em></p></li>
</ul></td>
</tr>
</tbody>
</table>
<h3 id="managing-the-lifecycle-of-a-workflow">Managing the Lifecycle of a Workflow</h3>
<p>Workflow management consists of organizing, creating, updating, and
deletion of workflows. The following table describes the set of actions
that you can perform with workflows in Cisco Intersight.</p>
<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="header">
<th>Actions</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>View Workflows</td>
<td>Choosing Orchestration from the left navigation pane will display all workflows in a tabular format. You can view information such as the workflow name and description, the number of versions available, the number of times the workflow has been executed, the last execution status, validation information and the last update time and date.</td>
</tr>
<tr class="even">
<td>Create a New Workflow</td>
<td>Choose Orchestration from the left navigation pane and click Create Workflow. This option opens up the Workflow Designer, using which you can create a new workflow.</td>
</tr>
<tr class="odd">
<td>Create a Version for a Workflow</td>
<td>You can create multiple versions for a workflow. In addition, you can set a specific version of the workflow as the default version for the workflow. See <a href="file://E:\\help\\resources\\Workflow_Designer">Managing Versions for Workflows</a>.</td>
</tr>
<tr class="even">
<td>Delete a Workflow</td>
<td><p>From the tabular list of workflows, you can select a workflow and click Delete. This will remove the workflow and all versions of the workflow.</p>
<p>You cannot delete a workflow when :</p>
<ul>
<li><p>workflow is used as sub-workflow task in another workflow.</p></li>
<li><p>workflow is in running state.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Execute a Workflow</td>
<td><p>Select a workflow from the tabular list of workflows and choose Execute. Alternatively, you can click the workflow name, and then choose Execute in the Workflow Designer.</p>
<p><strong>Important:</strong> Workflow execution includes privilege-based validation for tasks. With the introduction of privilege-based validation for virtualization, compute and storage tasks, a user must have all the required privileges to execute all the domain tasks within a workflow. For example, a user can successfully execute a workflow that includes storage and virtualization tasks only if the user has both Storage and Virtualization Administrator privileges. In the absence of either one of these privileges, the Execute button will not be displayed and the user cannot execute the workflow.</p>
<p>However, an Account Administrator can execute all workflow.</p>
<p>While configuring the properties of a workflow, if you selected the Enable Retry option, then in the event of a workflow failure, you can either choose to execute the workflow again from the point of failure, or you can execute the entire workflow again.</p></td>
</tr>
<tr class="even">
<td>Clone a Workflow</td>
<td>From the tabular list of workflows, you can select a workflow and click Clone. This will clone the selected workflow.</td>
</tr>
<tr class="odd">
<td>Save a Workflow as</td>
<td><p>From the tabular list of workflows, you can choose a workflow and click. By default, the workflow details are displayed in the Designer tab. You can choose Save As option from the Action drop-down list to clone or create a new version of the existing workflow.</p>
<p>You can also perform this operation in the General tab.</p>
<p>In the Save As screen, you can choose one of the following:</p>
<ul>
<li><p>New Version—Specify a new version and related description. Click Save.</p></li>
</ul>
<ul>
<li><blockquote>
<p>This option is not available for a system generated workflow.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Clone—Specify user-friendly short name, reference name, description, and tag key. Click Save. For more information, see <a href="file://E:\\help\\resources\\Workflow_Designer">Cloning a Workflow</a>.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<h4 id="cloning-a-workflow">Cloning a Workflow</h4>
<p>You can clone a workflow. The cloned workflow is identical to the
original workflow. You can edit the new workflow immediately. You might
do this, for example, to create a workflow that is similar to the source
workflow that can be edited based on your requirements. The new workflow
has a new, separate version history.</p>
<p>To clone a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>From the tabular list of workflows, select a workflow and choose
Clone.</p>
</li>
<li>
<p>In the Clone Workflow screen, edit the user-friendly short name,
reference name, description, and organization details. The
organization mappings are displayed only for pre-canned workflows
and not for the custom workflows.</p>
</li>
<li>
<p>Check the Open Clone in Editor check box if you want to open the
cloned workflow in the workflow designer and edit the details.</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Open Clone in Editor check box is not displayed when you
clone a workflow using the Save As option.</p>
</blockquote>
<ol>
<li>Click Clone.</li>
</ol>
<h4 id="managing-versions-for-workflows">Managing Versions for Workflows</h4>
<p>Cisco Intersight allows you to create and manage versions for workflows.
In addition to creating versions, you can also set a specific version as
the default version for the workflow. You can create a version of a
workflow and execute it only if you are one of the following users:</p>
<ul>
<li>
<p>Account Administrator</p>
</li>
<li>
<p>User with Workflow Designer privileges</p>
</li>
</ul>
<p>Read-Only users can only view versions of a workflow. They cannot
create, edit, execute or delete versions. Users with Storage
Administrator and Virtualization Administrator privileges can only view
and execute specific versions of a workflow.</p>
<p>To create a version for a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>From the tabular list of workflows, select a workflow and choose
Manage Versions.</p>
</li>
<li>
<p>In the Manage Versions screen, you can perform the following tasks:</p>
</li>
</ol>
<ul>
<li>
<p>Create a new version for the workflow</p>
</li>
<li>
<p>Execute a specific version of the workflow</p>
</li>
<li>
<p>Delete a specific version. You cannot directly delete the default
version of a workflow. To delete the default version, perform the
following:</p>
<ul>
<li>
<p>Make another version the default.</p>
</li>
<li>
<p>Change the workflow version to be deleted as non-default.</p>
</li>
<li>
<p>Delete the workflow version that was changes as non-default.</p>
</li>
</ul>
</li>
<li>
<p>Set a specific version of the workflow as the default version</p>
</li>
</ul>
<ol>
<li>Choose Create a New Version and enter the following details:</li>
</ol>
<ul>
<li>
<p>Source Version—Choose a specific version that will form the source
for the new version that you are creating.</p>
</li>
<li>
<p>Version—Specify a version number for the workflow.</p>
</li>
<li>
<p>Description—Enter a description for the version so that you can
identify it.</p>
</li>
<li>
<p>Set as Default Version—Check this check box to set this new version
as the default version for the workflow.</p>
</li>
</ul>
<ol>
<li>Click Create.</li>
</ol>
<!-- -->
<ol>
<li>After creating a version for a workflow, clicking on the version
number on the Manage Versions screen opens the workflow in Workflow
Designer.</li>
</ol>
<p><strong>Note:</strong> Deleting a workflow will delete all versions created for the
workflow.</p>
<h4 id="exporting-a-workflow">Exporting a Workflow</h4>
<p>Intersight Cloud Orchestrator enables you to export workflows from an
account to your system and then import them to another account.</p>
<p>To export a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click the Workflow tab.</p>
</li>
<li>
<p>From the tabular list of workflows, do one of the following:</p>
</li>
</ol>
<ul>
<li>
<p>Select a workflow, click the Ellipsis (…) icon in the same row, and
then choose Export Workflow.</p>
</li>
<li>
<p>Select multiple workflows, click the Ellipsis (…) icon from the
header or footer of the tabular list, and then choose Export
Workflow.</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> You can also export workflows from the Actions menu in the
Workflow Designer window.</p>
</blockquote>
<ol>
<li>
<p>In the Export Workflow screen:</p>
<ol>
<li>
<p>In the JSON File Name field, use the default filename or enter a
filename of your choice for the JSON file that stores the
workflow components.</p>
</li>
<li>
<p>Use the Export Tags toggle button to include or exclude the
user-defined tags. ICO does not export the system-defined tags.</p>
</li>
<li>
<p>Click Export.</p>
</li>
<li>
<p>Save a local copy of the JSON file.</p>
</li>
</ol>
</li>
</ol>
<h4 id="importing-a-workflow">Importing a Workflow</h4>
<p>Intersight Cloud Orchestrator enables you to import workflows to your
account by importing a JSON file that contains the workflow components.
You can create the JSON file by exporting the workflow components from
another account.</p>
<p>To import a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Import.</p>
</li>
</ol>
<!-- -->
<ol>
<li>The Import wizard appears.</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Select File screen:</p>
<ol>
<li>
<p>From the Organization drop-down list, choose the organization to
which you want to import the workflow(s).</p>
</li>
<li>
<p>Click Browse, and then select the JSON file that contains the
Workflow(s).</p>
</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Ensure that the file size of the JSON file is not more than
1MB. If the file size is more than 1MB, export the workflow(s) in
batches, and then try import.</p>
</blockquote>
<ol>
<li>Click Next.</li>
</ol>
<!-- -->
<ol>
<li>Intersight Cloud Orchestrator validates the JSON file and displays
<blockquote>
<p>the workflow(s) in the Details screen.</p>
</blockquote>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Details screen:</p>
<ol>
<li>To associate an additional tag to the components listed in the
table, enter the tag in the Set Tags field.</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Set Tags is an optional field. You must enter the tag in the
key:value format.</p>
</blockquote>
<ol>
<li>
<p>If one or more workflow components are already available in the
system, choose a rule to replace or skip the duplicate components.</p>
</li>
<li>
<p>Click Import.</p>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Import Result screen:</p>
<ol>
<li>
<p>Verify the status of the imported workflow.</p>
</li>
<li>
<p>If you want to view the details of the import request:</p>
</li>
</ol>
</li>
</ol>
<ul>
<li>
<p>Click the link displayed above the table.</p>
</li>
<li>
<p>Alternatively, click the Requests icon displayed in the menu bar.</p>
</li>
</ul>
<!-- -->
<ul>
<li>
<p>For more information, see
<a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Requests</a>.</p>
<ol>
<li>Click Close.</li>
</ol>
</li>
</ul>
<p>You can execute the imported workflow from the Workflows tab.</p>
<h4 id="defining-workflow-input-rules">Defining Workflow Input Rules</h4>
<p>Intersight Cloud Orchestrator allows you to configure input rules that
control the display of fields in the workflow execution screen. You can
define these input rules for a workflow by using the Intersight API and
while creating a composite data type. By default, all input fields for a
workflow are displayed in the workflow execution screen. By configuring
input rules, the fields in this screen are displayed or hidden based on
the value selected for a previous input field.</p>
<p>After configuring input rules in the workflow definition using the
Intersight API, you can view the input rules using the Code tab in the
Workflow Designer.</p>
<p>Following is a sample of a simple input rule set for a workflow:</p>
<p>&ldquo;InputParameterSet&rdquo;:[<br>
{<br>
&ldquo;ObjectType&rdquo;: &ldquo;workflow.ParameterSet&rdquo;,<br>
&ldquo;Name&rdquo;: &ldquo;rule-1&rdquo;,<br>
&ldquo;ControlParameter&rdquo;: &ldquo;input-1&rdquo;,<br>
&ldquo;Condition&rdquo;: &ldquo;eq&rdquo;,<br>
&ldquo;Value&rdquo;: &ldquo;true&rdquo;,<br>
&ldquo;EnableParameters&rdquo;: [<br>
&ldquo;input-2&rdquo;<br>
]<br>
},<br>
{<br>
&ldquo;ObjectType&rdquo;: &ldquo;workflow.ParameterSet&rdquo;,<br>
&ldquo;Name&rdquo;: &ldquo;rule-2&rdquo;,<br>
&ldquo;ControlParameter&rdquo;: &ldquo;input-1&rdquo;,<br>
&ldquo;Condition&rdquo;: &ldquo;ne&rdquo;,<br>
&ldquo;Value&rdquo;: &ldquo;true&rdquo;,<br>
&ldquo;EnableParameters&rdquo;: [<br>
&ldquo;input-3&rdquo;,<br>
]<br>
}<br>
]</p>
<p>Following is an example for the parameter sets defined at workflow
level:</p>
<p>{<br>
  &ldquo;Label&rdquo;: &ldquo;Provision VM&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;ProvisionVM&rdquo;,<br>
  &ldquo;DefaultVersion&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
  // Parameter set defintion <br>
  &ldquo;InputParameterSet&rdquo;: [<br>
    {<br>
      // rule-1 enables &lsquo;vmwarehost&rsquo; input when value of &lsquo;vmtype&rsquo; is &lsquo;vmware&rsquo;<br>
      &ldquo;Name&rdquo;: &ldquo;rule-1&rdquo;,<br>
      &ldquo;ControlParameter&rdquo;: &ldquo;vmtype&rdquo;,<br>
      &ldquo;Condition&rdquo;: &ldquo;eq&rdquo;,<br>
      &ldquo;Value&rdquo;: &ldquo;vmware&rdquo;,<br>
      &ldquo;EnableParameters&rdquo;: [<br>
        &ldquo;vmwarehost&rdquo;<br>
      ]<br>
    },<br>
    {<br>
      // rule-2 enables &lsquo;hxcluster&rsquo; input when value of &lsquo;vmtype&rsquo; is &lsquo;hx&rsquo;<br>
      &ldquo;Name&rdquo;: &ldquo;rule-2&rdquo;,<br>
      &ldquo;ControlParameter&rdquo;: &ldquo;vmtype&rdquo;,<br>
      &ldquo;Condition&rdquo;: &ldquo;eq&rdquo;,<br>
      &ldquo;Value&rdquo;: &ldquo;hx&rdquo;,<br>
      &ldquo;EnableParameters&rdquo;: [<br>
        &ldquo;hxcluster&rdquo;<br>
      ]<br>
    }<br>
  ],<br>
  &ldquo;InputDefinition&rdquo;: [<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;VM Type&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;vmtype&rdquo;,<br>
      &ldquo;Required&rdquo;: false,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;ClassId&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;ClassId&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;EnumList&rdquo;: [<br>
            {<br>
              &ldquo;ClassId&rdquo;: &ldquo;workflow.EnumEntry&rdquo;,<br>
              &ldquo;ObjectType&rdquo;: &ldquo;workflow.EnumEntry&rdquo;,<br>
              &ldquo;Label&rdquo;: &ldquo;VMWare&rdquo;,<br>
              &ldquo;Value&rdquo;: &ldquo;vmware&rdquo;<br>
            },<br>
            {<br>
              &ldquo;ClassId&rdquo;: &ldquo;workflow.EnumEntry&rdquo;,<br>
              &ldquo;ObjectType&rdquo;: &ldquo;workflow.EnumEntry&rdquo;,<br>
              &ldquo;Label&rdquo;: &ldquo;HX&rdquo;,<br>
              &ldquo;Value&rdquo;: &ldquo;hx&rdquo;<br>
            }<br>
          ],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;Secure&rdquo;: false,<br>
        &ldquo;Type&rdquo;: &ldquo;enum&rdquo;<br>
      }<br>
    },<br>
    {<br>
      &ldquo;Name&rdquo;: &ldquo;vmname&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;VM Name&rdquo;,<br>
      &ldquo;Required&rdquo;: false,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Max&rdquo;: 0<br>
        },<br>
        &ldquo;Secure&rdquo;: false<br>
      },<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Name&rdquo;: &ldquo;vmwarehost&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;Host&rdquo;,<br>
      &ldquo;Required&rdquo;: false,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Max&rdquo;: 0<br>
        },<br>
        &ldquo;Secure&rdquo;: false<br>
      },<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: null<br>
      },<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Name&rdquo;: &ldquo;hxcluster&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;Cluster&rdquo;,<br>
      &ldquo;Required&rdquo;: false,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Max&rdquo;: 0<br>
        },<br>
        &ldquo;Secure&rdquo;: false<br>
      },<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;<br>
    }<br>
  ],<br>
  &ldquo;OutputDefinition&rdquo;: [],<br>
  &ldquo;OutputParameters&rdquo;: null,<br>
  &ldquo;Tasks&rdquo;: [<br>
    {<br>
      &ldquo;ClassId&rdquo;: &ldquo;workflow.StartTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
      &ldquo;NextTask&rdquo;: &ldquo;NewProfile1596244596840&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.StartTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;ClassId&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;ClassId&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5dd45ab6696f6e2d301e2df6&rdquo;,<br>
      &ldquo;ClassId&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Task to create a Profile&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;Provision VM&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;ProvisionVM1596244596840&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;5efd7c84696f6e2d309e6877&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;NewProfile&rdquo;,<br>
      &ldquo;Version&rdquo;: 1<br>
    }<br>
  ],<br>
  &ldquo;Version&rdquo;: 1<br>
}</p>
<p>Following is an example for the parameter sets defined at custom data
type level:</p>
<p>{<br>
  &ldquo;Label&rdquo;: &ldquo;ClusterType&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;ClusterType&rdquo;,<br>
  &ldquo;CompositeType&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;Type definition for a cluster information.&rdquo;,<br>
  &ldquo;TypeDefinition&rdquo;: [<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;Cluster Type&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;clustertype&rdquo;,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;EnumList&rdquo;: [<br>
            {<br>
              &ldquo;ObjectType&rdquo;: &ldquo;workflow.EnumEntry&rdquo;,<br>
              &ldquo;Label&rdquo;: &ldquo;VM Ware&rdquo;,<br>
              &ldquo;Value&rdquo;: &ldquo;vmware&rdquo;<br>
            },<br>
            {<br>
              &ldquo;ObjectType&rdquo;: &ldquo;workflow.EnumEntry&rdquo;,<br>
              &ldquo;Label&rdquo;: &ldquo;HX AP&rdquo;,<br>
              &ldquo;Value&rdquo;: &ldquo;hxap&rdquo;<br>
            }<br>
          ]<br>
        },<br>
        &ldquo;Type&rdquo;: &ldquo;enum&rdquo;<br>
      }<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;VMware Cluster&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;vmwarecluster&rdquo;<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;HX Cluster&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;hxcluster&rdquo;<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;Cluster Description&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;clusterdescr&rdquo;<br>
    }<br>
  ],<br>
  &ldquo;ParameterSet&rdquo;: [<br>
    {<br>
      &ldquo;Name&rdquo;: &ldquo;rule-1&rdquo;,<br>
      &ldquo;Field&rdquo;: &ldquo;clustertype&rdquo;,<br>
      &ldquo;Condition&rdquo;: &ldquo;eq&rdquo;,<br>
      &ldquo;Value&rdquo;: &ldquo;vmware&rdquo;,<br>
      &ldquo;ShowFields&rdquo;: [<br>
        &ldquo;vmwarecluster&rdquo;<br>
      ]<br>
    },<br>
    {<br>
      &ldquo;Name&rdquo;: &ldquo;rule-2&rdquo;,<br>
      &ldquo;Field&rdquo;: &ldquo;clustertype&rdquo;,<br>
      &ldquo;Condition&rdquo;: &ldquo;eq&rdquo;,<br>
      &ldquo;Value&rdquo;: &ldquo;hxap&rdquo;,<br>
      &ldquo;ShowFields&rdquo;: [<br>
        &ldquo;hxcluster&rdquo;<br>
      ]<br>
    }<br>
  ]<br>
}</p>
<p>Supported Workflows for Storage Targets</p>
<p>The following table lists workflows supported in the various storage
targets available on Intersight:</p>
<table>
<colgroup>
<col style="width: 45%" />
<col style="width: 24%" />
<col style="width: 15%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="header">
<th>List of Storage Workflows</th>
<th>Pure Storage</th>
<th>NetApp</th>
<th>Hitachi</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>New Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>New Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="odd">
<td>New VMFS Datastore</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>New NAS Datastore</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove NFS Datastore</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Remove Storage Export Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove VMFS Datastore</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Update Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Update NAS Datastore</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Update VMFS Datastore</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>New Storage Interface</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>New Storage Export Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>New Storage Virtual Machine</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
</tbody>
</table>
<h2 id="task-designer">Task Designer</h2>
<p>Cisco Intersight allows you to create tasks in which API requests can be
executed in remote targets that can be reached through Intersight. You
create tasks so that they can be used in workflows.</p>
<p><strong>Note:</strong> To execute the new tasks for VMware vCenter networking
operations, you should upgrade to Intersight Assist version 1.0.9-278.</p>
<p>To launch the Task Designer, choose Orchestration <strong>&gt;</strong> Task. A
dashboard displays the following details under these tabs, namely, My
Tasks, System Tasks, and All Tasks:</p>
<ul>
<li>
<p>Top Task Categories</p>
</li>
<li>
<p>Number of System Defined Tasks</p>
</li>
<li>
<p>Top Workflows by Targets</p>
</li>
</ul>
<p>Below the dashboard is a tabular list of tasks displaying the following
information:</p>
<ul>
<li>
<p>Display Name</p>
</li>
<li>
<p>Description</p>
</li>
<li>
<p>Validation Status</p>
</li>
<li>
<p>Last Update</p>
</li>
<li>
<p>System Defined</p>
</li>
<li>
<p>Organization</p>
</li>
</ul>
<p>From this screen, with an account administrator or a Workflow Designer
role, you can perform the following actions for an organization:</p>
<ul>
<li>
<p>Create a task</p>
</li>
<li>
<p>Edit or delete a task</p>
</li>
</ul>
<p><strong>Note:</strong> Tasks created in an organization can be used in workflows
created within that organization only.</p>
<p>Supported Requests</p>
<p>You can define and execute one or more API requests in the task
definition. You can extract the required values from the API responses
and use them in subsequent API requests as task output values. You
provide values for different properties in an HTTP API request and use
them in subsequent API request or as task output values. You can also
provide values for different properties of an HTTP API request, such as,
HTTP method, URL, header, cookies, etc.</p>
<p>The API requests can be executed on external targets that are reachable
by Intersight, either directly or through device connectors. The
supported HTTP authentication scheme is Basic Authentication over HTTPS.
The external targets with their credentials are defined when specifying
the Targets in the Targets screen (see: <a href="file://E:%5Chelp%5Cfeatures%5Ccisco_intersight%5Cadmin">Target
Management</a>). Hence,
there is no need to provide credentials or authentication specific
headers in the request. The input parameter of type target data type is
the source from which the details are automatically collected from.</p>
<p>Response Parser</p>
<p>The response parser contains information about the required values,
their types, and the location in the API responses. You specify the
required values along with API request details. These details are used
by the response parser to extract values from the API responses. The
extracted values are used as task output values and to determine the
task execution status and the status message.</p>
<p>The supported response type is JSON. The response parser supports
extraction of values from JSON responses. The users shall provide the
information such as the value parameter name, type and the JSON path of
the value location. You can extract multiple values from the API
response by providing the above details for each required value.</p>
<p>Outcomes</p>
<p>An outcome is the combination of a condition and task status. You use
the extracted values from the API response to determine the task status
and set the status with an appropriate message, when the conditions
match. You can specify one or more outcomes and the outcomes are
evaluated in the specified order. The first outcome condition that
matches sets the task status and message. If none of the outcome
condition matches, the task shall be marked as successful. The outcomes
of a task are as follows:</p>
<ul>
<li>
<p>Success—Marks the API execution as Success if the condition matches</p>
</li>
<li>
<p>Skip to Success—Stops further API executions of the task and marks
the task as successful when the condition matches</p>
</li>
<li>
<p>Status—Retains a task as work in progress, only updating the status</p>
</li>
<li>
<p>Error—Marks the API execution as Failed if the condition matches.
Task retry will be attempted if the task has any retries left</p>
</li>
<li>
<p>Terminal error—Marks the API execution as Failed if the condition
matches. This marks a non-recoverable error and no retries are
attempted</p>
</li>
<li>
<p>Skip Task Execution—Skips execution of task if the condition matches
in the API. This will skip execution of all the subsequent APIs in
the task</p>
</li>
</ul>
<p>If the task status is Terminal Error, there are no retries for that
task.</p>
<p>Creating a Task</p>
<p>Task creation can be broken down into the following sequence of steps:</p>
<ol>
<li>
<p>Defining a task—you specify the name of the task and provide a few
other generic details.</p>
</li>
<li>
<p>Defining task inputs and task outputs—you can specify which input
parameters are required to execute the task and the output expected
from the execution.</p>
</li>
<li>
<p>Adding multiple API requests in the Task Designer.</p>
</li>
</ol>
<p>Defining a Task</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Tasks tab.</p>
</li>
<li>
<p>Choose Create Task.</p>
</li>
<li>
<p>Drag and drop a task from the Tools section on the Design area.</p>
</li>
<li>
<p>In the Task Properties area, choose the General tab and enter the
following information:</p>
<ol>
<li>
<p>Organization—Name of the organization that you are creating the
task in</p>
</li>
<li>
<p>Task Name—A user-friendly short name for the task</p>
</li>
<li>
<p>Description—A description for the task</p>
</li>
<li>
<p>Retry Count—Number of times a task should be tried before it is
marked failed</p>
</li>
<li>
<p>Retry Delay—Delay, in seconds, after which a task is tried again</p>
</li>
<li>
<p>Timeout—Timeout value, in seconds, after which a task is termed
as timed out</p>
</li>
<li>
<p>Set Tags—Set a tag for the task in the key:value format</p>
</li>
<li>
<p>Enable Rollback Task—Enable to rollback a task and choose an
appropriate task from the drop-down list. Create the required
workflow inputs and map it accordingly</p>
</li>
</ol>
</li>
</ol>
<p><strong>Note:</strong> Rollback operation for Assign IP Address to Virtual Machine
Network task is not supported on Windows virtual machines.</p>
<p>Defining Task Inputs and Outputs</p>
<ol>
<li>
<p>In the Task Properties area, choose the Input tab and choose a
parameter. For more information about the Input properties, see
<a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Workflow Designer</a>.</p>
</li>
<li>
<p>Click the Edit icon to open the Create Task Input dialog.</p>
</li>
<li>
<p>In the Add Input screen, enter the following details:</p>
<ol>
<li>
<p>Display Name—Enter user-friendly short name.</p>
</li>
<li>
<p>Reference Name</p>
</li>
<li>
<p>Description—Detailed description of the input</p>
</li>
<li>
<p>Value Restrictions—Choose Required, Collection/Multiple, or can
be left blank</p>
</li>
<li>
<p>Type—Choose a data type for primitive data type. For example,
enum</p>
</li>
<li>
<p>Enum List—Label for the enum value</p>
</li>
<li>
<p>Minimum and Maximum Range</p>
</li>
<li>
<p>Regex—Validates the regular expression when you select String in
the Type field.</p>
</li>
<li>
<p>Object Selector—Enable to configure the Intersight managed
object selectors. This attribute is available only when the
primitive data is String. Specify the Intersight API Reference
and selector attributes to feed the input from the table
selection. Value will be passed according to the configuration
set in the Value attribute.</p>
</li>
<li>
<p>Intersight API Reference—Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute—Enter the attribute name(s) that needs to be
displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
<li>
<p>Value Attribute—Enter the value to be passed as an input while
executing a task. This value should be any one of the attribute
name specified in the Selector Attribute field. This attribute
is available only when the primitive data is String.</p>
</li>
<li>
<p>Secure—Indicates that the values of these properties are
encrypted and stored in Cisco Intersight.</p>
</li>
</ol>
</li>
</ol>
<!-- -->
<ol>
<li>The fields displayed depend on the value you select for the Type
field. Task designer does not support target date type.</li>
</ol>
<!-- -->
<ol>
<li>
<p>Click Add.</p>
</li>
<li>
<p>Repeat this procedure to create multiple task inputs.</p>
</li>
<li>
<p>In the Task Properties area, choose the Output tab and choose a
parameter. For more information about the output properties, see
Input and Output.</p>
</li>
</ol>
<p>The created task is available in the General category in Workflow
Designer. You can create a workflow by dragging and dropping the task on
the Workflow Design area.</p>
<p><strong>Template Engine Syntax</strong></p>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .global.CreateSnapshot.output.HttpStatusCode 400) (lt .global.CreateSnapshot.output.HttpStatusCode 500)}}</p>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}</p>
<p>{{if (eq .global.CreateSnapshot.output.HttpStatusCode 200)}}<br>
Snapshot with name {{.global.CreateSnapshot.input.Name}} is created successfully.<br>
{{end}}</p>
<p>{{if (eq .global.CreateSnapshot.output.HttpStatusCode 200)}}<br>
Snapshot with name {{.global.CreateSnapshot.input.Name}} is created successfully.<br>
{{else}}<br>
Snapshot creation failed with message {{.global.CreateSnapshot.output.HttpStatusMsg}}.<br>
{{end}}</p>
<p>{{if (eq .global.CreateSnapshot.output.HttpStatusCode 200)}}<br>
Snapshot with name {{.global.CreateSnapshot.input.Name}} is created successfully.<br>
{{else if (eq .global.CreateSnapshot.output.HttpStatusCode 409)}}<br>
A Snapshot with name {{.global.CreateSnapshot.input.Name}} already exists.<br>
{{else}}<br>
Snapshot creation failed with message {{.global.CreateSnapshot.output.HttpStatusMsg}}.<br>
{{end}}</p>
<p><strong>Example Task: Creating a Snapshot of Pure Flash Array</strong></p>
<p>This example shows how to create a snapshot of a volume in a Pure Flash
Array. Specify the following information in the General tab of the Task
Properties area.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Task Name</td>
<td>New Pure Volume Snapshot</td>
</tr>
<tr class="even">
<td>Retry Count</td>
<td><p>1</p>
<p>The task will be retried once more when the task fails.</p></td>
</tr>
<tr class="odd">
<td>Retry Delay</td>
<td><p>10</p>
<p>The task will be retried after 10 seconds.</p></td>
</tr>
<tr class="even">
<td>Timeout</td>
<td><p>20</p>
<p>If the task does not complete execution in 20 seconds, then it is marked as Failed. If a retry count is configured (which is 1 for this task), the task is retried after the specified retry delay, which is 10 seconds.</p></td>
</tr>
</tbody>
</table>
<p>The snapshot is created using the Pure Flash Array volume API. Below is
a sample API request and response from Pure Flash Array API Reference.</p>
<p>POST /volume<br>
{<br>
    &ldquo;snap&rdquo;: true,<br>
    &ldquo;source&rdquo;: [<br>
        &ldquo;&lt;Volume Name 1&gt;&rdquo;,<br>
        &ldquo;&lt;Volume Name 2&gt;&rdquo;<br>
    ]<br>
}</p>
<p>From the above API, it can be inferred that the name of the source
volume is required, for which the snapshot is created. To do this, add a
task input parameter of type string to fetch the volume name as a task
input. Assuming the task input parameter is named as VolumeName, the
following template can be used to create the above request. This
template is populated as value for Body field in the API request’s input
panel.</p>
<p>{<br>
    &ldquo;snap&rdquo;: true,<br>
    &ldquo;source&rdquo;: [<br>
        &ldquo;{{.global.task.input.VolumeName}}&rdquo;<br>
    ]<br>
}</p>
<p>You either receive a success or a failure message for the request. The
following is a sample of the success message. The success message
displays the serial number and the new snapshot name against the Name
and Serial properties. This information is extracted as a task output.</p>
<p>200 OK<br>
[<br>
    {<br>
        &ldquo;created&rdquo;: &ldquo;2017-12-16T05:12:53Z&rdquo;,<br>
        &ldquo;name&rdquo;: &ldquo;&lt;snapshot name&gt;&rdquo;,<br>
        &ldquo;serial&rdquo;: &ldquo;&lt;serial number&gt;&rdquo;,<br>
        &ldquo;size&rdquo;: 5368709120,<br>
        &ldquo;source&rdquo;: &ldquo;&lt;volume name&gt;&rdquo;<br>
    }<br>
]</p>
<p>In case of a failure, the response displays an array of errors. Each
error contains a message, a code, and a context. In this example, if the
specified volume name is not found, the following message is displayed.</p>
<p>400 BAD REQUEST<br>
[<br>
    {<br>
        &ldquo;msg&rdquo;: &ldquo;Volume does not exist.&rdquo;,<br>
        &ldquo;code&rdquo;: 6,<br>
        &ldquo;ctx&rdquo;: &ldquo;&lt;Volume Name&gt;&rdquo;<br>
    }<br>
]</p>
<p>If the msg property is present in the response, the property can be used
to determine the task status with HTTP status code 400. The property
named msg can be accessed using the JSON path $[0].msg. The details to
extract the parameters are provided as value for Response Parser field
in API request’s input area. The path is a valid JSON path that locates
a required data in the API response.</p>
<table>
<colgroup>
<col style="width: 28%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="header">
<th>Response Parameter</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SnapshotName</td>
<td><p>This parameter contains the extracted snapshot name in the API output.</p>
<ul>
<li><p><strong>Name:</strong> SnapshotName</p></li>
<li><p><strong>Path:</strong> $[0].name</p></li>
<li><p><strong>Type:</strong> string</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Serial</td>
<td><p>This parameter contains the extracted serial value in the API output.</p>
<ul>
<li><p><strong>Name:</strong> Serial</p></li>
<li><p><strong>Path:</strong> $[0].serial</p></li>
<li><p><strong>Type:</strong> string</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Error</td>
<td><p>This parameter contains the extracted error message in the API output.</p>
<ul>
<li><p><strong>Name:</strong> Error</p></li>
<li><p><strong>Path:</strong> $[0].msg</p></li>
<li><p><strong>Type:</strong> string</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>To define a task, drag and drop the <strong>Invoke Web API Request</strong> task into
the Task Designer area. Use the Properties area to populate API details.
The following is sample information that can be entered the General tab.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Name</td>
<td><p><strong>Create Snapshot</strong></p>
<p>The name must be unique. The APIs inside the task cannot be named as <strong>Create Snapshot</strong>. A name without space, such as <strong>CreateSnapshot</strong> can be used to refer the API output in subsequent API requests. In this example the following details are referred using API name.</p>
<p><strong>HTTP Status Code:</strong></p>
<p>{{.global.CreateSnapshot.output.HttpStatusCode}}</p>
<p>The parameters extracted from the response are referred using the API name after extracting the value from the response through the response parser as follows:</p>
<p>{{.global.CreateSnapshot.output.Serial}}</p></td>
</tr>
<tr class="even">
<td>Set External Target</td>
<td><p><strong>Checked - true</strong></p>
<p>As this is the first API and task does not have an input of type Target, a dialog appears that can be used to add a task input of Target type. The claimed Pure Storage Array target is provided as value for this task input during execution.</p></td>
</tr>
</tbody>
</table>
<p>The task input pertains to the API request details and to extract the
required values from response. The following is an example of the
required input values for the create snapshot API.</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Method</td>
<td>POST</td>
</tr>
<tr class="even">
<td>URL</td>
<td><p>/volume</p>
<p>The relative URL of the REST API end point is specified. The host part is filled through the information in pure target (Protocol, IPAddress, Port).</p></td>
</tr>
<tr class="odd">
<td>Body</td>
<td><p>Content Type: JSON</p>
<p>Text:</p>
<p>{<br />
    "snap": true,<br />
    "source": [<br />
        "{{.global.task.input.VolumeName}}"<br />
    ]<br />
}</p></td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>The following parameters are added:</p>
<ul>
<li><p><strong>SnapshotName:</strong> Path: $[0].name, Type: string</p></li>
<li><p><strong>Serial:</strong> Path: $[0].serial, Type: string</p></li>
<li><p><strong>Error:</strong> Path: $[0].msg, Type: string</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The extracted values from the API responses determine the task status.
In this example, the following outcomes are added based on the API
response.</p>
<ol>
<li>If the status code is 401, the task encounters terminal failure with
<strong>Authorization Failed</strong> message. The retry also fails. Hence the
outcome type is set as <strong>Terminal Error</strong>. So, the task is not
retried despite a retry is being specified.</li>
</ol>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Name</td>
<td><p><strong>Authorization Error</strong></p>
<p>Identifies an outcome in the outcomes list of task designer. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td>Condition</td>
<td><p>{{eq .global.CreateSnapshot.output.HttpStatusCode 401}}</p>
<p>This condition checks whether the response status code of API named ‘Create Snapshot’ is 401.</p></td>
</tr>
<tr class="odd">
<td>Outcome Type</td>
<td><strong>Terminal Error</strong></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><strong>Authorization Error. Check the target credentials.</strong></td>
</tr>
</tbody>
</table>
<ol>
<li>If the HTTP status code is 400 and the extracted error is <strong>Volume
does not exist</strong>, the task fails terminally. In this case, the retry
execution also fails, hence the outcome type is set as <strong>Terminal
Error</strong>.</li>
</ol>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Name</td>
<td><p><strong>Volume does not exist</strong></p>
<p>The name here is to identify an outcome quickly in the outcomes list of task. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td>Condition</td>
<td><p>{{and (eq .global.CreateSnapshot.output.HttpStatusCode 400)<br />
 (eq .global.CreateSnapshot.output.Error 'Volume does not exist.')}}</p>
<p>If we refer the sample response in previous sections, we will get a 400-Bad Request with response containing error msg ‘Volume does not exist.’.</p></td>
</tr>
<tr class="odd">
<td>Outcome Type</td>
<td><strong>Terminal Error</strong></td>
</tr>
<tr class="even">
<td>Message</td>
<td><p><strong>A volume with name {{.global.task.input.VolumeName}} does not exist. Check the volume name given.</strong></p>
<p>This outcome for a given volume name input ‘oracle-db’ will fail the task with message ‘A volume with name oracle-db does not exist. Check the volume name given.</p></td>
</tr>
</tbody>
</table>
<ol>
<li>For any API failure caused by bad user input, do not retry and fail
the task immediately.</li>
</ol>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Name</strong></td>
<td><p><strong>Any client error</strong></p>
<p>Identifies a result in the outcomes list of task designer, and is not used for any other purpose</p></td>
</tr>
<tr class="even">
<td><strong>Condition</strong></td>
<td><p>{{and (ge .global.CreateSnapshot.output.HttpStatusCode 400)<br />
(lt .global.CreateSnapshot.output.HttpStatusCode 500)}}</p>
<p>This condition checks if the HTTP status code is in the range between 400 to 499.</p></td>
</tr>
<tr class="odd">
<td><strong>Outcome Type</strong></td>
<td><strong>Terminal Error</strong></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><p>API request failed - {{.global.CreateSnapshot.output.HttpStatusCode}}<br />
{{if (index .global.CreateSnapshot.output `Error`)}}:<br />
{{.global.CreateSnapshot.output.Error}}{{else}} <br />
{{.global.CreateSnapshot.output.HttpStatusMsg}}{{end}}</p>
<p>This message checks that a valid error message is extracted by using an if else block</p>
<p>{{if (index .global.CreateSnapshot.output `Error`)}}</p>
<p>If the error value is ‘Snapshot not supported’, the task status message is ‘API request failed – 405: Snapshot not supported’.</p>
<p>If no valid error message is present in the response, the HTTP status message is used. For example, <strong>API request failed – 413 Payload Too Large</strong>.</p></td>
</tr>
</tbody>
</table>
<ol>
<li>For errors on the server, the task must be tried again before
setting the outcome type as <strong>Error</strong> instead of <strong>Terminal Error</strong>.</li>
</ol>
<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Name</strong></td>
<td><p><strong>Any server error</strong></p>
<p>The name here is to identify an outcome quickly in the outcomes list of task designer. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td><strong>Condition</strong></td>
<td><p>{{and (ge .global.CreateSnapshot.output.HttpStatusCode 500) <br />
(lt .global.CreateSnapshot.output.HttpStatusCode 600)}}</p>
<p>This condition checks if the HTTP status code is in the range between 500 to 599.</p></td>
</tr>
<tr class="odd">
<td><strong>Outcome Type</strong></td>
<td><p><strong>Error</strong></p>
<p>The outcome type is set as <strong>Error</strong>. Hence, the request is retried, if retries are configured.</p></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><p>API request failed - {{.global.CreateSnapshot.output.HttpStatusCode}}<br />
{{if (index .global.CreateSnapshot.output `Error`)}}:<br />
{{.global.CreateSnapshot.output.Error}}{{else}} {{.global.CreateSnapshot.output.HttpStatusMsg}}{{end}}</p>
<p>This is the same message that is used in the client error outcome.</p></td>
</tr>
</tbody>
</table>
<ol>
<li>This can be termed as the final outcome for a successful completion.</li>
</ol>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Name</strong></td>
<td><p><strong>All Good</strong></p>
<p>The name identifies an outcome in the outcomes list of task designer. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td><strong>Condition</strong></td>
<td><p><strong>True</strong></p>
<p>{{eq .global.CreateSnapshot.output.HttpStatusCode 200}}</p>
<p><strong>True</strong> can be used as the condition to capture all scenarios or the specific success response status code can be used, which is 200.</p></td>
</tr>
<tr class="odd">
<td><strong>Outcome Type</strong></td>
<td><strong>Success</strong></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><p>A snapshot with name</p>
<p>{{.global.CreateSnapshot.output.SnapshotName}}</p>
<p>and serial</p>
<p>{{.global.CreateSnapshot.output.Serial}}</p>
<p>is created successfully for volume with name</p>
<p>{{.global.task.input.VolumeName}}</p>
<p>.</p>
<p>The outcome for a given volume name input oracle-db sets the task to success with the message: <strong>A snapshot with name oracle-db.8 and serial B3CD9AF2175A4E2800011010 is created successfully for volume with name oracle-db</strong>.</p></td>
</tr>
</tbody>
</table>
<p>As part of this task, an inventory refresh request can be sent to pull
the new snapshot inventory. This API contains the following details in
the request.</p>
<p>POST /v1/task/PureScopedInventories<br>
{<br>
    &ldquo;Type&rdquo;: &ldquo;storage.PureVolumeSnapshot&rdquo;,<br>
    &ldquo;NamingProperty&rdquo;: &ldquo;Name&rdquo;,<br>
    &ldquo;Values&rdquo;: [<br>
        &ldquo;&lt;Snapshot_Name&gt;&rdquo;<br>
    ],<br>
    &ldquo;RegisteredDevice&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;asset.DeviceRegistration&rdquo;,<br>
        &ldquo;Moid&rdquo;: &ldquo;&lt;Pure Device Registration Id&gt;&rdquo;<br>
    }<br>
}</p>
<p>The snapshot name is obtained from previous API output by using the
following reference: {{.global.CreateSnapshot.output.SnapshotName}}.</p>
<p>The device registration ID is obtained by performing a GET API of the
selected target and extracting the <strong>MOID</strong> from the
<strong>RegisteredDevice</strong>. For more information, see <a href="http:///apidocs">API
Docs</a>.</p>
<p>This section is realized by sending two Intersight API requests: GET
/v1/asset/Targets/&lt;Target_Moid&gt; and using the extracted registered
device Moid in the above request. Having explained the API specific
details in the previous section, we will quickly add two API calls to
the same task.</p>
<p>Do not choose the Set External Target option in the General tab. This is
because the API calls can be inferred as Intersight API calls.</p>
<p>This section captures the details related to the Intersight API call
that gets the registered device Moid from the given target task input.</p>
<p>The outcomes shall be added for better experience with these Intersight
API calls and since the previous section explains the outcomes in
detail, this section does not cover them.</p>
<p>GET is used as the default, if no value is provided for Method field.</p>
<table>
<colgroup>
<col style="width: 27%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="header">
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>API Name</strong></td>
<td>Get Device Id</td>
</tr>
<tr class="even">
<td><strong>Set External Target</strong></td>
<td>Unchecked/false</td>
</tr>
<tr class="odd">
<td><strong>URL</strong></td>
<td><p>/v1/asset/Targets/</p>
<p>{{.global.task.input.Target.Moid}}</p></td>
</tr>
<tr class="even">
<td><strong>Response Parser</strong></td>
<td><p>We will extract the Moid of the ‘RegisteredDevice’ relation.</p>
<p>DeviceMoid – Path: $.RegisteredDevice.Moid, Type: string</p></td>
</tr>
</tbody>
</table>
<p>The target Moid required in the URL is populated from the task input
Target. As part of this API output, the extracted device Moid can be
referred in the next API request body with the following reference:</p>
<p>{{.global.GetDeviceId.output.DeviceMoid}}</p>
<p>Using this example, you can also capture details for the Intersight API
that requests the inventory refresh for Pure Flash Array snapshots. The
snapshot name is extracted from the first API and the device Moid is
extracted from the second API to create a request for this API.</p>
<table>
<colgroup>
<col style="width: 23%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="header">
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>API Name</strong></td>
<td>Request Inventory Refresh</td>
</tr>
<tr class="even">
<td><strong>Set External Target</strong></td>
<td>Unchecked or false</td>
</tr>
<tr class="odd">
<td><strong>Method</strong></td>
<td>POST</td>
</tr>
<tr class="even">
<td><strong>URL</strong></td>
<td><strong>/v1/task/PureScopedInventories</strong></td>
</tr>
<tr class="odd">
<td><strong>Body</strong></td>
<td><p>Content Type: JSON</p>
<p>Text:</p>
<p>{<br />
    "Type": "storage.PureVolumeSnapshot",<br />
    "NamingProperty": "Name",<br />
    "Values": [<br />
        "{{.global.CreateSnapshot.output.SnapshotName}}"<br />
    ],<br />
    "RegisteredDevice": {<br />
        "ObjectType": "asset.DeviceRegistration",<br />
        "Moid": "{{.global.GetDeviceId.output.DeviceMoid}}"<br />
    }<br />
}</p></td>
</tr>
</tbody>
</table>
<p>There is no response body for this request. Therefore, the outcomes can
be added based on API HTTP status code to set the task status. The
outcome is not added her as they have been captured in detail for the
first outcome. The extracted values from the API response
<strong>SnapshotName</strong> and <strong>Serial</strong> are mapped to task output so that they
are available as task output that can be referred in subsequent tasks in
a workflow. This can be done by creating two task output parameters
named ‘<strong>SnapshotName</strong>’ and ‘<strong>Serial</strong>’ in ‘Output tab of Properties
area. The task output can be mapped to take API response values by using
Map to Task Output action. The values extracted using <strong>Response
Parser</strong> in an API can be mapped by selecting Parameters and then the
API Name entry in Task Output drop down and providing the actual
parameter names in Path field.</p>
<p><strong>Example: Obtaining Cisco ASA Details</strong></p>
<p>The previous example illustrates the need to make API requests to a
claimed target in Intersight. This section explains a sample task that
obtains simple information from Cisco ASA, while is reachable from
Intersight Assist. Intersight does not have a device connector for Cisco
ASA.</p>
<p>As a first step, Cisco ASA is added as custom target. Cisco ASA uses
HTTP basic authentication and has REST API interface. Hence, requests
can be made to Cisco ASA as part of Intersight IO tasks. The device must
be reachable from Intersight Assist. The device can be added as a Custom
Target in Targets screen, by providing IP address, credentials and
Intersight Assist from which the device is reachable. Cisco ASA added as
custom target must be configured from Intersight tasks. Though, Cisco
ASA supports basic authentication and does not need a session token to
be created in Intersight, you can use a session token to showcase the
Web API support for handling values for request and response headers.</p>
<p>A session token is created and used in the request header to facilitate
in the extraction of response headers. In this example, the task
executes two API requests in Cisco ASA, namely create a session token
and use the session token to obtain the Cisco ASA version.</p>
<p>To obtain a session token, use the <strong>Post</strong> call /api/tokenservices’ to
create a session token. Use the <strong>Delete</strong> request
/api/tokenservices/&lt;Token&gt; to delete the session. Cisco ASA expects a
request to create a session token. It must include the basic
authentication header that Intersight populates when using the details
in the custom target.</p>
<p>POST /api/tokenservices<br>
204 No Content</p>
<p>Response Headers<br>
X-Auth-Token: &lt;New Session Token&gt;</p>
<p>The subsequent API requests must have the X-Auth-Token request header.</p>
<p>The following table explains the request details that need to be
provided in Task Designer to create session token.</p>
<table>
<colgroup>
<col style="width: 23%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="header">
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>API Name</td>
<td>Get Session Token</td>
</tr>
<tr class="even">
<td>Set External Target</td>
<td><p>Checked</p>
<p>A task input of target type is added through the Task Designer dialog.</p></td>
</tr>
<tr class="odd">
<td>Method</td>
<td>POST</td>
</tr>
<tr class="even">
<td>URL</td>
<td>/api/tokenservices</td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> There is no need to have a request body or response parser
given because the API does not generate a response body.</p>
<p>Details, such as, response headers, cookies, status code, and status
message, can be referred in subsequent API requests using references
based on the API name as follows:</p>
<table>
<colgroup>
<col style="width: 22%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="header">
<th>Response Parameter</th>
<th>Reference Name</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Headers-—A map of headers with keys being the header name and values being a string array of header values.</td>
<td><p>{{.global.GetSessionToken.output.HttpHeaders}}</p>
<p>A specific response header value can be obtained using two notations: {{.global.GetSessionToken.output.HttpHeaders.&lt;HeaderName&gt;}} or {{index .global.GetSessionToken.output.HttpHeaders `HeaderName`}}</p>
<p>Examples of above notations are:</p>
<p>{{.global.GetSessionToken.output.HttpHeaders.Date}}</p>
<p>{{index .global.GetSessionToken.output.HttpHeaders `X-Auth-Token`}}</p>
<p>The above examples get the header value in the form of <strong>string array</strong> and individual values can be accessed by index template function. The index function can also be used to access a specific header in Headers.</p>
<p>{{index .global.GetSessionToken.output.HttpHeaders.Date 0}}</p>
<p>{{index (index .global.GetSessionToken.output.HttpHeaders `X-Auth-Token`) 0}}</p>
<p><strong>Note:</strong> The template engine used by Intersight IO considers hyphens (-) as special characters and does not allow obtaining headers with hyphens using the first dotted notation. Considering the fact that most of the header names are hyphenated, it is recommended to use the second notation only.</p></td>
</tr>
<tr class="even">
<td>Cookies—A map of cookies with keys being cookie names and the values being strings.</td>
<td><p>{{.global.GetSessionToken.output.HttpCookies}}</p>
<p>The further values of specific cookies can be referred using either the dot notation or with index function. The details are explained in the previous row about Headers.</p></td>
</tr>
<tr class="odd">
<td>HTTP Status Code—Number</td>
<td>{{.global.GetSessionToken.output.HttpStatusCode}}</td>
</tr>
<tr class="even">
<td>HTTP Status Message—String</td>
<td>{{.global.GetSessionToken.output.HttpStatusMsg}}</td>
</tr>
</tbody>
</table>
<p>The following table explains the various outcomes that the API request
can produce.</p>
<table>
<colgroup>
<col style="width: 26%" />
<col style="width: 73%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Name</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Unauthorized</td>
<td><p>Condition—{{eq .global.GetSessionToken.output.HttpStatusCode 401}}</p>
<p>Outcome Type:—Terminal Error</p>
<p>Message: Authorization failed. Check the target credentials.</p></td>
</tr>
<tr class="even">
<td>Session Limit Breached</td>
<td><p>Condition—{{eq .global.GetSessionToken.output.HttpStatusCode 503}}</p>
<p>Outcome—Type: Error</p>
<p>Message—Maximum number of sessions reached.</p></td>
</tr>
<tr class="odd">
<td>All Well</td>
<td><p>Condition—{{eq .global.GetSessionToken.output.HttpStatusCode 204}}</p>
<p>Outcome Type—Success</p>
<p>Message—Session token is Obtained.</p></td>
</tr>
</tbody>
</table>
<p>The auth token obtained from the first API can be used in the second API
to obtain the ASA version and other details as follows:</p>
<p>GET /api/monitoring/device/components/version<br>
Request Headers:<br>
X-Auth-Token: &lt;Auth-Token-Obtained-from-Token-Api&gt;<br>
200 OK<br>
{<br>
    &ldquo;kind&rdquo;: &ldquo;object#Version&rdquo;,<br>
    &ldquo;selfLink&rdquo;: &ldquo;/api/monitoring/device/version&rdquo;,<br>
    &ldquo;deviceType&rdquo;: &ldquo;ASAv&rdquo;,<br>
    &ldquo;upTimeinSeconds&rdquo;: 208800,<br>
    &ldquo;totalFlashinMB&rdquo;: 8192,<br>
    &ldquo;currentTimeinSeconds&rdquo;: 1612870500,<br>
    &ldquo;firewallMode&rdquo;: &ldquo;Transparent&rdquo;,<br>
    &ldquo;asaVersion&rdquo;: &ldquo;9.5(2)&rdquo;<br>
} </p>
<p>The following table explains the request details that need to be
provided in Task Designer API request panel for the ASA version request.</p>
<table>
<colgroup>
<col style="width: 22%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="header">
<th>Field Name</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>API Name</td>
<td>Get ASA Version</td>
</tr>
<tr class="even">
<td>Set External Target</td>
<td>Checked</td>
</tr>
<tr class="odd">
<td>URL</td>
<td>/api/monitoring/device/components/version</td>
</tr>
<tr class="even">
<td>Headers—JSON with header name mapped to array of header values</td>
<td><p>{<br />
  "X-Auth-Token": [<br />
    "{{index (index .global.GetSessionToken.output.HttpHeaders <br />
`X-Auth-Token`) 0}}"<br />
  ]<br />
}</p>
<p>The token value is extracted from the previous API response header and used here in this API request header.</p></td>
</tr>
<tr class="odd">
<td>Response Parser</td>
<td>Version—Path: $.asaVersion, Type: string</td>
</tr>
</tbody>
</table>
<p>A simple outcome checks for status code. If outcome is 200, the task is
marked as failed.</p>
<ul>
<li>
<p>Name—Not OK</p>
</li>
<li>
<p>Condition—{{ne .global.GetASAVersion.output.HttpStatusCode 200}}</p>
</li>
<li>
<p>Outcome Type—Error</p>
</li>
<li>
<p>Message—GET ASA version failed</p>
</li>
</ul>
<p>The two API requests have been added to obtain session token and then to
obtain the ASA version. The extracted API output can be mapped to the
task output.</p>
<p>Task Input and Executor Output Mapping</p>
<p>Task inputs and previous executors output can be used for direct mapping
or transformed mappings. The syntax to refer to these will depend on the
type of mapping. Task inputs are referenced as
{{.global.task.input.InputName}} where InputName is the Reference Name
given to the Task input and not the Display Name or Label. Similarly,
task outputs are referenced as ${TaskName.output.TaskOutput}.</p>
<p>To specify an input mapping, select a task and click <strong>Edit</strong> against a
task input parameter.</p>
<p>The options available are:</p>
<ul>
<li>
<p>Static Value—Enter a value that is assigned to the task input field.</p>
</li>
<li>
<p>Direct Mapping—Map an existing task input or previous executors
output to the selected task input</p>
</li>
<li>
<p>Transformed Mapping—Allows applying data transformation through a
combination of one or more transformation stages for a task&rsquo;s input.
In each transformation stage, you can select a transformation
function along with its inputs. The transformation stages will be
converted into a template. You can then preview the template and
test the transformation with sample values.</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> Transformed mapping is only supported for task inputs of
primitive data types, such as <em>string</em>, <em>integer</em>, <em>boolean</em>, and
<em>float</em>.</p>
</blockquote>
<ul>
<li>Advanced Mapping—Map a Golang template to the task input. For
example, FindAllString function returns a slice of all substrings
that match the given regular expression in the given string.</li>
</ul>
<!-- -->
<ul>
<li>
<p>Example 1:</p>
</li>
<li>
<p>FindAllString(s, regex string) ([]string, error)<br>
Example: {{(FindAllString .global.task.input.NumberString \&quot;([0-9]+)\&quot;)}} <br>
returns array [“123”, “456”] for input string “123 some text 456”.</p>
</li>
<li>
<p>Example 2:</p>
</li>
<li>
<p>Atoi function converts the given number in string format to integer type.<br>
Atoi(s string) (int, error)<br>
Example: {{Atoi .global.task.input.SizeString}} <br>
returns integer 2048 for input string “2048”</p>
</li>
</ul>
<p>Exporting a Task</p>
<p>Intersight Cloud Orchestrator enables you to export tasks from an
account to your system and then import them to another account.</p>
<p>To export a task, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Tasks.</p>
</li>
<li>
<p>From the tabular list of tasks, do one of the following:</p>
</li>
</ol>
<ul>
<li>
<p>Select a task, click the Ellipsis (…) icon in the same row, and then
choose Export Task.</p>
</li>
<li>
<p>Select multiple tasks, click the Ellipsis (…) icon from the header
or footer of the tabular list, and then choose Export Task.</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> You can also export tasks from the Actions menu in the Task
Designer window.</p>
</blockquote>
<ol>
<li>
<p>In the Export Task screen:</p>
<ol>
<li>
<p>In the JSON File Name field, use the default filename or enter a
filename of your choice for the JSON file that stores the task
components.</p>
</li>
<li>
<p>Use the Export Tags toggle button to include or exclude the
user-defined tags. ICO does not export the system-defined tags.</p>
</li>
<li>
<p>Click Export.</p>
</li>
<li>
<p>Save a local copy of the JSON file.</p>
</li>
</ol>
</li>
</ol>
<p>Importing a Task</p>
<p>Intersight Cloud Orchestrator enables you to import tasks to your
account by importing a JSON file that contains the task components. You
can create the JSON file by exporting the task components from another
account.</p>
<p>To import a task, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Tasks.</p>
</li>
<li>
<p>Click Import.</p>
</li>
</ol>
<!-- -->
<ol>
<li>The Import wizard appears.</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Select File screen:</p>
<ol>
<li>
<p>From the Organization drop-down list, choose the organization to
which you want to import the task(s).</p>
</li>
<li>
<p>Click Browse, and then select the JSON file that contains the
task(s).</p>
</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Ensure that the file size of the JSON file is not more than
1MB. If the file size is more than 1MB, export the task(s) in batches,
and then try import.</p>
</blockquote>
<ol>
<li>Click Next.</li>
</ol>
<!-- -->
<ol>
<li>Intersight Cloud Orchestrator validates the JSON file and displays
<blockquote>
<p>the task(s) in the Details screen.</p>
</blockquote>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Details screen:</p>
<ol>
<li>To associate an additional tag to the components listed in the
table, enter the tag in the Set Tags field.</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Set Tags is an optional field. You must enter the tag in the
key:value format.</p>
</blockquote>
<ol>
<li>
<p>If one or more task or task components are already available in the
system, choose a rule to replace or skip the duplicate components.</p>
</li>
<li>
<p>Click Import.</p>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Import Result screen:</p>
<ol>
<li>
<p>Verify the status of the imported task and task components.</p>
</li>
<li>
<p>If you want to view the details of the import request:</p>
</li>
</ol>
</li>
</ol>
<ul>
<li>
<p>Click the link displayed above the table.</p>
</li>
<li>
<p>Alternatively, click the Requests icon displayed in the menu bar.</p>
</li>
</ul>
<!-- -->
<ul>
<li>
<p>For more information, see
<a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Requests</a>.</p>
<ol>
<li>Click Close.</li>
</ol>
</li>
</ul>
<p>Managing the Lifecycle of a Task</p>
<p>Task management consists of organizing, creating, updating, and deletion
of tasks. The following table describes the set of actions that you can
perform with tasks in Cisco Intersight.</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Actions</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>View Tasks</td>
<td>Choosing Orchestration from the left navigation pane will display all workflows in a tabular format. Clicking Tasks will display all tasks in a tabular format. You can view information such as the task name and description, the number of versions available, the number of times the task has been executed, the last execution status, validation information and the last update time and date.</td>
</tr>
<tr class="even">
<td>Create a New Task</td>
<td>Choose Orchestration from the left navigation pane and click Tasks. Then, click Create Task. This option opens up the Task Designer, using which you can create a new task.</td>
</tr>
<tr class="odd">
<td>Delete a Task</td>
<td>From the tabular list of workflows, you can select a task and click Delete. This will remove the task.</td>
</tr>
<tr class="even">
<td>Clone a Task</td>
<td>From the tabular list of tasks, you can select a task and click Clone. This will clone the selected task.</td>
</tr>
<tr class="odd">
<td>Save a Task as</td>
<td><p>From the tabular list of tasks, you can choose a task and click. By default, the workflow details are displayed in the Designer tab. You can choose Save As option from the Action drop-down list to clone a task.</p>
<p>In the Save As screen, you can specify user-friendly short name, reference name, description, and tag key. Click Save. For more information, see Cloning a Task.</p></td>
</tr>
</tbody>
</table>
<p>Cloning a Task</p>
<p>You can clone only a user-defined task. The cloned task is identical to
the original task. You can edit the new task immediately. You might do
this, for example, to create a task that is similar to the source task
that can be edited based on your requirements.</p>
<p>To clone a task, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Tasks.</p>
</li>
<li>
<p>From the tabular list of tasks, select a task and choose Clone.</p>
</li>
<li>
<p>In the Clone Task screen, edit the user-friendly short name,
reference name, and description.</p>
</li>
<li>
<p>Check the Open Clone in Editor check box if you want to open the
cloned task and edit the details.</p>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Open Clone in Editor check box is not displayed when you
clone a task using the Save As option</p>
</blockquote>
<ol>
<li>Click Clone. The cloned task will be created in the same
organization the source task belongs to.</li>
</ol>
<p>Supported Target Management Tasks</p>
<p>The Target Management tasks contain a subset of tasks that can be used
within workflows to perform a range ot operations on the endpoint
targets. The Target Management tasks supported in Intersight are:</p>
<ul>
<li>
<p>New Target—Claim a new endpoint within a workflow in Intersight. The
supported target types are HTTP, SSH, Powershell, or Ansible
endpoints.</p>
</li>
<li>
<p>Get Target—Get the details of a claimed target within a workflow.
The task inputs are name, hostname or IP address, and target type.
On successful execution, name, moid, hostname or IP address, port,
connection status, and target type are generated as the task
outputs.</p>
</li>
</ul>
<!-- -->
<ul>
<li>The supported target types are HTTP, SSH, Powershell, or Ansible
endpoints.</li>
</ul>
<!-- -->
<ul>
<li>Remove Target—Unclaim the target endpoint from Intersight. When a
target is unclaimed, it is immediately detached from the
corresponding Intersight account. The target retains any
configuration applied before the unclaim operation.</li>
</ul>
<p>Compute Tasks Matrix</p>
<p>The following table lists compute tasks supported on UCS C-Series
Standalone Server and Intersight Managed Mode (IMM) Server:</p>
<table>
<colgroup>
<col style="width: 48%" />
<col style="width: 37%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="header">
<th>Compute Tasks</th>
<th>UCS C-Series Standalone Server</th>
<th>IMM Server</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Copy Server Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Deploy Server Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Dismount Server Virtual Media Device</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Mount Server Virtual Media Device</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove Server from Server Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Remove Server Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Restart IMC</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Set Server One Time Boot Device</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Set Server Power State</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Set Server to Server Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Stop Server Operating System</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Add Server Policies to Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Clear Server Storage Controller Configuration</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Remove Server Policies from Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>New Server Profile</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>New Server Profile from Template</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Delete Server Virtual Drives</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Clear Server Storage Controller Foreign Configuration</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Import Server Storage Controller Foreign Configuration</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Set Server Physical Drive State</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>New Server Precision Boot Device</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Server Precision Boot Device</td>
<td>Y</td>
<td>N</td>
</tr>
</tbody>
</table>
<p>Supported Tasks for Storage Targets</p>
<p>The following table lists tasks supported in the various storage targets
available on Intersight:</p>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 20%" />
<col style="width: 13%" />
<col style="width: 12%" />
</colgroup>
<thead>
<tr class="header">
<th>List of Tasks</th>
<th>Pure Storage</th>
<th>NetApp</th>
<th>Hitachi</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Add Storage Export Policy to Volume</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Add Host to Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Add Hosts to Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="even">
<td>Compress Storage Pool</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Connect Initiators to Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Connect Volume to Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Copy Hitachi Volume</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Disconnect Storage Export Policy from Volume</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Disconnect Initiators from Storage Host</td>
<td>Y</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Disconnect Volume from Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Expand Storage LUN</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Edit Aggregates For Storage Virtual Machine</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Edit Storage Pool</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Edit Storage Snapshot Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Edit Storage Export Policy Rule</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Edit Storage Snapshot Policy Schedule</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Expand Storage Volume</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Find NetApp igroup LUN Map</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Expand Storage Pool</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Find Storage LUN by ID</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Find Storage Volume by ID</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Format Storage Volume</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>New Storage Export Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>New Storage Fibre Channel Interface</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>New Storage Data IP Interface</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>New Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>New Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="even">
<td>New Storage LUN</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>New Storage LUN ID</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>New Storage Snapshot Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>New Storage Snapshot Policy Schedule</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>New Storage Pool</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>New Storage Volume</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>New Storage Volume Snapshot</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>New Storage Export Policy Rule</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>New Storage Virtual Machine</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove Storage export policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Host from Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove Hosts from Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage Host</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Remove Storage Host Group</td>
<td>Y</td>
<td>N</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage LUN</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove Storage LUN ID</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage Pool</td>
<td>N</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Remove Storage Volume</td>
<td>Y</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Remove Storage Virtual Machine</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove Storage IP Interface</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage FC Interface</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Rename Storage Volume Snapshot</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage Snapshot Policy Schedule</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove Storage Export Policy Rule</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove Storage Snapshot Policy</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Remove Storage Volume Snapshot</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>New NetApp Smart LUN</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>New NetApp NAS Smart Volume</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="even">
<td>Remove NetApp Smart LUN</td>
<td>N</td>
<td>Y</td>
<td>N</td>
</tr>
</tbody>
</table>
<p>Supported Tasks for Network Targets</p>
<p>The following table lists tasks supported in the various network targets
available on Intersight:</p>
<table>
<colgroup>
<col style="width: 57%" />
<col style="width: 22%" />
<col style="width: 20%" />
</colgroup>
<thead>
<tr class="header">
<th>List of Network Tasks</th>
<th>Nexus Switch</th>
<th>MDS Switch</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Add Port to Port Channel</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Copy Running to Startup Configuration of Switch</td>
<td>Y</td>
<td>N</td>
</tr>
<tr class="odd">
<td>Edit Spanning Tree Protocol</td>
<td>Y</td>
<td>Not Applicable</td>
</tr>
<tr class="even">
<td>New Port Channel</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Remove Port Channel</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Remove Port from Port Channel</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Remove DNS Server</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Remove NTP Server</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Set DNS Server</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Set Feature State</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Set MTU</td>
<td>Y</td>
<td>Not Applicable</td>
</tr>
<tr class="even">
<td>Set NTP Server</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Set Port Channel State</td>
<td>N</td>
<td>Y</td>
</tr>
<tr class="even">
<td>Set Port Mode</td>
<td>Y</td>
<td>Not Applicable</td>
</tr>
<tr class="odd">
<td>Set Port Speed</td>
<td>Y</td>
<td>Not Applicable</td>
</tr>
<tr class="even">
<td>Set Port State</td>
<td>Y</td>
<td>Y</td>
</tr>
<tr class="odd">
<td>Set Switch Host Name</td>
<td>Y</td>
<td>Y</td>
</tr>
</tbody>
</table>
<p><span id="_Refd24e9258" class="anchor"></span>Data Types</p>
<p>Intersight Orchestrator supports the use of data types for workflows and
tasks. Data types for input and output defines types and associated
constraints on values that can be specified. Data types also specify
boundaries for values, and constraints like regular expressions.</p>
<p>Cisco Intersight provides a whole range of system-defined data types
that you can use in your workflows. In addition, you can also create a
data type in Cisco Intersight. To view all data types that are currently
available or configured, choose Orchestration <strong>&gt;</strong> Data Types. A
dashboard displays the following details under these tabs, namely, My
Data Types, System Data Types, and All Data Types:</p>
<ul>
<li>
<p>Number of Composite Type</p>
</li>
<li>
<p>Number of System Defined Data Type</p>
</li>
</ul>
<p>You can view a tabular list of data types with the following
information:</p>
<ul>
<li>
<p>Reference Name</p>
</li>
<li>
<p>Display Name</p>
</li>
<li>
<p>Composite Type</p>
</li>
<li>
<p>Description</p>
</li>
<li>
<p>Last Updated</p>
</li>
<li>
<p>Organization</p>
</li>
</ul>
<p>From this screen, as an Account Administrator, or as a user with
Workflow Designer privileges, you can perform the following actions:</p>
<ul>
<li>
<p>Create a new data type</p>
</li>
<li>
<p>Edit or delete a custom data type</p>
</li>
<li>
<p>Clone a data type</p>
</li>
</ul>
<p><strong>Note:</strong> You cannot edit or delete a system-defined data type.</p>
<p>There are many input types defined in Cisco Intersight representing a
broad selection of categorical, numeric, and text parameters. For
example, some existing data types are:</p>
<ul>
<li>
<p>Generic Text Input (the least restricted input type)</p>
</li>
<li>
<p>IPv4 Address</p>
</li>
<li>
<p>OS Type</p>
</li>
<li>
<p>Memory Size Selector</p>
</li>
</ul>
<!-- -->
<ul>
<li>
<p>Primitive data type—Represents primitive data like String, Float,
Integer, Boolean, Json, or Enum. Following are the attributes
specific to primitive data types:</p>
<ul>
<li>
<p>Type</p>
</li>
<li>
<p>Secure</p>
</li>
<li>
<p>Constraints (specifies limits and boundaries for values)</p>
</li>
<li>
<p>Object Selector (lists the Cisco Intersight managed object
selectors). This attribute is available only when the primitive
data is String. Following are the attributes specific to Object
Selector:</p>
<ul>
<li>
<p>Intersight API Reference—Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute—Enter the attribute name(s) that needs to
be displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
<li>
<p>Value Attribute—Enter the value to be passed as an input
while executing a task. This value should be any one of the
attribute name specified in the Selector Attribute field.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Array data type—Represents an array of a given type. It can be an
array of primitive data, reference data, or of custom data type.
Following are the attributes specific to array data types:</p>
<ul>
<li>
<p>ArrayItemType</p>
</li>
<li>
<p>Min</p>
</li>
<li>
<p>Max</p>
</li>
</ul>
</li>
<li>
<p>MoReference data type—Represents Cisco Intersight Managed object
reference. Following are the attributes specific to reference data
types:</p>
<ul>
<li>
<p>Intersight API Reference—Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute—Enter the attribute name(s) that needs to be
displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
</ul>
</li>
<li>
<p>Target data type—Represents a target endpoint or device. Following
are the attributes specific to target data types:</p>
<ul>
<li>
<p>Intersight API Reference—Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute—Enter the attribute name(s) that needs to be
displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
<li>
<p>Support Objects—Enter the object filter used for mentioning the
interesting object in the task definition. You can add multiple
support objects by clicking +.</p>
</li>
<li>
<p>Constraint Attribute—Enter the attribute used for defining
decision conditions to choose the right implementation task. You
can add multiple constraint attributes by clicking +.</p>
</li>
<li>
<p>Connector Attribute—Enter the attribute used for defining what
value to be passed as input to the implementation task.</p>
</li>
</ul>
</li>
<li>
<p>Custom data type—Allows defining type constraints once and then use
them in multiple tasks and workflows. Following are the attributes
specific to target data types:</p>
<ul>
<li>
<p>Custom Data Type Name</p>
</li>
<li>
<p>Catalog Moid</p>
</li>
</ul>
</li>
</ul>
<p>You choose existing input types from a list that displays a name, type,
and category for each variable. The list can be filtered to make finding
a given data type manageable.</p>
<p>If none of the existing data types serves your need in a particular
application, it is possible to create custom data types by defining
restrictions on existing data types.</p>
<p>Creating a Data Type</p>
<p>To create a data type, perform the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane and click Data
Types.</p>
</li>
<li>
<p>Choose Create Data Type.</p>
</li>
<li>
<p>In the Create Data Type screen, enter the following information:</p>
</li>
</ol>
<ul>
<li>
<p>Organization—Choose an organization from the drop-down list.</p>
</li>
<li>
<p>Name—Enter a name for the custom data type definition. The name can
be alphanumeric and can include a combination of upper case and
lower case letters and special characters.</p>
</li>
<li>
<p>Label—Enter a label that helps you identify the data type.</p>
</li>
<li>
<p>Description—Enter a description, if required.</p>
</li>
<li>
<p>Set Tags—Enter a tag in the key:value format, if required.</p>
</li>
</ul>
<ol>
<li>Select the parameters for the data type—Choose Simple or Composite.
A Simple data type has only a singular value, while a composite data
type has multiple properties.</li>
</ol>
<!-- -->
<ol>
<li>For example, a LoginName is a simple data type whereas a
MailingAddress would be a Composite data type (with street, city,
state, and so on.)</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Target data type is not supported when you choose Composite
as a parameter input.</p>
</blockquote>
<ol>
<li>To add additional inputs, click Add Field and click New Definition.
Then, enter the following information:</li>
</ol>
<ul>
<li>
<p>Name</p>
</li>
<li>
<p>Label</p>
</li>
<li>
<p>Description</p>
</li>
<li>
<p>Required—Update this field only when you are adding a Composite data
type.</p>
</li>
<li>
<p>Type—Choose a data type for primitive data type. For example,
String, Integer, Float, Boolean, Json, Enum, MoReference, Target
Data Type, or custom data type.</p>
</li>
</ul>
<!-- -->
<ul>
<li>The fields displayed depend on the value you select for the Type
field.</li>
</ul>
<ol>
<li>
<p>If you select the data type as Enum, specify the following:</p>
<ol>
<li>
<p>Enum List—Enum label and value. You can add multiple selector
attributes by clicking +.</p>
</li>
<li>
<p>Widget type.</p>
</li>
</ol>
</li>
<li>
<p>If you select the data type as String, specify the following:</p>
<ol>
<li>
<p>Minimum and MaximumRange</p>
</li>
<li>
<p>Regex—Validates the regular expression when you select String in
the Type field.</p>
</li>
<li>
<p>Secure—Indicates that the values of these properties are
encrypted and stored in Cisco Intersight.</p>
</li>
<li>
<p>ObjectSelector—Enable to configure the Intersight managed object
selectors. This attribute is available only when the primitive
data is String. Specify the Intersight API Reference and
selector attributes to feed the input from the table selection.
Value will be passed according to the configuration set in the
Value attribute.</p>
</li>
</ol>
</li>
<li>
<p>If you select the data type as Integer or Float, specify the
following:</p>
<ol>
<li>Minimum and MaximumRange.</li>
</ol>
</li>
<li>
<p>If you select the data type as MoReference, specify the following:</p>
<ol>
<li>
<p>Intersight API Reference—Enter the URL of the Intersight API
configured with parameters.</p>
</li>
<li>
<p>Selector Attribute—Enter the attribute name(s) that needs to be
displayed in the input table column. You can add multiple
selector attributes by clicking +.</p>
</li>
</ol>
</li>
<li>
<p>If you selected a composite data type, you can specify the field
mapping details. With field mapping, you can pass the value from the
parent composite data type to a child composite data type.</p>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>To specify the field mapping, do the following:</p>
<ol>
<li>
<p>Key—The input field that you want to hide.</p>
</li>
<li>
<p>Value Attribute—The value in a template style to be passed
dynamically during the execution. The inputs are referenced as
${datatype.type.AttributeName}.</p>
</li>
</ol>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>Click Add.</p>
</li>
<li>
<p>To add a Parameter Set rule, click Add Rule &gt; Parameter Set.</p>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>For more information, see <strong>Error! Reference source not found.</strong>.</p>
<ol>
<li>
<p>Name—The name of the Parameter Set rule.</p>
</li>
<li>
<p>If Field—Select the input field that will be used for the
Parameter Set rule.</p>
</li>
<li>
<p>Condition—The condition for the rule. The condition can be Equal
to, Not equal to, Contains, or Matches Pattern.</p>
</li>
<li>
<p>Value—The value of the input (If Field) that will be used for
the Parameter Set rule.</p>
</li>
<li>
<p>Field to be shown—Select input fields that should be made
available when the Parameter Set rule condition is satisfied.</p>
</li>
<li>
<p>Click Save.</p>
</li>
</ol>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>Click Preview to validate the definitions that you have added and
make corrections, if required.</p>
</li>
<li>
<p>Click Add.</p>
</li>
</ol>
<!-- -->
<ol>
<li>The data type that you added is displayed in the tabular list on the
Data Types screen. You can now create a workflow and use this data
type in the workflow input. Similar to workflows, you can define the
Parameter Set rules at custom data type level.</li>
</ol>
<p>Data Type Parameter Set Rule</p>
<p>When you create a composite data type, you can specify the fields for
the data type. After you define the fields, you can set a Parameter Set
rules. The Parameter Set rule control the availability of specific
parameters or inputs during the execution. After the first input is
specified, the Parameter Set rule controls which subsequent input fields
are made available during the execution.</p>
<p><strong>Note:</strong> You can define a Parameter Set rule only for a custom data
type that has more than two input fields with the supported data type.</p>
<p>The supported data types for the Parameter Set rules are:</p>
<ul>
<li>
<p>Boolean</p>
</li>
<li>
<p>Enum</p>
</li>
<li>
<p>String Object Selector</p>
</li>
<li>
<p>MoReference</p>
</li>
</ul>
<p>Example: The following example shows how to create a Parameter Set rule
for a composite data type with four fields. The composite data type
fields are:</p>
<ul>
<li>
<p>Cluster Type—Type is <em>Enum</em> and Enum list is <em>VM</em> and <em>HX</em>.</p>
</li>
<li>
<p>VMware Cluster—Type is <em>String</em>.</p>
</li>
<li>
<p>HX Cluster—Type is <em>String</em>.</p>
</li>
<li>
<p>Cluster Description—Type is <em>String</em>.</p>
</li>
</ul>
<p>You can create two Parameter Set rules. During the execution when the
Cluster Type value is <em>VM</em> only VMware Cluster field is made available.
Alternately, when the Cluster Type value is <em>HX</em>, only HX Cluster is
made available. The details of the Parameter Set rules are:</p>
<ul>
<li>
<p>Rule1—If Field is <em>Cluster Type</em>, Condition is <em>Equal to</em>, Value is
<em>VM</em>, and Fields to be shown is <em>VMware Cluster.</em></p>
</li>
<li>
<p>Rule2—If Field is <em>Cluster Type</em>, Condition is <em>Equal to</em>, Value is
<em>HX</em>, and Fields to be shown is <em>HC Cluster.</em></p>
</li>
</ul>
<p>Cloning a Data Type</p>
<p>You can clone a data type. The cloned data type is identical to the
original data type. You can edit the new data type immediately. You
might do this, for example, to create a data type that is similar to the
source data type that can be edited based on your requirements. The new
data type has a new, separate version history.</p>
<p>To clone a data type, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Data Type.</p>
</li>
<li>
<p>From the tabular list of data types, select a data type and choose
Clone.</p>
</li>
<li>
<p>In the Clone Data Type screen, edit the user-friendly short name,
reference name, description, and organization details. The
organization mappings are displayed only for pre-canned data types
and not for the custom data types.</p>
</li>
<li>
<p>Check the Open Clone in Editor check box if you want to open the
cloned data type and edit the details.</p>
</li>
<li>
<p>Click Clone.</p>
</li>
</ol>
<p>Exporting a Data Type</p>
<p>Intersight Cloud Orchestrator enables you to export data types from an
account to your system and then import them to another account.</p>
<p>To export a data type, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Data Type.</p>
</li>
<li>
<p>From the tabular list of data types, do one of the following:</p>
</li>
</ol>
<ul>
<li>
<p>Select a data type, click the Ellipsis (…) icon in the same row, and
then choose Export Data Type.</p>
</li>
<li>
<p>Select multiple data types, click the Ellipsis (…) icon from the
header or footer of the tabular list, and then choose Export Data
Type.</p>
</li>
</ul>
<ol>
<li>
<p>In the Export Data Type screen:</p>
<ol>
<li>
<p>In the JSON File Name field, use the default filename or enter a
filename of your choice for the JSON file that stores the data
type components.</p>
</li>
<li>
<p>Use the Export Tags toggle button to include or exclude the
user-defined tags. ICO does not export the system-defined tags.</p>
</li>
<li>
<p>Click Export.</p>
</li>
<li>
<p>Save a local copy of the JSON file.</p>
</li>
</ol>
</li>
</ol>
<p>Importing a Data Type</p>
<p>Intersight Cloud Orchestrator enables you to import data types to your
account by importing a JSON file that contains the data type components.
You can create the JSON file by exporting the data type components from
another account.</p>
<p>To import a data type, complete the following steps:</p>
<ol>
<li>
<p>Choose Orchestration from the left navigation pane.</p>
</li>
<li>
<p>Click Data Type.</p>
</li>
<li>
<p>Click Import.</p>
</li>
</ol>
<!-- -->
<ol>
<li>The Import wizard appears.</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Select File screen:</p>
<ol>
<li>
<p>From the Organization drop-down list, choose the organization to
which you want to import the data type(s).</p>
</li>
<li>
<p>Click Browse, and then select the JSON file that contains the
data type(s).</p>
</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Ensure that the file size of the JSON file is not more than
1MB. If the file size is more than 1MB, export the data type(s) in
batches, and then try import.</p>
</blockquote>
<ol>
<li>Click Next.</li>
</ol>
<!-- -->
<ol>
<li>Intersight Cloud Orchestrator validates the JSON file and displays
<blockquote>
<p>the data type(s) in the Details screen.</p>
</blockquote>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Details screen:</p>
<ol>
<li>To associate an additional tag to the components listed in the
table, enter the tag in the Set Tags field.</li>
</ol>
</li>
</ol>
<blockquote>
<p><strong>Note:</strong> Set Tags is an optional field. You must enter the tag in the
key:value format.</p>
</blockquote>
<ol>
<li>
<p>If one or more data type components are already available in the
system, choose a rule to replace or skip the duplicate components.</p>
</li>
<li>
<p>Click Import.</p>
</li>
</ol>
<!-- -->
<ol>
<li>
<p>In the Import Result screen:</p>
<ol>
<li>
<p>Verify the status of the imported data type(s).</p>
</li>
<li>
<p>If you want to view the details of the import request:</p>
</li>
</ol>
</li>
</ol>
<ul>
<li>
<p>Click the link displayed above the table.</p>
</li>
<li>
<p>Alternatively, click the Requests icon displayed in the menu bar.</p>
</li>
</ul>
<!-- -->
<ul>
<li>
<p>For more information, see
<a href="file://E:%5Chelp%5Cresources%5CWorkflow_Designer">Requests</a>.</p>
<ol>
<li>Click Close.</li>
</ol>
</li>
</ul>
<p><span id="_Refd24e10361" class="anchor"></span>Executors – Invoke
PowerShell Script</p>
<p>Intersight Cloud Orchestrator allows workflow designers to run
PowerShell Script on a PowerShell target endpoint using the <strong>Invoke
PowerShell Script</strong> embedded task in the workflow. The Invoke PowerShell
Script task is an out-of-box solution that allows you to automate
PowerShell operations on the PowerShell target that is added as a
PowerShell endpoint target in Cisco Intersight. This feature allows a
workflow designer to extend the automation capabilities of the workflow
engine beyond what is natively available in the task library and
interact with the PowerShell target endpoint.</p>
<p>Supported Targets</p>
<p>The Invoke PowerShell Script task can be run only on the targets that
are added as a PowerShell endpoint target type in Cisco Intersight.</p>
<p>To run the PowerShell Script task on the PowerShell target endpoint from
Cisco Intersight, ensure that:</p>
<ul>
<li></li>
</ul>
<!-- -->
<ul>
<li>
<p>The endpoint is reachable through Intersight Assist.</p>
</li>
<li></li>
</ul>
<!-- -->
<ul>
<li>
<p>The endpoint target is in the Connected state.</p>
</li>
<li>
<p>PowerShell Remoting is enabled on the target endpoint to allow the
endpoint to receive PowerShell remote commands.</p>
</li>
</ul>
<p><strong>Note:</strong> You can run the Invoke PowerShell Script task only on a
Windows system.</p>
<p>To enable PowerShell Remoting on a PowerShell endpoint target, execute
the following remoting script on the PowerShell target endpoint:</p>
<p>[CmdletBinding()]<br>
Param (<br>
    [switch]$EnableBasicAuth = $false,<br>
    [switch]$SKipNetworkProfileCheck = $false,<br>
    [switch]$ForceNewSSLCert = $false,<br>
    [string]$SubjectName = $env:COMPUTERNAME,<br>
    [int]$CertValidityDays = 1095<br>
)</p>
<p>Function New-SelfSignedCert<br>
{<br>
    Param (<br>
        [string]$SubjectName,<br>
        [int]$ValidDays = 1095<br>
    )</p>
<p>    $hostnonFQDN = $env:computerName<br>
    $hostFQDN = [System.Net.Dns]::GetHostByName(($env:computerName)).Hostname<br>
    $SignatureAlgorithm = &ldquo;SHA256&rdquo;</p>
<p>    $name = New-Object -COM &ldquo;X509Enrollment.CX500DistinguishedName.1&rdquo;<br>
    $name.Encode(&ldquo;CN=$SubjectName&rdquo;, 0)</p>
<p>    $key = New-Object -COM &ldquo;X509Enrollment.CX509PrivateKey.1&rdquo;<br>
    $key.ProviderName = &ldquo;Microsoft Enhanced RSA and AES Cryptographic Provider&rdquo;<br>
    $key.KeySpec = 1<br>
    $key.Length = 4096<br>
    $key.SecurityDescriptor = &ldquo;D:PAI(A;;0xd01f01ff;;;SY)(A;;0xd01f01ff;;;BA)(A;;0x80120089;;;NS)&rdquo;<br>
    $key.MachineContext = 1<br>
    $key.Create()</p>
<p>    $serverauthoid = New-Object -COM &ldquo;X509Enrollment.CObjectId.1&rdquo;<br>
    $serverauthoid.InitializeFromValue(&ldquo;1.3.6.1.5.5.7.3.1&rdquo;)<br>
    $ekuoids = New-Object -COM &ldquo;X509Enrollment.CObjectIds.1&rdquo;<br>
    $ekuoids.Add($serverauthoid)<br>
    $ekuext = New-Object -COM &ldquo;X509Enrollment.CX509ExtensionEnhancedKeyUsage.1&rdquo;<br>
    $ekuext.InitializeEncode($ekuoids)</p>
<p>    $cert = New-Object -COM &ldquo;X509Enrollment.CX509CertificateRequestCertificate.1&rdquo;<br>
    $cert.InitializeFromPrivateKey(2, $key, &ldquo;&rdquo;)<br>
    $cert.Subject = $name<br>
    $cert.Issuer = $cert.Subject<br>
    $cert.NotBefore = (Get-Date).AddDays(-1)<br>
    $cert.NotAfter = $cert.NotBefore.AddDays($ValidDays)</p>
<p>    $SigOID = New-Object -ComObject X509Enrollment.CObjectId<br>
    $SigOID.InitializeFromValue(([Security.Cryptography.Oid]$SignatureAlgorithm).Value)</p>
<p>    [string[]] $AlternativeName  += $hostnonFQDN<br>
    $AlternativeName += $hostFQDN<br>
    $IAlternativeNames = New-Object -ComObject X509Enrollment.CAlternativeNames</p>
<p>    foreach ($AN in $AlternativeName)<br>
    {<br>
        $AltName = New-Object -ComObject X509Enrollment.CAlternativeName<br>
        $AltName.InitializeFromString(0x3,$AN)<br>
        $IAlternativeNames.Add($AltName)<br>
    }</p>
<p>    $SubjectAlternativeName = New-Object -ComObject X509Enrollment.CX509ExtensionAlternativeNames<br>
    $SubjectAlternativeName.InitializeEncode($IAlternativeNames)</p>
<p>    [String[]]$KeyUsage = (&ldquo;DigitalSignature&rdquo;, &ldquo;KeyEncipherment&rdquo;)<br>
    $KeyUsageObj = New-Object -ComObject X509Enrollment.CX509ExtensionKeyUsage<br>
    $KeyUsageObj.InitializeEncode([int][Security.Cryptography.X509Certificates.X509KeyUsageFlags]($KeyUsage))<br>
    $KeyUsageObj.Critical = $true</p>
<p>    $cert.X509Extensions.Add($KeyUsageObj)<br>
    $cert.X509Extensions.Add($ekuext)<br>
    $cert.SignatureInformation.HashAlgorithm = $SigOID<br>
    $CERT.X509Extensions.Add($SubjectAlternativeName)<br>
    $cert.Encode()</p>
<p>    $enrollment = New-Object -COM &ldquo;X509Enrollment.CX509Enrollment.1&rdquo;<br>
    $enrollment.InitializeFromRequest($cert)<br>
    $certdata = $enrollment.CreateRequest(0)<br>
    $enrollment.InstallResponse(2, $certdata, 0, &ldquo;&rdquo;)</p>
<p>    # extract/return the thumbprint from the generated cert<br>
    $parsed_cert = New-Object System.Security.Cryptography.X509Certificates.X509Certificate2<br>
    $parsed_cert.Import([System.Text.Encoding]::UTF8.GetBytes($certdata))</p>
<p>    return $parsed_cert.Thumbprint<br>
}</p>
<p># Setup error handling<br>
Trap<br>
{<br>
    $_<br>
    Exit 1<br>
}</p>
<p># Treat non terminating erros as terminating errors<br>
$ErrorActionPreference = &ldquo;Stop&rdquo;</p>
<p># Get the ID and security principal of the current user account<br>
$myWindowsID=[System.Security.Principal.WindowsIdentity]::GetCurrent()<br>
$myWindowsPrincipal=new-object System.Security.Principal.WindowsPrincipal($myWindowsID)</p>
<p># Get the security principal for the Administrator role<br>
$adminRole=[System.Security.Principal.WindowsBuiltInRole]::Administrator</p>
<p># Check to see if we are currently running &ldquo;as Administrator&rdquo;<br>
if (-Not $myWindowsPrincipal.IsInRole($adminRole))<br>
{<br>
    Write-Output &ldquo;ERROR: You need elevated Administrator privileges in order to run this script.&rdquo;<br>
    Write-Output &quot;       Start Windows PowerShell by using the Run as Administrator option.&quot;<br>
    Exit 2<br>
}</p>
<p># Ensure PowerShell version is greater that 3.0<br>
if ($PSVersionTable.PSVersion.Major -lt 3) {<br>
    Throw &ldquo;Minimum required PowerShell version is 3.0&rdquo;<br>
}</p>
<p># Ensure WinRM is present on the machine<br>
if (!(Get-Service &ldquo;WinRM&rdquo; -ErrorAction SilentlyContinue)) {<br>
    Throw &ldquo;WinRM service is not present on the machine&rdquo;<br>
}</p>
<p># Ensure WinRM is running on the machine<br>
if (!(Get-Service &ldquo;WinRM&rdquo; -ErrorAction SilentlyContinue | where {$_.Status -eq &ldquo;Running&rdquo;})) {<br>
    Write-Output &ldquo;WinRM service is not running&rdquo;<br>
    Write-Output &ldquo;Attempting to start WinRM service&rdquo;<br>
    Start-Service &ldquo;WinRM&rdquo;<br>
}</p>
<p># Check if PS Remoting is already enabled, if not enable it<br>
# WinRM should be running; check that we have a PS session config.<br>
if (!(Get-PSSessionConfiguration -Verbose:$false) -or (!(Get-ChildItem WSMan:\localhost\Listener)))<br>
{<br>
  if ($SkipNetworkProfileCheck) {<br>
    Write-Verbose &ldquo;Enabling PS Remoting without checking Network profile.&rdquo;<br>
    Enable-PSRemoting -SkipNetworkProfileCheck -Force -ErrorAction Stop<br>
    Write-Output &ldquo;Enabled PS Remoting.&rdquo;<br>
  }<br>
  else {<br>
    Write-Verbose &ldquo;Enabling PS Remoting.&rdquo;<br>
    Enable-PSRemoting -Force -ErrorAction Stop<br>
    Write-Output &ldquo;Enabled PS Remoting.&rdquo;<br>
  }<br>
}<br>
else<br>
{<br>
    Write-Verbose &ldquo;PS Remoting is already enabled.&rdquo;<br>
}</p>
<p># Ensure LocalAccountTokenFilterPolicy is set to 1<br>
# https://github.com/ansible/ansible/issues/42978<br>
# Needed for NTLM authentication<br>
$token_path = &ldquo;HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System&rdquo;<br>
$token_prop_name = &ldquo;LocalAccountTokenFilterPolicy&rdquo;<br>
$token_key = Get-Item -Path $token_path<br>
$token_value = $token_key.GetValue($token_prop_name, $null)<br>
if ($token_value -ne 1) {<br>
    Write-Verbose &ldquo;Setting LocalAccountTOkenFilterPolicy to 1&rdquo;<br>
    if ($null -ne $token_value) {<br>
        Remove-ItemProperty -Path $token_path -Name $token_prop_name<br>
    }<br>
    New-ItemProperty -Path $token_path -Name $token_prop_name -Value 1 -PropertyType DWORD &gt; $null<br>
}</p>
<p># Make sure there is a SSL listener.<br>
$listeners = Get-ChildItem WSMan:\localhost\Listener<br>
if (!($listeners | Where-Object {$_.Keys -like &ldquo;TRANSPORT=HTTPS&rdquo;}))<br>
{<br>
    # We cannot use New-SelfSignedCertificate on 2012R2 and earlier<br>
    $thumbprint = New-SelfSignedCert -SubjectName $SubjectName -ValidDays $CertValidityDays<br>
    Write-Output &ldquo;Self-signed SSL certificate generated; thumbprint: $thumbprint&rdquo;<br>
    # Create the hashtables of settings to be used.<br>
    $valueset = @{<br>
        Hostname = $SubjectName<br>
        CertificateThumbprint = $thumbprint<br>
    }<br>
    $selectorset = @{<br>
        Transport = &ldquo;HTTPS&rdquo;<br>
        Address = &ldquo;*&rdquo;<br>
    }<br>
    Write-Verbose &ldquo;Enabling SSL listener.&rdquo;<br>
    New-WSManInstance -ResourceURI &lsquo;winrm/config/Listener&rsquo; -SelectorSet $selectorset -ValueSet $valueset<br>
    Write-Verbose &ldquo;Enabled SSL listener.&rdquo;<br>
}<br>
else<br>
{<br>
    Write-Verbose &ldquo;SSL listener is already active.&rdquo;<br>
    # Force a new SSL cert on Listener if the $ForceNewSSLCert<br>
    if ($ForceNewSSLCert)<br>
    {<br>
        # We cannot use New-SelfSignedCertificate on 2012R2 and earlier<br>
        $thumbprint = New-SelfSignedCert -SubjectName $SubjectName -ValidDays $CertValidityDays<br>
        Write-Verbose &ldquo;Self-signed SSL certificate generated; thumbprint: $thumbprint&rdquo;<br>
        $valueset = @{<br>
            CertificateThumbprint = $thumbprint<br>
            Hostname = $SubjectName<br>
        }<br>
        # Delete the listener for SSL<br>
        $selectorset = @{<br>
            Address = &ldquo;*&rdquo;<br>
            Transport = &ldquo;HTTPS&rdquo;<br>
        }<br>
        Remove-WSManInstance -ResourceURI &lsquo;winrm/config/Listener&rsquo; -SelectorSet $selectorset<br>
        # Add new Listener with new SSL cert<br>
        New-WSManInstance -ResourceURI &lsquo;winrm/config/Listener&rsquo; -SelectorSet $selectorset -ValueSet $valueset<br>
    }<br>
}</p>
<p># Enable/Disable basic authentication as needed<br>
$basicAuth = Get-Item WSMan:\localhost\Service\Auth\Basic<br>
if ($EnableBasicAuth) {<br>
    if ($basicAuth.Value -eq &ldquo;true&rdquo;) {<br>
        Write-Output &ldquo;Basic authentication is already enabled&rdquo;<br>
    } else {<br>
        Write-Output &ldquo;Basic authentication is currently disabled&rdquo;<br>
        Set-Item WSMan:\localhost\Service\Auth\Basic -Value $true<br>
        Write-Output &ldquo;Basic authentication has been enabled&rdquo;<br>
    }<br>
} else {<br>
    if ($basicAuth.Value -eq &ldquo;true&rdquo;) {<br>
        Write-Output &ldquo;Basic authentication is currently enabled&rdquo;<br>
        Set-Item WSMan:\localhost\Service\Auth\Basic -Value $false<br>
        Write-Output &ldquo;Basic authentication has been disabled&rdquo;<br>
    } else {<br>
        Write-Output &ldquo;Basic authentication is already disabled&rdquo;<br>
    }<br>
}</p>
<p># Check firewall<br>
$rule = Get-NetFirewallRule | where {$_.DisplayName -eq &ldquo;Allow WinRM HTTPS&rdquo;}<br>
if ($rule) {<br>
    if ($rule.Profile.ToString() -eq &ldquo;Any&rdquo;) {<br>
        Write-Output &ldquo;Firewall rule already exists for WinRM&rdquo;<br>
    } else {<br>
        Set-NetFirewallRule -DisplayName &ldquo;Allow WinRM HTTPS&rdquo; -Profile Any<br>
    }<br>
} else {<br>
   Write-Output &ldquo;Creating firewall rule for WinRM&rdquo;<br>
   New-NetFirewallRule -Profile Any -Name &ldquo;Allow WinRM HTTPS&rdquo; -DisplayName &ldquo;Allow WinRM HTTPS&rdquo; -Direction Inbound -LocalPort 5986 -Protocol &ldquo;TCP&rdquo; -Action Allow -Enabled True | Out-Null<br>
}</p>
<p># Test a remoting connection to localhost, which should work.<br>
$httpResult = Invoke-Command -ComputerName &ldquo;localhost&rdquo; -ScriptBlock {$env:COMPUTERNAME} -ErrorVariable httpError -ErrorAction SilentlyContinue<br>
$httpsOptions = New-PSSessionOption -SkipCACheck -SkipCNCheck -SkipRevocationCheck<br>
$httpsResult = New-PSSession -UseSSL -ComputerName &ldquo;localhost&rdquo; -SessionOption $httpsOptions -ErrorVariable httpsError -ErrorAction SilentlyContinue<br>
if ($httpResult -and $httpsResult)<br>
{<br>
    Write-Verbose &ldquo;HTTP: Enabled | HTTPS: Enabled&rdquo;<br>
}<br>
elseif ($httpsResult -and !$httpResult)<br>
{<br>
    Write-Verbose &ldquo;HTTP: Disabled | HTTPS: Enabled&rdquo;<br>
}<br>
elseif ($httpResult -and !$httpsResult)<br>
{<br>
    Write-Verbose &ldquo;HTTP: Enabled | HTTPS: Disabled&rdquo;<br>
}<br>
else<br>
{<br>
    Write-Output &ldquo;Unable to establish an HTTP or HTTPS remoting session.&rdquo;<br>
    Throw &ldquo;Unable to establish an HTTP or HTTPS remoting session.&rdquo;<br>
}<br>
Remove-PSSession -Session $httpsResult -ErrorAction SilentlyContinue<br>
Write-Output &ldquo;PS Remoting has been successfully configured for Intersight.&rdquo;</p>
<p>For more information on Intersight Target Claim, see <a href="file://E:%5Chelp%5Cgetting_started%5Cclaim_targets">Target Claim Using
Intersight Assist</a>.</p>
<p>Using the Executor PowerShell Script embedded task</p>
<p>Use the <strong>Invoke PowerShell Script</strong> from the <strong>Executors</strong> section in
the Intersight Orchestrator Workflow Designer UI to create a task for a
PowerShell Script target endpoint.</p>
<p>The following table explains the PowerShell Script task properties:</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><p>The PowerShell endpoint on which the PowerShell Script task is run.</p>
<p>The PowerShell Script target must be in the connected state.</p>
<ul>
<li><p>Static Value—Click Select External Target to select the PowerShell endpoint target from the Cisco Intersight target inventory.</p></li>
<li><p>Direct Mapping—Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Script</td>
<td><p>The PowerShell script to be executed on the endpoint.</p>
<ul>
<li><p>Static Value—The PowerShell script.</p></li>
<li><p>Direct Mapping—Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul>
<p><strong>Note:</strong> When you specify the PowerShell script statement and enable the Response Parser Type as JSON, at the time of execution of the workflow, Intersight pipes <em>ConvertTo-Json</em> to the script to get the corresponding responses as JSON output. However, PowerShell script statements do not output to the pipe command, and the workflow may fail and return the error "An empty pipe element is not allowed.". For example, for a script foreach ($x in 1,2,3,4,5) {$x} with Response Parser Type as JSON, when the workflow is executed the workflow fails and returns the error "<em>An empty pipe element is not allowed</em>".</p>
<p>You must wrap the PowerShell script statement with the $() operator, such as $(foreach ($x in 1,2,3,4,5) {$x} ) for the PowerShell script to work.</p></td>
</tr>
<tr class="odd">
<td>Timeout</td>
<td><p>The duration in seconds for which the task waits for a response from the PowerShell target endpoint.</p>
<p>The field corresponds to the wsman:OperationTimeout field in the WinRM SOAP/XML message.</p>
<ul>
<li><p>Static Value—The timeout in seconds.</p></li>
<li><p>Direct Mapping—Select the command timeout from the Workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>The response parser contains information about the required values, their types, and the location in the API responses. You specify the required values along with API request details. These details are used by the response parser to extract the values from the API responses.</p>
<ul>
<li><p>Static Value—Select the response type as JSON or Text.</p>
<ul>
<li><p>Enable JSON Parsing—Select enable to parse the script response and extract the data from it.</p></li>
</ul>
<ul>
<li><blockquote>
<p>Depth—The number of levels of the contained objects that must be included in the JSON representation.</p>
</blockquote></li>
<li><blockquote>
<p>Path—The content specific path information that identifies the parameter value within the content. The value is usually XPath or JSONPath.</p>
</blockquote></li>
<li><blockquote>
<p>Name—The name of the output under which the captured value is saved.</p>
</blockquote></li>
<li><blockquote>
<p>Type—The response parameter type—String, Integer, Float, or Boolean.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Enable Text Parsing—Select enable to parse the script response and extract data from it.</p></li>
</ul>
<ul>
<li><blockquote>
<p>Regular Expression—The regular expression of the line in the command response where the interested capture value resides. The format to specify the capture value in this input is $&lt;Name of the parameter&gt;. For example, if the value of the Regular Expression field is $&lt;ParameterName&gt;\@cisco\.com, then the Name field must be given the value - ParameterName.</p>
</blockquote></li>
<li><blockquote>
<p>Name—The name of the output under which the captured value is saved. This name should be the same that is provided in the Regular Expression—$&lt;Name&gt;.</p>
</blockquote></li>
<li><blockquote>
<p>Type—The response parameter type—String, Integer, Float, or Boolean.</p>
</blockquote></li>
</ul></li>
<li><p>Direct Mapping—Select the command timeout from the Workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the task Output properties:</p>
<table>
<colgroup>
<col style="width: 21%" />
<col style="width: 78%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Exit Code</td>
<td>The exit code after the execution of the PowerShell script against the given endpoint.</td>
</tr>
<tr class="even">
<td>Response</td>
<td>The response returned by the script.</td>
</tr>
<tr class="odd">
<td>Extracted Parameters</td>
<td>The list of output parameters extracted from the response.</td>
</tr>
</tbody>
</table>
<p>The following table explains the task Outcomes properties:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Outcomes</td>
<td><p>To use the extracted values from the API response to determine the task status and set the status with an appropriate message, when the conditions match, do the following:</p>
<ol type="1">
<li><p>Click Add Outcome.</p></li>
<li><p>Name—The name for the outcome.</p></li>
<li><p>Outcome Type—Select the outcome type as Success, Error, or Skip Task Execution.</p></li>
</ol>
<ol start="26" type="1">
<li><p>For more information on Outcomes, see <a href="file://E:\\help\\resources\\Task_Designer">Outcomes</a></p></li>
</ol>
<ol start="4" type="1">
<li><p>Message—The message when the condition is met.</p></li>
<li><p>Condition—The condition for the outcome.</p></li>
</ol>
<ol start="27" type="1">
<li><p>For example, {{eq .local.response.ExitCode "0"}}.</p></li>
<li><p>This condition checks whether the response exit code of API is 0.</p></li>
</ol></td>
</tr>
</tbody>
</table>
<p>Using the Executor PowerShell Script custom task</p>
<p>Use the <strong>Invoke PowerShell Script</strong> from the <strong>Executors</strong> section in
the Intersight Orchestrator Task Designer UI .</p>
<p>For more information on custom tasks, see <a href="file://E:%5Chelp%5Cresources%5CTask_Designer">Defining a
Task</a></p>
<p>The following table explains the PowerShell Script custom task
properties:</p>
<table>
<colgroup>
<col style="width: 10%" />
<col style="width: 89%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General</td>
<td><p>For more information, see <a href="file://E:\\help\\resources\\Task_Designer">Defining a Task</a></p>
<p>.</p></td>
</tr>
<tr class="even">
<td>Inputs</td>
<td>External Target—The PowerShell endpoint target on which the PowerShell script task is run.</td>
</tr>
<tr class="odd">
<td>Outputs</td>
<td><p>To extract the required values from the API responses and map it to task outputs, do the following:</p>
<ol type="1">
<li><p>Create Task Output—Specify the task output.</p></li>
<li><p>Map to Task Output—Check the check box to map the task output to an API response.</p></li>
<li><p>Task Output—Select the API response to which the task output is mapped. The options available are:</p></li>
</ol>
<ul>
<li><p><em>Exit Code | Invoke PowerShell Script</em></p></li>
<li><p><em>Response | Invoke PowerShell Script</em></p></li>
<li><p><em>Extracted Parameters | Invoke PowerShell Script</em></p></li>
</ul>
<p>For example, if you create a new task output <em>New Exit Code</em> and map it to <em>Exit Code | Invoke PowerShell Script</em>, after the workflow is executed, the output will show:</p>
<p>.<br />
└── Outputs/<br />
    ├── ConfigResults:[ 1 ]/<br />
    │   └── Object:{ 3 }/<br />
    │       ├── ConfigResCtx:{ 1 }/<br />
    │       │   └── EntityData:{ 1 }/<br />
    │       │       └── task:workflow.PowerShellApiTask<br />
    │       ├── State:Ok<br />
    │       └── Type:Config<br />
    ├── Custom_Task_Output:Handles NPM(K) PM(K) WS(K) CPU(s) Id SI ProcessName/<br />
    │                        ----- ------ ----- ----- ------ -- -- -----------<br />
    │                       264 16 4880 24808 1.11 2600 2 ApplicationFrameHost<br />
    │                       405 28 109036 5628 85.55 2112 2 chrome<br />
    │                       ...<br />
    └── New Exit Code:0</p></td>
</tr>
</tbody>
</table>
<p>The following table explains the PowerShell Script custom task input:</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Script</td>
<td><p>The PowerShell script to be executed on the target endpoint.</p>
<ul>
<li><p>Static Value—The PowerShell Script.</p></li>
<li><p>Direct Mapping—Select an existing Task input or Task output field.</p></li>
</ul>
<blockquote>
<p><strong>Note:</strong> When you use Direct Mapping and select a task input, and then execute the workflow it fails and returns the error <em>map[Text:get-service : The term 'map[Text:get-service' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.</em>.</p>
<p>You must prefix <em>.Text</em> to the Direct Mapping input in Advanced Mapping. For example, for a task input Script, the Advanced Mapping input should be{{.global.task.input.Script.Text}}</p>
</blockquote>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Timeout</td>
<td><p>The duration in seconds for which the task waits for a response from the PowerShell target endpoint.</p>
<p>The field corresponds to the wsman:OperationTimeout field in the WinRM SOAP/XML message.</p>
<ul>
<li><p>Static Value—The timeout in seconds.</p></li>
<li><p>Direct Mapping—Select the command timeout from the Task input or Task output.</p></li>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Response Parser</td>
<td><p>The response parser contains information about the required values, their types, and the location in the API responses. You specify the required values along with API request details. These details are used by the response parser to extract the values from the API responses.</p>
<ul>
<li><p>Static Value—Select the response type as JSON or Text.</p>
<ul>
<li><p>Enable JSON Parsing—Select enable to parse the script response and extract the data from it.</p></li>
</ul>
<ul>
<li><blockquote>
<p>Depth—The number of levels of the contained objects that must be included in the JSON representation.</p>
</blockquote></li>
<li><blockquote>
<p>Path—The content specific path information that identifies the parameter value within the content. The value is usually XPath or JSONPath.</p>
</blockquote></li>
<li><blockquote>
<p>Name—The name of the output under which the captured value is saved.</p>
</blockquote></li>
<li><blockquote>
<p>Type—The response parameter type—String, Integer, Float, or Boolean.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Enable Text Parsing—Select enable to parse the script response and extract data from it.</p></li>
</ul>
<ul>
<li><blockquote>
<p>Regular Expression—The regular expression of the line in the command response where the interested capture value resides. The format to specify the capture value in this input is $&lt;Name of the parameter&gt;. For example, if the value of the Regular Expression field is $&lt;ParameterName&gt;\@cisco\.com, then the Name field must be given the value - ParameterName.</p>
</blockquote></li>
<li><blockquote>
<p>Name—The name of the output under which the captured value is saved. This name should be the same that is provided in the Regular Expression—$&lt;Name&gt;.</p>
</blockquote></li>
<li><blockquote>
<p>Type—The response parameter type—String, Integer, Float, or Boolean.</p>
</blockquote></li>
</ul></li>
<li><p>Direct Mapping—Select the input from the Task input or Task output.</p></li>
</ul>
<blockquote>
<p><strong>Note:</strong> When you use Direct Mapping and select a task input, and execute the workflow it fails and returns the error <em>Error in execution: API request cannot be populated: invalid character 'm' looking for beginning of value</em>.</p>
<p>You must pipe <em>ToJson</em> to Direct Mapping in Advanced Mapping. For example, for a task input ResponseParser, the Advanced Mapping input should be {{.global.task.input.ResponseParser| ToJson}}.</p>
</blockquote>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the PowerShell Script custom task Outcomes:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Outcomes</td>
<td><p>To use the extracted values from the API response to determine the task status and set the status with an appropriate message, when the conditions match, do the following:</p>
<ol type="1">
<li><p>Click Add Outcome.</p></li>
<li><p>Name—The name for the outcome.</p></li>
<li><p>Outcome Type—Select the outcome type. The options available are Success, Skip To Success, Error, Terminal Error, Skip Task Execution, or Status.</p></li>
</ol>
<ol start="29" type="1">
<li><p>For more information on Outcomes, see <a href="file://E:\\help\\resources\\Task_Designer">Outcomes</a></p></li>
</ol>
<ol start="4" type="1">
<li><p>Message—The message when the condition is met.</p></li>
<li><p>Condition—The condition for the outcome.</p></li>
</ol>
<ol start="30" type="1">
<li><p>For example, {{eq .global.InvokePowerShellScript1.output.ExitCode "0"}}.</p></li>
<li><p>This condition checks whether the response exit code of the API named ‘InvokePowerShellScript1’ used in a custom task is 0.</p></li>
</ol></td>
</tr>
</tbody>
</table>
<p>Template Parameters</p>
<p>The request body template can refer to values from workflow inputs,
previous task outputs, or implicit parameters for Intersight API calls.
The following table explains the template parameters.</p>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="header">
<th>Prefix/Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{.global.workflow.input.&lt;ParameterName&gt;}}</td>
<td>Workflow input reference.</td>
</tr>
<tr class="even">
<td>{{.global.&lt;TaskRefName&gt;.output.<br />
Parameters.&lt;ParameterName&gt;}}</td>
<td>Previous task output reference. <strong>TaskRefName</strong> is the name of the previous task having output <strong>ParameterName</strong>.</td>
</tr>
<tr class="odd">
<td>{{.security.AccountMoid}}</td>
<td>Implicit parameter reference to Account MoID under which the workflow is running.</td>
</tr>
<tr class="even">
<td>{{.security.OrganizationMoid}}</td>
<td>Implicit parameter reference to Organization MoID under which the workflow is running.</td>
</tr>
</tbody>
</table>
<p>Template Functions</p>
<p>The template engine has in-built functions to transform values before
they are populated in the request templates. The following table
explains the functions supported in <strong>Invoke Web API Request</strong> task.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TrimSpace</td>
<td><p>Returns a string after removing whitespaces from a the string.</p>
<p>Example:</p>
<p>{{TrimSpace .global.workflow.input.HostName}}</p></td>
</tr>
<tr class="even">
<td>ContainsString</td>
<td><p>Returns a boolean if a substring is present in a given string.</p>
<p>Example:</p>
<p>{{if (ContainsString .global.workflow.input.SizeAsString \”MB\”)}}Mega Bytes{{else}}Bytes{{end}}</p></td>
</tr>
<tr class="odd">
<td>FindAllString</td>
<td><p>Returns a slice of substrings matching the regular expression in a given string.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \”([0-9]+)\”)}}</p>
<p>The above example returns array [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="even">
<td>ToJson</td>
<td><p>Converts a value to a JSON format.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \"([0-9]+)\") | ToJson}}</p>
<p>The above example returns JSON array literal [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="odd">
<td>AsArray</td>
<td><p>Takes in an element and returns an array of one element.</p>
<p>Example:</p>
<p>{{AsArray .global.workflow.output.serverMo}}</p>
<p>The above example returns an array of one server Mo.</p></td>
</tr>
<tr class="even">
<td>Substring</td>
<td><p>Returns a substring within the given index bounds.</p>
<p>Example:</p>
<p>{{Substring .global.workflow.input.StorageId 2 6}}</p>
<p>The above example returns “ABCD” for string “12ABCD3456.”</p></td>
</tr>
<tr class="odd">
<td>IpToCidr</td>
<td><p>Returns the classless inter-domain routing (CIDR) notation of an IPv4 address and subnet mask.</p>
<p>Example:</p>
<p>{{IpToCidr .global.workflow.input.Ip .global.workflow.input.Netmask}}</p>
<p>The above example returns “10.10.10.10/24” for the input parameters “10.10.10.10” and “255.255.255.0.”</p></td>
</tr>
<tr class="even">
<td>LookupInSlice</td>
<td><p>Checks if a given value is present in given slice or array and returns true if it exists. This function can be used for any value.</p>
<p>Example:</p>
<p>{{LookupInSlice .global.workflow.input.IpAddressList \”10.10.10.10\”}}</p>
<p>The above example returns true for input [”10.10.10.10”, “20.20.20.20”].</p></td>
</tr>
<tr class="odd">
<td>Index</td>
<td><p>Returns a value from an array when an input index exists.</p>
<p>Example:</p>
<p>{{ index .global.workflow.input.nodes .global.workflow.input.idx }} </p>
<p>In the above example, if nodes is an array of devices and idx is 2, the index function returns the second device in the array.</p></td>
</tr>
<tr class="even">
<td>Itob</td>
<td><p>Converts an integer to a boolean.</p>
<p>Example:</p>
<p>{{ Itob global.workflow.input.OnOffFlip }} </p>
<p>The above example returns true and false for inputs 1 and 0 respectively.</p></td>
</tr>
<tr class="odd">
<td>Itoa</td>
<td><p>Converts a given number to a string value.</p>
<p>Example:</p>
<p>{{ Itoa global.workflow.input.Port }} </p>
<p>The above example returns “12345” for input 12345.</p></td>
</tr>
<tr class="even">
<td>Itof</td>
<td><p>Converts a given integer to a float value.</p>
<p>Example:</p>
<p>{{ Itof global.workflow.input.Rate }}</p>
<p>The above example returns 15.0 for an input 15.</p></td>
</tr>
<tr class="odd">
<td>Btoa</td>
<td><p>Converts a given boolean to a string value.</p>
<p>Example:</p>
<p>{{ Btoa global.workflow.input.OnOffFlip }}</p>
<p>The above example returns “true” for input true.</p></td>
</tr>
<tr class="even">
<td>Btoi</td>
<td><p>Converts a given boolean to a integer value.</p>
<p>Example:</p>
<p>{{ Btoi global.workflow.input.OnOffFlip }}</p>
<p>The above example returns 1 and 0 for inputs true and false respectively.</p></td>
</tr>
<tr class="odd">
<td>Atob</td>
<td><p>Converts the given string into a Boolean value.</p>
<p>Example:</p>
<p>{{ Atob global.workflow.input.OnOffFlip }}Returns true for input “true”</p></td>
</tr>
<tr class="even">
<td>Atoi</td>
<td><p>Converts a given number in string format to the integer type.</p>
<p>Example:</p>
<p>{{Atoi .global.task.input.SizeString}} returns integer 2048 for input string “2048”</p></td>
</tr>
<tr class="odd">
<td>Ftoa</td>
<td><p>Converts a given number into the string form based on the given precision.</p>
<p>Example:</p>
<p>{{Ftoa .global.task.input.Size 2}} returns the following output: 123.456 =&gt; “123.45”, 1028 =&gt; “1028.00”</p></td>
</tr>
<tr class="even">
<td>Ftoi</td>
<td><p>Converts a given float input to a integer value.</p>
<p>Example:</p>
<p>{{ Ftoi global.workflow.input.Rate }}</p>
<p>The above example returns 15 for an input 15.833.</p></td>
</tr>
<tr class="odd">
<td>Eval</td>
<td><p>Supports an expression evaluation function. The below example returns 2GB for a input value of 2048. Note that the second argument is passed as ‘.’ in the template, which represents the map of all parameters.</p>
<p>{{Eval \"{{.global.workflow.input.Size}} / 1024\" .}}GB</p></td>
</tr>
</tbody>
</table>
<p>Template Engine Syntax</p>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}</p>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}</p>
<p>PowerShell Script Task Examples</p>
<p><strong>Example 1: Create a workflow to run a PowerShell Script task to get
the items and child items on a PowerShell Target endpoint</strong></p>
<p>The example below shows the execution of a script to get the items and
child items on a PowerShell target endpoint. The response parser of the
PowerShell script task is configured to use the <em>Depth</em> parameter to
limit the number of levels to recurse to 1.</p>
<p>The workflow input field required for this example is as follows:</p>
<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="header">
<th>Workflow Input</th>
<th>Input Fields</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><ul>
<li><p>Reference Name—Target</p></li>
<li><p>Type—Target Data Type</p></li>
<li><p>Intersight API Reference—/api/v1/asset/Targets?$filter=(TargetType eq PowerShellEndpoint and Status eq Connected)</p>
<ul>
<li><p>Name</p></li>
<li><p>Target Type</p></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the PowerShell Script task properties:</p>
<table>
<colgroup>
<col style="width: 24%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><p>The target on which the PowerShell Script task is executed.</p>
<p>—${workflow.input.Target}</p></td>
</tr>
<tr class="even">
<td>Script</td>
<td>Static Value—get-childitem</td>
</tr>
<tr class="odd">
<td>Timeout</td>
<td>Static Value—60 sec</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><ul>
<li><p>Response Type—JSON</p></li>
<li><p>Depth—1</p></li>
<li><p>Enable JSON Parsing—Enable</p></li>
<li><p>JSON Parser Parameters</p>
<ul>
<li><p>Path—$</p></li>
<li><p>Name—Dir</p></li>
<li><p>Type—String</p></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>After you execute the workflow, the task output is:</p>
<p>.<br>
└── ConfigResults:[ 1 ]/<br>
    └── Object:{ 3 }/<br>
        ├── ConfigResCtx:{ 1 }/<br>
        │   └── EntityData:{ 1 }/<br>
        │       └── task:workflow.PowerShellApiTask<br>
        ├── State:Ok<br>
        ├── Type:Config<br>
        ├── Response:[/<br>
        │   ├── {<br>
        │   ├── &ldquo;Name&rdquo;: &ldquo;Desktop&rdquo;,<br>
        │   ├── &ldquo;Parent&rdquo;: &ldquo;Administrator&rdquo;,<br>
        │   ├── &ldquo;Exists&rdquo;: true,<br>
        │   ├── &ldquo;Root&rdquo;: &ldquo;C:\\&rdquo;,<br>
        │   ├── &ldquo;FullName&rdquo;: &ldquo;C:\\Users\\Administrator\\Desktop&rdquo;,<br>
        │   ├── &ldquo;Extension&rdquo;: &ldquo;&rdquo;,<br>
        │   ├── &ldquo;CreationTime&rdquo;: &ldquo;\/Date(1633091610981)\/&rdquo;,<br>
        │   ├── &ldquo;CreationTimeUtc&rdquo;: &ldquo;\/Date(1633091610981)\/&rdquo;,<br>
        │   ├── &ldquo;LastAccessTime&rdquo;: &ldquo;\/Date(1634588500706)\/&rdquo;,<br>
        │   ├── &ldquo;LastAccessTimeUtc&rdquo;: &ldquo;\/Date(1634588500706)\/&rdquo;,<br>
        │   ├── &ldquo;LastWriteTime&rdquo;: &ldquo;\/Date(1634588500706)\/&rdquo;,<br>
        │   ├── &ldquo;LastWriteTimeUtc&rdquo;: &ldquo;\/Date(1634588500706)\/&rdquo;,<br>
        │   ├── &ldquo;Attributes&rdquo;: 17,<br>
        │   ├── &ldquo;PSPath&rdquo;: &ldquo;Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\Administrator\\Desktop&rdquo;,<br>
        │   ├── &ldquo;PSParentPath&rdquo;: &ldquo;Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\Administrator&rdquo;,<br>
        │   ├── &ldquo;PSChildName&rdquo;: &ldquo;Desktop&rdquo;,<br>
        │   ├── &ldquo;PSDrive&rdquo;: &ldquo;C&rdquo;,<br>
        │   ├── &ldquo;PSProvider&rdquo;: &ldquo;Microsoft.PowerShell.Core\\FileSystem&rdquo;,<br>
        │   ├── &ldquo;PSIsContainer&rdquo;: true,<br>
        │   ├── &ldquo;Mode&rdquo;: &ldquo;d-r&mdash;&rdquo;,<br>
        │   ├── &ldquo;BaseName&rdquo;: &ldquo;Desktop&rdquo;,<br>
        │   ├── &ldquo;Target&rdquo;: &ldquo;&rdquo;,<br>
        │   ├── &ldquo;LinkType&rdquo;: null<br>
        │   ├── },<br>
        │   ├── {<br>
        │   ├── &ldquo;Name&rdquo;: &ldquo;Documents&rdquo;,<br>
        │   ├── &ldquo;Parent&rdquo;: &ldquo;Administrator&rdquo;,<br>
        │   ├── &ldquo;Exists&rdquo;: true,<br>
        │   ├── &ldquo;Root&rdquo;: &ldquo;C:\\&rdquo;,<br>
        │   ├── &ldquo;FullName&rdquo;: &ldquo;C:\\Users\\Administrator\\Documents&rdquo;,<br>
        │   ├── &ldquo;Extension&rdquo;: &ldquo;&rdquo;,<br>
        │   ├── &ldquo;CreationTime&rdquo;: &ldquo;\/Date(1633091610981)\/&rdquo;,<br>
        │   ├── &ldquo;CreationTimeUtc&rdquo;: &ldquo;\/Date(1633091610981)\/&rdquo;,<br>
        │   ├── &ldquo;LastAccessTime&rdquo;: &ldquo;\/Date(1637588960280)\/&rdquo;,<br>
        │   ├── &ldquo;LastAccessTimeUtc&rdquo;: &ldquo;\/Date(1637588960280)\/&rdquo;,<br>
        │   ├── &ldquo;LastWriteTime&rdquo;: &ldquo;\/Date(1637588960280)\/&rdquo;,<br>
        │   ├── &ldquo;LastWriteTimeUtc&rdquo;: &ldquo;\/Date(1637588960280)\/&rdquo;,<br>
        │   ├── &ldquo;Attributes&rdquo;: 17,<br>
        │   ├── &ldquo;PSPath&rdquo;: &ldquo;Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\Administrator\\Documents&rdquo;,<br>
        │   ├── &ldquo;PSParentPath&rdquo;: &ldquo;Microsoft.PowerShell.Core\\FileSystem::C:\\Users\\Administrator&rdquo;,<br>
        │   ├── &ldquo;PSChildName&rdquo;: &ldquo;Documents&rdquo;,<br>
        │   ├── &ldquo;PSDrive&rdquo;: &ldquo;C&rdquo;,<br>
        │   ├── &ldquo;PSProvider&rdquo;: &ldquo;Microsoft.PowerShell.Core\\FileSystem&rdquo;,<br>
        │   ├── &ldquo;PSIsContainer&rdquo;: true,<br>
        │   ├── &ldquo;Mode&rdquo;: &ldquo;d-r&mdash;&rdquo;,<br>
        │   ├── &ldquo;BaseName&rdquo;: &ldquo;Documents&rdquo;,<br>
        │   ├── &ldquo;Target&rdquo;: &ldquo;&rdquo;,<br>
        │   ├── &ldquo;LinkType&rdquo;: null<br>
        │   ├── },<br>
        │   └── &hellip;<br>
        ├── Exit Code:{ 0 }<br>
        └── Extracted Parameters:{ 1 }/<br>
            └── Test:[ 11 ]/<br>
                └── Object:{ 20 }/<br>
                    ├── Attributes:17<br>
                    ├── BaseName:Contacts<br>
                    ├── CreationTime:/Date(1633091626520)/<br>
                    ├── CreationTimeUtc:/Date(1633091626520)/<br>
                    ├── Exists:true<br>
                    ├── FullName:C:\Users\Administrator\Contacts<br>
                    ├── LastAccessTime:/Date(1633091626520)/<br>
                    └── LastAccessTimeUtc:/Date(1633091626520)/<br>
&hellip;</p>
<p>The following is a sample code view:</p>
<p>{<br>
  &ldquo;Catalog&rdquo;: {<br>
    &ldquo;Moid&rdquo;: &ldquo;5c350f48696f6e2d3121feec&rdquo;,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.Catalog&rdquo;,<br>
    &ldquo;link&rdquo;: &ldquo;<a href="https://www.intersight.com/api/v1/workflow/Catalogs/5c350f48696f6e2d3121feec%22">https://www.intersight.com/api/v1/workflow/Catalogs/5c350f48696f6e2d3121feec&quot;</a><br>
  },<br>
  &ldquo;DefaultVersion&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
  &ldquo;InputDefinition&rdquo;: [<br>
    {<br>
      &ldquo;CustomDataTypeProperties&rdquo;: {<br>
        &ldquo;CatalogMoid&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;CustomDataTypeId&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;CustomDataTypeName&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.CustomDataProperty&rdquo;<br>
      },<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;IsValueSet&rdquo;: false,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: null<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;The PowerShell endpoint on which the script is to be executed. PowerShell Remoting must be enabled on the endpoint to allow for scripts to be executed remotely.\n&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;Dropdown&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;IsArray&rdquo;: false,<br>
      &ldquo;Label&rdquo;: &ldquo;External Target&rdquo;,<br>
      &ldquo;Max&rdquo;: 0,<br>
      &ldquo;Min&rdquo;: 0,<br>
      &ldquo;Name&rdquo;: &ldquo;Target&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.TargetDataType&rdquo;,<br>
      &ldquo;Properties&rdquo;: [<br>
        {<br>
          &ldquo;ConnectorAttribute&rdquo;: &ldquo;&rdquo;,<br>
          &ldquo;ConstraintAttributes&rdquo;: [],<br>
          &ldquo;DisplayAttributes&rdquo;: [<br>
            &ldquo;Name&rdquo;,<br>
            &ldquo;TargetType&rdquo;<br>
          ],<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.TargetProperty&rdquo;,<br>
          &ldquo;Selector&rdquo;: &ldquo;/api/v1/asset/Targets?$filter=(TargetType eq PowerShellEndpoint and Status eq Connected)&rdquo;,<br>
          &ldquo;SelectorProperty&rdquo;: {<br>
            &ldquo;Body&rdquo;: null,<br>
            &ldquo;Method&rdquo;: &ldquo;GET&rdquo;,<br>
            &ldquo;ObjectType&rdquo;: &ldquo;workflow.SelectorProperty&rdquo;<br>
          },<br>
          &ldquo;SupportedObjects&rdquo;: [<br>
            &ldquo;asset.Target&rdquo;<br>
          ]<br>
        }<br>
      ],<br>
      &ldquo;Required&rdquo;: true<br>
    }<br>
  ],<br>
  &ldquo;InputParameterSet&rdquo;: [],<br>
  &ldquo;Label&rdquo;: &ldquo;Example1PowerShell&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;Example1PowerShell&rdquo;,<br>
  &ldquo;OutputDefinition&rdquo;: [],<br>
  &ldquo;OutputParameters&rdquo;: null,<br>
  &ldquo;Properties&rdquo;: {<br>
    &ldquo;Cloneable&rdquo;: true,<br>
    &ldquo;EnableDebug&rdquo;: false,<br>
    &ldquo;ExternalMeta&rdquo;: true,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkflowProperties&rdquo;,<br>
    &ldquo;Retryable&rdquo;: false,<br>
    &ldquo;SupportStatus&rdquo;: &ldquo;Supported&rdquo;<br>
  },<br>
  &ldquo;Tags&rdquo;: [],<br>
  &ldquo;Tasks&rdquo;: [<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
      &ldquo;NextTask&rdquo;: &ldquo;InvokePowerShellScript1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.StartTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5c2fc884696f6e2d316c5d59&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes the given PowerShell script against the given PowerShell endpoint. The endpoint is typically a windows\nmachine with PowerShell Remoting enabled to allow for scripts to be executed remotely. The task connects to the\nPowerShell endpoint using the WinRM protocol.\n&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;OperationTimeout&rdquo;: 60,<br>
        &ldquo;ResponseParser&rdquo;: {<br>
          &ldquo;Depth&rdquo;: 1,<br>
          &ldquo;EnableJsonParser&rdquo;: &ldquo;Enable&rdquo;,<br>
          &ldquo;JsonParameters&rdquo;: [<br>
            {<br>
              &ldquo;Name&rdquo;: &ldquo;Dir&rdquo;,<br>
              &ldquo;Path&rdquo;: &ldquo;$&rdquo;,<br>
              &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
            }<br>
          ],<br>
          &ldquo;ResponseType&rdquo;: &ldquo;json&rdquo;<br>
        },<br>
        &ldquo;Script&rdquo;: {<br>
          &ldquo;Text&rdquo;: &ldquo;get-childitem&rdquo;<br>
        },<br>
        &ldquo;Target&rdquo;: &ldquo;${workflow.input.Target}&rdquo;<br>
      },<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke PowerShell Script&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokePowerShellScript1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;617913dd696f6e2d30bf346a&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokePowerShellScript&rdquo;,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;Version&rdquo;: 1<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;<br>
    }<br>
  ],<br>
  &ldquo;UiInputFilters&rdquo;: [],<br>
  &ldquo;UiRenderingData&rdquo;: {<br>
    &ldquo;Positions&rdquo;: [<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
        &ldquo;X&rdquo;: 10,<br>
        &ldquo;Y&rdquo;: 18.5<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 199.33338273233647,<br>
        &ldquo;Y&rdquo;: 381.4409231740322<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 462.33337796396506,<br>
        &ldquo;Y&rdquo;: 365.6328414754678<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokePowerShellScript1&rdquo;,<br>
        &ldquo;X&rdquo;: 178.5,<br>
        &ldquo;Y&rdquo;: 117<br>
      }<br>
    ]<br>
  },<br>
  &ldquo;Version&rdquo;: 1,<br>
  &ldquo;WorkflowMetadata&rdquo;: null<br>
}</p>
<p><strong>Example 2: Create a workflow to run a PowerShell Script task to
install an Internet Information Services (IIS) web server and create a
sample website</strong></p>
<p>The following example workflow has two PowerShell script tasks. The
first task installs the IIS web server on the PowerShell target
endpoint. The second task connects to the same PowerShell endpoint
target and creates a sample website.</p>
<p>The workflow input field required for this example are as follows:</p>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Workflow Input</th>
<th>Input Fields</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><ul>
<li><p>Reference Name—Target</p></li>
<li><p>Type—Target Data Type</p></li>
<li><p>Intersight API Reference—/api/v1/asset/Targets?$filter=(TargetType eq PowerShellEndpoint and Status eq Connected)</p>
<ul>
<li><p>Name</p></li>
<li><p>Target Type</p></li>
</ul></li>
</ul></td>
</tr>
<tr class="even">
<td>Role or Feature Name</td>
<td><ul>
<li><p>Reference Name—RoleorFeatureName</p></li>
<li><p>Type—String</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Website Name</td>
<td><ul>
<li><p>Reference Name—WebsiteName</p></li>
<li><p>Type—String</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the PowerShell Script task properties for
installing the IIS web server :</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><p>The target on which the PowerShell Script task is executed.</p>
<p>${workflow.input.Target}</p></td>
</tr>
<tr class="even">
<td>Script</td>
<td><p>&gt;Install-WindowsFeature -name Web-Server -IncludeManagementTools</p>
<p>Static Value</p>
<p>#Install role or feature<br />
Write-Output 'Installing "{{.global.workflow.input.RoleorFeatureName}}" Feature'<br />
Install-WindowsFeature -Name "{{.global.workflow.input.RoleorFeatureName}}" -IncludeManagementTools</p></td>
</tr>
<tr class="odd">
<td>Timeout</td>
<td>Static Value—15060 sec</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><ul>
<li><p>Response Type—JSON</p></li>
<li><p>Depth—1</p></li>
<li><p>Enable JSON Parsing—Enable</p></li>
<li><p>JSON Parser Parameters</p>
<ul>
<li><p>Path—$.Success</p></li>
<li><p>Name—Installation Succeeded</p></li>
<li><p>Type—String</p></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the PowerShell script task properties for
creating a sample website:</p>
<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><p>The target on which the PowerShell Script task is executed.</p>
<p>${workflow.input.Target}</p></td>
</tr>
<tr class="even">
<td>Script</td>
<td><p>Static Value</p>
<p>#Create website content<br />
$site = "{{.global.workflow.input.WebsiteName}}"<br />
New-Item -ItemType Directory -Name 'MyWebsite' -Path 'C:\'<br />
New-Item -ItemType File -Name 'index.html' -Path 'C:\MyWebsite\'<br />
Get-Service | ConvertTo-Html -As LIST | Out-File C:\MyWebsite\index.html<br />
#Create a new site<br />
New-IISSite -Name $site -PhysicalPath 'C:\MyWebsite\' -BindingInformation "*:8088:"<br />
Get-IISSite | where Name -Contains $site | Format-Table -Property Name,State</p></td>
</tr>
<tr class="odd">
<td>Timeout</td>
<td>Static Value—10060 sec</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><ul>
<li><p>Response Type—Text</p></li>
<li><p>Depth—1</p></li>
<li><p>Enable Text Parsing—Enable</p></li>
<li><p>Text Parser Parameters</p>
<ul>
<li><p>Regular Expression—^demo+\s$&lt;SiteState&gt;</p></li>
<li><p>Name—SiteState</p></li>
<li><p>Type—String</p></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>After you execute the workflow, the task output is:</p>
<p>#Invoke PowerShell Script<br>
&hellip;<br>
├── Inputs /<br>
│   ├── Script:{ 1 }/<br>
│   │           Text:#Install role or feature<br>
│   │               Write-Output &lsquo;Installing &ldquo;Web-Server&rdquo; Feature&rsquo;<br>
│   │               Install-WindowsFeature -Name &ldquo;Web-Server&rdquo; -IncludeManagementTools<br>
│   ├── Timeout:150<br>
│   ├── Response Parser:{ 4 }/<br>
│   │   ├── Depth: 1<br>
│   │   └── Enable JSON Parsing:Enable/<br>
│   │       ├── JSON Parser Parameters:[ 1 ]/<br>
│   │       │   └── Object:{ 3 }/<br>
│   │       │       ├── Name:Installation Succeeded<br>
│   │       │       ├── Path:$.Success<br>
│   │       │       └── Type:string<br>
│   │       └── Response Type:json<br>
│   └── External Target:{ 2 }/<br>
│       ├── Moid:61a5f99c6f72612d30b1e4bf<br>
│       └── ObjectType:asset.Target<br>
└── Outputs/<br>
    ├── ConfigResults:[ 1 ]/<br>
    │   ├── Object:{ 3 }/<br>
    │   │   └── ConfigResCtx:{ 1 }/<br>
    │   │       └── EntityData:{ 1 }/<br>
    │   │           └── task:workflow.PowerShellApiTask<br>
    │   ├── State:Ok<br>
    │   └── Type:Config<br>
    ├── Response:Installing &ldquo;Web-Server&rdquo; Feature/<br>
    │              {<br>
    │               &ldquo;Success&rdquo;: true,<br>
    │               &ldquo;RestartNeeded&rdquo;: 1,<br>
    │               &ldquo;FeatureResult&rdquo;: [<br>
    │               &ldquo;Common HTTP Features&rdquo;,<br>
    │               &ldquo;Default Document&rdquo;,<br>
    │               &ldquo;Directory Browsing&rdquo;,<br>
    │               &ldquo;Request Filtering&rdquo;,<br>
    │               &ldquo;Health and Diagnostics&rdquo;,<br>
    │               &ldquo;HTTP Errors&rdquo;,<br>
    │               &ldquo;HTTP Logging&rdquo;,<br>
    │               &ldquo;IIS Management Console&rdquo;,<br>
    │               &ldquo;Management Tools&rdquo;,<br>
    │               &ldquo;Performance&rdquo;,<br>
    │               &ldquo;Security&rdquo;,<br>
    │               &ldquo;Web Server (IIS)&rdquo;,<br>
    │               &ldquo;Static Content Compression&rdquo;,<br>
    │               &ldquo;Static Content&rdquo;,<br>
    │               &ldquo;Web Server&rdquo;<br>
    │               ],<br>
    │               &ldquo;ExitCode&rdquo;: 0<br>
    │               }<br>
    └── Exit Code:{ 0 }<br>
#Invoke PowerShell Script<br>
&hellip;<br>
.<br>
└── Inputs/<br>
    ├── Script:{ 1 }/<br>
    │           Text:#Create website content<br>
    │           $site = &ldquo;demo&rdquo;<br>
    │           New-Item -ItemType Directory -Name &lsquo;MyWebsite&rsquo; -Path &lsquo;C:\&rsquo;<br>
    │           New-Item -ItemType File -Name &lsquo;index.html&rsquo; -Path &lsquo;C:\MyWebsite\&rsquo;<br>
    │           Get-Service | ConvertTo-Html -As LIST | Out-File C:\MyWebsite\index.html<br>
    │           #Create a new site<br>
    │           New-IISSite -Name $site -PhysicalPath &lsquo;C:\MyWebsite\&rsquo; -BindingInformation &ldquo;*:8088:&rdquo;<br>
    │           Get-IISSite | where Name -Contains $site | Format-Table -Property Name,State<br>
    ├── Timeout:100<br>
    └── Response Parser:{ 3 }/<br>
        ├── Enable Text Parsing:Enable<br>
        ├── Response Type:text<br>
        ├── Text Parser Parameters:[ 1 ]/<br>
        │   └── Object:{ 3 }/<br>
        │       ├── Name:SiteState<br>
        │       ├── RegexLine:^demo+\s$&lt;SiteState&gt;<br>
        │       └── Type:string<br>
        ├── External Target:{ 2 }/<br>
        │   ├── Moid:61a5f99c6f72612d30b1e4bf<br>
        │   └── ObjectType:asset.Target<br>
└── Outputs/<br>
    ├── ConfigResults:[ 1 ]/<br>
        │   └── Object:{ 3 }/<br>
        │       ├── ConfigResCtx:{ 1 }/<br>
        │       │   └── EntityData:{ 1 }/<br>
        │       │       └── task:workflow.PowerShellApiTask<br>
        │       ├── State:Ok<br>
        │       └── Type:Config<br>
        ├── Response:Directory: C:\/<br>
        │                        Mode LastWriteTime Length Name<br>
        │                        &mdash;- &mdash;&mdash;&mdash;&mdash;- &mdash;&mdash; &mdash;-<br>
        │                       d&mdash;&ndash; 12/1/2021 11:43 AM MyWebsite<br>
        │                       Directory: C:\MyWebsite<br>
        │                       Mode LastWriteTime Length Name<br>
        │                       &mdash;- &mdash;&mdash;&mdash;&mdash;- &mdash;&mdash; &mdash;-<br>
        │                       -a&mdash;- 12/1/2021 11:43 AM 0 index.html<br>
        │                       Name State<br>
        │                       &mdash;- &mdash;&ndash;<br>
        │                       demo Started<br>
        ├── Exit Code:{ 0 }<br>
        └── Extracted Parameters:{ 1 }/<br>
            └── SiteState:Started</p>
<p>The following is a sample code view:</p>
<p>{<br>
  &ldquo;Catalog&rdquo;: {<br>
    &ldquo;Moid&rdquo;: &ldquo;6166bf80696f6e2d30f796b7&rdquo;,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.Catalog&rdquo;,<br>
    &ldquo;link&rdquo;: &ldquo;<a href="https://www.intersight.com/api/v1/workflow/Catalogs/6166bf80696f6e2d30f796b7%22">https://www.intersight.com/api/v1/workflow/Catalogs/6166bf80696f6e2d30f796b7&quot;</a><br>
  },<br>
  &ldquo;DefaultVersion&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
  &ldquo;InputDefinition&rdquo;: [<br>
    {<br>
      &ldquo;CustomDataTypeProperties&rdquo;: {<br>
        &ldquo;CatalogMoid&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;CustomDataTypeId&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;CustomDataTypeName&rdquo;: &ldquo;&rdquo;,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.CustomDataProperty&rdquo;<br>
      },<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;IsValueSet&rdquo;: false,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: null<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;The PowerShell endpoint on which the script is to be executed. PowerShell Remoting must be enabled on the endpoint to allow for scripts to be executed remotely.\n&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;Dropdown&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;IsArray&rdquo;: false,<br>
      &ldquo;Label&rdquo;: &ldquo;External Target&rdquo;,<br>
      &ldquo;Max&rdquo;: 0,<br>
      &ldquo;Min&rdquo;: 0,<br>
      &ldquo;Name&rdquo;: &ldquo;Target&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.TargetDataType&rdquo;,<br>
      &ldquo;Properties&rdquo;: [<br>
        {<br>
          &ldquo;ConnectorAttribute&rdquo;: &ldquo;&rdquo;,<br>
          &ldquo;ConstraintAttributes&rdquo;: [],<br>
          &ldquo;DisplayAttributes&rdquo;: [<br>
            &ldquo;Name&rdquo;,<br>
            &ldquo;TargetType&rdquo;<br>
          ],<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.TargetProperty&rdquo;,<br>
          &ldquo;Selector&rdquo;: &ldquo;/api/v1/asset/Targets?$filter=(TargetType eq PowerShellEndpoint and Status eq Connected)&rdquo;,<br>
          &ldquo;SelectorProperty&rdquo;: {<br>
            &ldquo;Body&rdquo;: null,<br>
            &ldquo;Method&rdquo;: &ldquo;GET&rdquo;,<br>
            &ldquo;ObjectType&rdquo;: &ldquo;workflow.SelectorProperty&rdquo;<br>
          },<br>
          &ldquo;SupportedObjects&rdquo;: [<br>
            &ldquo;asset.Target&rdquo;<br>
          ]<br>
        }<br>
      ],<br>
      &ldquo;Required&rdquo;: true<br>
    },<br>
    {<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;IsValueSet&rdquo;: false,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: null<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;Role or Feature Name&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;Role or Feature Name&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;RoleorFeatureName&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;EnumList&rdquo;: [],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Secure&rdquo;: false,<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
      },<br>
      &ldquo;Required&rdquo;: false<br>
    },<br>
    {<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;IsValueSet&rdquo;: false,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: null<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;Website Name&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;Website Name&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;WebsiteName&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;EnumList&rdquo;: [],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Secure&rdquo;: false,<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
      },<br>
      &ldquo;Required&rdquo;: false<br>
    }<br>
  ],<br>
  &ldquo;InputParameterSet&rdquo;: [],<br>
  &ldquo;Label&rdquo;: &ldquo;PowerShellExample2&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;PowerShellExample2&rdquo;,<br>
  &ldquo;OutputDefinition&rdquo;: [],<br>
  &ldquo;OutputParameters&rdquo;: null,<br>
  &ldquo;Properties&rdquo;: {<br>
    &ldquo;Cloneable&rdquo;: true,<br>
    &ldquo;EnableDebug&rdquo;: false,<br>
    &ldquo;ExternalMeta&rdquo;: true,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkflowProperties&rdquo;,<br>
    &ldquo;Retryable&rdquo;: false,<br>
    &ldquo;SupportStatus&rdquo;: &ldquo;Supported&rdquo;<br>
  },<br>
  &ldquo;Tags&rdquo;: [],<br>
  &ldquo;Tasks&rdquo;: [<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
      &ldquo;NextTask&rdquo;: &ldquo;InvokePowerShellScript1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.StartTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;6166bf7f696f6e2d30f796a6&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes the given PowerShell script against the given PowerShell endpoint. The endpoint is typically a windows\nmachine with PowerShell Remoting enabled to allow for scripts to be executed remotely. The task connects to the\nPowerShell endpoint using the WinRM protocol.\n&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;OperationTimeout&rdquo;: 150,<br>
        &ldquo;ResponseParser&rdquo;: {<br>
          &ldquo;Depth&rdquo;: 1,<br>
          &ldquo;EnableJsonParser&rdquo;: &ldquo;Enable&rdquo;,<br>
          &ldquo;JsonParameters&rdquo;: [<br>
            {<br>
              &ldquo;Name&rdquo;: &ldquo;Installation Succeeded &ldquo;,<br>
              &ldquo;Path&rdquo;: &ldquo;$.Success&rdquo;,<br>
              &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
            }<br>
          ],<br>
          &ldquo;ResponseType&rdquo;: &ldquo;json&rdquo;<br>
        },<br>
        &ldquo;Script&rdquo;: {<br>
          &ldquo;Text&rdquo;: &ldquo;#Install role or feature\r\nWrite-Output &lsquo;Installing \&rdquo;{{.global.workflow.input.RoleorFeatureName}}\&rdquo; Feature&rsquo;\r\nInstall-WindowsFeature -Name \&rdquo;{{.global.workflow.input.RoleorFeatureName}}\&quot; -IncludeManagementTools&quot;<br>
        },<br>
        &ldquo;Target&rdquo;: &ldquo;${workflow.input.Target}&rdquo;<br>
      },<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke PowerShell Script&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokePowerShellScript1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;InvokePowerShellScript2&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;616e70f8696f6e2d30355005&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokePowerShellScript&rdquo;,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;Version&rdquo;: 1<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;6166bf7f696f6e2d30f796a6&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes the given PowerShell script against the given PowerShell endpoint. The endpoint is typically a windows\nmachine with PowerShell Remoting enabled to allow for scripts to be executed remotely. The task connects to the\nPowerShell endpoint using the WinRM protocol.\n&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;OperationTimeout&rdquo;: 100,<br>
        &ldquo;ResponseParser&rdquo;: {<br>
          &ldquo;EnableTextParser&rdquo;: &ldquo;Enable&rdquo;,<br>
          &ldquo;ResponseType&rdquo;: &ldquo;text&rdquo;,<br>
          &ldquo;TextParameters&rdquo;: [<br>
            {<br>
              &ldquo;Name&rdquo;: &ldquo;SiteState&rdquo;,<br>
              &ldquo;RegexLine&rdquo;: &ldquo;^demo+\\s$&lt;SiteState&gt;&rdquo;,<br>
              &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
            }<br>
          ]<br>
        },<br>
        &ldquo;Script&rdquo;: {<br>
          &ldquo;Text&rdquo;: &ldquo;#Create website content\r\n$site = \&rdquo;{{.global.workflow.input.WebsiteName}}\&quot;\r\nNew-Item -ItemType Directory -Name &lsquo;MyWebsite&rsquo; -Path &lsquo;C:\\&rsquo;\r\nNew-Item -ItemType File -Name &lsquo;index.html&rsquo; -Path &lsquo;C:\\MyWebsite\\&rsquo;\r\nGet-Service | ConvertTo-Html -As LIST | Out-File C:\\MyWebsite\\index.html\r\n#Create a new site\r\nNew-IISSite -Name $site -PhysicalPath &lsquo;C:\\MyWebsite\\&rsquo; -BindingInformation \&quot;*:8088:\&quot;\r\nGet-IISSite | where Name -Contains $site | Format-Table -Property Name,State&quot;<br>
        },<br>
        &ldquo;Target&rdquo;: &ldquo;${workflow.input.Target}&rdquo;<br>
      },<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke PowerShell Script&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokePowerShellScript2&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;616e70f8696f6e2d30355005&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokePowerShellScript&rdquo;,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;Version&rdquo;: 1<br>
    }<br>
  ],<br>
  &ldquo;UiInputFilters&rdquo;: [],<br>
  &ldquo;UiRenderingData&rdquo;: {<br>
    &ldquo;Positions&rdquo;: [<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
        &ldquo;X&rdquo;: 10,<br>
        &ldquo;Y&rdquo;: 18<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 10,<br>
        &ldquo;Y&rdquo;: 692<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 152,<br>
        &ldquo;Y&rdquo;: 692<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokePowerShellScript1&rdquo;,<br>
        &ldquo;X&rdquo;: 72.5,<br>
        &ldquo;Y&rdquo;: 182<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokePowerShellScript2&rdquo;,<br>
        &ldquo;X&rdquo;: 116,<br>
        &ldquo;Y&rdquo;: 323<br>
      }<br>
    ]<br>
  },<br>
  &ldquo;Version&rdquo;: 1,<br>
  &ldquo;WorkflowMetadata&rdquo;: null<br>
}</p>
<p><span id="_Refd24e12594" class="anchor"></span>Executors – Invoke
Ansible Playbook - Embedded Task</p>
<p>Intersight Cloud Orchestrator allows workflow designers to run Ansible
Playbook on the Ansible Controller node using the <strong>Invoke Ansible
Playbook</strong> embedded task in the workflow. The Invoke Ansible Playbook
task is an out-of-box solution that allows you to automate Ansible
operations on the Ansible Controller node that is added as an Ansible
Endpoint target in Cisco Intersight. This feature allows a workflow
designer to extend the automation capabilities of the workflow engine
beyond what is natively available in the task library and interact with
the Ansible Controller node target.</p>
<p>For more inforormation on Invoke Ansible Playbook - Reusable Task, see
<a href="file://E:%5Chelp%5Cresources%5CExecutor_Ansible_Reusable">Invoke Ansible Playbook - Reusable
Task</a>.</p>
<p>Supported Targets</p>
<p>The Invoke Ansible Playbook task can be run only on the targets that are
added as an Ansible Endpoint target type in Cisco Intersight.</p>
<p>The <strong>Invoke Ansible Playbook</strong> task is executed as an orchestrator task
and does not include the management of the Ansible Controller node.</p>
<p>To run the Ansible Playbook task on the Ansible Controller node from
Cisco Intersight, ensure that:</p>
<ul>
<li></li>
</ul>
<!-- -->
<ul>
<li>
<p>The Ansible target is reachable through Intersight Assist when
hosted on the customer premises.</p>
</li>
<li></li>
</ul>
<!-- -->
<ul>
<li>
<p>The Ansible Playbook modules and Ansible Playbook executables
required to run the playbooks are already installed on the Ansible
Controller node.</p>
</li>
<li>
<p>The Ansible Controller node has password-less SSH access to the
hosts.</p>
</li>
<li>
<p>The Ansible Controller node can resolve the endpoint hostnames if
the Ansible Host Inventory file specifies the hostnames.</p>
</li>
</ul>
<p>For more information on Intersight Target Claim, see <a href="file://E:%5Chelp%5Cgetting_started%5Cclaim_targets">Target Claim Using
Intersight Assist</a>.</p>
<p>Using the Executor Ansible Playbook task</p>
<p>Use the <strong>Invoke Ansible Playbook</strong> from the <strong>Executors</strong> section in
the Intersight Orchestrator Workflow Designer UI to create a request for
an Ansible Playbook target.</p>
<p>The following table explains the task Input properties:</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Ansible Controller</td>
<td><p>The target on which the Ansible Playbook task is run.</p>
<p>The Ansible Playbook target must be in the Connected state.</p>
<ul>
<li><p>Static Value—Click Select External Target to select an Ansible endpoint target from Cisco Intersight target inventory.</p></li>
<li><p>Direct Mapping—Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Playbook Path</td>
<td><p>The path of the Ansible Playbook file that resides on the Ansible Controller node added as Ansible Endpoint target in Intersight.</p>
<ul>
<li><p>Static Value—The path of the Ansible Playbook.</p></li>
<li><p>Direct Mapping—Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Host Inventory</td>
<td><p>The path of the host inventory file that resides on the Ansible Controller or a comma-separated list of hosts on which the Ansible Playbook task is run.</p>
<ul>
<li><p>Static Value—The path of the host inventory file that resides on the Ansible Controller or a comma-separated list of hosts.</p></li>
</ul>
<ul>
<li><blockquote>
<p>For example, you can enter the hostname as root@10.10.10.10,</p>
</blockquote></li>
</ul>
<blockquote>
<p><strong>Note:</strong> The hostname must be suffixed with a comma (,).</p>
</blockquote>
<ul>
<li><p>Direct Mapping—Select the path from the Workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Command Timeout</td>
<td><p>The command timeout in seconds for the execution of the Ansible Playbook. The range is 10 to 7200 seconds.</p>
<p>The default timeout is 600 seconds.</p>
<ul>
<li><p>Static Value—The command timeout in seconds.</p></li>
<li><p>Direct Mapping—Select the command timeout from the Workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Command Line Argument</td>
<td><p>The optional command line arguments required to run the Ansible playbook.</p>
<ul>
<li><p>Static Value—The command line argument.</p></li>
<li><p>Direct Mapping—Select the input from the Workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul>
<p>Escape character backslash(\) needs to be used when the command line arguments contain double quotes(").</p>
<p><strong>Note:</strong> For Invoke Ansible Playbook - Reusable Task, escape character backslash(\) is not necessary when the command line arguments contain double quotes(").</p>
<p>The following command line options are not supported by the Ansible Playbook task.</p>
<ul>
<li><p>-vvv</p></li>
<li><p>-vvvv</p></li>
<li><p>-k, -K</p></li>
<li><p>-c</p></li>
<li><p>--connection</p></li>
<li><p>--sftp-extra-args</p></li>
<li><p>--scp-extra-args</p></li>
<li><p>--ask-vault-password</p></li>
<li><p>--step</p></li>
</ul>
<ul>
<li><blockquote>
<p>For information on the available command line arguments, see <a href="https://docs.ansible.com/ansible/latest/cli/ansible-playbook.html">https://docs.ansible.com/ansible/latest/cli/ansible-playbook.html</a>.</p>
</blockquote></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the task Output properties:</p>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Exit Code</td>
<td>The exit code after the execution of the Ansible Playbook against the given endpoint.</td>
</tr>
<tr class="even">
<td>Execution Summary</td>
<td>The summary after the execution of Ansible Playbook against the given endpoint.</td>
</tr>
<tr class="odd">
<td>Execution Log Path</td>
<td>The Ansible execution log path on the Ansible Control node after the execution of Ansible Playbook against the given endpoint.</td>
</tr>
</tbody>
</table>
<p>Template Parameters</p>
<p>The request body template can refer to values from workflow inputs,
previous task outputs, or implicit parameters. The following table
explains the template parameters.</p>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="header">
<th>Prefix/Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{.global.workflow.input.&lt;ParameterName&gt;}}</td>
<td>Workflow input reference.</td>
</tr>
<tr class="even">
<td>{{.global.&lt;TaskRefName&gt;.output.<br />
Parameters.&lt;ParameterName&gt;}}</td>
<td>Previous task output reference. <strong>TaskRefName</strong> is the name of the previous task having output <strong>ParameterName</strong>.</td>
</tr>
<tr class="odd">
<td>{{.security.AccountMoid}}</td>
<td>Implicit parameter reference to Account MoID under which the workflow is running.</td>
</tr>
<tr class="even">
<td>{{.security.OrganizationMoid}}</td>
<td>Implicit parameter reference to Organization MoID under which the workflow is running.</td>
</tr>
</tbody>
</table>
<p>Template Functions</p>
<p>The template engine has in-built functions to transform values before
they are populated in the request templates. The following table
explains the functions supported in <strong>Invoke Ansible Playbook</strong> task.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TrimSpace</td>
<td><p>Returns a string after removing whitespaces from a the string.</p>
<p>Example:</p>
<p>{{TrimSpace .global.workflow.input.HostName}}</p></td>
</tr>
<tr class="even">
<td>ContainsString</td>
<td><p>Returns a boolean if a substring is present in a given string.</p>
<p>Example:</p>
<p>{{if (ContainsString .global.workflow.input.SizeAsString \”MB\”)}}Mega Bytes{{else}}Bytes{{end}}</p></td>
</tr>
<tr class="odd">
<td>FindAllString</td>
<td><p>Returns a slice of substrings matching the regular expression in a given string.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \”([0-9]+)\”)}}</p>
<p>The above example returns array [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="even">
<td>ToJson</td>
<td><p>Converts a value to a JSON format.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \"([0-9]+)\") | ToJson}}</p>
<p>The above example returns JSON array literal [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="odd">
<td>AsArray</td>
<td><p>Takes in an element and returns an array of one element.</p>
<p>Example:</p>
<p>{{AsArray .global.workflow.output.serverMo}}</p>
<p>The above example returns an array of one server Mo.</p></td>
</tr>
<tr class="even">
<td>Substring</td>
<td><p>Returns a substring within the given index bounds.</p>
<p>Example:</p>
<p>{{Substring .global.workflow.input.StorageId 2 6}}</p>
<p>The above example returns “ABCD” for string “12ABCD3456.”</p></td>
</tr>
<tr class="odd">
<td>IpToCidr</td>
<td><p>Returns the classless inter-domain routing (CIDR) notation of an IPv4 address and subnet mask.</p>
<p>Example:</p>
<p>{{IpToCidr .global.workflow.input.Ip .global.workflow.input.Netmask}}</p>
<p>The above example returns “10.10.10.10/24” for the input parameters “10.10.10.10” and “255.255.255.0.”</p></td>
</tr>
<tr class="even">
<td>LookupInSlice</td>
<td><p>Checks if a given value is present in given slice or array and returns true if it exists. This function can be used for any value.</p>
<p>Example:</p>
<p>{{LookupInSlice .global.workflow.input.IpAddressList \”10.10.10.10\”}}</p>
<p>The above example returns true for input [”10.10.10.10”, “20.20.20.20”].</p></td>
</tr>
<tr class="odd">
<td>Index</td>
<td><p>Returns a value from an array when an input index exists.</p>
<p>Example:</p>
<p>{{ index .global.workflow.input.nodes .global.workflow.input.idx }} </p>
<p>In the above example, if nodes is an array of devices and idx is 2, the index function returns the second device in the array.</p></td>
</tr>
<tr class="even">
<td>Itob</td>
<td><p>Converts an integer to a boolean.</p>
<p>Example:</p>
<p>{{ Itob global.workflow.input.OnOffFlip }} </p>
<p>The above example returns true and false for inputs 1 and 0 respectively.</p></td>
</tr>
<tr class="odd">
<td>Itoa</td>
<td><p>Converts a given number to a string value.</p>
<p>Example:</p>
<p>{{ Itoa global.workflow.input.Port }} </p>
<p>The above example returns “12345” for input 12345.</p></td>
</tr>
<tr class="even">
<td>Itof</td>
<td><p>Converts a given integer to a float value.</p>
<p>Example:</p>
<p>{{ Itof global.workflow.input.Rate }}</p>
<p>The above example returns 15.0 for an input 15.</p></td>
</tr>
<tr class="odd">
<td>Btoa</td>
<td><p>Converts a given boolean to a string value.</p>
<p>Example:</p>
<p>{{ Btoa global.workflow.input.OnOffFlip }}</p>
<p>The above example returns “true” for input true.</p></td>
</tr>
<tr class="even">
<td>Btoi</td>
<td><p>Converts a given boolean to a integer value.</p>
<p>Example:</p>
<p>{{ Btoi global.workflow.input.OnOffFlip }}</p>
<p>The above example returns 1 and 0 for inputs true and false respectively.</p></td>
</tr>
<tr class="odd">
<td>Atob</td>
<td><p>Converts the given string into a Boolean value.</p>
<p>Example:</p>
<p>{{ Atob global.workflow.input.OnOffFlip }}Returns true for input “true”</p></td>
</tr>
<tr class="even">
<td>Atoi</td>
<td><p>Converts a given number in string format to the integer type.</p>
<p>Example:</p>
<p>{{Atoi .global.task.input.SizeString}} returns integer 2048 for input string “2048”</p></td>
</tr>
<tr class="odd">
<td>Ftoa</td>
<td><p>Converts a given number into the string form based on the given precision.</p>
<p>Example:</p>
<p>{{Ftoa .global.task.input.Size 2}} returns the following output: 123.456 =&gt; “123.45”, 1028 =&gt; “1028.00”</p></td>
</tr>
<tr class="even">
<td>Ftoi</td>
<td><p>Converts a given float input to a integer value.</p>
<p>Example:</p>
<p>{{ Ftoi global.workflow.input.Rate }}</p>
<p>The above example returns 15 for an input 15.833.</p></td>
</tr>
<tr class="odd">
<td>Eval</td>
<td><p>Supports an expression evaluation function. The below example returns 2GB for a input value of 2048. Note that the second argument is passed as ‘.’ in the template, which represents the map of all parameters.</p>
<p>{{Eval \"{{.global.workflow.input.Size}} / 1024\" .}}GB</p></td>
</tr>
</tbody>
</table>
<p>Template Engine Syntax</p>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}</p>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}</p>
<p>Ansible Playbook Task Example</p>
<p><strong>Example: Create a workflow to run Ansible Playbook task to install
Nginx on the hosts</strong></p>
<p>The following example workflow has two tasks—Ansible Playbook and SSH
Command tasks. The first task runs the Ansible Playbook on a controller
and installs Nginx on host nodes. In this task, the Playbook Path, Host
Inventory, Sudo Password, and other inputs are provided by the workflow
input fields. The second task, SSH Command, connects to the Ansible
endpoint target over SSH and verifies the Ansible logs.</p>
<p>The workflow input fields required for this example are as follows:</p>
<table>
<colgroup>
<col style="width: 23%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="header">
<th>Workflow Input</th>
<th>Input Fields</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Install Package</td>
<td><ul>
<li><p>Reference Name—InstallPackage</p></li>
<li><p>Type—String</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Host Inventory</td>
<td><ul>
<li><p>Reference Name—HostInventory</p></li>
<li><p>Type—String</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>SudoPassword</td>
<td><ul>
<li><p>Reference Name—SudoPassword</p></li>
<li><p>Type—String</p></li>
<li><p>Secure option is selected. The values of these properties are encrypted and stored in Intersight.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Command Line Arguments</td>
<td><ul>
<li><p>Reference Name—CommandLineArguments</p></li>
<li><p>Type—String</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the Ansible Playbook task properties:</p>
<table>
<colgroup>
<col style="width: 31%" />
<col style="width: 68%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Ansible Controller</td>
<td>The target on which the Ansible Playbook task is executed.</td>
</tr>
<tr class="even">
<td>Playbook Path</td>
<td>Static Value—${workflow.input.InstallPackage}</td>
</tr>
<tr class="odd">
<td>Host Inventory</td>
<td>Static Value—${workflow.input.HostInventory}</td>
</tr>
<tr class="even">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="odd">
<td>Command Line Argument</td>
<td>Static Value—${workflow.input.CommandLineArguments}</td>
</tr>
</tbody>
</table>
<p>The following table displays the SSH command task properties:</p>
<table>
<colgroup>
<col style="width: 7%" />
<col style="width: 92%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td>The Ansible Controller VM that is used in the previous task.</td>
</tr>
<tr class="even">
<td>SSH Command</td>
<td><p>Command—cat {{.global.InvokeAnsiblePlaybook1.output.ExecutionLogPath}}</p>
<p>In the above example, <em>InvokeAnsiblePlaybook1</em> is the task reference name of the previous task. To determine the task reference name, navigate to the Code view. For example:</p>
<p>"Tasks": <br />
    ...<br />
   "Description": "Executes Ansible Playbook against the given endpoint. This task can be executed on targets added as Ansible Endpoint in Intersight.\n",<br />
      "Label": "Invoke Ansible Playbook - Install Package",<br />
      "Name": "InvokeAnsiblePlaybook1",<br />
...</p></td>
</tr>
<tr class="odd">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="even">
<td>Expected Exit Codes</td>
<td>Default value.</td>
</tr>
<tr class="odd">
<td>Show Command Output</td>
<td>Select Show Command Option check box.</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><ul>
<li><p>Node 1</p>
<ul>
<li><p>Regular Expression— 10.106.*?\"changed\":.*?\"stderr\":\s\"$&lt;VersionOnNode1&gt;\",</p></li>
<li><p>Name—VersionOnNode1</p></li>
</ul>
<ul>
<li><blockquote>
<p>Type String</p>
</blockquote></li>
</ul></li>
<li><p>Node 2</p>
<ul>
<li><p>Regular Expression—10.106.*?\"changed\":.*?\"stderr\":\s\"$&lt;VersionOnNode2&gt;\",</p></li>
<li><p>Name—VersionOnNode2</p></li>
</ul>
<ul>
<li><blockquote>
<p>Type—String</p>
</blockquote></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>After you execute the workflow, you would see the following output:</p>
<p>.<br>
├── ConfigResults: [ 1 ]<br>
├── Object: { 3 }<br>
│   └── ConfigResCtx: { 1 }<br>
│       ├── EntityData: { 1 }<br>
│       │   └── task: workflow.SshTask<br>
│       ├── State: Ok<br>
│       └── Type: Config<br>
├── Command Output:<br>
│   ├── 2021-10-30 04:22:59,999 p=512757 u=qali n=ansible | Using /etc/ansible/ansible.cfg as config file<br>
│   ├── 2021-10-30 04:23:00,224 p=512757 u=qali n=ansible | PLAY [Install nginx] ***********************************************************<br>
│   ├── 2021-10-30 04:23:00,237 p=512757 u=qali n=ansible | TASK [Gathering Facts] *********************************************************<br>
│   ├── 2021-10-30 04:23:01,801 p=512757 u=qali n=ansible | ok: [guest@10.10.10.1]<br>
│   ├── 2021-10-30 04:23:02,033 p=512757 u=qali n=ansible | ok: [root@10.10.10.2]<br>
│   ├── 2021-10-30 04:23:02,042 p=512757 u=qali n=ansible | TASK [Add epel-release repo] ***************************************************<br>
│   ├── 2021-10-30 04:23:03,060 p=512757 u=qali n=ansible | ok: [guest@10.10.10.1] =&gt; {&ldquo;changed&rdquo;: false, &ldquo;msg&rdquo;: &ldquo;&quot;, &ldquo;rc&rdquo;: 0, &ldquo;results&rdquo;: [&ldquo;epel-release-7-12.noarch providing epel-release is already installed&rdquo;]}<br>
│   ├── 2021-10-30 04:23:27,036 p=512757 u=qali n=ansible | ok: [root@10.10.10.2] =&gt; {&ldquo;changed&rdquo;: false, &ldquo;msg&rdquo;: &ldquo;Nothing to do&rdquo;, &ldquo;rc&rdquo;: 0, &ldquo;results&rdquo;: []}<br>
│   ├── 2021-10-30 04:23:27,042 p=512757 u=qali n=ansible | TASK [Install nginx] ***********************************************************<br>
│   ├── 2021-10-30 04:23:27,887 p=512757 u=qali n=ansible | ok: [guest@10.10.10.1] =&gt; {&ldquo;changed&rdquo;: false, &ldquo;msg&rdquo;: &ldquo;&quot;, &ldquo;rc&rdquo;: 0, &ldquo;results&rdquo;: [&ldquo;1:nginx-1.20.1-9.el7.x86_64 providing nginx is already installed&rdquo;]}<br>
│   ├── 2021-10-30 04:23:29,534 p=512757 u=qali n=ansible | ok: [root@10.10.10.2] =&gt; {&ldquo;changed&rdquo;: false, &ldquo;msg&rdquo;: &ldquo;Nothing to do&rdquo;, &ldquo;rc&rdquo;: 0, &ldquo;results&rdquo;: []}<br>
│   ├── 2021-10-30 04:23:29,541 p=512757 u=qali n=ansible | TASK [Nginx Version] ***********************************************************<br>
│   ├── 2021-10-30 04:23:30,086 p=512757 u=qali n=ansible | changed: [guest@10.10.10.1] =&gt; {&ldquo;changed&rdquo;: true, &ldquo;cmd&rdquo;: [&ldquo;nginx&rdquo;, &ldquo;-v&rdquo;], &ldquo;delta&rdquo;: &ldquo;0:00:00.006230&rdquo;, &ldquo;end&rdquo;: &ldquo;2021-10-29 05:52:52.465579&rdquo;, &ldquo;rc&rdquo;: 0, &ldquo;start&rdquo;: &ldquo;2021-10-29 05:52:52.459349&rdquo;, &ldquo;stderr&rdquo;: &ldquo;nginx version: nginx/1.20.1&rdquo;, &ldquo;stderr_lines&rdquo;: [&ldquo;nginx version: nginx/1.20.1&rdquo;], &ldquo;stdout&rdquo;: &ldquo;&quot;, &ldquo;stdout_lines&rdquo;: []}<br>
│   ├── 2021-10-30 04:23:30,236 p=512757 u=qali n=ansible | changed: [root@10.10.10.2] =&gt; {&ldquo;changed&rdquo;: true, &ldquo;cmd&rdquo;: [&ldquo;nginx&rdquo;, &ldquo;-v&rdquo;], &ldquo;delta&rdquo;: &ldquo;0:00:00.005168&rdquo;, &ldquo;end&rdquo;: &ldquo;2021-10-29 06:04:28.863644&rdquo;, &ldquo;rc&rdquo;: 0, &ldquo;start&rdquo;: &ldquo;2021-10-29 06:04:28.858476&rdquo;, &ldquo;stderr&rdquo;: &ldquo;nginx version: nginx/1.14.1&rdquo;, &ldquo;stderr_lines&rdquo;: [&ldquo;nginx version: nginx/1.14.1&rdquo;], &ldquo;stdout&rdquo;: &ldquo;&quot;, &ldquo;stdout_lines&rdquo;: []}<br>
│   ├── 2021-10-30 04:23:30,248 p=512757 u=qali n=ansible | TASK [Start NGiNX] *************************************************************<br>
│   ├── 2021-10-30 04:23:31,043 p=512757 u=qali n=ansible | ok: [guest@10.10.10.1] =&gt; {&ldquo;changed&rdquo;: false, &ldquo;name&rdquo;: &ldquo;nginx&rdquo;, &ldquo;state&rdquo;: &ldquo;started&rdquo;, &ldquo;status&rdquo;: {&ldquo;ActiveEnterTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:20:15 EDT&rdquo;, &ldquo;ActiveEnterTimestampMonotonic&rdquo;: &ldquo;24390544004045&rdquo;, &ldquo;ActiveExitTimestampMonotonic&rdquo;: &ldquo;0&rdquo;, &ldquo;ActiveState&rdquo;: &ldquo;active&rdquo;, &ldquo;After&rdquo;: &ldquo;remote-fs.target nss-lookup.target systemd-journald.socket basic.target system.slice -.mount tmp.mount network-online.target&rdquo;, &ldquo;AllowIsolate&rdquo;: &ldquo;no&rdquo;, &ldquo;AmbientCapabilities&rdquo;: &ldquo;0&rdquo;, &ldquo;AssertResult&rdquo;: &ldquo;yes&rdquo;, &ldquo;AssertTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:20:15 EDT&rdquo;, &ldquo;AssertTimestampMonotonic&rdquo;: &ldquo;24390543923354&rdquo;, &ldquo;Before&rdquo;: &ldquo;shutdown.target&rdquo;, &ldquo;BlockIOAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;BlockIOWeight&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;CPUAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;CPUQuotaPerSecUSec&rdquo;: &ldquo;infinity&rdquo;, &ldquo;CPUSchedulingPolicy&rdquo;: &ldquo;0&rdquo;, &ldquo;CPUSchedulingPriority&rdquo;: &ldquo;0&rdquo;, &ldquo;CPUSchedulingResetOnFork&rdquo;: &ldquo;no&rdquo;, &ldquo;CPUShares&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;CanIsolate&rdquo;: &ldquo;no&rdquo;, &ldquo;CanReload&rdquo;: &ldquo;yes&rdquo;, &ldquo;CanStart&rdquo;: &ldquo;yes&rdquo;, &ldquo;CanStop&rdquo;: &ldquo;yes&rdquo;, &ldquo;CapabilityBoundingSet&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;ConditionResult&rdquo;: &ldquo;yes&rdquo;, &ldquo;ConditionTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:20:15 EDT&rdquo;, &ldquo;ConditionTimestampMonotonic&rdquo;: &ldquo;24390543923353&rdquo;, &ldquo;Conflicts&rdquo;: &ldquo;shutdown.target&rdquo;, &ldquo;ControlGroup&rdquo;: &ldquo;/system.slice/nginx.service&rdquo;, &ldquo;ControlPID&rdquo;: &ldquo;0&rdquo;, &ldquo;DefaultDependencies&rdquo;: &ldquo;yes&rdquo;, &ldquo;Delegate&rdquo;: &ldquo;no&rdquo;, &ldquo;Description&rdquo;: &ldquo;The nginx HTTP and reverse proxy server&rdquo;, &ldquo;DevicePolicy&rdquo;: &ldquo;auto&rdquo;, &ldquo;ExecMainCode&rdquo;: &ldquo;0&rdquo;, &ldquo;ExecMainExitTimestampMonotonic&rdquo;: &ldquo;0&rdquo;, &ldquo;ExecMainPID&rdquo;: &ldquo;10910&rdquo;, &ldquo;ExecMainStartTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:20:15 EDT&rdquo;, &ldquo;ExecMainStartTimestampMonotonic&rdquo;: &ldquo;24390544003959&rdquo;, &ldquo;ExecMainStatus&rdquo;: &ldquo;0&rdquo;, &ldquo;ExecReload&rdquo;: &ldquo;{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -s reload ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }&quot;, &ldquo;ExecStart&rdquo;: &ldquo;{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx ; ignore_errors=no ; start_time=[Wed 2021-10-27 09:20:15 EDT] ; stop_time=[Wed 2021-10-27 09:20:15 EDT] ; pid=10909 ; code=exited ; status=0 }&quot;, &ldquo;ExecStartPre&rdquo;: &ldquo;{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t ; ignore_errors=no ; start_time=[Wed 2021-10-27 09:20:15 EDT] ; stop_time=[Wed 2021-10-27 09:20:15 EDT] ; pid=10905 ; code=exited ; status=0 }&quot;, &ldquo;FailureAction&rdquo;: &ldquo;none&rdquo;, &ldquo;FileDescriptorStoreMax&rdquo;: &ldquo;0&rdquo;, &ldquo;FragmentPath&rdquo;: &ldquo;/usr/lib/systemd/system/nginx.service&rdquo;, &ldquo;GuessMainPID&rdquo;: &ldquo;yes&rdquo;, &ldquo;IOScheduling&rdquo;: &ldquo;0&rdquo;, &ldquo;Id&rdquo;: &ldquo;nginx.service&rdquo;, &ldquo;IgnoreOnIsolate&rdquo;: &ldquo;no&rdquo;, &ldquo;IgnoreOnSnapshot&rdquo;: &ldquo;no&rdquo;, &ldquo;IgnoreSIGPIPE&rdquo;: &ldquo;yes&rdquo;, &ldquo;InactiveEnterTimestampMonotonic&rdquo;: &ldquo;0&rdquo;, &ldquo;InactiveExitTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:20:15 EDT&rdquo;, &ldquo;InactiveExitTimestampMonotonic&rdquo;: &ldquo;24390543931397&rdquo;, &ldquo;JobTimeoutAction&rdquo;: &ldquo;none&rdquo;, &ldquo;JobTimeoutUSec&rdquo;: &ldquo;0&rdquo;, &ldquo;KillMode&rdquo;: &ldquo;process&rdquo;, &ldquo;KillSignal&rdquo;: &ldquo;3&rdquo;, &ldquo;LimitAS&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitCORE&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitCPU&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitDATA&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitFSIZE&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitLOCKS&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitMEMLOCK&rdquo;: &ldquo;65536&rdquo;, &ldquo;LimitMSGQUEUE&rdquo;: &ldquo;819200&rdquo;, &ldquo;LimitNICE&rdquo;: &ldquo;0&rdquo;, &ldquo;LimitNOFILE&rdquo;: &ldquo;4096&rdquo;, &ldquo;LimitNPROC&rdquo;: &ldquo;15066&rdquo;, &ldquo;LimitRSS&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitRTPRIO&rdquo;: &ldquo;0&rdquo;, &ldquo;LimitRTTIME&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LimitSIGPENDING&rdquo;: &ldquo;15066&rdquo;, &ldquo;LimitSTACK&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;LoadState&rdquo;: &ldquo;loaded&rdquo;, &ldquo;MainPID&rdquo;: &ldquo;10910&rdquo;, &ldquo;MemoryAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;MemoryCurrent&rdquo;: &ldquo;2322432&rdquo;, &ldquo;MemoryLimit&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;MountFlags&rdquo;: &ldquo;0&rdquo;, &ldquo;Names&rdquo;: &ldquo;nginx.service&rdquo;, &ldquo;NeedDaemonReload&rdquo;: &ldquo;no&rdquo;, &ldquo;Nice&rdquo;: &ldquo;0&rdquo;, &ldquo;NoNewPrivileges&rdquo;: &ldquo;no&rdquo;, &ldquo;NonBlocking&rdquo;: &ldquo;no&rdquo;, &ldquo;NotifyAccess&rdquo;: &ldquo;none&rdquo;, &ldquo;OOMScoreAdjust&rdquo;: &ldquo;0&rdquo;, &ldquo;OnFailureJobMode&rdquo;: &ldquo;replace&rdquo;, &ldquo;PIDFile&rdquo;: &ldquo;/run/nginx.pid&rdquo;, &ldquo;PermissionsStartOnly&rdquo;: &ldquo;no&rdquo;, &ldquo;PrivateDevices&rdquo;: &ldquo;no&rdquo;, &ldquo;PrivateNetwork&rdquo;: &ldquo;no&rdquo;, &ldquo;PrivateTmp&rdquo;: &ldquo;yes&rdquo;, &ldquo;ProtectHome&rdquo;: &ldquo;no&rdquo;, &ldquo;ProtectSystem&rdquo;: &ldquo;no&rdquo;, &ldquo;RefuseManualStart&rdquo;: &ldquo;no&rdquo;, &ldquo;RefuseManualStop&rdquo;: &ldquo;no&rdquo;, &ldquo;RemainAfterExit&rdquo;: &ldquo;no&rdquo;, &ldquo;Requires&rdquo;: &ldquo;-.mount system.slice basic.target&rdquo;, &ldquo;RequiresMountsFor&rdquo;: &ldquo;/var/tmp&rdquo;, &ldquo;Restart&rdquo;: &ldquo;no&rdquo;, &ldquo;RestartUSec&rdquo;: &ldquo;100ms&rdquo;, &ldquo;Result&rdquo;: &ldquo;success&rdquo;, &ldquo;RootDirectoryStartOnly&rdquo;: &ldquo;no&rdquo;, &ldquo;RuntimeDirectoryMode&rdquo;: &ldquo;0755&rdquo;, &ldquo;SameProcessGroup&rdquo;: &ldquo;no&rdquo;, &ldquo;SecureBits&rdquo;: &ldquo;0&rdquo;, &ldquo;SendSIGHUP&rdquo;: &ldquo;no&rdquo;, &ldquo;SendSIGKILL&rdquo;: &ldquo;yes&rdquo;, &ldquo;Slice&rdquo;: &ldquo;system.slice&rdquo;, &ldquo;StandardError&rdquo;: &ldquo;inherit&rdquo;, &ldquo;StandardInput&rdquo;: &ldquo;null&rdquo;, &ldquo;StandardOutput&rdquo;: &ldquo;journal&rdquo;, &ldquo;StartLimitAction&rdquo;: &ldquo;none&rdquo;, &ldquo;StartLimitBurst&rdquo;: &ldquo;5&rdquo;, &ldquo;StartLimitInterval&rdquo;: &ldquo;10000000&rdquo;, &ldquo;StartupBlockIOWeight&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;StartupCPUShares&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;StatusErrno&rdquo;: &ldquo;0&rdquo;, &ldquo;StopWhenUnneeded&rdquo;: &ldquo;no&rdquo;, &ldquo;SubState&rdquo;: &ldquo;running&rdquo;, &ldquo;SyslogLevelPrefix&rdquo;: &ldquo;yes&rdquo;, &ldquo;SyslogPriority&rdquo;: &ldquo;30&rdquo;, &ldquo;SystemCallErrorNumber&rdquo;: &ldquo;0&rdquo;, &ldquo;TTYReset&rdquo;: &ldquo;no&rdquo;, &ldquo;TTYVHangup&rdquo;: &ldquo;no&rdquo;, &ldquo;TTYVTDisallocate&rdquo;: &ldquo;no&rdquo;, &ldquo;TasksAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;TasksCurrent&rdquo;: &ldquo;3&rdquo;, &ldquo;TasksMax&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;TimeoutStartUSec&rdquo;: &ldquo;1min 30s&rdquo;, &ldquo;TimeoutStopUSec&rdquo;: &ldquo;5s&rdquo;, &ldquo;TimerSlackNSec&rdquo;: &ldquo;50000&rdquo;, &ldquo;Transient&rdquo;: &ldquo;no&rdquo;, &ldquo;Type&rdquo;: &ldquo;forking&rdquo;, &ldquo;UMask&rdquo;: &ldquo;0022&rdquo;, &ldquo;UnitFilePreset&rdquo;: &ldquo;disabled&rdquo;, &ldquo;UnitFileState&rdquo;: &ldquo;disabled&rdquo;, &ldquo;Wants&rdquo;: &ldquo;network-online.target&rdquo;, &ldquo;WatchdogTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:20:15 EDT&rdquo;, &ldquo;WatchdogTimestampMonotonic&rdquo;: &ldquo;24390544003990&rdquo;, &ldquo;WatchdogUSec&rdquo;: &ldquo;0&rdquo;}}<br>
│   ├── 2021-10-30 04:23:31,244 p=512757 u=qali n=ansible | ok: [root@10.10.10.2] =&gt; {&ldquo;changed&rdquo;: false, &ldquo;name&rdquo;: &ldquo;nginx&rdquo;, &ldquo;state&rdquo;: &ldquo;started&rdquo;, &ldquo;status&rdquo;: {&ldquo;ActiveEnterTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:31:49 EDT&rdquo;, &ldquo;ActiveEnterTimestampMonotonic&rdquo;: &ldquo;3803190467261&rdquo;, &ldquo;ActiveExitTimestampMonotonic&rdquo;: &ldquo;0&rdquo;, &ldquo;ActiveState&rdquo;: &ldquo;active&rdquo;, &ldquo;After&rdquo;: &ldquo;-.mount tmp.mount system.slice systemd-journald.socket network.target nss-lookup.target remote-fs.target basic.target sysinit.target systemd-tmpfiles-setup.service&rdquo;, &ldquo;AllowIsolate&rdquo;: &ldquo;no&rdquo;, &ldquo;AllowedCPUs&rdquo;: &ldquo;&quot;, &ldquo;AllowedMemoryNodes&rdquo;: &ldquo;&quot;, &ldquo;AmbientCapabilities&rdquo;: &ldquo;&quot;, &ldquo;AssertResult&rdquo;: &ldquo;yes&rdquo;, &ldquo;AssertTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:31:49 EDT&rdquo;, &ldquo;AssertTimestampMonotonic&rdquo;: &ldquo;3803190328406&rdquo;, &ldquo;Before&rdquo;: &ldquo;shutdown.target&rdquo;, &ldquo;BlockIOAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;BlockIOWeight&rdquo;: &ldquo;[not set]&quot;, &ldquo;CPUAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;CPUAffinity&rdquo;: &ldquo;&quot;, &ldquo;CPUAffinityFromNUMA&rdquo;: &ldquo;no&rdquo;, &ldquo;CPUQuotaPerSecUSec&rdquo;: &ldquo;infinity&rdquo;, &ldquo;CPUQuotaPeriodUSec&rdquo;: &ldquo;infinity&rdquo;, &ldquo;CPUSchedulingPolicy&rdquo;: &ldquo;0&rdquo;, &ldquo;CPUSchedulingPriority&rdquo;: &ldquo;0&rdquo;, &ldquo;CPUSchedulingResetOnFork&rdquo;: &ldquo;no&rdquo;, &ldquo;CPUShares&rdquo;: &ldquo;[not set]&quot;, &ldquo;CPUUsageNSec&rdquo;: &ldquo;[not set]&quot;, &ldquo;CPUWeight&rdquo;: &ldquo;[not set]&quot;, &ldquo;CacheDirectoryMode&rdquo;: &ldquo;0755&rdquo;, &ldquo;CanFreeze&rdquo;: &ldquo;yes&rdquo;, &ldquo;CanIsolate&rdquo;: &ldquo;no&rdquo;, &ldquo;CanReload&rdquo;: &ldquo;yes&rdquo;, &ldquo;CanStart&rdquo;: &ldquo;yes&rdquo;, &ldquo;CanStop&rdquo;: &ldquo;yes&rdquo;, &ldquo;CapabilityBoundingSet&rdquo;: &ldquo;cap_chown cap_dac_override cap_dac_read_search cap_fowner cap_fsetid cap_kill cap_setgid cap_setuid cap_setpcap cap_linux_immutable cap_net_bind_service cap_net_broadcast cap_net_admin cap_net_raw cap_ipc_lock cap_ipc_owner cap_sys_module cap_sys_rawio cap_sys_chroot cap_sys_ptrace cap_sys_pacct cap_sys_admin cap_sys_boot cap_sys_nice cap_sys_resource cap_sys_time cap_sys_tty_config cap_mknod cap_lease cap_audit_write cap_audit_control cap_setfcap cap_mac_override cap_mac_admin cap_syslog cap_wake_alarm cap_block_suspend&rdquo;, &ldquo;CollectMode&rdquo;: &ldquo;inactive&rdquo;, &ldquo;ConditionResult&rdquo;: &ldquo;yes&rdquo;, &ldquo;ConditionTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:31:49 EDT&rdquo;, &ldquo;ConditionTimestampMonotonic&rdquo;: &ldquo;3803190328406&rdquo;, &ldquo;ConfigurationDirectoryMode&rdquo;: &ldquo;0755&rdquo;, &ldquo;Conflicts&rdquo;: &ldquo;shutdown.target&rdquo;, &ldquo;ControlGroup&rdquo;: &ldquo;/system.slice/nginx.service&rdquo;, &ldquo;ControlPID&rdquo;: &ldquo;0&rdquo;, &ldquo;DefaultDependencies&rdquo;: &ldquo;yes&rdquo;, &ldquo;DefaultMemoryLow&rdquo;: &ldquo;0&rdquo;, &ldquo;DefaultMemoryMin&rdquo;: &ldquo;0&rdquo;, &ldquo;Delegate&rdquo;: &ldquo;no&rdquo;, &ldquo;Description&rdquo;: &ldquo;The nginx HTTP and reverse proxy server&rdquo;, &ldquo;DevicePolicy&rdquo;: &ldquo;auto&rdquo;, &ldquo;DynamicUser&rdquo;: &ldquo;no&rdquo;, &ldquo;EffectiveCPUs&rdquo;: &ldquo;&quot;, &ldquo;EffectiveMemoryNodes&rdquo;: &ldquo;&quot;, &ldquo;ExecMainCode&rdquo;: &ldquo;0&rdquo;, &ldquo;ExecMainExitTimestampMonotonic&rdquo;: &ldquo;0&rdquo;, &ldquo;ExecMainPID&rdquo;: &ldquo;2348498&rdquo;, &ldquo;ExecMainStartTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:31:49 EDT&rdquo;, &ldquo;ExecMainStartTimestampMonotonic&rdquo;: &ldquo;3803190463259&rdquo;, &ldquo;ExecMainStatus&rdquo;: &ldquo;0&rdquo;, &ldquo;ExecReload&rdquo;: &ldquo;{ path=/bin/kill ; argv[]=/bin/kill -s HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }&quot;, &ldquo;ExecStart&rdquo;: &ldquo;{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx ; ignore_errors=no ; start_time=[Wed 2021-10-27 09:31:49 EDT] ; stop_time=[Wed 2021-10-27 09:31:49 EDT] ; pid=2348496 ; code=exited ; status=0 }&quot;, &ldquo;ExecStartPre&rdquo;: &ldquo;{ path=/usr/sbin/nginx ; argv[]=/usr/sbin/nginx -t ; ignore_errors=no ; start_time=[Wed 2021-10-27 09:31:49 EDT] ; stop_time=[Wed 2021-10-27 09:31:49 EDT] ; pid=2348495 ; code=exited ; status=0 }&quot;, &ldquo;FailureAction&rdquo;: &ldquo;none&rdquo;, &ldquo;FileDescriptorStoreMax&rdquo;: &ldquo;0&rdquo;, &ldquo;FragmentPath&rdquo;: &ldquo;/usr/lib/systemd/system/nginx.service&rdquo;, &ldquo;FreezerState&rdquo;: &ldquo;running&rdquo;, &ldquo;GID&rdquo;: &ldquo;[not set]&quot;, &ldquo;GuessMainPID&rdquo;: &ldquo;yes&rdquo;, &ldquo;IOAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;IOSchedulingClass&rdquo;: &ldquo;0&rdquo;, &ldquo;IOSchedulingPriority&rdquo;: &ldquo;0&rdquo;, &ldquo;IOWeight&rdquo;: &ldquo;[not set]&quot;, &ldquo;IPAccounting&rdquo;: &ldquo;no&rdquo;, &ldquo;IPEgressBytes&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;IPEgressPackets&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;IPIngressBytes&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;IPIngressPackets&rdquo;: &ldquo;18446744073709551615&rdquo;, &ldquo;Id&rdquo;: &ldquo;nginx.service&rdquo;, &ldquo;IgnoreOnIsolate&rdquo;: &ldquo;no&rdquo;, &ldquo;IgnoreSIGPIPE&rdquo;: &ldquo;yes&rdquo;, &ldquo;InactiveEnterTimestampMonotonic&rdquo;: &ldquo;0&rdquo;, &ldquo;InactiveExitTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:31:49 EDT&rdquo;, &ldquo;InactiveExitTimestampMonotonic&rdquo;: &ldquo;3803190345159&rdquo;, &ldquo;InvocationID&rdquo;: &ldquo;3ea4654765104d85977c279dbe1f7588&rdquo;, &ldquo;JobRunningTimeoutUSec&rdquo;: &ldquo;infinity&rdquo;, &ldquo;JobTimeoutAction&rdquo;: &ldquo;none&rdquo;, &ldquo;JobTimeoutUSec&rdquo;: &ldquo;infinity&rdquo;, &ldquo;KeyringMode&rdquo;: &ldquo;private&rdquo;, &ldquo;KillMode&rdquo;: &ldquo;mixed&rdquo;, &ldquo;KillSignal&rdquo;: &ldquo;3&rdquo;, &ldquo;LimitAS&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitASSoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitCORE&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitCORESoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitCPU&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitCPUSoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitDATA&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitDATASoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitFSIZE&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitFSIZESoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitLOCKS&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitLOCKSSoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitMEMLOCK&rdquo;: &ldquo;65536&rdquo;, &ldquo;LimitMEMLOCKSoft&rdquo;: &ldquo;65536&rdquo;, &ldquo;LimitMSGQUEUE&rdquo;: &ldquo;819200&rdquo;, &ldquo;LimitMSGQUEUESoft&rdquo;: &ldquo;819200&rdquo;, &ldquo;LimitNICE&rdquo;: &ldquo;0&rdquo;, &ldquo;LimitNICESoft&rdquo;: &ldquo;0&rdquo;, &ldquo;LimitNOFILE&rdquo;: &ldquo;262144&rdquo;, &ldquo;LimitNOFILESoft&rdquo;: &ldquo;1024&rdquo;, &ldquo;LimitNPROC&rdquo;: &ldquo;6751&rdquo;, &ldquo;LimitNPROCSoft&rdquo;: &ldquo;6751&rdquo;, &ldquo;LimitRSS&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitRSSSoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitRTPRIO&rdquo;: &ldquo;0&rdquo;, &ldquo;LimitRTPRIOSoft&rdquo;: &ldquo;0&rdquo;, &ldquo;LimitRTTIME&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitRTTIMESoft&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitSIGPENDING&rdquo;: &ldquo;6751&rdquo;, &ldquo;LimitSIGPENDINGSoft&rdquo;: &ldquo;6751&rdquo;, &ldquo;LimitSTACK&rdquo;: &ldquo;infinity&rdquo;, &ldquo;LimitSTACKSoft&rdquo;: &ldquo;8388608&rdquo;, &ldquo;LoadState&rdquo;: &ldquo;loaded&rdquo;, &ldquo;LockPersonality&rdquo;: &ldquo;no&rdquo;, &ldquo;LogLevelMax&rdquo;: &ldquo;-1&rdquo;, &ldquo;LogRateLimitBurst&rdquo;: &ldquo;0&rdquo;, &ldquo;LogRateLimitIntervalUSec&rdquo;: &ldquo;0&rdquo;, &ldquo;LogsDirectoryMode&rdquo;: &ldquo;0755&rdquo;, &ldquo;MainPID&rdquo;: &ldquo;2348498&rdquo;, &ldquo;MemoryAccounting&rdquo;: &ldquo;yes&rdquo;, &ldquo;MemoryCurrent&rdquo;: &ldquo;6414336&rdquo;, &ldquo;MemoryDenyWriteExecute&rdquo;: &ldquo;no&rdquo;, &ldquo;MemoryHigh&rdquo;: &ldquo;infinity&rdquo;, &ldquo;MemoryLimit&rdquo;: &ldquo;infinity&rdquo;, &ldquo;MemoryLow&rdquo;: &ldquo;0&rdquo;, &ldquo;MemoryMax&rdquo;: &ldquo;infinity&rdquo;, &ldquo;MemoryMin&rdquo;: &ldquo;0&rdquo;, &ldquo;MemorySwapMax&rdquo;: &ldquo;infinity&rdquo;, &ldquo;MountAPIVFS&rdquo;: &ldquo;no&rdquo;, &ldquo;MountFlags&rdquo;: &ldquo;&quot;, &ldquo;NFileDescriptorStore&rdquo;: &ldquo;0&rdquo;, &ldquo;NRestarts&rdquo;: &ldquo;0&rdquo;, &ldquo;NUMAMask&rdquo;: &ldquo;&quot;, &ldquo;NUMAPolicy&rdquo;: &ldquo;n/a&rdquo;, &ldquo;Names&rdquo;: &ldquo;nginx.service&rdquo;, &ldquo;NeedDaemonReload&rdquo;: &ldquo;no&rdquo;, &ldquo;Nice&rdquo;: &ldquo;0&rdquo;, &ldquo;NoNewPrivileges&rdquo;: &ldquo;no&rdquo;, &ldquo;NonBlocking&rdquo;: &ldquo;no&rdquo;, &ldquo;NotifyAccess&rdquo;: &ldquo;none&rdquo;, &ldquo;OOMScoreAdjust&rdquo;: &ldquo;0&rdquo;, &ldquo;OnFailureJobMode&rdquo;: &ldquo;replace&rdquo;, &ldquo;PIDFile&rdquo;: &ldquo;/run/nginx.pid&rdquo;, &ldquo;PermissionsStartOnly&rdquo;: &ldquo;no&rdquo;, &ldquo;Perpetual&rdquo;: &ldquo;no&rdquo;, &ldquo;PrivateDevices&rdquo;: &ldquo;no&rdquo;, &ldquo;PrivateMounts&rdquo;: &ldquo;no&rdquo;, &ldquo;PrivateNetwork&rdquo;: &ldquo;no&rdquo;, &ldquo;PrivateTmp&rdquo;: &ldquo;yes&rdquo;, &ldquo;PrivateUsers&rdquo;: &ldquo;no&rdquo;, &ldquo;ProtectControlGroups&rdquo;: &ldquo;no&rdquo;, &ldquo;ProtectHome&rdquo;: &ldquo;no&rdquo;, &ldquo;ProtectKernelModules&rdquo;: &ldquo;no&rdquo;, &ldquo;ProtectKernelTunables&rdquo;: &ldquo;no&rdquo;, &ldquo;ProtectSystem&rdquo;: &ldquo;no&rdquo;, &ldquo;RefuseManualStart&rdquo;: &ldquo;no&rdquo;, &ldquo;RefuseManualStop&rdquo;: &ldquo;no&rdquo;, &ldquo;RemainAfterExit&rdquo;: &ldquo;no&rdquo;, &ldquo;RemoveIPC&rdquo;: &ldquo;no&rdquo;, &ldquo;Requires&rdquo;: &ldquo;system.slice sysinit.target -.mount&rdquo;, &ldquo;RequiresMountsFor&rdquo;: &ldquo;/var/tmp&rdquo;, &ldquo;Restart&rdquo;: &ldquo;no&rdquo;, &ldquo;RestartUSec&rdquo;: &ldquo;100ms&rdquo;, &ldquo;RestrictNamespaces&rdquo;: &ldquo;no&rdquo;, &ldquo;RestrictRealtime&rdquo;: &ldquo;no&rdquo;, &ldquo;RestrictSUIDSGID&rdquo;: &ldquo;no&rdquo;, &ldquo;Result&rdquo;: &ldquo;success&rdquo;, &ldquo;RootDirectoryStartOnly&rdquo;: &ldquo;no&rdquo;, &ldquo;RuntimeDirectoryMode&rdquo;: &ldquo;0755&rdquo;, &ldquo;RuntimeDirectoryPreserve&rdquo;: &ldquo;no&rdquo;, &ldquo;RuntimeMaxUSec&rdquo;: &ldquo;infinity&rdquo;, &ldquo;SameProcessGroup&rdquo;: &ldquo;no&rdquo;, &ldquo;SecureBits&rdquo;: &ldquo;0&rdquo;, &ldquo;SendSIGHUP&rdquo;: &ldquo;no&rdquo;, &ldquo;SendSIGKILL&rdquo;: &ldquo;yes&rdquo;, &ldquo;Slice&rdquo;: &ldquo;system.slice&rdquo;, &ldquo;StandardError&rdquo;: &ldquo;inherit&rdquo;, &ldquo;StandardInput&rdquo;: &ldquo;null&rdquo;, &ldquo;StandardInputData&rdquo;: &ldquo;&quot;, &ldquo;StandardOutput&rdquo;: &ldquo;journal&rdquo;, &ldquo;StartLimitAction&rdquo;: &ldquo;none&rdquo;, &ldquo;StartLimitBurst&rdquo;: &ldquo;5&rdquo;, &ldquo;StartLimitIntervalUSec&rdquo;: &ldquo;10s&rdquo;, &ldquo;StartupBlockIOWeight&rdquo;: &ldquo;[not set]&quot;, &ldquo;StartupCPUShares&rdquo;: &ldquo;[not set]&quot;, &ldquo;StartupCPUWeight&rdquo;: &ldquo;[not set]&quot;, &ldquo;StartupIOWeight&rdquo;: &ldquo;[not set]&quot;, &ldquo;StateChangeTimestamp&rdquo;: &ldquo;Wed 2021-10-27 09:31:49 EDT&rdquo;, &ldquo;StateChangeTimestampMonotonic&rdquo;: &ldquo;3803190467261&rdquo;, &ldquo;StateDirectoryMode&rdquo;: &ldquo;0755&rdquo;, &ldquo;StatusErrno&rdquo;: &ldquo;0&rdquo;, &ldquo;StopWhenUnneeded&rdquo;: &ldquo;no&rdquo;, &ldquo;SubState&rdquo;: &ldquo;running&rdquo;, &ldquo;SuccessAction&rdquo;: &ldquo;none&rdquo;, &ldquo;SyslogFacility&rdquo;: &ldquo;3&rdquo;, &ldquo;SyslogLevel&rdquo;: &ldquo;6&rdquo;, &ldquo;SyslogLevelPrefix&rdquo;: &ldquo;yes&rdquo;, &ldquo;SyslogPriority&rdquo;: &ldquo;30&rdquo;, &ldquo;SystemCallErrorNumber&rdquo;: &ldquo;0&rdquo;, &ldquo;TTYReset&rdquo;: &ldquo;no&rdquo;, &ldquo;TTYVHangup&rdquo;: &ldquo;no&rdquo;, &ldquo;TTYVTDisallocate&rdquo;: &ldquo;no&rdquo;, &ldquo;TasksAccounting&rdquo;: &ldquo;yes&rdquo;, &ldquo;TasksCurrent&rdquo;: &ldquo;2&rdquo;, &ldquo;TasksMax&rdquo;: &ldquo;10802&rdquo;, &ldquo;TimeoutStartUSec&rdquo;: &ldquo;1min 30s&rdquo;, &ldquo;TimeoutStopUSec&rdquo;: &ldquo;5s&rdquo;, &ldquo;TimerSlackNSec&rdquo;: &ldquo;50000&rdquo;, &ldquo;Transient&rdquo;: &ldquo;no&rdquo;, &ldquo;Type&rdquo;: &ldquo;forking&rdquo;, &ldquo;UID&rdquo;: &ldquo;[not set]&quot;, &ldquo;UMask&rdquo;: &ldquo;0022&rdquo;, &ldquo;UnitFilePreset&rdquo;: &ldquo;disabled&rdquo;, &ldquo;UnitFileState&rdquo;: &ldquo;disabled&rdquo;, &ldquo;UtmpMode&rdquo;: &ldquo;init&rdquo;, &ldquo;WatchdogTimestampMonotonic&rdquo;: &ldquo;0&rdquo;, &ldquo;WatchdogUSec&rdquo;: &ldquo;0&rdquo;}}<br>
│   ├── 2021-10-30 04:23:31,246 p=512757 u=qali n=ansible | PLAY RECAP *********************************************************************<br>
│   ├── 2021-10-30 04:23:31,246 p=512757 u=qali n=ansible | guest@10.10.10.1 : ok=5 changed=1 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0<br>
│   └── 2021-10-30 04:23:31,246 p=512757 u=qali n=ansible | root@10.10.10.2 : ok=5 changed=1 unreachable=0 failed=0 skipped=0 rescued=0 ignored=0<br>
├── Exit Code: 0<br>
└── Extracted Parameters: { 2 }<br>
    ├── <strong>VersionOnNode1: nginx version: nginx/1.14.1</strong><br>
    └── <strong>VersionOnNode2: nginx version: nginx/1.20.1</strong><br>
         </p>
<p>The following is a sample code view:</p>
<p>{<br>
  &ldquo;Tags&rdquo;: [],<br>
  &ldquo;DefaultVersion&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
  &ldquo;InputDefinition&rdquo;: [<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;IsValueSet&rdquo;: true,<br>
        &ldquo;Override&rdquo;: true,<br>
        &ldquo;Value&rdquo;: &ldquo;/home/qali/vspancha/playbooks/install_nginx.yml&rdquo;<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;The path of the ansible playbook residing on the Ansible Endpoint target.\n&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;Install Package&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InstallPackage&rdquo;,<br>
      &ldquo;Required&rdquo;: true,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;EnumList&rdquo;: [],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;Secure&rdquo;: false,<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
      }<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;IsValueSet&rdquo;: true,<br>
        &ldquo;Override&rdquo;: true,<br>
        &ldquo;Value&rdquo;: &ldquo;/home/qali/vspancha/playbooks/nginx_hosts&rdquo;<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;The path of the host inventory file residing on the Ansible Endpoint target or comma separated list of hosts on which Ansible playbook execution happens.\n&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;Host Inventory&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;HostInventory&rdquo;,<br>
      &ldquo;Required&rdquo;: true,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;EnumList&rdquo;: [],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;Secure&rdquo;: false,<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
      }<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;IsValueSet&rdquo;: false,<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: &quot;&rdquo;<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;SudoPassword&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SudoPassword&rdquo;,<br>
      &ldquo;Required&rdquo;: true,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;EnumList&rdquo;: [],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;Secure&rdquo;: true,<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
      }<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;IsValueSet&rdquo;: true,<br>
        &ldquo;Override&rdquo;: true,<br>
        &ldquo;Value&rdquo;: &ldquo;&ndash;extra-vars &lsquo;ansible_become_pass={{.global.workflow.input.SudoPassword}}&rsquo;&rdquo;<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;The command line arguments for the execution of the ansible playbook against the given endpoint. \nEscape character backslash(\\) needs to be used when the command line arguments contain double quotes(\&quot;) in them.\n\nBelow command line options are not supported by the Ansible task.\n1. -vvv\n2. -vvvv\n3. -k, -K\n4. -c\n5. &ndash;connection\n6. &ndash;sftp-extra-args\n7. &ndash;scp-extra-args\n8. &ndash;ask-vault-password\n9. &ndash;step\n\nPlease refer the ansible-playbook documentation here\nhttps://docs.ansible.com/ansible/latest/cli/ansible-playbook.html for the list of other supported command line options.\n&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;Command Line Arguments&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;CommandLineArguments&rdquo;,<br>
      &ldquo;Required&rdquo;: false,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;EnumList&rdquo;: [],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;Secure&rdquo;: false,<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
      }<br>
    }<br>
  ],<br>
  &ldquo;InputParameterSet&rdquo;: [],<br>
  &ldquo;Label&rdquo;: &ldquo;Chander-Ansible-UserCase&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;Chander-Ansible-UserCase&rdquo;,<br>
  &ldquo;OutputDefinition&rdquo;: [],<br>
  &ldquo;OutputParameters&rdquo;: null,<br>
  &ldquo;Properties&rdquo;: {<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkflowProperties&rdquo;,<br>
    &ldquo;Cloneable&rdquo;: true,<br>
    &ldquo;EnableDebug&rdquo;: false,<br>
    &ldquo;ExternalMeta&rdquo;: true,<br>
    &ldquo;Retryable&rdquo;: false,<br>
    &ldquo;RollbackOnFailure&rdquo;: false,<br>
    &ldquo;SupportStatus&rdquo;: &ldquo;Supported&rdquo;<br>
  },<br>
  &ldquo;Tasks&rdquo;: [<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.StartTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
      &ldquo;NextTask&rdquo;: &ldquo;InvokeAnsiblePlaybook1&rdquo;<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes Ansible Playbook against the given endpoint. This task can be executed on targets added as Ansible Endpoint in Intersight.\n&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke Ansible Playbook - Install Package&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokeAnsiblePlaybook1&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;AnsibleController&rdquo;: {<br>
          &ldquo;Moid&rdquo;: &ldquo;6172a1be6f72612d31cd4908&rdquo;,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;asset.Target&rdquo;<br>
        },<br>
        &ldquo;CommandLineArguments&rdquo;: &ldquo;${workflow.input.CommandLineArguments}&rdquo;,<br>
        &ldquo;HostInventory&rdquo;: &ldquo;${workflow.input.HostInventory}&rdquo;,<br>
        &ldquo;PlaybookPath&rdquo;: &ldquo;${workflow.input.InstallPackage}&rdquo;<br>
      },<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;InvokeSshCommands2&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5c2fc884696f6e2d316c5d59&rdquo;,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;617b9248696f6e2d30c2fc95&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokeAnsiblePlaybook&rdquo;,<br>
      &ldquo;Version&rdquo;: 1<br>
    },<br>
    {<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes SSH commands against the given endpoint. This task can be executed on targets added as SSH Endpoint in Intersight.\n&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke SSH Commands - Ansible Play logs 1&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands2&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;ResponseParser&rdquo;: {<br>
          &ldquo;Parameters&rdquo;: [<br>
            {<br>
              &ldquo;Name&rdquo;: &ldquo;VersionOnNode1&rdquo;,<br>
              &ldquo;RegexLine&rdquo;: &ldquo;10.106.*?\\\&ldquo;changed\\\&rdquo;:.*?\\\&ldquo;stderr\\\&rdquo;:\\s\\\&quot;$&lt;VersionOnNode1&gt;\\\&rdquo;,&rdquo;,<br>
              &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
            },<br>
            {<br>
              &ldquo;Name&rdquo;: &ldquo;VersionOnNode2&rdquo;,<br>
              &ldquo;RegexLine&rdquo;: &ldquo;10.105.*?\\\&ldquo;changed\\\&rdquo;:.*?\\\&ldquo;stderr\\\&rdquo;:\\s\\\&quot;$&lt;VersionOnNode2&gt;\\\&rdquo;,&rdquo;,<br>
              &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
            }<br>
          ]<br>
        },<br>
        &ldquo;ShowCommandOutput&rdquo;: true,<br>
        &ldquo;SshCommand&rdquo;: {<br>
          &ldquo;Command&rdquo;: &ldquo;cat {{.global.InvokeAnsiblePlaybook1.output.ExecutionLogPath}}&rdquo;,<br>
          &ldquo;CommandType&rdquo;: &ldquo;NonInteractiveCmd&rdquo;<br>
        },<br>
        &ldquo;Target&rdquo;: {<br>
          &ldquo;Moid&rdquo;: &ldquo;617664826f72612d31ce8bae&rdquo;,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;asset.Target&rdquo;<br>
        }<br>
      },<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5c2fc884696f6e2d316c5d59&rdquo;,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;6172c602696f6e2d30d270a5&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokeSshCommands&rdquo;,<br>
      &ldquo;Version&rdquo;: 1<br>
    }<br>
  ],<br>
  &ldquo;UiInputFilters&rdquo;: [],<br>
  &ldquo;UiRenderingData&rdquo;: {<br>
    &ldquo;Positions&rdquo;: [<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
        &ldquo;X&rdquo;: 263.5,<br>
        &ldquo;Y&rdquo;: 40.5<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 281.33331298828125,<br>
        &ldquo;Y&rdquo;: 398.4323780336132<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 451.833251953125,<br>
        &ldquo;Y&rdquo;: 388.4387670304674<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokeAnsiblePlaybook1&rdquo;,<br>
        &ldquo;X&rdquo;: 178.5,<br>
        &ldquo;Y&rdquo;: 117<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands2&rdquo;,<br>
        &ldquo;X&rdquo;: 176.83331298828125,<br>
        &ldquo;Y&rdquo;: 215.1672194151248<br>
      }<br>
    ]<br>
  },<br>
  &ldquo;Version&rdquo;: 1,<br>
  &ldquo;Catalog&rdquo;: {<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.Catalog&rdquo;,<br>
    &ldquo;Moid&rdquo;: &ldquo;5efbdb7e696f6e2d303fda29&rdquo;,<br>
    &ldquo;link&rdquo;: &ldquo;<a href="https://intersight.com/api/v1/workflow/Catalogs/5efbdb7e696f6e2d303fda29%22">https://intersight.com/api/v1/workflow/Catalogs/5efbdb7e696f6e2d303fda29&quot;</a><br>
  },<br>
  &ldquo;WorkflowMetadata&rdquo;: null<br>
}</p>
<p><span id="_Refd24e14025" class="anchor"></span>Executors – Invoke
Ansible Playbook - Reusable Task</p>
<p>Intersight Cloud Orchestrator allows workflow designers to run Ansible
Playbook on the Ansible Controller node using the <strong>Invoke Ansible
Playbook</strong> reusable task in the workflow.</p>
<p>For more inforormation on Invoke Ansible Playbook - Embedded Task, see
<a href="file://E:%5Chelp%5Cresources%5CExecutor_Ansible">Invoke Ansible Playbook - Embedded
Task</a>.</p>
<p>Supported Targets</p>
<p>The Invoke Ansible Playbook task can be run only on the targets that are
added as an Ansible Endpoint target type in Cisco Intersight.</p>
<p>The <strong>Invoke Ansible Playbook</strong> task is executed as an orchestrator task
and does not include the management of the Ansible Controller node.</p>
<p>To run the Ansible Playbook task on the Ansible Controller node from
Cisco Intersight, ensure that:</p>
<ul>
<li>
<p>The Ansible target is reachable through Intersight Assist when
hosted on the customer premises.</p>
</li>
<li>
<p>The Ansible Playbook modules and Ansible Playbook executables
required to run the playbooks are already installed on the Ansible
Controller node.</p>
</li>
<li>
<p>The Ansible Controller node has password-less SSH access to the
hosts.</p>
</li>
<li>
<p>The Ansible Controller node can resolve the endpoint hostnames if
the Ansible Host Inventory file specifies the hostnames.</p>
</li>
</ul>
<p>For more information on Intersight Target Claim, see <a href="file://E:%5Chelp%5Cgetting_started%5Cclaim_targets">Target Claim Using
Intersight Assist</a>.</p>
<p>Using the Executor Ansible Playook Reusable Task</p>
<p>Use the <strong>Invoke Ansible Playbook</strong> from the <strong>Executors</strong> section in
the Intersight Orchestrator Task Designer UI to create a Invoke Ansible
Playbook reusable task.</p>
<p>For more information on tasks, see <a href="file://E:%5Chelp%5Cresources%5CTask_Designer">Defining a
Task</a>.</p>
<p>The following table explains the Invoke Ansible Playbook task
properties:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General</td>
<td>For more information, see <a href="file://E:\\help\\resources\\Task_Designer">Defining a Task</a>.</td>
</tr>
<tr class="even">
<td>Inputs</td>
<td><p>Ansible Controller—The target on which the Ansible Playbook task is run. By default, the Ansible Controller task input is created for the task.</p>
<p>The Ansible Playbook target must be in the Connected state.</p></td>
</tr>
<tr class="odd">
<td>Outputs</td>
<td><p>To extract the required values from the command responses and map it to task outputs, do the following:</p>
<ol type="1">
<li><p>Create Task Output—Specify the task output.</p></li>
<li><p>Map to Task Output—Check the check box to map the task output to an command response.</p></li>
<li><p>Task Output—Select the command response to which the task output is mapped. The options available are:</p></li>
</ol>
<ul>
<li><p><em>Exit Code | Invoke Ansible Playbook</em></p></li>
<li><p><em>Execution Summary | Invoke Ansible Playbook</em></p></li>
<li><p><em>Execution Log Path | Invoke Ansible Playbook</em></p></li>
</ul>
<p>For example, if you create two task outputs <em>Exitcode</em> and <em>Logapth</em> and map it to <em>Exit Code | Invoke Ansible Playbook</em> and <em>Execution Log Path | Invoke Ansible Playbook</em> respectively, after the workflow is executed, the output will show:</p></td>
</tr>
</tbody>
</table>
<p>The following table explains the Invoke Ansible Playbook executor input:</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Playbook Path</td>
<td><p>The path of the Ansible Playbook file that resides on the Ansible Controller node added as Ansible Endpoint target in Intersight.</p>
<ul>
<li><p>Static Value—The path of the Ansible Playbook.</p></li>
<li><p>Direct Mapping—Select an existing task input or task output field.</p></li>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Host Inventory</td>
<td><p>The path of the host inventory file that resides on the Ansible Controller or a comma-separated list of hosts on which the Ansible Playbook task is run.</p>
<ul>
<li><p>Static Value—The path of the host inventory file that resides on the Ansible Controller or a comma-separated list of hosts.</p></li>
</ul>
<ul>
<li><blockquote>
<p>For example, you can enter the hostname as root@10.10.10.10,</p>
</blockquote></li>
</ul>
<blockquote>
<p><strong>Note:</strong> The hostname must be suffixed with a comma (,).</p>
</blockquote>
<ul>
<li><p>Direct Mapping—Select the path from the task input or task output.</p></li>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Command Timeout</td>
<td><p>The command timeout in seconds for the execution of the Ansible Playbook. The range is 10 to 7200 seconds.</p>
<p>The default timeout is 600 seconds.</p>
<ul>
<li><p>Static Value—The command timeout in seconds.</p></li>
<li><p>Direct Mapping—Select the command timeout from the task input or task output.</p></li>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Command Line Argument</td>
<td><p>The optional command line arguments required to run the Ansible playbook.</p>
<ul>
<li><p>Static Value—The command line argument.</p></li>
<li><p>Direct Mapping—Select the input from the task input or task output.</p></li>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul>
<p><strong>Note:</strong> For Invoke Ansible Playbook - Reusable Task, escape character backslash(\) is not necessary when the command line arguments contain double quotes(").</p>
<p>The following command line options are not supported by the Ansible Playbook task.</p>
<ul>
<li><p>-vvv</p></li>
<li><p>-vvvv</p></li>
<li><p>-k, -K</p></li>
<li><p>-c</p></li>
<li><p>--connection</p></li>
<li><p>--sftp-extra-args</p></li>
<li><p>--scp-extra-args</p></li>
<li><p>--ask-vault-password</p></li>
<li><p>--step</p></li>
</ul>
<ul>
<li><blockquote>
<p>For information on the available command line arguments, see <a href="https://docs.ansible.com/ansible/latest/cli/ansible-playbook.html">https://docs.ansible.com/ansible/latest/cli/ansible-playbook.html</a>.</p>
</blockquote></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the Ansible Playbook executor Outputs:</p>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Exit Code</td>
<td>The exit code after the execution of the Ansible Playbook against the given endpoint.</td>
</tr>
<tr class="even">
<td>Execution Summary</td>
<td>The summary after the execution of Ansible Playbook against the given endpoint.</td>
</tr>
<tr class="odd">
<td>Execution Log Path</td>
<td>The Ansible execution log path on the Ansible Control node after the execution of Ansible Playbook against the given endpoint.</td>
</tr>
</tbody>
</table>
<p>The following table explains the Invoke Ansible Playbook task Outcomes:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Outcomes</td>
<td><p>To set the custom execution status and status message based on the obtained outputs, do the following:</p>
<ol type="1">
<li><p>Click Add Outcome.</p></li>
<li><p>Name—The name for the outcome.</p></li>
<li><p>Outcome Type—Select the outcome type. The options available are Success, Skip To Success, Error, Terminal Error, Skip Task Execution, or Status.</p></li>
</ol>
<ol start="32" type="1">
<li><p>For more information on Outcomes, see <a href="file://E:\\help\\resources\\Task_Designer">Outcomes</a>.</p></li>
</ol>
<ol start="4" type="1">
<li><p>Message—The message when the condition is met.</p></li>
<li><p>Condition—The condition for the outcome.</p></li>
</ol>
<ol start="33" type="1">
<li><p>For example, {{eq .global.InvokeAnsiblePlaybook1.output.ExitCode "0"}}.</p></li>
<li><p>This condition checks whether the output `ExitCode` of the executor named `InvokeAnsiblePlaybook1` equals to 0. If the condition is true, the task status is set to the value provided in `Outcome Type` and task status message is set to value provided in `Message`.</p></li>
</ol></td>
</tr>
</tbody>
</table>
<p>Template Parameters</p>
<p>The request body template can refer to values from task inputs, previous
task outputs, or implicit parameters. The following table explains the
template parameters.</p>
<table>
<colgroup>
<col style="width: 67%" />
<col style="width: 32%" />
</colgroup>
<thead>
<tr class="header">
<th>Prefix/Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{.global.task.input.&lt;ParameterName&gt;}}</td>
<td>Task input reference.</td>
</tr>
<tr class="even">
<td>{{.global.&lt;ExecutorRefName&gt;.output.&lt;ParameterName&gt;}}</td>
<td>Previous executor output reference. <strong>ExecutorRefName</strong> is the name of the previous executor having output <strong>ParameterName</strong>.</td>
</tr>
<tr class="odd">
<td>{{.security.AccountMoid}}</td>
<td>Implicit parameter reference to Account MoID under which the workflow is running.</td>
</tr>
<tr class="even">
<td>{{.security.OrganizationMoid}}</td>
<td>Implicit parameter reference to Organization MoID under which the workflow is running.</td>
</tr>
</tbody>
</table>
<p>Template Functions</p>
<p>The template engine has in-built functions to transform values before
they are populated in the request templates. The following table
explains the functions supported in <strong>Invoke SSH Commands</strong> task.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TrimSpace</td>
<td><p>Returns a string after removing white spaces from a the string.</p>
<p>Example:</p>
<p>{{TrimSpace .global.task.input.HostName}}</p></td>
</tr>
<tr class="even">
<td>ContainsString</td>
<td><p>Returns a boolean if a substring is present in a given string.</p>
<p>Example:</p>
<p>{{if (ContainsString .global.task.input.SizeAsString \”MB\”)}}Mega Bytes{{else}}Bytes{{end}}</p></td>
</tr>
<tr class="odd">
<td>FindAllString</td>
<td><p>Returns a slice of substrings matching the regular expression in a given string.</p>
<p>Example:</p>
<p>{{(FindAllString .global.task.input.NumberString \”([0-9]+)\”)}}</p>
<p>The above example returns array [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="even">
<td>ToJson</td>
<td><p>Converts a value to a JSON format.</p>
<p>Example:</p>
<p>{{(FindAllString .global.task.input.NumberString \"([0-9]+)\") | ToJson}}</p>
<p>The above example returns JSON array literal [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="odd">
<td>AsArray</td>
<td><p>Takes in an element and returns an array of one element.</p>
<p>Example:</p>
<p>{{AsArray .global.task.output.serverMo}}</p>
<p>The above example returns an array of one server Mo.</p></td>
</tr>
<tr class="even">
<td>Substring</td>
<td><p>Returns a substring within the given index bounds.</p>
<p>Example:</p>
<p>{{Substring .global.task.input.StorageId 2 6}}</p>
<p>The above example returns “ABCD” for string “12ABCD3456.”</p></td>
</tr>
<tr class="odd">
<td>IpToCidr</td>
<td><p>Returns the classless inter-domain routing (CIDR) notation of an IPv4 address and subnet mask.</p>
<p>Example:</p>
<p>{{IpToCidr .global.task.input.Ip .global.task.input.Netmask}}</p>
<p>The above example returns “10.10.10.10/24” for the input parameters “10.10.10.10” and “255.255.255.0.”</p></td>
</tr>
<tr class="even">
<td>LookupInSlice</td>
<td><p>Checks if a given value is present in given slice or array and returns true if it exists. This function can be used for any value.</p>
<p>Example:</p>
<p>{{LookupInSlice .global.task.input.IpAddressList \”10.10.10.10\”}}</p>
<p>The above example returns true for input [”10.10.10.10”, “20.20.20.20”].</p></td>
</tr>
<tr class="odd">
<td>Index</td>
<td><p>Returns a value from an array when an input index exists.</p>
<p>Example:</p>
<p>{{ index .global.task.input.nodes .global.task.input.idx }} </p>
<p>In the above example, if nodes is an array of devices and idx is 2, the index function returns the second device in the array.</p></td>
</tr>
<tr class="even">
<td>Itob</td>
<td><p>Converts an integer to a boolean.</p>
<p>Example:</p>
<p>{{ Itob global.task.input.OnOffFlip }} </p>
<p>The above example returns true and false for inputs 1 and 0 respectively.</p></td>
</tr>
<tr class="odd">
<td>Itoa</td>
<td><p>Converts a given number to a string value.</p>
<p>Example:</p>
<p>{{ Itoa global.task.input.Port }} </p>
<p>The above example returns “12345” for input 12345.</p></td>
</tr>
<tr class="even">
<td>Itof</td>
<td><p>Converts a given integer to a float value.</p>
<p>Example:</p>
<p>{{ Itof global.task.input.Rate }}</p>
<p>The above example returns 15.0 for an input 15.</p></td>
</tr>
<tr class="odd">
<td>Btoa</td>
<td><p>Converts a given boolean to a string value.</p>
<p>Example:</p>
<p>{{ Btoa global.task.input.OnOffFlip }}</p>
<p>The above example returns “true” for input true.</p></td>
</tr>
<tr class="even">
<td>Btoi</td>
<td><p>Converts a given boolean to a integer value.</p>
<p>Example:</p>
<p>{{ Btoi global.task.input.OnOffFlip }}</p>
<p>The above example returns 1 and 0 for inputs true and false respectively.</p></td>
</tr>
<tr class="odd">
<td>Atob</td>
<td><p>Converts the given string into a boolean value.</p>
<p>Example:</p>
<p>{{ Atob global.task.input.OnOffFlip }}Returns true for input “true”</p></td>
</tr>
<tr class="even">
<td>Atoi</td>
<td><p>Converts a given number in string format to the integer type.</p>
<p>Example:</p>
<p>{{Atoi .global.task.input.SizeString}} returns integer 2048 for input string “2048”</p></td>
</tr>
<tr class="odd">
<td>Ftoa</td>
<td><p>Converts a given number into the string form based on the given precision.</p>
<p>Example:</p>
<p>{{Ftoa .global.task.input.Size 2}} returns the following output: 123.456 =&gt; “123.45”, 1028 =&gt; “1028.00”</p></td>
</tr>
<tr class="even">
<td>Ftoi</td>
<td><p>Converts a given float input to a integer value.</p>
<p>Example:</p>
<p>{{ Ftoi global.task.input.Rate }}</p>
<p>The above example returns 15 for an input 15.833.</p></td>
</tr>
<tr class="odd">
<td>Eval</td>
<td><p>Supports an expression evaluation function. The below example returns 2GB for a input value of 2048. Note that the second argument is passed as ‘.’ in the template, which represents the map of all parameters.</p>
<p>{{Eval \"{{.global.task.input.Size}} / 1024\" .}}GB</p></td>
</tr>
</tbody>
</table>
<p>Template Engine Syntax</p>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}</p>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}</p>
<p>Invoke Ansible Playbook Reusable Task Example</p>
<p><strong>Example: Create a reusable task to run Ansible Playbook on the hosts</strong></p>
<p>This example task runs on an Intersight Ansible Playbook controller. In
this task, the Ansible Playbook path and host inventory list fields are
provided by the task input fields.</p>
<p>The task properties required for this example are as following:</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General</td>
<td><ul>
<li><p>Organization—The organization that you are creating the task in.</p></li>
<li><p>Display Name—A user friendly short name to identify the task definition.</p></li>
<li><p>Reference Name—The name of the Task definition.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Inputs</td>
<td><ul>
<li><p>Ansible Controller—By default, the Ansible Controller task input is created for the task.</p>
<ul>
<li><p>Reference Name—AnsibleController</p></li>
<li><p>Type—Target Data Type</p></li>
</ul></li>
<li><p>Playbook Path—The user defined task input for the path of the Ansible Playbook.</p>
<ul>
<li><p>Reference Name—PlaybookPath</p></li>
<li><p>Type—String</p></li>
</ul></li>
<li><p>Host Inventory—The user defined task input for the path of the host inventory file.</p>
<ul>
<li><p>Reference Name—HostInventory</p></li>
<li><p>Type—String</p></li>
</ul></li>
</ul></td>
</tr>
<tr class="odd">
<td>Outputs</td>
<td><ul>
<li><p>ExitCode—Task output</p>
<ul>
<li><p>Reference Name—ExitCode</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Exit Code | Invoke Ansible Playbook</em></p></li>
</ul></li>
<li><p>Summary—Task output</p>
<ul>
<li><p>Reference Name—Summary</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Execution Summary | Invoke Ansible Playbook</em></p></li>
</ul></li>
<li><p>Logpath—Task output</p>
<ul>
<li><p>Reference Name—Logpath</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Execution Log Path | Invoke Ansible Playbook</em></p></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the Invoke Ansible Playbook executor
inputs:</p>
<table>
<colgroup>
<col style="width: 27%" />
<col style="width: 72%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Playbook Path</td>
<td>Direct Mapping—{{.global.task.input.PlaybookPath}}</td>
</tr>
<tr class="even">
<td>Host Inventory</td>
<td>Direct Mapping—{{.global.task.input.HostInventory}}</td>
</tr>
<tr class="odd">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="even">
<td>Command Line Argument</td>
<td><p>Static—-vv</p>
<p>Command line argument --vv is for the Ansible execution log verbosity.</p></td>
</tr>
</tbody>
</table>
<p><span id="_Refd24e15533" class="anchor"></span>Executors – Invoke SSH
Commands - Embedded Task</p>
<p>Intersight Cloud Orchestrator allows workflow designers to run commands
over SSH by using the <strong>Invoke SSH Commands</strong> task in the workflows. The
<strong>Invoke SSH Commands</strong> task is an out-of-box solution that allows you
to automate operations on the SSH targets. This feature allows a
workflow designer to extend the automation capabilities of the workflow
engine beyond what is natively available in the task library and
interact with the SSH target.</p>
<p>The <strong>Invoke SSH Commands</strong> task executes SSH commands against the given
Intersight SSH endpoint target.</p>
<p>Supported Targets</p>
<p>The Invoke SSH Commands task can be run only on the targets that are
added as an SSH or Ansible endpoint target type in Cisco Intersight.</p>
<p>To run the SSH Command task on the SSH endpoint target from Cisco
Intersight, ensure that:</p>
<ul>
<li>
<p>The endpoint is reachable through Intersight Assist.</p>
</li>
<li>
<p>The endpoint target is in the Connected state.</p>
</li>
<li>
<p>The endpoint credentials are valid.</p>
</li>
</ul>
<p>For more information on Intersight Target Claim, see <a href="file://E:%5Chelp%5Cgetting_started%5Cclaim_targets">Target Claim Using
Intersight Assist</a>.</p>
<p>Using the Invoke SSH Commands task</p>
<p>Use the <strong>Invoke SSH Commands</strong> from the <strong>Executors</strong> section in the
Workflow Designer UI to create a task to invoke SSH commands on a
target.</p>
<p>The following table explains the task Input properties:</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><p>The external SSH endpoint target on which the SSH commands task is run.</p>
<p>The SSH target must be in the Connected state.</p>
<p>You can specify the external target as:</p>
<ul>
<li><p>Static Value—Click Select External Target to select an SSH target from the Intersight target inventory.</p></li>
<li><p>Direct Mapping—Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>SSH Command</td>
<td><p>The SSH commands that need to be executed on the remote server along with the details of command type.</p>
<p>Command— The SSH command string to execute against the given target. You need to specify only the command string.</p>
<p>You can specify multiple commands that need to run on the given target. For more information, see <a href="file://E:\\help\\resources\\Executor_SSH">Using SSH Commands</a> .</p>
<p><strong>Note:</strong> The command chaining is allowed only when the command type is non-interactive.</p>
<ul>
<li><p>Static Value—The SSH commands that are to be run on the remote server.</p>
<ul>
<li><p>Non-Interactive Command—The SSH command that does not require user prompts.</p></li>
<li><p>Interactive Command—The SSH commands that require user prompts. For example, the Sudo or install packages command prompts for the user inputs. To specify the user inputs for the command, do the following:</p>
<ul>
<li><p>Expect —The regular expression of the expect prompt of the interactive command. You must provide the complete regular expression of the Expect string and the expression must end with the special character '$' to match the end of the Expect string.</p></li>
<li><p>Send—The answer string to the expect prompt. You can specify a string value or a workflow input.</p></li>
<li><p>End prompt—The regular expression of the Shell Prompt of the remote server or target. You must provide the complete regular expression of the Shell Prompt and it must end with special character '$' to match the end of the Shell Prompt string.</p></li>
</ul></li>
</ul></li>
<li><p>Direct Mapping—Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Command Timeout</td>
<td><p>The command timeout in seconds for the execution of the command against the given endpoint. The range is 10 to 7200 seconds.</p>
<p>The default timeout value is 600 seconds.</p>
<ul>
<li><p>Static Value—The command timeout in seconds for the execution of the command against the given target.</p></li>
<li><p>Direct Mapping——Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Expected Exit Codes</td>
<td><p>The list of expected exit codes for the SSH command that is run by the task. Task status is set to Success if the obtained exit code is present in the list of expected exit codes.</p>
<p>If this input is not specified, then the default exit code is 0 and is used to determine the status of command execution.</p>
<ul>
<li><p>Static Value—The exit code for the SSH command that is run by the task.</p></li>
<li><p>Direct Mapping—Select the expected exit codes from the workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Show Command Output</td>
<td><p>Set this value to True if the entire command response needs to be displayed as part of the task output.</p>
<p>This default value is False.</p>
<ul>
<li><p>Static Value—Select the Show Command Output check box to display the entire command response as a part of the task output.</p></li>
<li><p>Direct Mapping—Select a Workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>The response parser specification which is used to extract the values from the command response.</p>
<ul>
<li><p>Static Value</p>
<ul>
<li><p>Regular Expression—The regular expression of the line in the command response where the interested capture value resides. The format to specify the capture value in this input is '$&lt;Name of the parameter&gt;'. For example, if we need to capture <em>'intersight'</em> in the sample response 'intersight@cisco.com', the regular expression looks like $&lt;Name&gt;\@cisco\.com where '<em>Name</em>' is the name given to this captured parameter.</p></li>
<li><p>Name—The name of the output under which the captured value is saved. This name should be the same that is provided in the Regular Expression—$&lt;Name&gt;.</p></li>
<li><p>Type—The response parameter type—String, Integer, Float, or Boolean.</p></li>
</ul>
<ul>
<li><blockquote>
<p>The default value is String.</p>
</blockquote></li>
</ul></li>
<li><p>Direct Mapping—Select a Workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul>
<p>For more information, see <a href="file://E:\\help\\resources\\Executor_SSH">Response Parser</a>.</p></td>
</tr>
</tbody>
</table>
<p>The following table explains the task Output properties:</p>
<table>
<colgroup>
<col style="width: 23%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Exit Code</td>
<td>The exit code after the execution of the command against the given endpoint.</td>
</tr>
<tr class="even">
<td>Command Output</td>
<td><p>The complete response after the execution of the command against the given endpoint.</p>
<p>The output is displayed only if the task input parameter Show Command Output is set to True.</p></td>
</tr>
<tr class="odd">
<td>Command Execution Error</td>
<td>Captures the error encountered while executing the command.</td>
</tr>
<tr class="even">
<td>Extracted Parameters</td>
<td>The response parser extracted outputs from the command execution response.</td>
</tr>
</tbody>
</table>
<p>Using SSH Commands</p>
<p>You can specify multiple commands that need to run on the given target
by chaining the commands with special characters. The following table
explains the operators.</p>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="header">
<th>Operators</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&amp;&amp; (Logical AND)</td>
<td>The command following this operator will only execute if the command preceding this operator has been successfully executed.</td>
</tr>
<tr class="even">
<td>; (Semi-colon)</td>
<td>The command following this operator will execute even if the command preceding this operator is not successfully executed.</td>
</tr>
<tr class="odd">
<td>|| ( Logical OR)</td>
<td>The command succeeding this operator is only executed if the command preceding it has failed.</td>
</tr>
<tr class="even">
<td>| (Pipe)</td>
<td>The output of the first command acts as input to the second command.</td>
</tr>
<tr class="odd">
<td>! (NOT)</td>
<td>Negates an expression within a command. It is much like an “except” statement.</td>
</tr>
<tr class="even">
<td>&gt;,&gt;&gt;, &lt; (Redirection)</td>
<td>Redirects the output of a command or a group of commands to a file or stream.</td>
</tr>
</tbody>
</table>
<p>Template Parameters</p>
<p>The request body template can refer to values from workflow inputs,
previous task outputs, or implicit parameters. The following table
explains the template parameters.</p>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="header">
<th>Prefix/Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{.global.workflow.input.&lt;ParameterName&gt;}}</td>
<td>Workflow input reference.</td>
</tr>
<tr class="even">
<td>{{.global.&lt;TaskRefName&gt;.output.<br />
Parameters.&lt;ParameterName&gt;}}</td>
<td>Previous task output reference. <strong>TaskRefName</strong> is the name of the previous task having output <strong>ParameterName</strong>.</td>
</tr>
<tr class="odd">
<td>{{.security.AccountMoid}}</td>
<td>Implicit parameter reference to Account MoID under which the workflow is running.</td>
</tr>
<tr class="even">
<td>{{.security.OrganizationMoid}}</td>
<td>Implicit parameter reference to Organization MoID under which the workflow is running.</td>
</tr>
</tbody>
</table>
<p>Template Functions</p>
<p>The template engine has in-built functions to transform values before
they are populated in the request templates. The following table
explains the functions supported in <strong>Invoke SSH Command</strong> task.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TrimSpace</td>
<td><p>Returns a string after removing white spaces from a the string.</p>
<p>Example:</p>
<p>{{TrimSpace .global.workflow.input.HostName}}</p></td>
</tr>
<tr class="even">
<td>ContainsString</td>
<td><p>Returns a boolean if a substring is present in a given string.</p>
<p>Example:</p>
<p>{{if (ContainsString .global.workflow.input.SizeAsString \”MB\”)}}Mega Bytes{{else}}Bytes{{end}}</p></td>
</tr>
<tr class="odd">
<td>FindAllString</td>
<td><p>Returns a slice of substrings matching the regular expression in a given string.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \”([0-9]+)\”)}}</p>
<p>The above example returns array [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="even">
<td>ToJson</td>
<td><p>Converts a value to a JSON format.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \"([0-9]+)\") | ToJson}}</p>
<p>The above example returns JSON array literal [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="odd">
<td>AsArray</td>
<td><p>Takes in an element and returns an array of one element.</p>
<p>Example:</p>
<p>{{AsArray .global.workflow.output.serverMo}}</p>
<p>The above example returns an array of one server Mo.</p></td>
</tr>
<tr class="even">
<td>Substring</td>
<td><p>Returns a substring within the given index bounds.</p>
<p>Example:</p>
<p>{{Substring .global.workflow.input.StorageId 2 6}}</p>
<p>The above example returns “ABCD” for string “12ABCD3456.”</p></td>
</tr>
<tr class="odd">
<td>IpToCidr</td>
<td><p>Returns the classless inter-domain routing (CIDR) notation of an IPv4 address and subnet mask.</p>
<p>Example:</p>
<p>{{IpToCidr .global.workflow.input.Ip .global.workflow.input.Netmask}}</p>
<p>The above example returns “10.10.10.10/24” for the input parameters “10.10.10.10” and “255.255.255.0.”</p></td>
</tr>
<tr class="even">
<td>LookupInSlice</td>
<td><p>Checks if a given value is present in given slice or array and returns true if it exists. This function can be used for any value.</p>
<p>Example:</p>
<p>{{LookupInSlice .global.workflow.input.IpAddressList \”10.10.10.10\”}}</p>
<p>The above example returns true for input [”10.10.10.10”, “20.20.20.20”].</p></td>
</tr>
<tr class="odd">
<td>Index</td>
<td><p>Returns a value from an array when an input index exists.</p>
<p>Example:</p>
<p>{{ index .global.workflow.input.nodes .global.workflow.input.idx }} </p>
<p>In the above example, if nodes is an array of devices and idx is 2, the index function returns the second device in the array.</p></td>
</tr>
<tr class="even">
<td>Itob</td>
<td><p>Converts an integer to a boolean.</p>
<p>Example:</p>
<p>{{ Itob global.workflow.input.OnOffFlip }} </p>
<p>The above example returns true and false for inputs 1 and 0 respectively.</p></td>
</tr>
<tr class="odd">
<td>Itoa</td>
<td><p>Converts a given number to a string value.</p>
<p>Example:</p>
<p>{{ Itoa global.workflow.input.Port }} </p>
<p>The above example returns “12345” for input 12345.</p></td>
</tr>
<tr class="even">
<td>Itof</td>
<td><p>Converts a given integer to a float value.</p>
<p>Example:</p>
<p>{{ Itof global.workflow.input.Rate }}</p>
<p>The above example returns 15.0 for an input 15.</p></td>
</tr>
<tr class="odd">
<td>Btoa</td>
<td><p>Converts a given boolean to a string value.</p>
<p>Example:</p>
<p>{{ Btoa global.workflow.input.OnOffFlip }}</p>
<p>The above example returns “true” for input true.</p></td>
</tr>
<tr class="even">
<td>Btoi</td>
<td><p>Converts a given boolean to a integer value.</p>
<p>Example:</p>
<p>{{ Btoi global.workflow.input.OnOffFlip }}</p>
<p>The above example returns 1 and 0 for inputs true and false respectively.</p></td>
</tr>
<tr class="odd">
<td>Atob</td>
<td><p>Converts the given string into a boolean value.</p>
<p>Example:</p>
<p>{{ Atob global.workflow.input.OnOffFlip }}Returns true for input “true”</p></td>
</tr>
<tr class="even">
<td>Atoi</td>
<td><p>Converts a given number in string format to the integer type.</p>
<p>Example:</p>
<p>{{Atoi .global.task.input.SizeString}} returns integer 2048 for input string “2048”</p></td>
</tr>
<tr class="odd">
<td>Ftoa</td>
<td><p>Converts a given number into the string form based on the given precision.</p>
<p>Example:</p>
<p>{{Ftoa .global.task.input.Size 2}} returns the following output: 123.456 =&gt; “123.45”, 1028 =&gt; “1028.00”</p></td>
</tr>
<tr class="even">
<td>Ftoi</td>
<td><p>Converts a given float input to a integer value.</p>
<p>Example:</p>
<p>{{ Ftoi global.workflow.input.Rate }}</p>
<p>The above example returns 15 for an input 15.833.</p></td>
</tr>
<tr class="odd">
<td>Eval</td>
<td><p>Supports an expression evaluation function. The below example returns 2GB for a input value of 2048. Note that the second argument is passed as ‘.’ in the template, which represents the map of all parameters.</p>
<p>{{Eval \"{{.global.workflow.input.Size}} / 1024\" .}}GB</p></td>
</tr>
</tbody>
</table>
<p>Template Engine Syntax</p>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}</p>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}</p>
<p>Response Parser</p>
<p>A response parser is a collection of parameters that model values to be
extracted from the SSH command response.</p>
<p><strong>Example: Create a response parser to get the IP address for a ping
command</strong></p>
<p>To get the IP address for the host such as <em><a href="https://www.example.com">www.example.com</a></em>, you can
use the ping command:</p>
<p>ping example.com -4<br>
Pinging example.com [<strong>93.184.216.34</strong>] with 32 bytes of data:<br>
Reply from 93.184.216.34: bytes=32 time=229ms TTL=53<br>
Reply from 93.184.216.34: bytes=32 time=230ms TTL=53<br>
Reply from 93.184.216.34: bytes=32 time=230ms TTL=53<br>
Reply from 93.184.216.34: bytes=32 time=229ms TTL=53ping example.com</p>
<p>To extract the IP address from the command output for an SSH Command
task, you can configure the response parser as:</p>
<ul>
<li>
<p>Regular Expression—Pinging\s+example.com\s+\[$&lt;IP&gt;\]\s+.*</p>
</li>
<li>
<p>Name—IP</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> This name should be the same that is provided in the Regular
Expression field. In the above example, the Regular Expression uses
name $&lt;IP&gt; so the Name specified must be &ldquo;IP&rdquo;.</p>
</blockquote>
<ul>
<li>Type—String</li>
</ul>
<p>SSH Command Task Examples</p>
<p><strong>Example 1: Create a workflow with SSH Command task to install VIM
package on a host using interactive SSH commands</strong></p>
<p>The example below shows the execution of a script to install the vim
package on a host. In this example, the shell prompt
qali@automationvm-15:~$ appears. When the sudo ./vimInstall.sh command
is run, the user is prompted for the sudo password using the prompt
[sudo] password for qali:. The user enters the correct sudo password
(Send/Answer string) and the installation process starts.</p>
<p>qali@automationvm-15:~$ sudo ./vimInstall.sh<br>
[sudo] password for qali:<br>
Reading package lists&hellip; Done<br>
Building dependency tree<br>
Reading state information&hellip; Done<br>
Suggested packages:<br>
ctags vim-doc vim-scripts<br>
The following NEW packages will be installed:<br>
vim<br>
0 upgraded, 1 newly installed, 0 to remove and 224 not upgraded.<br>
Need to get 1238 kB of archives.<br>
After this operation, 3111 kB of additional disk space will be used.<br>
Get:1 http://in.archive.ubuntu.com/ubuntu focal-updates/main amd64 vim amd64 2:8.1.2269-1ubuntu5.3 [1238 kB]<br>
Fetched 1238 kB in 18s (68.8 kB/s)<br>
Selecting previously unselected package vim.<br>
(Reading database &hellip; 296388 files and directories currently installed.)<br>
Preparing to unpack &hellip;/vim_2%3a8.1.2269-1ubuntu5.3_amd64.deb &hellip;<br>
Unpacking vim (2:8.1.2269-1ubuntu5.3) &hellip;<br>
Setting up vim (2:8.1.2269-1ubuntu5.3) &hellip;<br>
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vim (vim) in auto mode<br>
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vimdiff (vimdiff) in auto mode<br>
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rvim (rvim) in auto mode<br>
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/rview (rview) in auto mode<br>
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/vi (vi) in auto mode<br>
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/view (view) in auto mode<br>
update-alternatives: using /usr/bin/vim.basic to provide /usr/bin/ex (ex) in auto mode<br>
qali@automationvm-15:~$</p>
<p>To automate this task, you can create a workflow with a single Executor
Invoke SSH Command task. This task runs on an Intersight SSH Command
endpoint target. In this task, the Sudo password is provided by the
workflow input field, and the VM installation script is available in the
SSH endpoint target.</p>
<p>This workflow input field required for this example is as follows:</p>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="header">
<th>Workflow Input</th>
<th>Input Fields</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Sudo Password</td>
<td><ul>
<li><p>Reference Name—SudoPassword</p></li>
<li><p>Type—String</p></li>
<li><p>Secure option is selected. The values of these properties are encrypted and stored in Intersight.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table lists the SSH Command task properties:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td>The target on which the SSH commands are executed.</td>
</tr>
<tr class="even">
<td>SSH Command</td>
<td><p>Command—sudo ./vimInstall.sh</p>
<ul>
<li><p>Expect—The Expect string obtained while executing the SSH command is [sudo] password for qali:. You need to specify the Expect input as the regular expression of the Obtained prompt \[sudo\]\spassword\sfor\sqali:\s$.</p></li>
<li><p>Send—{{.global.workflow.input.SudoPassword}}</p></li>
<li><p>Shell Prompt—The shell prompt obtained before executing the SSH command is qali@automationvm-15:~$. You need to specify the regular expression of the obtained shell prompt qali\@automationvm-15:~\$\s$</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="even">
<td>Expected Exit Codes</td>
<td>Default value.</td>
</tr>
<tr class="odd">
<td>Show Command Output</td>
<td>Select Show Command Option check box.</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>When you run the sudo ./vimInstall.sh command, you get the following output:</p>
<p>...<br />
Reading state information... Done<br />
<strong>vim is already the newest version (2:8.1.2269-1ubuntu5.3).</strong><br />
The following package was automatically installed and is no longer required:<br />
libllvm11</p>
<p>To extracts the VM package version and display it, configure the response parser as:</p>
<ul>
<li><p>Regular Expression—vim.*\($&lt;VimPackageVersion&gt;\).</p></li>
<li><p>Name—VimPackageVersion</p></li>
</ul>
<ul>
<li><blockquote>
<p>Type—String</p>
</blockquote></li>
</ul>
<p>The response parser specified above, extracts the VM package version and displays it under the Extracted Parameters task output.</p>
<p>├── Extracted Parameters: [ 1 ]/<br />
│   └── VimPackageVersion:2:8.1.2269-1ubuntu5.3</p></td>
</tr>
</tbody>
</table>
<p>After you execute the workflow, the task output is:</p>
<p>.<br>
├── ConfigResults: [ 1 ]/<br>
│   └── Object: { 3 }/<br>
│       └── ConfigResCtx:{ 1 }/<br>
│           ├── EntityData: { 1 }/<br>
│           │   └── task: workflow.SshTask<br>
│           ├── State: Ok<br>
│           └── Type: Config<br>
├── Command Output:/<br>
│   ├── &hellip;<br>
│         vim is already the newest version (2:8.1.2269-1ubuntu5.3).<br>
│         The following package was automatically installed and is no longer required:<br>
│         libllvm11<br>
│         Use &lsquo;sudo apt autoremove&rsquo; to remove it.<br>
│         0 upgraded, 0 newly installed, 0 to remove and 59 not upgraded.<br>
├── Exit Code: 0<br>
└── Extracted Parameters: { 1 }/<br>
    └── <strong>VimPackageVersion: 2:8.1.2269-1ubuntu5.3</strong><br>
         </p>
<p>The following is a sample code view.</p>
<p>{<br>
  &ldquo;Catalog&rdquo;: {<br>
    &ldquo;Moid&rdquo;: &ldquo;5efbdb7e696f6e2d303fda29&rdquo;,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.Catalog&rdquo;,<br>
    &ldquo;link&rdquo;: &ldquo;<a href="https://intersight.com/api/v1/workflow/Catalogs/5efbdb7e696f6e2d303fda29%22">https://intersight.com/api/v1/workflow/Catalogs/5efbdb7e696f6e2d303fda29&quot;</a><br>
  },<br>
  &ldquo;DefaultVersion&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
  &ldquo;InputDefinition&rdquo;: [<br>
    {<br>
      &ldquo;Default&rdquo;: {<br>
        &ldquo;IsValueSet&rdquo;: false,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DefaultValue&rdquo;,<br>
        &ldquo;Override&rdquo;: false,<br>
        &ldquo;Value&rdquo;: null<br>
      },<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;DisplayMeta&rdquo;: {<br>
        &ldquo;InventorySelector&rdquo;: true,<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.DisplayMeta&rdquo;,<br>
        &ldquo;WidgetType&rdquo;: &ldquo;None&rdquo;<br>
      },<br>
      &ldquo;InputParameters&rdquo;: null,<br>
      &ldquo;Label&rdquo;: &ldquo;Sudo Password&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SudoPassword&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataType&rdquo;,<br>
      &ldquo;Properties&rdquo;: {<br>
        &ldquo;Constraints&rdquo;: {<br>
          &ldquo;EnumList&rdquo;: [],<br>
          &ldquo;Max&rdquo;: 0,<br>
          &ldquo;Min&rdquo;: 0,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;workflow.Constraints&rdquo;,<br>
          &ldquo;Regex&rdquo;: &quot;&rdquo;<br>
        },<br>
        &ldquo;InventorySelector&rdquo;: [],<br>
        &ldquo;ObjectType&rdquo;: &ldquo;workflow.PrimitiveDataProperty&rdquo;,<br>
        &ldquo;Secure&rdquo;: true,<br>
        &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
      },<br>
      &ldquo;Required&rdquo;: false<br>
    }<br>
  ],<br>
  &ldquo;InputParameterSet&rdquo;: [],<br>
  &ldquo;Label&rdquo;: &ldquo;SSH-Command-Task-Interactive&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;SSH-Command-Task-Interactive&rdquo;,<br>
  &ldquo;OutputDefinition&rdquo;: [],<br>
  &ldquo;OutputParameters&rdquo;: null,<br>
  &ldquo;Properties&rdquo;: {<br>
    &ldquo;Cloneable&rdquo;: true,<br>
    &ldquo;EnableDebug&rdquo;: false,<br>
    &ldquo;ExternalMeta&rdquo;: true,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkflowProperties&rdquo;,<br>
    &ldquo;Retryable&rdquo;: false,<br>
    &ldquo;RollbackOnFailure&rdquo;: false,<br>
    &ldquo;SupportStatus&rdquo;: &ldquo;Supported&rdquo;<br>
  },<br>
  &ldquo;Tags&rdquo;: [],<br>
  &ldquo;Tasks&rdquo;: [<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
      &ldquo;NextTask&rdquo;: &ldquo;InvokeSshCommands1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.StartTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5c2fc884696f6e2d316c5d59&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes SSH commands against the given target. This task can be executed on targets added as SSH Target in Intersight.\n&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;ResponseParser&rdquo;: {<br>
          &ldquo;Parameters&rdquo;: [<br>
            {<br>
              &ldquo;Name&rdquo;: &ldquo;VimPackageVersion&rdquo;,<br>
              &ldquo;RegexLine&rdquo;: &ldquo;vim.*\\($&lt;VimPackageVersion&gt;\\).&rdquo;,<br>
              &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
            }<br>
          ]<br>
        },<br>
        &ldquo;ShowCommandOutput&rdquo;: true,<br>
        &ldquo;SshCommand&rdquo;: {<br>
          &ldquo;Command&rdquo;: &ldquo;sudo ./vimInstall.sh&rdquo;,<br>
          &ldquo;CommandType&rdquo;: &ldquo;InteractiveCmd&rdquo;,<br>
          &ldquo;ExpectPrompts&rdquo;: [<br>
            {<br>
              &ldquo;Expect&rdquo;: &ldquo;\\[sudo\\]\\spassword\\sfor\\sqali:\\s$&rdquo;,<br>
              &ldquo;Send&rdquo;: &ldquo;{{.global.workflow.input.SudoPassword}}&rdquo;<br>
            }<br>
          ],<br>
          &ldquo;ShellPrompt&rdquo;: &ldquo;qali\\@automationvm-15:~\\$\\s$&rdquo;<br>
        },<br>
        &ldquo;Target&rdquo;: {<br>
          &ldquo;Moid&rdquo;: &ldquo;6177bcab6f72612d31fb23f5&rdquo;,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;asset.Target&rdquo;<br>
        }<br>
      },<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke SSH Commands&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;6172c602696f6e2d30d270a5&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokeSshCommands&rdquo;,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;Version&rdquo;: 1<br>
    }<br>
  ],<br>
  &ldquo;UiInputFilters&rdquo;: [],<br>
  &ldquo;UiRenderingData&rdquo;: {<br>
    &ldquo;Positions&rdquo;: [<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
        &ldquo;X&rdquo;: 263,<br>
        &ldquo;Y&rdquo;: 35<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 263,<br>
        &ldquo;Y&rdquo;: 194<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 405,<br>
        &ldquo;Y&rdquo;: 194<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands1&rdquo;,<br>
        &ldquo;X&rdquo;: 178,<br>
        &ldquo;Y&rdquo;: 106<br>
      }<br>
    ]<br>
  },<br>
  &ldquo;Version&rdquo;: 1,<br>
  &ldquo;WorkflowMetadata&rdquo;: null<br>
}</p>
<p><strong>Example 2: Create a workflow with SSH Command tasks to list the
folders and files in the current working directory on the host using
output mapping</strong></p>
<p>The following example workflow has two SSH command tasks. The first task
runs the pwd command on the SSH endpoint target and obtains the current
working directory in the output. The second task takes the workflow
output from the previous task and runs the ls -lrt command on the
extracted path on the endpoint target.</p>
<p>The following table lists the properties for the SSH Command Task 1:</p>
<table>
<colgroup>
<col style="width: 19%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td>The target on which the SSH commands are executed.</td>
</tr>
<tr class="even">
<td>SSH Command</td>
<td>Static | Non-interactive | Command—pwd</td>
</tr>
<tr class="odd">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="even">
<td>Expected Exit Codes</td>
<td>Default value.</td>
</tr>
<tr class="odd">
<td>Show Command Output</td>
<td>Select Show Command Option check box.</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>When you run the pwd command, you get the following output:</p>
<p>$pwd<br />
/home/user</p>
<p>To extracts the path and display it, configure the response parser as:</p>
<ul>
<li><p>Regular Expression—$&lt;Path&gt;</p></li>
<li><p>Name—Path</p></li>
</ul>
<ul>
<li><blockquote>
<p>Type—String</p>
</blockquote></li>
</ul>
<p>The response parser specified above, extracts the path and displays it under the Extracted Parameters task output:</p>
<p>├── Extracted Parameters: [ 1 ]/<br />
│   └── Path:/home/user</p></td>
</tr>
</tbody>
</table>
<p>The following table lists the properties for the SSH Command Task 2:</p>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 85%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td>The target on which the SSH commands are executed.</td>
</tr>
<tr class="even">
<td>SSH Command</td>
<td><p>The output for the first task extracts the path and displays it under the Extracted Parameters task output as:</p>
<p>├── Extracted Parameters: [ 1 ]/<br />
│   └── Path:/home/user</p>
<p>To map the output of the previous task as the input, specify the SSH command as:</p>
<p>Static | Non-interactive | Command—ls -lrt {{.global.InvokeSshCommands1.output.ExtractedParameters.Path}}</p>
<p>In the above example, <em>InvokeSshCommands1</em> is the task reference name of the previous task. To determine the task reference name, navigate to the Code view. For example:</p>
<p>"Tasks": <br />
    ...<br />
   "Label": "Invoke SSH Commands",<br />
      "Name": "InvokeSshCommands1",<br />
      "ObjectType": "workflow.WorkerTask",<br />
...</p></td>
</tr>
<tr class="odd">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="even">
<td>Expected Exit Codes</td>
<td>Default value.</td>
</tr>
<tr class="odd">
<td>Show Command Output</td>
<td>Select Show Command Option check box.</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>None.</td>
</tr>
</tbody>
</table>
<p>After you execute the workflow, the task output is:</p>
<p>.<br>
├── ConfigResults: [ 1 ]<br>
│   └── Object:{ 3 }<br>
│       ├── ConfigResCtx:{ 1 }<br>
│       │   ├── EntityData:{ 1 }<br>
│       │   └── task:workflow.SshTask<br>
│       ├── State:Ok<br>
│       └── Type:Config<br>
└── Command Output:total 62544<br>
    ├── -rw-rw-r&ndash; 1 qali qali 6549016 Jul 22 2020 intersight_devops_python_sdk_v3_0.0.1.16837.tar.gz<br>
    ├── -rw-r&ndash;r&ndash; 1 qali qali 8980 Apr 5 2021 examples.desktop<br>
    ├── drwxr-xr-x 2 qali qali 4096 Apr 5 2021 Videos<br>
    ├── drwxr-xr-x 2 qali qali 4096 Apr 5 2021 Templates<br>
    ├── drwxr-xr-x 2 qali qali 4096 Apr 5 2021 Public<br>
    ├── drwxr-xr-x 2 qali qali 4096 Apr 5 2021 Pictures<br>
    ├── drwxr-xr-x 2 qali qali 4096 Apr 5 2021 Music<br>
    ├── drwxr-xr-x 2 qali qali 4096 Apr 5 2021 Documents<br>
    ├── &hellip;<br>
    └── Exit Code:0</p>
<p>The following is a sample code view:</p>
<p>{<br>
  &ldquo;Catalog&rdquo;: {<br>
    &ldquo;Moid&rdquo;: &ldquo;5efbdb7e696f6e2d303fda29&rdquo;,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.Catalog&rdquo;,<br>
    &ldquo;link&rdquo;: &ldquo;<a href="https://www.intersight.com/api/v1/workflow/Catalogs/5efbdb7e696f6e2d303fda29%22">https://www.intersight.com/api/v1/workflow/Catalogs/5efbdb7e696f6e2d303fda29&quot;</a><br>
  },<br>
  &ldquo;DefaultVersion&rdquo;: true,<br>
  &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
  &ldquo;InputDefinition&rdquo;: [],<br>
  &ldquo;InputParameterSet&rdquo;: [],<br>
  &ldquo;Label&rdquo;: &ldquo;NonIntMappingSsh&rdquo;,<br>
  &ldquo;Name&rdquo;: &ldquo;NonIntMappingSsh&rdquo;,<br>
  &ldquo;OutputDefinition&rdquo;: [],<br>
  &ldquo;OutputParameters&rdquo;: null,<br>
  &ldquo;Properties&rdquo;: {<br>
    &ldquo;Cloneable&rdquo;: true,<br>
    &ldquo;EnableDebug&rdquo;: false,<br>
    &ldquo;ExternalMeta&rdquo;: true,<br>
    &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkflowProperties&rdquo;,<br>
    &ldquo;Retryable&rdquo;: false,<br>
    &ldquo;RollbackOnFailure&rdquo;: false,<br>
    &ldquo;SupportStatus&rdquo;: &ldquo;Supported&rdquo;<br>
  },<br>
  &ldquo;Tags&rdquo;: [],<br>
  &ldquo;Tasks&rdquo;: [<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
      &ldquo;NextTask&rdquo;: &ldquo;InvokeSshCommands1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.StartTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.SuccessEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Label&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.FailureEndTask&rdquo;<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5c2fc884696f6e2d316c5d59&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes SSH commands against the given endpoint. This task can be executed on targets added as SSH Endpoint in Intersight.\n&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;ResponseParser&rdquo;: {<br>
          &ldquo;Parameters&rdquo;: [<br>
            {<br>
              &ldquo;Name&rdquo;: &ldquo;Path&rdquo;,<br>
              &ldquo;RegexLine&rdquo;: &ldquo;$&lt;Path&gt;&rdquo;,<br>
              &ldquo;Type&rdquo;: &ldquo;string&rdquo;<br>
            }<br>
          ]<br>
        },<br>
        &ldquo;ShowCommandOutput&rdquo;: true,<br>
        &ldquo;SshCommand&rdquo;: {<br>
          &ldquo;Command&rdquo;: &ldquo;pwd&rdquo;,<br>
          &ldquo;CommandType&rdquo;: &ldquo;NonInteractiveCmd&rdquo;<br>
        },<br>
        &ldquo;Target&rdquo;: {<br>
          &ldquo;Moid&rdquo;: &ldquo;618a500a6f72612d31586284&rdquo;,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;asset.Target&rdquo;<br>
        }<br>
      },<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke SSH Commands&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands1&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;InvokeSshCommands2&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;6172c602696f6e2d30d270a5&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokeSshCommands&rdquo;,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;Version&rdquo;: 1<br>
    },<br>
    {<br>
      &ldquo;CatalogMoid&rdquo;: &ldquo;5c2fc884696f6e2d316c5d59&rdquo;,<br>
      &ldquo;Description&rdquo;: &ldquo;Executes SSH commands against the given endpoint. This task can be executed on targets added as SSH Endpoint in Intersight.\n&rdquo;,<br>
      &ldquo;InputParameters&rdquo;: {<br>
        &ldquo;ShowCommandOutput&rdquo;: true,<br>
        &ldquo;SshCommand&rdquo;: {<br>
          &ldquo;Command&rdquo;: &ldquo;ls -lrt {{.global.InvokeSshCommands1.output.ExtractedParameters.Path}}&rdquo;,<br>
          &ldquo;CommandType&rdquo;: &ldquo;NonInteractiveCmd&rdquo;<br>
        },<br>
        &ldquo;Target&rdquo;: {<br>
          &ldquo;Moid&rdquo;: &ldquo;618a500a6f72612d31586284&rdquo;,<br>
          &ldquo;ObjectType&rdquo;: &ldquo;asset.Target&rdquo;<br>
        }<br>
      },<br>
      &ldquo;Label&rdquo;: &ldquo;Invoke SSH Commands1&rdquo;,<br>
      &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands2&rdquo;,<br>
      &ldquo;ObjectType&rdquo;: &ldquo;workflow.WorkerTask&rdquo;,<br>
      &ldquo;OnFailure&rdquo;: &ldquo;&rdquo;,<br>
      &ldquo;OnSuccess&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
      &ldquo;RollbackDisabled&rdquo;: false,<br>
      &ldquo;TaskDefinitionId&rdquo;: &ldquo;6172c602696f6e2d30d270a5&rdquo;,<br>
      &ldquo;TaskDefinitionName&rdquo;: &ldquo;InvokeSshCommands&rdquo;,<br>
      &ldquo;UseDefault&rdquo;: false,<br>
      &ldquo;Version&rdquo;: 1<br>
    }<br>
  ],<br>
  &ldquo;UiInputFilters&rdquo;: [],<br>
  &ldquo;UiRenderingData&rdquo;: {<br>
    &ldquo;Positions&rdquo;: [<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;StartTask&rdquo;,<br>
        &ldquo;X&rdquo;: 10,<br>
        &ldquo;Y&rdquo;: 18<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;SuccessEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 10,<br>
        &ldquo;Y&rdquo;: 697<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;FailureEndTask&rdquo;,<br>
        &ldquo;X&rdquo;: 152,<br>
        &ldquo;Y&rdquo;: 697<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands1&rdquo;,<br>
        &ldquo;X&rdquo;: 178.5,<br>
        &ldquo;Y&rdquo;: 105.7421875<br>
      },<br>
      {<br>
        &ldquo;Name&rdquo;: &ldquo;InvokeSshCommands2&rdquo;,<br>
        &ldquo;X&rdquo;: 178.25390625,<br>
        &ldquo;Y&rdquo;: 204.75390625<br>
      }<br>
    ]<br>
  },<br>
  &ldquo;Version&rdquo;: 1,<br>
  &ldquo;WorkflowMetadata&rdquo;: null<br>
}</p>
<p><span id="_Refd24e17342" class="anchor"></span>Executors – Invoke SSH
Commands - Reusable Task</p>
<p>Intersight Cloud Orchestrator allows workflow designers to run commands
over SSH by using the <strong>Invoke SSH Commands</strong> reusable task in the
workflows.</p>
<p>The <strong>Invoke SSH Commands</strong> task executes SSH commands against the given
Intersight SSH endpoint target.</p>
<p>Supported Targets</p>
<p>The Invoke SSH Commands task can be run only on the targets that are
added as an SSH or Ansible endpoint target type in Cisco Intersight.</p>
<p>To run the SSH Command task on the SSH or Ansible endpoint target from
Cisco Intersight, ensure that:</p>
<ul>
<li>
<p>The endpoint is reachable through Intersight Assist.</p>
</li>
<li>
<p>The endpoint target is in the Connected state.</p>
</li>
<li>
<p>The endpoint credentials are valid.</p>
</li>
</ul>
<p>For more information on Intersight Target Claim, see <a href="file://E:%5Chelp%5Cgetting_started%5Cclaim_targets">Target Claim Using
Intersight Assist</a>.</p>
<p>Using the Executor SSH Commands Reusable Task</p>
<p>Use the <strong>Invoke SSH Commands</strong> from the <strong>Executors</strong> section in the
Intersight Orchestrator Task Designer UI to create a Invoke SSH Commands
reusable task.</p>
<p>For more information on tasks, see <a href="file://E:%5Chelp%5Cresources%5CTask_Designer">Defining a
Task</a>.</p>
<p>The following table explains the Invoke SSH Commands task properties:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General</td>
<td>For more information, see <a href="file://E:\\help\\resources\\Task_Designer">Defining a Task</a>.</td>
</tr>
<tr class="even">
<td>Inputs</td>
<td><p>External Target—The external target on which the SSH commands are run. By default, the External Target task input is created for the task.</p>
<p>The SSH commands can be run only on targets added as SSH or Ansible endpoint target in Intersight and are in the connected state.</p></td>
</tr>
<tr class="odd">
<td>Outputs</td>
<td><p>To extract the required values from the command responses and map it to task outputs, do the following:</p>
<ol type="1">
<li><p>Create Task Output—Specify the task output.</p></li>
<li><p>Map to Task Output—Check the check box to map the task output to an command response.</p></li>
<li><p>Task Output—Select the command response to which the task output is mapped. The options available are:</p></li>
</ol>
<ul>
<li><p><em>Exit Code | Invoke SSH Commands</em></p></li>
<li><p><em>Command Output | Invoke SSH Commands</em></p></li>
<li><p><em>Command Execution Error| Invoke SSH Commands</em></p></li>
<li><p><em>Extracted Parameters | Invoke SSH Commands</em></p></li>
</ul>
<ol start="35" type="1">
<li><p>For more information on task outputs, see Executor Output properties.</p></li>
</ol></td>
</tr>
</tbody>
</table>
<p>The following table explains the Invoke SSH Commands executor input:</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SSH Command</td>
<td><p>The SSH commands that need to be executed on the remote server along with the details of command type.</p>
<p>Command— The SSH command string to execute against the given target. You need to specify only the command string.</p>
<p>You can specify multiple commands that need to run on the given target. For more information, see <a href="file://E:\\help\\resources\\Executor_SSH">Using SSH Commands</a>.</p>
<p><strong>Note:</strong> The command chaining is allowed only when the command type is non-interactive.</p>
<ul>
<li><p>Static Value—The SSH commands that are to be run on the remote server.</p>
<ul>
<li><p>Non-Interactive Command—The SSH command that does not require user prompts.</p></li>
<li><p>Interactive Command—The SSH commands that require user prompts. For example, the Sudo or install packages command prompts for the user inputs. To specify the user inputs for the command, do the following:</p>
<ul>
<li><p>Expect —The regular expression of the expect prompt of the interactive command. You must provide the complete regular expression of the Expect string and the expression must end with the special character '$' to match the end of the Expect string.</p></li>
<li><p>Send—The answer string to the expect prompt. You can specify a string value.</p></li>
<li><p>End prompt—The regular expression of the Shell Prompt of the remote server or target. You must provide the complete regular expression of the Shell Prompt and it must end with special character '$' to match the end of the Shell Prompt string.</p></li>
</ul></li>
</ul></li>
<li><p>Direct Mapping—Select an existing task input or task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>You can map only a custom data type of type SSH Command.</p>
</blockquote></li>
</ul>
<blockquote>
<p><strong>Note:</strong> Direct mapping of task input or output of string data type is not valid.</p>
</blockquote>
<ul>
<li><p>Advanced Mapping—You can use Go template expressions for advance use cases where data manipulation is required.</p></li>
</ul>
<ul>
<li><blockquote>
<p>For example, to use substring of the task input StringInput in the SSH command, the advanced mapping can be:</p>
</blockquote></li>
<li><blockquote>
<p>{Command: "{{Substring .global.task.input.StringInput 5 15}}", <br />
CommandType: "NonInteractiveCmd"}</p>
</blockquote></li>
<li><blockquote>
<p>The <em>CommandType</em> can be `NonInteractiveCmd` and `InteractiveCmd`.</p>
</blockquote></li>
<li><blockquote>
<p>Following is an example for the 'InteractiveCmd':</p>
</blockquote></li>
<li><blockquote>
<p>{<br />
"Command": "{{Substring .global.task.input.StringInput 5 15}}",<br />
"CommandType": "InteractiveCmd",<br />
"ExpectPrompts": [<br />
{<br />
"Expect": "Password:\\s+$",<br />
"Send": "dummyValue"<br />
}<br />
],<br />
"ShellPrompt": "\\[root\\@onprem-appliance\\]\\s+$"<br />
}</p>
</blockquote></li>
<li><blockquote>
<p>For more information on template functions, see <a href="file://E:\\help\\resources\\Executor_SSH_Reusable">Template Functions</a>.</p>
</blockquote></li>
</ul></td>
</tr>
<tr class="even">
<td>Command Timeout</td>
<td><p>The command timeout in seconds for the execution of the command against the given endpoint. The range is 10 to 7200 seconds.</p>
<p>The default timeout value is 600 seconds.</p>
<ul>
<li><p>Static Value—The command timeout in seconds for the execution of the command against the given target.</p></li>
<li><p>Direct Mapping——Select an existing task input or task output field.</p></li>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Expected Exit Codes</td>
<td><p>The list of expected exit codes for the SSH command that is run by the task. Task status is set to Success if the obtained exit code is present in the list of expected exit codes.</p>
<p>If this input is not specified, then the default exit code is 0 and is used to determine the status of command execution.</p>
<ul>
<li><p>Static Value—The exit code for the SSH command that is run by the task.</p></li>
<li><p>Direct Mapping—Select the expected exit codes from the task input or task output.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>The response parser specification which is used to extract the values from the command response.</p>
<ul>
<li><p>Static Value</p>
<ul>
<li><p>Regular Expression—The regular expression of the line in the command response where the interested capture value resides. The format to specify the capture value in this input is '$&lt;Name of the parameter&gt;'. For example, if we need to capture <em>'intersight'</em> in the sample response 'intersight@cisco.com', the regular expression looks like $&lt;Name&gt;\@cisco\.com where '<em>Name</em>' is the name given to this captured parameter.</p></li>
<li><p>Name—The name of the output under which the captured value is saved. This name should be the same that is provided in the Regular Expression—$&lt;Name&gt;.</p></li>
<li><p>Type—The response parameter type—String, Integer, Float, or Boolean.</p></li>
</ul>
<ul>
<li><blockquote>
<p>The default value is String.</p>
</blockquote></li>
</ul></li>
<li><p>Direct Mapping—Select a task input or task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul>
<p>For more information, see <a href="file://E:\\help\\resources\\Executor_SSH">Response Parser</a>.</p></td>
</tr>
</tbody>
</table>
<p>The following table explains the SSH Command executor Outputs :</p>
<table>
<colgroup>
<col style="width: 24%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Exit Code</td>
<td>The exit code after the execution of the command against the given endpoint.</td>
</tr>
<tr class="even">
<td>Command Output</td>
<td>The complete response after the execution of the command against the given endpoint.</td>
</tr>
<tr class="odd">
<td>Command Execution Error</td>
<td>Captures the error encountered while executing the command.</td>
</tr>
<tr class="even">
<td>Extracted Parameters</td>
<td>The response parser extracted outputs from the command execution response.</td>
</tr>
</tbody>
</table>
<p>The following table explains the Invoke SSH Commands task Outcomes:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Outcomes</td>
<td><p>To set the custom execution status and status message based on the obtained outputs, do the following:</p>
<ol type="1">
<li><p>Click Add Outcome.</p></li>
<li><p>Name—The name for the outcome.</p></li>
<li><p>Outcome Type—Select the outcome type. The options available are Success, Skip To Success, Error, Terminal Error, Skip Task Execution, or Status.</p></li>
</ol>
<ol start="36" type="1">
<li><p>For more information on Outcomes, see <a href="file://E:\\help\\resources\\Task_Designer">Outcomes</a>.</p></li>
</ol>
<ol start="4" type="1">
<li><p>Message—The message when the condition is met.</p></li>
<li><p>Condition—The condition for the outcome.</p></li>
</ol>
<ol start="37" type="1">
<li><p>For example, {{eq .global.InvokeSshCommands1.output.ExitCode "0"}}.</p></li>
<li><p>This condition checks whether the output `ExitCode` of the executor named `InvokeSshCommands1` equals to 0. If the condition is true, the task status is set to the value provided in `Outcome Type` and task status message is set to value provided in `Message`.</p></li>
</ol></td>
</tr>
</tbody>
</table>
<p>Using SSH Commands</p>
<p>You can specify multiple commands that need to run on the given target
by chaining the commands with special characters. The following table
explains the operators.</p>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="header">
<th>Operators</th>
<th>Function</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>&amp;&amp; (Logical AND)</td>
<td>The command following this operator will only execute if the command preceding this operator has been successfully executed.</td>
</tr>
<tr class="even">
<td>; (Semi-colon)</td>
<td>The command following this operator will execute even if the command preceding this operator is not successfully executed.</td>
</tr>
<tr class="odd">
<td>|| ( Logical OR)</td>
<td>The command succeeding this operator is only executed if the command preceding it has failed.</td>
</tr>
<tr class="even">
<td>| (Pipe)</td>
<td>The output of the first command acts as input to the second command.</td>
</tr>
<tr class="odd">
<td>! (NOT)</td>
<td>Negates an expression within a command. It is much like an “except” statement.</td>
</tr>
<tr class="even">
<td>&gt;,&gt;&gt;, &lt; (Redirection)</td>
<td>Redirects the output of a command or a group of commands to a file or stream.</td>
</tr>
</tbody>
</table>
<p>Template Parameters</p>
<p>The request body template can refer to values from task inputs, previous
task outputs, or implicit parameters. The following table explains the
template parameters.</p>
<table>
<colgroup>
<col style="width: 67%" />
<col style="width: 32%" />
</colgroup>
<thead>
<tr class="header">
<th>Prefix/Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{.global.task.input.&lt;ParameterName&gt;}}</td>
<td>Task input reference.</td>
</tr>
<tr class="even">
<td>{{.global.&lt;ExecutorRefName&gt;.output.&lt;ParameterName&gt;}}</td>
<td>Previous executor output reference. <strong>ExecutorRefName</strong> is the name of the previous executor having output <strong>ParameterName</strong>.</td>
</tr>
<tr class="odd">
<td>{{.security.AccountMoid}}</td>
<td>Implicit parameter reference to Account MoID under which the workflow is running.</td>
</tr>
<tr class="even">
<td>{{.security.OrganizationMoid}}</td>
<td>Implicit parameter reference to Organization MoID under which the workflow is running.</td>
</tr>
</tbody>
</table>
<p>Template Functions</p>
<p>The template engine has in-built functions to transform values before
they are populated in the request templates. The following table
explains the functions supported in <strong>Invoke SSH Commands</strong> task.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TrimSpace</td>
<td><p>Returns a string after removing white spaces from a the string.</p>
<p>Example:</p>
<p>{{TrimSpace .global.task.input.HostName}}</p></td>
</tr>
<tr class="even">
<td>ContainsString</td>
<td><p>Returns a boolean if a substring is present in a given string.</p>
<p>Example:</p>
<p>{{if (ContainsString .global.task.input.SizeAsString \”MB\”)}}Mega Bytes{{else}}Bytes{{end}}</p></td>
</tr>
<tr class="odd">
<td>FindAllString</td>
<td><p>Returns a slice of substrings matching the regular expression in a given string.</p>
<p>Example:</p>
<p>{{(FindAllString .global.task.input.NumberString \”([0-9]+)\”)}}</p>
<p>The above example returns array [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="even">
<td>ToJson</td>
<td><p>Converts a value to a JSON format.</p>
<p>Example:</p>
<p>{{(FindAllString .global.task.input.NumberString \"([0-9]+)\") | ToJson}}</p>
<p>The above example returns JSON array literal [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="odd">
<td>AsArray</td>
<td><p>Takes in an element and returns an array of one element.</p>
<p>Example:</p>
<p>{{AsArray .global.task.output.serverMo}}</p>
<p>The above example returns an array of one server Mo.</p></td>
</tr>
<tr class="even">
<td>Substring</td>
<td><p>Returns a substring within the given index bounds.</p>
<p>Example:</p>
<p>{{Substring .global.task.input.StorageId 2 6}}</p>
<p>The above example returns “ABCD” for string “12ABCD3456.”</p></td>
</tr>
<tr class="odd">
<td>IpToCidr</td>
<td><p>Returns the classless inter-domain routing (CIDR) notation of an IPv4 address and subnet mask.</p>
<p>Example:</p>
<p>{{IpToCidr .global.task.input.Ip .global.task.input.Netmask}}</p>
<p>The above example returns “10.10.10.10/24” for the input parameters “10.10.10.10” and “255.255.255.0.”</p></td>
</tr>
<tr class="even">
<td>LookupInSlice</td>
<td><p>Checks if a given value is present in given slice or array and returns true if it exists. This function can be used for any value.</p>
<p>Example:</p>
<p>{{LookupInSlice .global.task.input.IpAddressList \”10.10.10.10\”}}</p>
<p>The above example returns true for input [”10.10.10.10”, “20.20.20.20”].</p></td>
</tr>
<tr class="odd">
<td>Index</td>
<td><p>Returns a value from an array when an input index exists.</p>
<p>Example:</p>
<p>{{ index .global.task.input.nodes .global.task.input.idx }} </p>
<p>In the above example, if nodes is an array of devices and idx is 2, the index function returns the second device in the array.</p></td>
</tr>
<tr class="even">
<td>Itob</td>
<td><p>Converts an integer to a boolean.</p>
<p>Example:</p>
<p>{{ Itob global.task.input.OnOffFlip }} </p>
<p>The above example returns true and false for inputs 1 and 0 respectively.</p></td>
</tr>
<tr class="odd">
<td>Itoa</td>
<td><p>Converts a given number to a string value.</p>
<p>Example:</p>
<p>{{ Itoa global.task.input.Port }} </p>
<p>The above example returns “12345” for input 12345.</p></td>
</tr>
<tr class="even">
<td>Itof</td>
<td><p>Converts a given integer to a float value.</p>
<p>Example:</p>
<p>{{ Itof global.task.input.Rate }}</p>
<p>The above example returns 15.0 for an input 15.</p></td>
</tr>
<tr class="odd">
<td>Btoa</td>
<td><p>Converts a given boolean to a string value.</p>
<p>Example:</p>
<p>{{ Btoa global.task.input.OnOffFlip }}</p>
<p>The above example returns “true” for input true.</p></td>
</tr>
<tr class="even">
<td>Btoi</td>
<td><p>Converts a given boolean to a integer value.</p>
<p>Example:</p>
<p>{{ Btoi global.task.input.OnOffFlip }}</p>
<p>The above example returns 1 and 0 for inputs true and false respectively.</p></td>
</tr>
<tr class="odd">
<td>Atob</td>
<td><p>Converts the given string into a boolean value.</p>
<p>Example:</p>
<p>{{ Atob global.task.input.OnOffFlip }}Returns true for input “true”</p></td>
</tr>
<tr class="even">
<td>Atoi</td>
<td><p>Converts a given number in string format to the integer type.</p>
<p>Example:</p>
<p>{{Atoi .global.task.input.SizeString}} returns integer 2048 for input string “2048”</p></td>
</tr>
<tr class="odd">
<td>Ftoa</td>
<td><p>Converts a given number into the string form based on the given precision.</p>
<p>Example:</p>
<p>{{Ftoa .global.task.input.Size 2}} returns the following output: 123.456 =&gt; “123.45”, 1028 =&gt; “1028.00”</p></td>
</tr>
<tr class="even">
<td>Ftoi</td>
<td><p>Converts a given float input to a integer value.</p>
<p>Example:</p>
<p>{{ Ftoi global.task.input.Rate }}</p>
<p>The above example returns 15 for an input 15.833.</p></td>
</tr>
<tr class="odd">
<td>Eval</td>
<td><p>Supports an expression evaluation function. The below example returns 2GB for a input value of 2048. Note that the second argument is passed as ‘.’ in the template, which represents the map of all parameters.</p>
<p>{{Eval \"{{.global.task.input.Size}} / 1024\" .}}GB</p></td>
</tr>
</tbody>
</table>
<p>Template Engine Syntax</p>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}</p>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}</p>
<p>Response Parser</p>
<p>A response parser is a collection of parameters that model values to be
extracted from the SSH command response.</p>
<p><strong>Example: Create a response parser to get the IP address for a ping
command</strong></p>
<p>To get the IP address for the host such as <em><a href="https://www.example.com">www.example.com</a></em>, you can
use the ping command:</p>
<p>ping example.com -4<br>
Pinging example.com [<strong>93.184.216.34</strong>] with 32 bytes of data:<br>
Reply from 93.184.216.34: bytes=32 time=229ms TTL=53<br>
Reply from 93.184.216.34: bytes=32 time=230ms TTL=53<br>
Reply from 93.184.216.34: bytes=32 time=230ms TTL=53<br>
Reply from 93.184.216.34: bytes=32 time=229ms TTL=53ping example.com</p>
<p>To extract the IP address from the command output for an SSH Command
task, you can configure the response parser as:</p>
<ul>
<li>
<p>Regular Expression—Pinging\s+example.com\s+\[$&lt;IP&gt;\]\s+.*</p>
</li>
<li>
<p>Name—IP</p>
</li>
</ul>
<blockquote>
<p><strong>Note:</strong> This name should be the same that is provided in the Regular
Expression field. In the above example, the Regular Expression uses
name $&lt;IP&gt; so the Name specified must be &ldquo;IP&rdquo;.</p>
</blockquote>
<ul>
<li>Type—String</li>
</ul>
<p>Invoke SSH Command Reusable Task Examples</p>
<p><strong>Example 1: Create a reusable SSH Command task to list the current
working directory on the host</strong></p>
<p>This example task runs on an Intersight SSH endpoint target. This task
runs the <em>pwd</em> command on the SSH endpoint target and obtains the
current working directory in the output.</p>
<p>The task properties required for this example are as following:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General</td>
<td><ul>
<li><p>Organization—The organization that you are creating the task in.</p></li>
<li><p>Display Name—A user friendly short name to identify the task definition.</p></li>
<li><p>Reference Name—The name of the Task definition.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Inputs</td>
<td><ul>
<li><p>External Target—By default, the External Target task input is created for the task.</p>
<ul>
<li><p>Reference Name—Target</p></li>
<li><p>Type—Target Data Type</p></li>
</ul></li>
</ul></td>
</tr>
<tr class="odd">
<td>Outputs</td>
<td><ul>
<li><p>ExitCode—Task output</p>
<ul>
<li><p>Reference Name—ExitCode</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Exit Code | Invoke SSH Command</em></p></li>
</ul></li>
<li><p>Response—Task output</p>
<ul>
<li><p>Reference Name—Response</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Command Output| Invoke SSH Command</em></p></li>
</ul></li>
<li><p>Lastline—Task output</p>
<ul>
<li><p>Reference Name—Response</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Extracted Parameters | Invoke SSH Command</em> - <em>WorkingDirectory</em></p></li>
</ul></li>
<li><p>Error—Task output</p>
<ul>
<li><p>Reference Name—Error</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Extracted Parameters | Invoke SSH Command</em> - <em>CommandExecutionError</em></p></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the Invoke SSH Command executor inputs:</p>
<table>
<colgroup>
<col style="width: 24%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SSH Command</td>
<td>Static | Non-interactive—Command—pwd</td>
</tr>
<tr class="even">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="odd">
<td>Expected Exit Codes</td>
<td>Default value.</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>When you run the pwd command, you get the following output:</p>
<p>$pwd<br />
/home/user</p>
<p>To extracts the path and display it, configure the response parser as:</p>
<ul>
<li><p>Regular Expression—$&lt;WorkingDirectory&gt;</p></li>
<li><p>Name—WorkingDirectory</p></li>
<li><p>Type—String</p></li>
</ul>
<p>The configured response parser captures the entire response line.</p></td>
</tr>
</tbody>
</table>
<p><strong>Example 2: Create a reusable SSH Command task to install jq Linux
command line utility on a host using interactive SSH commands</strong></p>
<p>This example task runs on an Intersight SSH endpoint target. In this
task, the <em>Sudo</em> password is provided by the command input field, and jq
Linux command line utility is installed on the SSH endpoint target.</p>
<p>The task properties required for this example are as following:</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General</td>
<td><ul>
<li><p>Organization—The organization that you are creating the task in.</p></li>
<li><p>Display Name—A user friendly short name to identify the task definition.</p></li>
<li><p>Reference Name—The name of the Task definition.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Inputs</td>
<td><ul>
<li><p>External Target—By default, the External Target task input is created for the task.</p>
<ul>
<li><p>Reference Name—Target</p></li>
<li><p>Type—Target Data Type</p></li>
</ul></li>
</ul></td>
</tr>
<tr class="odd">
<td>Outputs</td>
<td><ul>
<li><p>ExitCode—Task output</p>
<ul>
<li><p>Reference Name—ExitCode</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Exit Code | Invoke SSH Command</em></p></li>
</ul></li>
<li><p>Response—Task output</p>
<ul>
<li><p>Reference Name—Response</p></li>
<li><p>Type—String</p></li>
<li><p>Map to Task Output—<em>Command Output| Invoke SSH Command</em></p></li>
</ul></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the Invoke SSH Command executor inputs:</p>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 85%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>SSH Command</td>
<td><p>Static | Interactive—Command—<em>sudo yum install -y jq</em> | Interactive</p>
<ul>
<li><p>Expect—The Expect string obtained while executing the SSH command is <em>[sudo]</em> password for <em>qali:</em>. You need to specify the Expect input as the regular expression of the Obtained prompt <em>\[sudo\]\spassword\sfor\sqali:\s$</em>.</p></li>
<li><p>Send—<em>testPasswd</em>.</p></li>
<li><p>Shell Prompt—The shell prompt obtained before executing the SSH command is <em>qali@automationvm-15:~$</em>. You need to specify the regular expression of the obtained shell prompt <em>qali\@automationvm-15:~\$\s?$</em>.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Command Timeout</td>
<td>Default value.</td>
</tr>
<tr class="odd">
<td>Expected Exit Codes</td>
<td>Default value.</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>Default value.</td>
</tr>
</tbody>
</table>
<p><span id="_Refd24e19406" class="anchor"></span>Executors – Invoke Web
API Request</p>
<p>Intersight Orchestrator allows workflow designers to perform web API
requests by using the <strong>Invoke Web API Request</strong> task in workflows. The
<strong>Web API Request</strong> task allows executing web API requests on external
targets not managed by Intersight or on the Intersight API endpoints.</p>
<p>Intersight Orchestrator framework provides predefined reusable tasks
that form the basis of workflows to automate customer operations. In
some scenarios, predefined tasks are not enough to automate customer
operations:</p>
<ul>
<li>
<p>New parameters are added to the device specific API to enhance the
existing functionality or the device exposes new functionality which
is not available in the task library.</p>
</li>
<li>
<p>To orchestrate the device operations for devices that are not
currently managed by Intersight.</p>
</li>
</ul>
<p>The <strong>Web API Request</strong> task is an out-of-box solution that allows you
to automate operations on the endpoints by invoking web APIs via HTTP or
HTTPS. This feature allows a workflow designer to extend the automation
capabilities of the workflow engine beyond what is natively available in
the task library and interact with any HTTP or HTTPS endpoint.</p>
<p>Supported Endpoints</p>
<p>Natively supported Intersight targets on which a Web API Task is tested
and verified are Cisco UCS Director, Pure Storage Flash Array, NetApp
Active Iq Unified Manager, Hitachi Virtual Storage Platform, VMware
vCenter Server, Terraform Cloud, and Cisco Application Policy
Infrastructure Controller (APIC).</p>
<p><strong>Note:</strong> The Web API task is supported on Cisco UCS Director 6.8.3.0 or
later.</p>
<p>The Web API task can also be executed on any HTTP(S) endpoint, which is
added as HTTP Endpoint target type in Intersight Targets, provided the
endpoint is reachable either directly from Intersight or via Intersight
Assist when hosted on customer premises.</p>
<p>HTTP Endpoints</p>
<p>The Invoke Web API Request task allows sending HTTP(S) requests to HTTP
Endpoint. HTTP Endpoint is an external entity that can be configured
under Intersight Targets and can be accessed in Intersight Orchestrator
workflows through the APIs exposed by the endpoint. HTTP Endpoint must
be accessed via Intersight Assist if the endpoint resides in customer
premises. This can be facilitated by associating the Intersight Assist
input while claiming the HTTP Endpoint target. The target entities that
are directly reachable from the Intersight Cloud do not need Intersight
Assist.</p>
<p>Endpoints that support the following HTTP Authentication schemes can be
added as Targets:</p>
<ul>
<li>
<p>Basic HTTP Authentication–Requires username and password to
authenticate the endpoint.</p>
</li>
<li>
<p>Bearer Token Authentication–Requires token to authenticate the
endpoint.</p>
</li>
</ul>
<p><strong>Note:</strong> Bearer Token Authentication requires a valid access token to
invoke the endpoint API. You should refresh the access token if it is
expired and update the HTTP Endpoint target with the refreshed token.</p>
<p>You can also add HTTP Endpoint target without authentication. This is to
facilitate invoking HTTP(S) API on the endpoints that do not require any
authentication or on the endpoint that requires an authentication method
that is not natively supported. In the later scenario, you should
provide the authentication parameters in the required format in the web
API task. The Invoke Nexus device API to authenticate using aaaLogin in
the web API examples illustrate invoking web API task on Nexus switch
that requires aaaLogin authentication mechanism.</p>
<p>External targets not connected to Intersight can be modeled as HTTP
Endpoint objects as follows:</p>
<ul>
<li>
<p>Capture all the required information to connect to and authenticate
the target. For example, to invoke HTTP or HTTPS web APIs on the
target using the Invoke Web API Request, HTTP Endpoint must have IP
address, port number, and the authentication parameters to connect
to the endpoint.</p>
</li>
<li>
<p>Supports a single HTTP connection parameter set per Target and
Target name is mandatory. HTTP Endpoint with different name having
the same IP address or hostname cannot be created.</p>
</li>
</ul>
<p>Using the Invoke Web API Request</p>
<p>Use the <strong>Invoke Web API Request Task</strong> from <strong>Executors</strong> section in
the Intersight Orchestrator UI to create a request for a target. The
target can be Intersight API or an external endpoint added as HTTP
Endpoint in the Intersight Targets. The following table explains the
input properties.</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td>Maps a HTTP Endpoint. An external target not selected indicates that the request will be considered as an Intersight API request.</td>
</tr>
<tr class="even">
<td>Method</td>
<td>Standard HTTP method requested for the specified URL.</td>
</tr>
<tr class="odd">
<td>URL</td>
<td>Relative URL of the RestAPI endpoint without hostname and port details. For external targets, this field points to the relative URL path of the RestAPI endpoint. If an external target is empty, this field points to the relative path of the Intersight API endpoint.</td>
</tr>
<tr class="even">
<td>Headers</td>
<td>Request headers that are sent in the key value pairs. The values should be array of type string.</td>
</tr>
<tr class="odd">
<td>Cookies</td>
<td>The key value pairs provided in this input are sent in HTTP 'Cookie' header. The values should be array of type string.</td>
</tr>
<tr class="even">
<td>Content Type</td>
<td>Response content type. Currently supports JSON.</td>
</tr>
<tr class="odd">
<td>Body</td>
<td>(Optional) The request body includes two values: The content type of the request body—JSON or Text and the actual request body. The request body is a template if a workflow input or previous task output values are referred in the request body.</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>Structure of the response parser providing a list of values to be extracted from the API response.</td>
</tr>
<tr class="odd">
<td>Outcomes</td>
<td>(Optional) Allows to define the custom API execution status and/or custom execution message based on the task outputs.</td>
</tr>
</tbody>
</table>
<p>Template Parameters</p>
<p>The request body template can refer to values from workflow inputs,
previous task outputs, or implicit parameters for Intersight API calls.
The following table explains the template parameters.</p>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="header">
<th>Prefix/Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{.global.workflow.input.&lt;ParameterName&gt;}}</td>
<td>Workflow input reference.</td>
</tr>
<tr class="even">
<td>{{.global.&lt;TaskRefName&gt;.output.<br />
Parameters.&lt;ParameterName&gt;}}</td>
<td>Previous task output reference. <strong>TaskRefName</strong> is the name of the previous task having output <strong>ParameterName</strong>.</td>
</tr>
<tr class="odd">
<td>{{.security.AccountMoid}}</td>
<td>Implicit parameter reference to Account MoID under which the workflow is running.</td>
</tr>
<tr class="even">
<td>{{.security.OrganizationMoid}}</td>
<td>Implicit parameter reference to Organization MoID under which the workflow is running.</td>
</tr>
</tbody>
</table>
<p>Template Functions</p>
<p>The template engine has in-built functions to transform values before
they are populated in the request templates. The following table
explains the functions supported in <strong>Invoke Web API Request</strong> task.</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Function</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>TrimSpace</td>
<td><p>Returns a string after removing whitespaces from a the string.</p>
<p>Example:</p>
<p>{{TrimSpace .global.workflow.input.HostName}}</p></td>
</tr>
<tr class="even">
<td>ContainsString</td>
<td><p>Returns a boolean if a substring is present in a given string.</p>
<p>Example:</p>
<p>{{if (ContainsString .global.workflow.input.SizeAsString \”MB\”)}}Mega Bytes{{else}}Bytes{{end}}</p></td>
</tr>
<tr class="odd">
<td>FindAllString</td>
<td><p>Returns a slice of substrings matching the regular expression in a given string.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \”([0-9]+)\”)}}</p>
<p>The above example returns array [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="even">
<td>ToJson</td>
<td><p>Converts a value to a JSON format.</p>
<p>Example:</p>
<p>{{(FindAllString .global.workflow.input.NumberString \"([0-9]+)\") | ToJson}}</p>
<p>The above example returns JSON array literal [“123”, “456”] for input string “123 some text 456.”</p></td>
</tr>
<tr class="odd">
<td>AsArray</td>
<td><p>Takes in an element and returns an array of one element.</p>
<p>Example:</p>
<p>{{AsArray .global.workflow.output.serverMo}}</p>
<p>The above example returns an array of one server Mo.</p></td>
</tr>
<tr class="even">
<td>Substring</td>
<td><p>Returns a substring within the given index bounds.</p>
<p>Example:</p>
<p>{{Substring .global.workflow.input.StorageId 2 6}}</p>
<p>The above example returns “ABCD” for string “12ABCD3456.”</p></td>
</tr>
<tr class="odd">
<td>IpToCidr</td>
<td><p>Returns the classless inter-domain routing (CIDR) notation of an IPv4 address and subnet mask.</p>
<p>Example:</p>
<p>{{IpToCidr .global.workflow.input.Ip .global.workflow.input.Netmask}}</p>
<p>The above example returns “10.10.10.10/24” for the input parameters “10.10.10.10” and “255.255.255.0.”</p></td>
</tr>
<tr class="even">
<td>LookupInSlice</td>
<td><p>Checks if a given value is present in given slice or array and returns true if it exists. This function can be used for any value.</p>
<p>Example:</p>
<p>{{LookupInSlice .global.workflow.input.IpAddressList \”10.10.10.10\”}}</p>
<p>The above example returns true for input [”10.10.10.10”, “20.20.20.20”].</p></td>
</tr>
<tr class="odd">
<td>Index</td>
<td><p>Returns a value from an array when an input index exists.</p>
<p>Example:</p>
<p>{{ index .global.workflow.input.nodes .global.workflow.input.idx }} </p>
<p>In the above example, if nodes is an array of devices and idx is 2, the index function returns the second device in the array.</p></td>
</tr>
<tr class="even">
<td>Itob</td>
<td><p>Converts an integer to a boolean.</p>
<p>Example:</p>
<p>{{ Itob global.workflow.input.OnOffFlip }} </p>
<p>The above example returns true and false for inputs 1 and 0 respectively.</p></td>
</tr>
<tr class="odd">
<td>Itoa</td>
<td><p>Converts a given number to a string value.</p>
<p>Example:</p>
<p>{{ Itoa global.workflow.input.Port }} </p>
<p>The above example returns “12345” for input 12345.</p></td>
</tr>
<tr class="even">
<td>Itof</td>
<td><p>Converts a given integer to a float value.</p>
<p>Example:</p>
<p>{{ Itof global.workflow.input.Rate }}</p>
<p>The above example returns 15.0 for an input 15.</p></td>
</tr>
<tr class="odd">
<td>Btoa</td>
<td><p>Converts a given boolean to a string value.</p>
<p>Example:</p>
<p>{{ Btoa global.workflow.input.OnOffFlip }}</p>
<p>The above example returns “true” for input true.</p></td>
</tr>
<tr class="even">
<td>Btoi</td>
<td><p>Converts a given boolean to a integer value.</p>
<p>Example:</p>
<p>{{ Btoi global.workflow.input.OnOffFlip }}</p>
<p>The above example returns 1 and 0 for inputs true and false respectively.</p></td>
</tr>
<tr class="odd">
<td>Atob</td>
<td><p>Converts the given string into a Boolean value.</p>
<p>Example:</p>
<p>{{ Atob global.workflow.input.OnOffFlip }}Returns true for input “true”</p></td>
</tr>
<tr class="even">
<td>Atoi</td>
<td><p>Converts a given number in string format to the integer type.</p>
<p>Example:</p>
<p>{{Atoi .global.task.input.SizeString}} returns integer 2048 for input string “2048”</p></td>
</tr>
<tr class="odd">
<td>Ftoa</td>
<td><p>Converts a given number into the string form based on the given precision.</p>
<p>Example:</p>
<p>{{Ftoa .global.task.input.Size 2}} returns the following output: 123.456 =&gt; “123.45”, 1028 =&gt; “1028.00”</p></td>
</tr>
<tr class="even">
<td>Ftoi</td>
<td><p>Converts a given float input to a integer value.</p>
<p>Example:</p>
<p>{{ Ftoi global.workflow.input.Rate }}</p>
<p>The above example returns 15 for an input 15.833.</p></td>
</tr>
<tr class="odd">
<td>Eval</td>
<td><p>Supports an expression evaluation function. The below example returns 2GB for a input value of 2048. Note that the second argument is passed as ‘.’ in the template, which represents the map of all parameters.</p>
<p>{{Eval \"{{.global.workflow.input.Size}} / 1024\" .}}GB</p></td>
</tr>
</tbody>
</table>
<p>Template Engine Syntax</p>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<p>{{and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}</p>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}</p>
<p>{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}</p>
<p>Response Parser</p>
<p>A response parser allows extracting values from API responses. A
response parser is a collection of parameters that model values to be
extracted from the API response. Each parameter needs to specify the
following values:</p>
<ul>
<li>
<p><strong>Path</strong>—Content specific path reference pointing to the location
where the value is present in the response. Currently, JSON is
supported. The path is JSONPath.</p>
</li>
<li>
<p><strong>Name</strong>—Unique name in the response parser to identify and extract
a specific value.</p>
</li>
<li>
<p><strong>Type</strong>—Type of the value extracted from the response.</p>
</li>
</ul>
<p><strong>Note:</strong> The values extracted using the response parser are populated
in the task output parameters.</p>
<p>Outcomes</p>
<p>An outcome is the combination of a condition and task status. You use
the extracted values from the API response to determine the task status
and set the status with an appropriate message, when the condition
matches. You can specify one or more outcomes and the outcomes are
evaluated in the specified order. The first outcome condition that
matches, sets the task status and message. Outcomes is an optional input
to web API task and if not specified, task status is set to failed when
the HTTP status code is between 400 to 600, else the status is marked as
successful.</p>
<p>The outcomes of a task are as follows:</p>
<ul>
<li>
<p><strong>Success</strong>—Marks the task as Success if the condition matches.</p>
</li>
<li>
<p><strong>Error</strong>—Marks the task as Failed if the condition matches.</p>
</li>
<li>
<p><strong>Terminal error</strong>—Marks the API execution as Failed if the
condition matches. This marks a non-recoverable error and no retries
are attempted.</p>
</li>
<li>
<p><strong>Skip Task Execution</strong>—Skips the execution of a task if the
respective condition matches.</p>
</li>
</ul>
<p>Outcomes feature is illustrated in the example - Fetch details of NetApp
volume using volume ID.</p>
<p><strong>Web API Responses</strong></p>
<p>The web API responses for the requests are sent in the following
parameters as described in the following table.</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Headers</td>
<td><p>Response headers extracted from the API response. The extracted response headers can be referred to and mapped using the following format:</p>
<p>{{.global.&lt;TaskRefName&gt;.output.Headers.&lt;HeaderName&gt;}}.</p>
<p>For example if the task reference name is <strong>InvokeGenericWebApi1</strong>, to get ContentLength header, the reference name will be:</p>
<p>{{.global.InvokeGenericWebApi1.output.Headers.ContentLength}}.</p></td>
</tr>
<tr class="even">
<td>Cookies</td>
<td>List of cookies obtained from the response in the form of key value pairs.</td>
</tr>
<tr class="odd">
<td>Status Code</td>
<td>HTTP status code of the web API response.</td>
</tr>
<tr class="even">
<td>Status Message</td>
<td>HTTP status message of the web API response.</td>
</tr>
<tr class="odd">
<td>Parameters</td>
<td><p>List of output parameters extracted from the response. The output capture template format is as follows:</p>
<p>{{.global.[Name of the previous task].output.Parameters.<br />
[Name of the parameter in response parser of the previous task]}}</p>
<p>For example, if the response parser captures a string value as `Moid` from the API response, the corresponding output mapping for `Moid` is as follows:</p>
<p>{{.global.[TaskRefName].output.Parameters.Moid}}</p>
<p>In the above example, <strong>TaskRefName</strong> refers to a task which has MOID as output parameter.</p></td>
</tr>
</tbody>
</table>
<p><strong>Note: TaskRefName</strong> for the output mapping must be referred from the
corresponding task name in the JSON View tab of Workflow Designer.</p>
<p>Web API Request Task Examples</p>
<p><strong>Example: Create a NetApp Volume and Create Snapshot of the Volume –
Illustrates Task Output Mapping</strong></p>
<p>The following example workflow has two Invoke Web API tasks. The first
task shows how to create a NetApp volume. In this task, the UUID is
extracted for the newly created volume from the response. The second
task fetches the previously created volume details using the first
task’s captured UUID output and Create Snapshot for the same Volume.
This example assumes that the workflow inputs names are <strong>VolumeName</strong>,
<strong>VolumeSize</strong>, <strong>StorageVM</strong>, and <strong>Aggregate</strong> already exists.</p>
<p>The following is a sample API request sent to NetApp to create a volume.</p>
<p>POST /api/storage/volumes?return_timeout=0&amp;return_records=true HTTP/1.1<br>
{<br>
&ldquo;name&rdquo;: &ldquo;backup&rdquo;,<br>
&ldquo;size&rdquo;: &ldquo;4TB&rdquo;, &ldquo;svm&rdquo;: {<br>
&ldquo;name&rdquo;: &ldquo;backup-svm&rdquo;<br>
},<br>
&ldquo;aggregates&rdquo;: [<br>
{<br>
&ldquo;name&rdquo;: &ldquo;backup-aggregate&rdquo;<br>
}<br>
]<br>
}</p>
<p>The following is a sample response received from NetApp.</p>
<p>{<br>
&ldquo;num_records&rdquo;: 1, &ldquo;records&rdquo;: [<br>
{<br>
&ldquo;uuid&rdquo;: &ldquo;19d79da1-2e89-11eb-9685-00a0986a3b4f&rdquo;, &ldquo;name&rdquo;: &ldquo;&rdquo;,<br>
&ldquo;size&rdquo;:4294967296,<br>
&ldquo;aggregates&rdquo;: [<br>
{<br>
&ldquo;name&rdquo;: &ldquo;backup-aggregate&rdquo;<br>
}<br>
],<br>
&ldquo;svm&rdquo;: {<br>
&ldquo;name&rdquo;: &ldquo;backup-svm&rdquo;<br>
}<br>
}<br>
],<br>
&ldquo;job&rdquo;: {<br>
&ldquo;uuid&rdquo;: &ldquo;19db360a-2e89-11eb-9685-00a0986a3b4f&rdquo;, &ldquo;_links&rdquo;: {<br>
&ldquo;self&rdquo;: {<br>
&ldquo;href&rdquo;: &ldquo;/api/cluster/jobs/19db360a-2e89-11eb-9685-00a0986a3b4f&rdquo;<br>
}<br>
}<br>
}<br>
}</p>
<p>From the above response, the JSON path for the <strong>uuid</strong> value in the
<strong>records</strong> parameter is <strong>$.records[0].uuid</strong>.</p>
<p>The following table displays the required web API request task input and
response parser to achieve the above requirements.</p>
<table>
<colgroup>
<col style="width: 18%" />
<col style="width: 81%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Target</td>
<td>External targets can be mapped to Targets either as custom value or workflow input.</td>
</tr>
<tr class="even">
<td>Method</td>
<td>"Method": "POST",</td>
</tr>
<tr class="odd">
<td>URL</td>
<td>"Url": "/api/storage/volumes?<br />
return_records=true",</td>
</tr>
<tr class="even">
<td>Body</td>
<td><p>The request body has templates with values referred from workflow input as follows:</p>
<p>"Body": {<br />
"name":<br />
"{{.global.workflow.input.VolumeName}}",<br />
"size":<br />
"{{.global.workflow.input.VolumeSize}}",<br />
"svm": {<br />
"name":<br />
"{{.global.workflow.input.StorageVm}}"<br />
},<br />
"aggregates": [<br />
{<br />
"name":<br />
"{{.global.workflow.input.Aggregate}}"<br />
}<br />
]<br />
}</p></td>
</tr>
<tr class="odd">
<td>Content Type</td>
<td>"ContentType": "json",</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>"ResponseParser": {<br />
"Parameters": [<br />
{<br />
"Name": "Uuid",<br />
"Path": "$.records[0].uuid",<br />
"Type": "string"<br />
}</td>
</tr>
</tbody>
</table>
<p>The following is a sample API request sent to NetApp to create snapshots
using volume UUID:</p>
<p>POST /api/storage/volumes/19d79da1-2e89-11eb-9685-00a0986a3b4f/snapshots<br>
{&ldquo;name&rdquo;: &ldquo;BackupVolume&rdquo;, &ldquo;comment&rdquo;: &ldquo;backup Data&rdquo; }</p>
<p>The following is a sample response received from NetApp.</p>
<p>{<br>
    &ldquo;job&rdquo;: {<br>
        &ldquo;uuid&rdquo;: &ldquo;13194cda-7d20-11eb-9991-00a0986a3b4f&rdquo;,<br>
        &ldquo;_links&rdquo;: {<br>
            &ldquo;self&rdquo;: {<br>
                &ldquo;href&rdquo;: &ldquo;/api/cluster/jobs/13194cda-7d20-11eb-9991-00a0986a3b4f&rdquo;<br>
            }<br>
        }<br>
    }<br>
}</p>
<p>The web API request task inputs and response parser are captured from
the snapshots UUID. The URL input requires previous task’s UUID output.
The name of web API tasks within a workflow is named
InvokeGenericWebApi&lt;number&gt;, irrespective of what the user names it.
To get previous task name through workflow designer, click the JSON View
button and make a note of the Task Name, for example,
InvokeGenericWebApi1.</p>
<img src="./images//media/image4.jpeg" style="width:6.69291in;height:2.926in" />
<p>The output mapping template format is as follows:</p>
<p>{{.global.InvokeGenericWebApi1.output.Parameters.Uuid}}</p>
<p>The following table displays the required web API request task input and
response parser to achieve the above requirements.</p>
<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Target</td>
<td>External targets can be mapped to Targets either as custom value or workflow input.</td>
</tr>
<tr class="even">
<td>Method</td>
<td>"Method": "POST",</td>
</tr>
<tr class="odd">
<td>URL</td>
<td><p>"Url": "/api/storage/volumes/{{.global.InvokeGenericWebApi1.output.Parameters.Uuid}}/snapshots",</p>
<p><strong>Note: InvokeGenericWebApi1</strong> is the task reference name of the previous task in the workflow.</p></td>
</tr>
<tr class="even">
<td>Body</td>
<td><p>The request body has templates with values referred from workflow input as follows:</p>
<p>"Body": {"name": "{{.global.workflow.input.SnapshotName}}", "comment": "Backup Copy" }</p></td>
</tr>
<tr class="odd">
<td>Content Type</td>
<td>"ContentType": "json",</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>"ResponseParser": <br />
{ "Parameters": [ { "Name": "SUuid", "Path": "$.job.uuid", "Type": "string" }</td>
</tr>
</tbody>
</table>
<p><strong>Example: Create a Serial over LAN (SOL) Policy</strong></p>
<p>The following example shows how to create Serial over LAN (SOL) in
Intersight using RestAPI calls.</p>
<p>The following is a sample of the API request.</p>
<p>{<br>
&ldquo;Name&rdquo;: &ldquo;SolPolicy&rdquo;,<br>
&ldquo;ComPort&rdquo;: &ldquo;com0&rdquo;,<br>
&ldquo;Organization&rdquo;: {<br>
&ldquo;ObjectType&rdquo;: &ldquo;organization.Organization&rdquo;,<br>
&ldquo;Moid&rdquo;: &ldquo;5facccc96972652d305616a7&rdquo;<br>
}<br>
}</p>
<p>The following is a sample API response.</p>
<p>{<br>
&ldquo;Moid&rdquo;: &ldquo;5fbcdca26275722d31de7519&rdquo;,<br>
&ldquo;ObjectType&rdquo;: &ldquo;sol.Policy&rdquo;,<br>
&ldquo;ClassId&rdquo;: &ldquo;sol.Policy&rdquo;,<br>
&ldquo;CreateTime&rdquo;: &ldquo;2020-11-24T10:12:51.160304663Z&rdquo;,<br>
&ldquo;ModTime&rdquo;: &ldquo;2020-11-24T10:12:51.160304663Z&rdquo;,<br>
&ldquo;Tags&rdquo;: [],<br>
&ldquo;Owners&rdquo;: [<br>
&ldquo;5facccc67564612d33a29166&rdquo;<br>
],<br>
&ldquo;SharedScope&rdquo;: &ldquo;&rdquo;,<br>
&ldquo;AccountMoid&rdquo;: &ldquo;5facccc67564612d33a29166&rdquo;,<br>
&ldquo;DomainGroupMoid&rdquo;: &ldquo;5facccc67564612d33a29167&rdquo;,<br>
&ldquo;Ancestors&rdquo;: null,<br>
&ldquo;PermissionResources&rdquo;: [{<br>
&ldquo;ObjectType&rdquo;: &ldquo;organization.Organization&rdquo;,<br>
&ldquo;ClassId&rdquo;: &ldquo;mo.MoRef&rdquo;,<br>
&ldquo;Moid&rdquo;: &ldquo;5facccc96972652d305616a7&rdquo;,<br>
&ldquo;link&rdquo;: &ldquo;<a href="https://intersight.com/api/v1/organization/Organizations/5facccc96972652d305616a7%22">https://intersight.com/api/v1/organization/Organizations/5facccc96972652d305616a7&quot;</a><br>
}],<br>
&ldquo;Description&rdquo;: &ldquo;&rdquo;,<br>
&ldquo;Name&rdquo;: &ldquo;SolPolicy&rdquo;,<br>
&ldquo;BaudRate&rdquo;: 9600,<br>
&ldquo;ComPort&rdquo;: &ldquo;com0&rdquo;,<br>
&ldquo;Enabled&rdquo;: true,<br>
&ldquo;SshPort&rdquo;: 2400,<br>
&ldquo;Organization&rdquo;: {<br>
&ldquo;ObjectType&rdquo;: &ldquo;organization.Organization&rdquo;,<br>
&ldquo;ClassId&rdquo;: &ldquo;mo.MoRef&rdquo;,<br>
&ldquo;Moid&rdquo;: &ldquo;5facccc96972652d305616a7&rdquo;,<br>
&ldquo;link&rdquo;: &ldquo;<a href="https://intersight.com/api/v1/organization/Organizations/5facccc96972652d305616a7%22">https://intersight.com/api/v1/organization/Organizations/5facccc96972652d305616a7&quot;</a><br>
},<br>
&ldquo;Profiles&rdquo;: null<br>
}</p>
<p>The following table explains the input properties.</p>
<table>
<colgroup>
<col style="width: 22%" />
<col style="width: 77%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Method</td>
<td>POST</td>
</tr>
<tr class="even">
<td>URL</td>
<td>/v1/sol/Policies</td>
</tr>
<tr class="odd">
<td>Content Type</td>
<td>JSON</td>
</tr>
<tr class="even">
<td>Body</td>
<td><p>The <strong>Text</strong> field will have the following value:</p>
<p>{<br />
"Name": "{{.global.workflow.input.Name}}",<br />
"ComPort": "{{.global.workflow.input.ComPort}}",<br />
"Organization": {<br />
"ObjectType": "organization.Organization",<br />
"Moid": "{{.security.OrganizationMoid}}"<br />
}<br />
}</p>
<p>The <strong>Content Type</strong> must be JSON.</p></td>
</tr>
<tr class="odd">
<td>Response Parser</td>
<td><p>The <strong>Response Parser</strong> field will have the following parameter:</p>
<ul>
<li><p><strong>Name</strong>:</p></li>
</ul>
<ul>
<li><blockquote>
<p>MOID</p>
</blockquote></li>
</ul>
<ul>
<li><p><strong>Path</strong>:</p></li>
</ul>
<ul>
<li><blockquote>
<p>$.Moid</p>
</blockquote></li>
</ul>
<ul>
<li><p><strong>Type</strong>:</p></li>
</ul>
<ul>
<li><blockquote>
<p>string</p>
</blockquote></li>
</ul></td>
</tr>
</tbody>
</table>
<p><strong>Note:</strong> The <strong>Body</strong> input parameter is optional as it would be empty
for a GET call method.</p>
<p><strong>Example: Fetch details of NetApp volume using volume ID</strong></p>
<p>The following example shows how to fetch the NetApp volume using Uuid of
the volume. It demonstrates the usage of outcomes to set status of API
execution and status message based on the API response.</p>
<p>The following is a sample URL of the request</p>
<p>/api/storage/volumes/0049cef7-8a23-11ea-87ab-00a098605c19</p>
<p>The following is a sample API response.</p>
<p>{<br>
    &ldquo;uuid&rdquo;: &ldquo;0049cef7-8a23-11ea-87ab-00a098605c19&rdquo;,<br>
    &ldquo;name&rdquo;: &ldquo;backup_volume&rdquo;,<br>
    &ldquo;size&rdquo;: 1130258432,<br>
    &ldquo;state&rdquo;: &ldquo;online&rdquo;,<br>
    &ldquo;aggregates&rdquo;: [<br>
        {<br>
            &ldquo;name&rdquo;: &ldquo;aggr01&rdquo;,<br>
            &ldquo;uuid&rdquo;: &ldquo;8347fd83-34b1-4234-a8ba-6c53bad0fc6a&rdquo;<br>
        }<br>
    ],<br>
    &ldquo;snapmirror&rdquo;: {<br>
        &ldquo;is_protected&rdquo;: true<br>
    },<br>
    &ldquo;space&rdquo;: {<br>
        &ldquo;size&rdquo;: 1130258432,<br>
        &ldquo;available&rdquo;: 1065709568,<br>
        &ldquo;used&rdquo;: 8036352<br>
    }<br>
}</p>
<p>The following table explains the input properties.</p>
<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Method</td>
<td>GET</td>
</tr>
<tr class="even">
<td>URL</td>
<td>/api/storage/volumes/0049cef7-8a23-11ea-87ab-00a098605c19</td>
</tr>
<tr class="odd">
<td>Content Type</td>
<td>JSON</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>"ResponseParser": {<br />
"Parameters": [<br />
{<br />
"Name": "Name",<br />
"Path": "$.name",<br />
"Type": "string"<br />
},<br />
{<br />
"Name": "State",<br />
"Path": "$.state",<br />
"Type": "string"<br />
},<br />
{<br />
"Name": "AvailableSize",<br />
"Path": "$.space.available",<br />
"Type": "float"<br />
},<br />
{<br />
"Name": "IsProtected",<br />
"Path": "$.snapmirror.is_protected",<br />
"Type": "boolean"<br />
}<br />
]<br />
}</td>
</tr>
<tr class="odd">
<td>Outcomes</td>
<td>"Outcomes": [<br />
{<br />
"Condition": "{{and (ge .local.response.HttpStatusCode 400)<br />
(lt .local.response.HttpStatusCode 600)}}"<br />
"Message"  : "API request failed - {{.local.response.HttpStatusCode}}:{{.local.response.HttpStatusMsg}}",<br />
"Name"     : "API Invoke Error",<br />
"Type"     : "Error"<br />
},<br />
{<br />
"Condition": "{{ne .local.response.State "online"}}",<br />
"Message"  : "Fetched Volume {{.local.response.Name}} is offline",<br />
"Name"     : "Offline Volume",<br />
"Type"     : "Error"<br />
},<br />
{<br />
"Condition": "{{lt .local.response.AvailableSize 100000000}}",<br />
"Message"  : "Available space in the volume {{.local.response.Name}} is less than 100 MB.",<br />
"Name"     : "Out of Space",<br />
"Type"     : "Error"<br />
},<br />
{<br />
"Condition": "{{eq .local.response.IsProtected false}}",<br />
"Message"  : "Fetched Volume {{.local.response.Name}} is not protected.",<br />
"Name"     : "Insecure Volume",<br />
"Type"     : "Error"<br />
},<br />
{<br />
"Condition": "true",<br />
"Message"  : "Volume prerequisite checks succeeded.",<br />
"Name"     : "All Good",<br />
"Type"     : "Success"<br />
}<br />
]</td>
</tr>
</tbody>
</table>
<p>The response parser specification captures these outputs from the
response such as Name, State, AvailableSize, and IsProtected.</p>
<p>The extracted values can be used to set the task status using outcomes.
The syntax to refer the API outputs in outcomes is
.local.response.&lt;api-output-parameter-name&gt; where
api-output-parameter-name can refer:</p>
<ul>
<li>
<p>Predefined API output parameters such as HttpStatusCode,
HttpStatusMsg</p>
</li>
<li>
<p>Output parameters captured using Response Parser.</p>
</li>
</ul>
<blockquote>
<p><strong>Important:</strong> If the specified output parameter is not available, the
template engine throws validation error message when API is executed.
Following syntax can be used to check if output parameter exists in
response and then use.</p>
<p>{{if index .local.response api-param-name }} {{.local.response.&lt;api-output-parameter-name&gt;}} {{end}}</p>
</blockquote>
<p>In this example, the following outcomes are added based on the API
response.</p>
<ol>
<li>For the API invocation error where the HTTP status code is between
400 to 600 indicates. If the condition evaluates to true then an
error message is set to show the status code and status message.</li>
</ol>
<table>
<colgroup>
<col style="width: 10%" />
<col style="width: 89%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Name</td>
<td><p><strong>API Invoke Error</strong></p>
<p>The name identifies an outcome in the outcomes list. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td>Condition</td>
<td><p>{{and (ge .local.response.HttpStatusCode 400) <br />
      (lt .local.response.HttpStatusCode 600)}}</p>
<p>This condition checks whether the response status code of API is between 400 and 600.</p></td>
</tr>
<tr class="odd">
<td>Outcome Type</td>
<td><p><strong>Error</strong></p>
<p>If the Condition is true, status of API is set to Failed.</p></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><p>API request failed - {{.local.response.HttpStatusCode}}:{{.local.response.HttpStatusMsg}}</p>
<p>If the Condition is true, status message of API is set to above.</p></td>
</tr>
</tbody>
</table>
<ol>
<li>An API error is thrown if the fetched volume is not online. An
example for string comparison is the following.</li>
</ol>
<table>
<colgroup>
<col style="width: 15%" />
<col style="width: 84%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Name</td>
<td><p><strong>Offline Volume</strong></p>
<p>The name identifies an outcome in the outcomes list. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td>Condition</td>
<td><p>{{ne .local.response.State "online"}}</p>
<p>This condition checks whether the captured output string State is equal to online. Please make sure the string value is enclosed in double quotes.</p></td>
</tr>
<tr class="odd">
<td>Outcome Type</td>
<td><p><strong>Error</strong></p>
<p>If the Condition is true, status of API is set to Failed.</p></td>
</tr>
<tr class="even">
<td>Message</td>
<td><p>Fetched Volume {{.local.response.Name}} is offline </p>
<p>If the Condition is true, status message of API is set to above.</p></td>
</tr>
</tbody>
</table>
<ol>
<li>An API error is thrown if the fetched volume does not have a of
minimum 100 MB free space.</li>
</ol>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Name</strong></td>
<td><p><strong>Out of Space</strong></p>
<p>The name identifies an outcome in the outcomes list. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td><strong>Condition</strong></td>
<td><p>{{lt .local.response.AvailableSize 100000000}}</p>
<p>This condition checks whether the available space is less than 100 MB. The fetched AvailableSize is of type float64.</p></td>
</tr>
<tr class="odd">
<td><strong>Outcome Type</strong></td>
<td><p><strong>Error</strong></p>
<p>If the Condition is true, status of API is set to Failed.</p></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><p>Available space in the volume {{.local.response.Name}} is less than 100 MB</p>
<p>If the Condition is true, status message of API is set to above.</p></td>
</tr>
</tbody>
</table>
<ol>
<li>An API error is thrown if the fetched volume’s secure property is
not set. An example for Boolean comparison is the following.</li>
</ol>
<table>
<colgroup>
<col style="width: 19%" />
<col style="width: 80%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Name</strong></td>
<td><p><strong>Insecure Volume</strong></p>
<p>The name identifies an outcome in the outcomes list. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td><strong>Condition</strong></td>
<td><p>{{eq .local.response.IsProtected false}} </p>
<p>This condition checks whether the captured IsProtected output parameter is not set.</p></td>
</tr>
<tr class="odd">
<td><strong>Outcome Type</strong></td>
<td><p><strong>Error</strong></p>
<p>If the Condition is true, status of API is set to Failed.</p></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><p>Fetched Volume {{.local.response.Name}} is not protected.</p>
<p>If the Condition is true, status message of API is set to above.</p></td>
</tr>
</tbody>
</table>
<ol>
<li>This can be termed as the final outcome for a successful completion.</li>
</ol>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Outcome Property</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Name</strong></td>
<td><p><strong>All Good</strong></p>
<p>The name identifies an outcome in the outcomes list of task designer. The name is not used for any other purpose.</p></td>
</tr>
<tr class="even">
<td><strong>Condition</strong></td>
<td><p><strong>True</strong></p>
<p>{{eq .local.response.HttpStatusCode 200}}</p>
<p><strong>True</strong> can be used as the condition to capture all scenarios or the specific success response status code can be used, which is 200.</p></td>
</tr>
<tr class="odd">
<td><strong>Outcome Type</strong></td>
<td><strong>Success</strong></td>
</tr>
<tr class="even">
<td><strong>Message</strong></td>
<td><p><strong>Volume prerequisite checks succeeded.</strong></p>
<p>Above message is set as status message.</p></td>
</tr>
</tbody>
</table>
<p><strong>Example: Invoke Nexus device API to authenticate using aaaLogin and
create VLAN – Illustrates custom Target authentication in the web API
workflow</strong></p>
<p>The following example workflow has two Invoke Web API tasks. The first
task shows how to authenticate against Nexus switch using aaaLogin and
second API creates a VLAN on the switch using the authentication token
extracted from the first login API. It is assumed that Nexus switch is
added as HTTP Endpoint target without authentication parameters.</p>
<p>The following is a sample API request sent to authenticate against Nexus
device and fetch the authentication token.</p>
<p><strong>URL</strong> : POST /api/aaaLogin.json<br>
<strong>Body</strong>:<br>
{<br>
&ldquo;aaaUser&rdquo;: {<br>
&ldquo;attributes&rdquo;: {<br>
&ldquo;name&rdquo;: &ldquo;username&rdquo;,<br>
&ldquo;pwd&rdquo;: &ldquo;password&rdquo;<br>
}<br>
}<br>
}</p>
<p>The following is a sample response received from Nexus device, Token key
in the response holds the Token which should be used in subsequent API
calls to authenticate.</p>
<p>{<br>
&ldquo;totalCount&rdquo;: &ldquo;1&rdquo;,<br>
&ldquo;imdata&rdquo;: [<br>
{<br>
&ldquo;aaaLogin&rdquo;: {<br>
&ldquo;attributes&rdquo;: {<br>
&ldquo;token&rdquo;: &ldquo;Token Value&rdquo;,<br>
&ldquo;refreshTimeoutSeconds&rdquo;: &ldquo;9600&rdquo;,<br>
&ldquo;maximumLifetimeSeconds&rdquo;: &ldquo;86400&rdquo;,<br>
&ldquo;guiIdleTimeoutSeconds&rdquo;: &ldquo;9600&rdquo;,<br>
&ldquo;userName&rdquo;: &ldquo;username&rdquo;,<br>
}<br>
}<br>
}<br>
]<br>
}</p>
<p>From the above response, the JSON path of the token value is
$.imdata[0].aaaLogin.attributes.token.</p>
<p>The following table displays the required web API request task input and
response parser to achieve the above requirements.</p>
<table>
<colgroup>
<col style="width: 14%" />
<col style="width: 85%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Target</strong></td>
<td><p>External targets can be mapped to Targets either as custom value or workflow input.</p>
<p><strong>Note:</strong> Nexus switch is added as HTTP Endpoint by disabling Authentication Required input slider.</p></td>
</tr>
<tr class="even">
<td><strong>Method</strong></td>
<td>POST</td>
</tr>
<tr class="odd">
<td><strong>URL</strong></td>
<td>/api/aaaLogin.json</td>
</tr>
<tr class="even">
<td><strong>Body</strong></td>
<td><p>The request body has templates with values referred from workflow input as follows:</p>
<p>Password workflow input should be marked as secure property to make sure the value is hidden and encrypted while data-in-transit and data-at-rest.</p>
<p>"Body": {<br />
{<br />
"aaaUser": {<br />
"attributes": {<br />
"name": "{{.global.workflow.input.Username}}",<br />
"pwd": "{{.global.workflow.input.Password}}",<br />
}<br />
}<br />
}<br />
}</p></td>
</tr>
<tr class="odd">
<td><strong>Content Type</strong></td>
<td>JSON</td>
</tr>
<tr class="even">
<td><strong>Response Parser</strong></td>
<td><p>The Response Parser field will have the following parameter:</p>
<p>"ResponseParser": {<br />
"Parameters": [<br />
{<br />
"Name": "AuthToken",<br />
"Path": "$.imdata[0].aaaLogin.attributes.token"<br />
"Type": "string"<br />
}<br />
]<br />
}</p></td>
</tr>
</tbody>
</table>
<p>The following is a sample API request sent to Nexus switch to create
VLAN 501 with authentication token populated in the cookie input.</p>
<p><strong>URL</strong> : POST /api/mo/sys/bd.json<br>
<strong>Cookie</strong> : APIC-cookie=&lt;Token-Value&gt;<br>
<strong>Body</strong> :<br>
{<br>
&ldquo;bdEntity&rdquo;: {<br>
&ldquo;children&rdquo;: [<br>
{<br>
&ldquo;l2BD&rdquo;: {<br>
&ldquo;attributes&rdquo;: {<br>
&ldquo;fabEncap&rdquo;: &ldquo;vlan-501&rdquo;,<br>
&ldquo;pcTag&rdquo;: &ldquo;1&rdquo;<br>
}<br>
}<br>
}<br>
]<br>
}<br>
}</p>
<p>The output of first task &ldquo;AuthToken&rdquo; needs to be populated in the cookie
input of the create VLAN task.</p>
<p>The output mapping template format is as
follows:{{.global.InvokeGenericWebApi1.output.Parameters.AuthToken}}</p>
<p>The following table displays the required web API request task inputs to
achieve the above requirements.</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Target</strong></td>
<td><p>External targets can be mapped to Targets either as custom value or workflow input.</p>
<p><strong>Note:</strong> Nexus switch is added as HTTP Endpoint by disabling Authentication Required input slider.</p></td>
</tr>
<tr class="even">
<td><strong>Method</strong></td>
<td>POST</td>
</tr>
<tr class="odd">
<td><strong>URL</strong></td>
<td>/api/mo/sys/bd.json</td>
</tr>
<tr class="even">
<td><strong>Cookie</strong></td>
<td>{<br />
APIC-cookie={{.global.InvokeGenericWebApi1.output.Parameters.AuthToken}}<br />
}</td>
</tr>
<tr class="odd">
<td><strong>Body</strong></td>
<td>{<br />
"bdEntity": {<br />
"children": [<br />
{<br />
"l2BD": {<br />
"attributes": {<br />
"fabEncap": "vlan-501",<br />
"pcTag": "1"<br />
}<br />
}<br />
}<br />
]<br />
}<br />
}</td>
</tr>
<tr class="even">
<td><strong>Content Type</strong></td>
<td>JSON</td>
</tr>
</tbody>
</table>
<p><strong>Example: Create a Virtual Machine using Content Library and Attach a
SCSI Controller to the created virtual machine–Illustrates Task Output
Mapping</strong></p>
<p>The following example workflow has two Invoke Web API tasks. The first
task shows how to create a virtual machine using content library. In
this task, the Virtual machine ID is extracted for the newly created
virtual machine. The second task fetches the virtual machine ID of
previously created virtual machine and add a SCSI controller to the
created virtual machine. This example assumes that the workflow inputs
names are <strong>libraryID</strong>, <strong>datastoreID</strong>, <strong>folderID, hostID,
respoolID</strong>, and <strong>External Targets</strong> already exists.</p>
<p>The following is a sample API request sent to vCenter endpoint to create
a virtual machine using content library.</p>
<p>POST /rest/com/vmware/vcenter/ovf/library-item/id:{{.global.workflow.input.libraryID}}?~action=deploy<br>
{<br>
{<br>
&ldquo;deployment_spec&rdquo;: {<br>
&ldquo;accept_all_EULA&rdquo;: true,<br>
&ldquo;default_datastore_id&rdquo;: &ldquo;{{.global.workflow.input.datastoreID}}&rdquo;<br>
},<br>
&ldquo;target&rdquo;: {<br>
&ldquo;folder_id&rdquo;: &ldquo;{{.global.workflow.input.folderID}}&rdquo;,<br>
&ldquo;host_id&rdquo;: &ldquo;{{.global.workflow.input.hostID}}&rdquo;,<br>
&ldquo;resource_pool_id&rdquo;: &ldquo;{{.global.workflow.input.respoolID}}&rdquo;<br>
}<br>
}</p>
<p>The following is a sample response received from NetApp.</p>
<p>{<br>
&ldquo;value&rdquo;:<br>
{<br>
&ldquo;resource_id&rdquo;:<br>
{<br>
&ldquo;id&rdquo;:&ldquo;vm-52491&rdquo;<br>
&ldquo;type&rdquo;: &ldquo;VirtualMachine&rdquo;<br>
}<br>
&ldquo;succeeded&rdquo;:&ldquo;true&rdquo;<br>
}<br>
} </p>
<p>From the above response, the JSON path for the <strong>id</strong> value in the
<strong>resource_id</strong> parameter is <strong>$.value.resource_id.id</strong></p>
<p>The following table displays the required web API request task input and
response parser to achieve the above requirements.</p>
<table>
<colgroup>
<col style="width: 13%" />
<col style="width: 86%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Target</td>
<td>External targets can be mapped to Targets either as custom value or workflow input.</td>
</tr>
<tr class="even">
<td>Method</td>
<td>"Method": "POST",</td>
</tr>
<tr class="odd">
<td>URL</td>
<td>"Url": "/rest/com/vmware/vcenter/ovf/library-item/id:{{.global.workflow.input.libraryID}}?~action=deploy ",</td>
</tr>
<tr class="even">
<td>Body</td>
<td><p>The request body has templates with values referred from workflow input as follows:</p>
<p>"Body": {<br />
"deployment_spec": {<br />
"accept_all_EULA": true,<br />
"default_datastore_id": "{{.global.workflow.input.datastoreID}}"<br />
},<br />
"target": {<br />
"folder_id": "{{.global.workflow.input.folderID}}",<br />
"host_id": "{{.global.workflow.input.hostID}}",<br />
"resource_pool_id": "{{.global.workflow.input.respoolID}}"<br />
}<br />
}</p></td>
</tr>
<tr class="odd">
<td>Content Type</td>
<td>"ContentType": "json",</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>"ResponseParser": {<br />
"Parameters": [<br />
{<br />
"Name": "vmID",<br />
"Path": "$.value.resource_id.id ",<br />
"Type": "string"<br />
}</td>
</tr>
</tbody>
</table>
<p>The following is a sample API request sent to VMware vCenter endpoint to
add SCSI controller using virtual machine ID:</p>
<p>POST /rest/vcenter/vm/vm-52491/hardware/adapter/scsi<br>
{&ldquo;spec&rdquo;: {&ldquo;type&rdquo;: &ldquo;LSILOGICSAS&rdquo;}} </p>
<p>The following is a sample response received from VMware vCenter.</p>
<p>{<br>
&ldquo;value&rdquo;:&ldquo;1000&rdquo;<br>
}</p>
<p>The URL input requires previous task’s <strong>vmID</strong> output. The name of web
API tasks within a workflow is named InvokeGenericWebApi&lt;number&gt;,
irrespective of what the user names it. To get previous task name
through workflow designer, click the JSON View button and make a note of
the Task Name, for example, InvokeGenericWebApi1.</p>
<p>The output mapping template format is as follows:</p>
<p>{{.global.InvokeGenericWebApi1.output.Parameters.vmID}}</p>
<table>
<colgroup>
<col style="width: 9%" />
<col style="width: 90%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Target</td>
<td>External targets can be mapped to Targets either as custom value or workflow input.</td>
</tr>
<tr class="even">
<td>Method</td>
<td>"Method": "POST",</td>
</tr>
<tr class="odd">
<td>URL</td>
<td><p>"Url": "/rest/vcenter/vm/{{.global.InvokeGenericWebApi1.output.Parameters.vmID}}/hardware/adapter/scsi ",</p>
<p><strong>Note: InvokeGenericWebApi1</strong> is the task reference name of the previous task in the workflow.</p></td>
</tr>
<tr class="even">
<td>Body</td>
<td><p>The request body has templates with values referred from workflow input as follows:</p>
<p>"Body": {"spec": {"type": "LSILOGICSAS"}</p></td>
</tr>
<tr class="odd">
<td>Content Type</td>
<td>"ContentType": "json",</td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td>"ResponseParser": <br />
{ "Parameters": [ { "Name": "value", "Path": "$.value", "Type": "string" }</td>
</tr>
</tbody>
</table>
<p><span id="_Refd24e21884" class="anchor"></span>Upgrading Connector Packs
on UCS Director Instances</p>
<p>Cisco Intersight introduces the ability to update connector pack
versions that are installed on claimed UCS Director instances. After
claiming a UCS Director instance in Intersight, as an account
administrator, you can perform the following actions:</p>
<ul>
<li>View a list of updated versions for currently installed connector
packs on the UCS Director instance.</li>
</ul>
<!-- -->
<ul>
<li>The list of updated versions available for connector packs is based
on the UCS Director software version installed on the instance.</li>
</ul>
<!-- -->
<ul>
<li>Download and install the updated versions of the connector packs on
the UCS Director instance. You can either install the updated
versions immediately after downloading them or you can install it at
a later point in time.</li>
</ul>
<p>From Cisco Intersight, you can view and install updated versions of
connector packs only. You cannot download and install updated versions
of Cisco UCS Director. To install the latest versions of Cisco UCS
Director, you must download it from <a href="http://cisco.com/">Cisco.com</a>. For
more information, see the <a href="https://www.cisco.com/c/en/us/support/servers-unified-computing/ucs-director/products-installation-guides-list.html">Cisco UCS Director Installation and Upgrade
Guides</a>.</p>
<p>Prerequisites and Guidelines</p>
<ul>
<li>
<p>This feature is available only with UCS Director version 6.7(4.0)
and later versions.</p>
</li>
<li>
<p>In an optimized multi-node configuration, the updated connector pack
versions are installed on the primary node.</p>
</li>
<li>
<p>Installing updated versions of connector packs on a UCS Director
instance will result in the UCS Director services restarting. All
users who are logged in to the UCS Director instance will be
automatically logged out.</p>
</li>
<li>
<p>Prior to installing the updated versions of the connector packs,
take a backup of the data on the UCS Director instance. For more
information, see <a href="file://E:%5Chelp%5Cresources%5Cbackup_and_restore">Backup and Restore for Cisco UCS Director
Instances</a>.</p>
</li>
<li>
<p>From Cisco Intersight, you can download and update all connector
packs on a UCS Director instance. You cannot download and install
specific connector packs. If you want to install specific connector
packs, then you must use the UCS Director user interface. For more
information, see the <a href="https://www.cisco.com/c/en/us/support/servers-unified-computing/ucs-director/products-maintenance-guides-list.html">Cisco UCS Director Administration
Guide</a>.</p>
</li>
<li>
<p>For customers using Intersight Private Virtual Appliance, the
connector packs are available in the Intersight Private Virtual
Appliance account.</p>
</li>
</ul>
<p>Updating Connector Pack Versions on UCS Director Instances</p>
<ol>
<li>
<p>From the table view of the UCS Director instances, select a UCS
Director instance and click Update Software.</p>
</li>
<li>
<p>In the Update Software screen, wait for the screen to populate
information on the updated versions of connector packs. The
following information is displayed:</p>
</li>
</ol>
<ul>
<li>Connector Pack Version Information—Displays the names of the
connector packs, versions of the connector packs installed on the
UCS Director instance and the latest version number for each
connector pack.</li>
</ul>
<!-- -->
<ul>
<li>This information is based on the last inventory run on the UCS
Director instance. The inventory runs every 12 hours.</li>
</ul>
<!-- -->
<ul>
<li>UCS Director Instance Information—Displays the UCS Director instance
name, management IP address, environment in which the instance is
deployed, the installed UCS Director software version and the time
when the last inventory process was run on the instance.</li>
</ul>
<ol>
<li>Choose one of the following options:</li>
</ol>
<ul>
<li>Click Download to Instance to download the new versions of the
connector packs to the UCS Director instance.</li>
</ul>
<!-- -->
<ul>
<li>After the connector packs are downloaded, you can either choose to
install the updated connector packs right away, or at a later point.
If you want to install specific connector pack versions on the UCS
Director instance, then you must use the UCS Director user
interface.</li>
</ul>
<!-- -->
<ul>
<li>Click Download and Update to download the new versions of the
connector packs and install these versions on the UCS Director
instance immediately.</li>
</ul>
<blockquote>
<p><strong>Note:</strong> Installing latest versions of connector packs on the UCS
Director instance will result in a restart of the UCS Director
services. All logged in users are automatically logged out when the
services restart.</p>
</blockquote>
<ol>
<li>
<p>To view the progress of the installation process, choose Requests on
the header pane, and click View All.</p>
</li>
<li>
<p>Choose a workflow name to view the details.</p>
</li>
</ol>
<p><span id="_Toc105371570" class="anchor"></span>Backup and Restore for
UCS Director in Intersight</p>
<p>Overview</p>
<p>Cisco Intersight introduces the ability to take backups and restore
backups for claimed UCS Director instances. After claiming a UCS
Director instance in Intersight, as an account administrator, you can
perform the following tasks:</p>
<ul>
<li>
<p>Take a backup of Cisco UCS Director—You can either create a backup
policy to run at a scheduled time or you can perform an on-demand
backup. For either of these options, you can choose to have the
backed up files stored on the local UCS Director instance or you can
specify a system on the network.</p>
</li>
<li>
<p>View a list of backups—You can view the list of backup processes
that have run on all UCS Director instances.</p>
</li>
<li>
<p>Restore data from a backup image—You can choose a backup image and
restore it on a UCS Director instance.</p>
</li>
<li>
<p>Download Connector Packs—You can download the latest versions of
installed connector packs on a UCS Director instance.</p>
</li>
</ul>
<p>A user with read-only privileges can only view the list of backup
processes that have run on all UCS Director instances.</p>
<p>Prerequisites and Guidelines</p>
<ul>
<li>
<p>Device Connector version 1.0.9-1165 or higher must be installed.</p>
</li>
<li>
<p>Cisco UCS Director Base Platform Pack version 6.7.3.1 or later must
be installed on the UCS Director instance to use the backup and
restore feature. In an optimized multi-node setup, prior to
installing or upgrading the base platform pack to version 6.7.3.1 or
later, you must first configure passwordless authentication between
the primary node and the database node.</p>
</li>
<li>
<p>You can take backups and restore backups in both, single node and
optimized multi-node configurations. However, you cannot take
backups of a UCS Director instance in a single node configuration
and restore it on an instance in an optimized multi-node
configuration.</p>
</li>
<li>
<p>If the versions of the connector packs in the backup image are more
recent than the connector pack versions installed on the UCS
Director instance that you want to restore the backup to, then the
restore process upgrades the connector packs on the UCS Director
instance to the latest version.</p>
</li>
<li>
<p>If the file location specified for an on-demand backup process and a
scheduled backup process is the same, then the file created by the
on-demand backup process is deleted based on the retention copies
configured in the backup schedule.</p>
</li>
</ul>
<p>Running an Immediate Backup for UCS Director Instances</p>
<p>An immediate backup is a point-in-time process and is initiated
immediately after you provide the backup details. Prior to initiating
this backup, you must specify if the backup file must be stored on the
current UCS Director instance or on a specific system in the network.</p>
<ol>
<li>
<p>From the table view of the UCS Director instances, select a UCS
Director instance and click Backup.</p>
</li>
<li>
<p>In the General page, review the details of the UCS Director instance
that is displayed, and click Next.</p>
</li>
<li>
<p>In the Configure Backup page, specify the location of the backup
file.</p>
</li>
</ol>
<ul>
<li>
<p>Selected Instance—Implies that the backup file must be stored on the
current UCS Director instance.</p>
</li>
<li>
<p>Network Share—Implies that the backup file must be stored in a
location external to the current UCS Direct instance.</p>
</li>
</ul>
<ol>
<li>If you chose Selected Instance, provide the following information:</li>
</ol>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Backup Filename Prefix</td>
<td>A prefix for the name of the backup file. A unique file name is created for the backup image that includes the specified prefix and the timestamp.</td>
</tr>
</tbody>
</table>
<ol>
<li>If you chose Network Share, provide the following information:</li>
</ol>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Backup Filename Prefix</td>
<td>A prefix for the name of the backup file. A unique file name is created for the backup that includes the specified prefix and the timestamp.</td>
</tr>
<tr class="even">
<td>Protocol</td>
<td><p>Protocol to be used to transfer the backup file to the location where the file must be stored. It can be one of the following:</p>
<ul>
<li><p>SCP</p></li>
<li><p>SFTP</p></li>
<li><p>FTP</p></li>
</ul>
<blockquote>
<p><strong>Important:</strong> Storing backup files on anonymous FTP servers is currently not supported.</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>File Location</td>
<td><p>The location where the backup file must be stored. You must provide the IP address or the hostname of the location and the complete file system path.</p>
<p>For example: 10.10.10.10/var/backup.</p></td>
</tr>
<tr class="even">
<td>Username</td>
<td>User name for the backup server.</td>
</tr>
<tr class="odd">
<td>Password</td>
<td>Password for the user name of the backup server.</td>
</tr>
</tbody>
</table>
<ol>
<li>Click Save.</li>
</ol>
<!-- -->
<ol>
<li>The backup process is initiated immediately. You can view the the
list of backup files from the Backups tab.</li>
</ol>
<p>Creating a Backup Schedule</p>
<p>You can create a backup schedule to ensure that backups run at a
stipulated time and backup images are stored at a specific location. You
can choose to store the backup files either in the root directory of the
UCS Director instance or choose a different location on the network.</p>
<ol>
<li>
<p>From the table view of the UCS Director instances, select a UCS
Director instance and click Schedule Backup.</p>
</li>
<li>
<p>In the General page, review the details of the UCS Director instance
that is displayed, and click Next.</p>
</li>
<li>
<p>In the Configure Backup page, specify the organization that the UCS
Director instance belongs to and the type of schedule you want to
create.</p>
</li>
</ol>
<ul>
<li>
<p>Organizations—Displays the list of organizations that the UCS
Director instance belongs to. By choosing a specific organization
from this list, it allows administrators of those specific
organizations to view backup images created for this instance, and
restore from those images.</p>
</li>
<li>
<p>Daily—The backup schedule runs every day, starting with the date and
time you select.</p>
</li>
<li>
<p>Periodic—The backup schedule runs periodically, starting with the
date and time interval you select. By default, a periodic backup
schedule runs every 8 hours. Other options include 4, 12, 16, or 20.</p>
</li>
</ul>
<ol>
<li>Specify the location where the backup file must be stored.</li>
</ol>
<!-- -->
<ol>
<li>It can be one of the following:</li>
</ol>
<ul>
<li>
<p>Selected Instance—Default option. The backup file is stored on the
current UCS Director instance.</p>
</li>
<li>
<p>Network Share—The backup file is stored in a location external to
the current UCS Direct instance.</p>
</li>
</ul>
<ol>
<li>If you chose Selected Instance, provide the following information:</li>
</ol>
<table>
<colgroup>
<col style="width: 17%" />
<col style="width: 82%" />
</colgroup>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Backup Filename Prefix</td>
<td>A prefix for the name of the backup file. A unique file name is created for the backup image that includes the specified prefix and the timestamp.</td>
</tr>
<tr class="even">
<td>Retention Copies</td>
<td>The number of backup copies maintained on the server.</td>
</tr>
</tbody>
</table>
<ol>
<li>If you chose Network Share, provide the following information:</li>
</ol>
<table>
<colgroup>
<col style="width: 16%" />
<col style="width: 83%" />
</colgroup>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Backup Filename Prefix</td>
<td>A prefix for the name of the backup file. A unique file name is created for the backup image that includes the specified prefix and the timestamp.</td>
</tr>
<tr class="even">
<td>Protocol</td>
<td><p>Protocol to be used to transfer the backup image to the location where the image must be stored. It can be one of the following:</p>
<ul>
<li><p>SCP</p></li>
<li><p>SFTP</p></li>
<li><p>FTP</p></li>
</ul>
<blockquote>
<p><strong>Important:</strong> Storing backup images on anonymous FTP servers is currently not supported.</p>
</blockquote></td>
</tr>
<tr class="odd">
<td>File Location</td>
<td>The location where the backup file must be stored. Provide the IP address or the hostname of the location and the complete file system path. For example: 10.10.10.10/var/backup.</td>
</tr>
<tr class="even">
<td>Username</td>
<td>User name for the backup server.</td>
</tr>
<tr class="odd">
<td>Password</td>
<td>Password for the user name of the backup server.</td>
</tr>
<tr class="even">
<td>Retention Copies</td>
<td>The number of backup copies maintained on the server.</td>
</tr>
</tbody>
</table>
<ol>
<li>Click Save.</li>
</ol>
<blockquote>
<p><strong>Note:</strong> To edit a backup schedule at a later point in time, select
the UCS Director instance and click Schedule Backup. In the subsequent
panes, edit the values of the fields and click Save.</p>
</blockquote>
<p>Viewing Backup Files for UCS Director Instances</p>
<p>The Backups tab displays the list of backup files that have been created
for all UCS Director instances claimed in Intersight. On this tab, you
can view the following information:</p>
<ul>
<li>
<p>Last Modified—The time when backups were performed on UCS Director
instances.</p>
</li>
<li>
<p>Status—The status of backup processes. It can be Failed or
Completed.</p>
</li>
<li>
<p>Backup Server IP—The IP address of the backup server where the
backup files are stored.</p>
</li>
<li>
<p>Location—The complete path to the backup file on the backup server.</p>
</li>
<li>
<p>Backup File Name—The name of the backup file created.</p>
</li>
<li>
<p>File Size (MB)—The size of the backup file.</p>
</li>
<li>
<p>Duration (minutes)—The duration of the backup process.</p>
</li>
<li>
<p>Instance—The IP address of the UCS Director instance.</p>
</li>
<li>
<p>Organizations—The organizations that the UCS Director instance is
associated with.</p>
</li>
</ul>
<p>Restoring a Backup Image for a UCS Director Instance</p>
<p>You can restore a backup image that is of the same version that is
running on the selected UCS Director instance. While restoring a backup
image, if more recent versions of connector packs that are currently
installed on the UCS Director instance are available, then the restore
process will also upgrade the connector pack versions to the latest
versions.</p>
<ol>
<li>
<p>From the table view of the UCS Director instances, select a UCS
Director instance and click Restore From Backup.</p>
</li>
<li>
<p>In the Backup Selection page, use the toggle bar to indicate if you
want to exclude the licensing information while restoring the backup
image.</p>
</li>
<li>
<p>Review the list of backup files available for the selected UCS
Director instance and select the backup file to restore.</p>
</li>
</ol>
<blockquote>
<p><strong>Important:</strong> The list of backup files displayed is dependent on the
platform version of the UCS Director instance that you selected in
step 1.</p>
</blockquote>
<ol>
<li>
<p>Click Next.</p>
</li>
<li>
<p>In the Backup Location page, modify the following fields, if
required:</p>
</li>
</ol>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Field</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Protocol</td>
<td><p>Protocol to transfer the backup image to the location where the image must be restored. It can be one of the following:</p>
<ul>
<li><p>SCP</p></li>
<li><p>SFTP</p></li>
<li><p>FTP</p></li>
</ul>
<p>This value is auto-populated. You cannot modify the protocol if you have chosen to restore from a local backup image.</p></td>
</tr>
<tr class="even">
<td>File Location</td>
<td>This field is auto-populated based on the backup image that you selected in the Backup Selection page.</td>
</tr>
<tr class="odd">
<td>Username</td>
<td>User name of the backup server name.</td>
</tr>
<tr class="even">
<td>Password</td>
<td>Password of the user name of the backup server name.</td>
</tr>
</tbody>
</table>
<ol>
<li>
<p>Click Next.</p>
</li>
<li>
<p>In the Summary page, review the information that is displayed and
click Restore.</p>
</li>
<li>
<p>To view the progress of the restore process, choose Requests on the
header pane and click View All.</p>
</li>
<li>
<p>Click a workflow name to view the details of the process.</p>
</li>
</ol>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-650637181459c1c25669ba2fc67c40dd">4.8 - Executors</h1>
    <div class="lead">Intersight Orchestrator allows workflow designers to perform executor tasks on endpoint in workflows. For more information, see:</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-4cfa2155ed48e5d2c70094bc9e28d849">4.8.1 - Ansible</h1>
    <div class="lead">Intersight Cloud Orchestrator allows workflow designers to run Ansible Playbook on the Ansible Controller node using the <strong>Invoke Ansible Playbook</strong> reusable task in the workflow.</div>
	<p>This is a sample text.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">&lt;/</span><span style="color:#204a87;font-weight:bold">div</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">div</span> <span style="color:#c4a000">id</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;content-desktop&#34;</span><span style="color:#000;font-weight:bold">&gt;&lt;/</span><span style="color:#204a87;font-weight:bold">div</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">nav</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;collapse td-sidebar-nav&#34;</span> <span style="color:#c4a000">id</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;td-section-nav&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">ul</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;td-sidebar-nav__section pr-md-3 ul-0&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">li</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path&#34;</span> <span style="color:#c4a000">id</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;m-docs-li&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">a</span> <span style="color:#c4a000">href</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;/docs/&#34;</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root&#34;</span> <span style="color:#c4a000">id</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;m-docs&#34;</span><span style="color:#000;font-weight:bold">&gt;&lt;</span><span style="color:#204a87;font-weight:bold">span</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>Documentation<span style="color:#000;font-weight:bold">&lt;/</span><span style="color:#204a87;font-weight:bold">span</span><span style="color:#000;font-weight:bold">&gt;&lt;/</span><span style="color:#204a87;font-weight:bold">a</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">ul</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;ul-1&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">li</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;td-sidebar-nav__section-title td-sidebar-nav__section with-child&#34;</span> <span style="color:#c4a000">id</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;m-docsgettingstarted-li&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">a</span> <span style="color:#c4a000">href</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;/docs/gettingstarted/&#34;</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;align-left pl-0 td-sidebar-link td-sidebar-link__section&#34;</span> <span style="color:#c4a000">id</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;m-docsgettingstarted&#34;</span><span style="color:#000;font-weight:bold">&gt;&lt;</span><span style="color:#204a87;font-weight:bold">span</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>Getting Started<span style="color:#000;font-weight:bold">&lt;/</span><span style="color:#204a87;font-weight:bold">span</span><span style="color:#000;font-weight:bold">&gt;&lt;/</span><span style="color:#204a87;font-weight:bold">a</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">ul</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;ul-2 foldable&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">li</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;td-sidebar-nav__section-title td-sidebar-nav__section without-child collapse&#34;</span> <span style="color:#c4a000">id</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;m-docsgettingstartedoverview-li&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">a</span> <span style="color:#c4a000">href</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;/docs/gettingstarted/overview/&#34;</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;align-left pl-0 td-sidebar-link td-sidebar-link__page&#34;</span> <span style="color:#c4a000">id</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;m-docsgettingstartedoverview&#34;</span><span style="color:#000;font-weight:bold">&gt;&lt;</span><span style="color:#204a87;font-weight:bold">span</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>Overview<span style="color:#000;font-weight:bold">&lt;/</span><span style="color:#204a87;font-weight:bold">span</span><span style="color:#000;font-weight:bold">&gt;&lt;/</span><span style="color:#204a87;font-weight:bold">a</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&lt;/</span><span style="color:#204a87;font-weight:bold">li</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span></code></pre></div><div class="highlight"><div style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;">
<table style="border-spacing:0;padding:0;margin:0;border:0;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="background-color:#dfdfdf"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span></span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="background-color:#dfdfdf"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></span><span style="background-color:#dfdfdf"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span></span><span style="background-color:#dfdfdf"><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span></span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="white-space:pre;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;display:grid;"><code class="language-go" data-lang="go"><span style="display:flex;"><span><span style="color:#000">Param</span> <span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">switch</span><span style="color:#000;font-weight:bold">]</span><span style="color:#a40000">$</span><span style="color:#000">EnableBasicAuth</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#a40000">$</span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">switch</span><span style="color:#000;font-weight:bold">]</span><span style="color:#a40000">$</span><span style="color:#000">SKipNetworkProfileCheck</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#a40000">$</span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">switch</span><span style="color:#000;font-weight:bold">]</span><span style="color:#a40000">$</span><span style="color:#000">ForceNewSSLCert</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#a40000">$</span><span style="color:#204a87;font-weight:bold">false</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">string</span><span style="color:#000;font-weight:bold">]</span><span style="color:#a40000">$</span><span style="color:#000">SubjectName</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#a40000">$</span><span style="color:#000">env</span><span style="color:#000;font-weight:bold">:</span><span style="color:#000">COMPUTERNAME</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">int</span><span style="color:#000;font-weight:bold">]</span><span style="color:#a40000">$</span><span style="color:#000">CertValidityDays</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">1095</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex; background-color:#dfdfdf"><span>
</span></span><span style="display:flex;"><span><span style="color:#000">Function</span> <span style="color:#000">New</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">SelfSignedCert</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000">Param</span> <span style="color:#000;font-weight:bold">(</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">string</span><span style="color:#000;font-weight:bold">]</span><span style="color:#a40000">$</span><span style="color:#000">SubjectName</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span>        <span style="color:#000;font-weight:bold">[</span><span style="color:#204a87;font-weight:bold">int</span><span style="color:#000;font-weight:bold">]</span><span style="color:#a40000">$</span><span style="color:#000">ValidDays</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">1095</span>
</span></span><span style="display:flex;"><span>    <span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex; background-color:#dfdfdf"><span>
</span></span><span style="display:flex; background-color:#dfdfdf"><span>    <span style="color:#a40000">$</span><span style="color:#000">hostnonFQDN</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#a40000">$</span><span style="color:#000">env</span><span style="color:#000;font-weight:bold">:</span><span style="color:#000">computerName</span>
</span></span><span style="display:flex; background-color:#dfdfdf"><span>    <span style="color:#a40000">$</span><span style="color:#000">hostFQDN</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">[</span><span style="color:#000">System</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Net</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Dns</span><span style="color:#000;font-weight:bold">]::</span><span style="color:#000">GetHostByName</span><span style="color:#000;font-weight:bold">((</span><span style="color:#a40000">$</span><span style="color:#000">env</span><span style="color:#000;font-weight:bold">:</span><span style="color:#000">computerName</span><span style="color:#000;font-weight:bold">)).</span><span style="color:#000">Hostname</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">SignatureAlgorithm</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;SHA256&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">name</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000">New</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">Object</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">COM</span> <span style="color:#4e9a06">&#34;X509Enrollment.CX500DistinguishedName.1&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">name</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Encode</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;CN=$SubjectName&#34;</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#0000cf;font-weight:bold">0</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">key</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000">New</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">Object</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">COM</span> <span style="color:#4e9a06">&#34;X509Enrollment.CX509PrivateKey.1&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">key</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">ProviderName</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;Microsoft Enhanced RSA and AES Cryptographic Provider&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">key</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">KeySpec</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">key</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Length</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">4096</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">key</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">SecurityDescriptor</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#4e9a06">&#34;D:PAI(A;;0xd01f01ff;;;SY)(A;;0xd01f01ff;;;BA)(A;;0x80120089;;;NS)&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">key</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">MachineContext</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#0000cf;font-weight:bold">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">key</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Create</span><span style="color:#000;font-weight:bold">()</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">serverauthoid</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000">New</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">Object</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">COM</span> <span style="color:#4e9a06">&#34;X509Enrollment.CObjectId.1&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">serverauthoid</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">InitializeFromValue</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;1.3.6.1.5.5.7.3.1&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">ekuoids</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000">New</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">Object</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">COM</span> <span style="color:#4e9a06">&#34;X509Enrollment.CObjectIds.1&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">ekuoids</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Add</span><span style="color:#000;font-weight:bold">(</span><span style="color:#a40000">$</span><span style="color:#000">serverauthoid</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">ekuext</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000">New</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">Object</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">COM</span> <span style="color:#4e9a06">&#34;X509Enrollment.CX509ExtensionEnhancedKeyUsage.1&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">ekuext</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">InitializeEncode</span><span style="color:#000;font-weight:bold">(</span><span style="color:#a40000">$</span><span style="color:#000">ekuoids</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">cert</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000">New</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">Object</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">COM</span> <span style="color:#4e9a06">&#34;X509Enrollment.CX509CertificateRequestCertificate.1&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">cert</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">InitializeFromPrivateKey</span><span style="color:#000;font-weight:bold">(</span><span style="color:#0000cf;font-weight:bold">2</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#a40000">$</span><span style="color:#000">key</span><span style="color:#000;font-weight:bold">,</span> <span style="color:#4e9a06">&#34;&#34;</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">cert</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Subject</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#a40000">$</span><span style="color:#000">name</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">cert</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Issuer</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#a40000">$</span><span style="color:#000">cert</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Subject</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">cert</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NotBefore</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000;font-weight:bold">(</span><span style="color:#000">Get</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">Date</span><span style="color:#000;font-weight:bold">).</span><span style="color:#000">AddDays</span><span style="color:#000;font-weight:bold">(</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#0000cf;font-weight:bold">1</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">cert</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NotAfter</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#a40000">$</span><span style="color:#000">cert</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">NotBefore</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">AddDays</span><span style="color:#000;font-weight:bold">(</span><span style="color:#a40000">$</span><span style="color:#000">ValidDays</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">SigOID</span> <span style="color:#000;font-weight:bold">=</span> <span style="color:#000">New</span><span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">Object</span> <span style="color:#ce5c00;font-weight:bold">-</span><span style="color:#000">ComObject</span> <span style="color:#000">X509Enrollment</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">CObjectId</span>
</span></span><span style="display:flex;"><span>    <span style="color:#a40000">$</span><span style="color:#000">SigOID</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">InitializeFromValue</span><span style="color:#000;font-weight:bold">(([</span><span style="color:#000">Security</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Cryptography</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">Oid</span><span style="color:#000;font-weight:bold">]</span><span style="color:#a40000">$</span><span style="color:#000">SignatureAlgorithm</span><span style="color:#000;font-weight:bold">).</span><span style="color:#000">Value</span><span style="color:#000;font-weight:bold">)</span></span></span></code></pre></td></tr></table>
</div>
</div>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-44ac04f730d33a9fa74fb36f863cb2ce">4.8.2 - Ansible Resuable</h1>
    <div class="lead">Intersight Cloud Orchestrator allows workflow designers to run Ansible Playbook on the Ansible Controller node using the <strong>Invoke Ansible Playbook</strong> reusable task in the workflow.</div>
	<h1 id="executors--invoke-ansible-playbook---reusable-task">Executors – Invoke Ansible Playbook - Reusable Task</h1>
<h2 id="supported-targets">Supported Targets</h2>
<p>The Invoke Ansible Playbook task can be run only on the targets that are added as an Ansible Endpoint target type in Cisco Intersight.</p>
<p>The <strong>Invoke Ansible Playbook</strong> task is executed as an orchestrator task and does not include the management of the Ansible Controller node.</p>
<p>To run the Ansible Playbook task on the Ansible Controller node from Cisco Intersight, ensure that:</p>
<ul>
<li>
<p>The Ansible target is reachable through Intersight Assist when hosted on the customer premises.</p>
</li>
<li>
<p>The Ansible Playbook modules and Ansible Playbook executables required to run the playbooks are already installed on the Ansible Controller node.</p>
</li>
<li>
<p>The Ansible Controller node has password-less SSH access to the hosts.</p>
</li>
<li>
<p>The Ansible Controller node can resolve the endpoint hostnames if the Ansible Host Inventory file specifies the hostnames.</p>
</li>
</ul>
<p>For more information on Intersight Target Claim, see <a href="/help/getting_started/claim_targets#target_claim_using_intersight_assist">Target Claim Using Intersight Assist</a>.</p>
<h2 id="using-the-executor-ansible-playook-reusable-task">Using the Executor Ansible Playook Reusable Task</h2>
<p>Use the <strong>Invoke Ansible Playbook</strong> from the <strong>Executors</strong> section in the Intersight Orchestrator Task Designer UI to create a Invoke Ansible Playbook reusable task.</p>
<p>For more information on tasks, see <a href="/help/resources/Task_Designer#defining_a_task">Defining a Task</a></p>
<p>The following table explains the Invoke Ansible Playbook task properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>General</td>
<td>For more information, see <a href="/help/resources/Task_Designer#defining_a_task">Defining a Task</a>.</td>
</tr>
<tr>
<td>Inputs</td>
<td>Ansible Controller—The target on which the Ansible Playbook task is run. By default, the Ansible Controller task input is created for the task. <br>		The Ansible Playbook target must be in the Connected state.</td>
</tr>
<tr>
<td>Outputs</td>
<td>To extract the required values from the command responses and map it to task outputs, do the following:</td>
</tr>
</tbody>
</table>
<ol>
<li>
<p>Create Task Output—Specify the task output.</p>
</li>
<li>
<p>Map to Task Output—Check the check box to map the task output to an command response.</p>
</li>
<li>
<p>Task Output—Select the command response to which the task output is mapped. The options available are:</p>
<ul>
<li>
<p><em>Exit Code | Invoke Ansible Playbook</em></p>
</li>
<li>
<p><em>Execution Summary | Invoke Ansible Playbook</em></p>
</li>
<li>
<p><em>Execution Log Path | Invoke Ansible Playbook</em></p>
</li>
</ul>
</li>
</ol>
<p>|
|   |   |
|   |   |
|   |   |
|   |   |</p>
<p>.</p>
<p>For example, if you create two task outputs <em>Exitcode</em> and <em>Logapth</em> and map it to <em>Exit Code | Invoke Ansible Playbook</em> and <em>Execution Log Path | Invoke Ansible Playbook</em> respectively, after the workflow is executed, the output will show:</p>
<p>The following table explains the Invoke Ansible Playbook executor input:</p>
<p>Property</p>
<p>Description</p>
<p>Playbook Path</p>
<p>The path of the Ansible Playbook file that resides on the Ansible Controller node added as Ansible Endpoint target in Intersight.</p>
<ul>
<li>
<p>Static Value—The path of the Ansible Playbook.</p>
</li>
<li>
<p>Direct Mapping—Select an existing task input or task output field.</p>
</li>
<li>
<p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task&rsquo;s input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p>
</li>
<li>
<p>Advanced Mapping—Map a Golang template to the task input. For example, <code>FindAllString</code> function returns a slice of all substrings that match the given regular expression in the given string.</p>
</li>
</ul>
<p>Host Inventory</p>
<p>The path of the host inventory file that resides on the Ansible Controller or a comma-separated list of hosts on which the Ansible Playbook task is run.</p>
<ul>
<li>
<p>Static Value—The path of the host inventory file that resides on the Ansible Controller or a comma-separated list of hosts.</p>
<p>For example, you can enter the hostname as <a href="mailto:root@10.10.10.10">root@10.10.10.10</a>,</p>
<p>Note:</p>
<p>The hostname must be suffixed with a comma (,).</p>
</li>
<li>
<p>Direct Mapping—Select the path from the task input or task output.</p>
</li>
<li>
<p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task&rsquo;s input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p>
</li>
<li>
<p>Advanced Mapping—Map a Golang template to the task input. For example, <code>FindAllString</code> function returns a slice of all substrings that match the given regular expression in the given string.</p>
</li>
</ul>
<p>Command Timeout</p>
<p>The command timeout in seconds for the execution of the Ansible Playbook. The range is 10 to 7200 seconds.</p>
<p>The default timeout is 600 seconds.</p>
<ul>
<li>
<p>Static Value—The command timeout in seconds.</p>
</li>
<li>
<p>Direct Mapping—Select the command timeout from the task input or task output.</p>
</li>
<li>
<p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task&rsquo;s input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p>
</li>
<li>
<p>Advanced Mapping—Map a Golang template to the task input. For example, <code>FindAllString</code> function returns a slice of all substrings that match the given regular expression in the given string.</p>
</li>
</ul>
<p>Command Line Argument</p>
<p>The optional command line arguments required to run the Ansible playbook.</p>
<ul>
<li>
<p>Static Value—The command line argument.</p>
</li>
<li>
<p>Direct Mapping—Select the input from the task input or task output.</p>
</li>
<li>
<p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task&rsquo;s input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p>
</li>
<li>
<p>Advanced Mapping—Map a Golang template to the task input. For example, <code>FindAllString</code> function returns a slice of all substrings that match the given regular expression in the given string.</p>
</li>
</ul>
<p>Escape character backslash(\) needs to be used when the command line arguments contain double quotes(&quot;).</p>
<p>The following command line options are not supported by the Ansible Playbook task.</p>
<ul>
<li>
<p>-vvv</p>
</li>
<li>
<p>-vvvv</p>
</li>
<li>
<p>-k, -K</p>
</li>
<li>
<p>-c</p>
</li>
<li>
<p>--connection</p>
</li>
<li>
<p>--sftp-extra-args</p>
</li>
<li>
<p>--scp-extra-args</p>
</li>
<li>
<p>--ask-vault-password</p>
</li>
<li>
<p>--step</p>
<p>For information on the available command line arguments, see <a href="https://docs.ansible.com/ansible/latest/cli/ansible-playbook.html">https://docs.ansible.com/ansible/latest/cli/ansible-playbook.html</a>.</p>
</li>
</ul>
<p>The following table explains the Ansible Playbook executor Outputs:</p>
<p>Property</p>
<p>Description</p>
<p>Exit Code</p>
<p>The exit code after the execution of the Ansible Playbook against the given endpoint.</p>
<p>Execution Summary</p>
<p>The summary after the execution of Ansible Playbook against the given endpoint.</p>
<p>Execution Log Path</p>
<p>The Ansible execution log path on the Ansible Control node after the execution of Ansible Playbook against the given endpoint.</p>
<p>The following table explains the Invoke Ansible Playbook task Outcomes:</p>
<p>Property</p>
<p>Description</p>
<p>Outcomes</p>
<p>To set the custom execution status and status message based on the obtained outputs, do the following:</p>
<ol>
<li>
<p>Click Add Outcome.</p>
</li>
<li>
<p>Name—The name for the outcome.</p>
</li>
<li>
<p>Outcome Type—Select the outcome type. The options available are Success, Skip To Success, Error, Terminal Error, Skip Task Execution, or Status.</p>
<p>For more information on Outcomes, see <a href="/help/resources/Task_Designer#outcomes">Outcomes</a></p>
</li>
<li>
<p>Message—The message when the condition is met.</p>
</li>
<li>
<p>Condition—The condition for the outcome.</p>
<p>For example, {{eq .global.InvokeAnsiblePlaybook1.output.ExitCode &ldquo;0&rdquo;}}.</p>
<p>This condition checks whether the output `ExitCode` of the executor named `InvokeAnsiblePlaybook1` equals to 0. If the condition is true, the task status is set to the value provided in `Outcome Type` and task status message is set to value provided in `Message`.</p>
</li>
</ol>
<h2 id="template-parameters">Template Parameters</h2>
<p>The request body template can refer to values from task inputs, previous task outputs, or implicit parameters. The following table explains the template parameters.</p>
<p>Prefix/Format</p>
<p>Description</p>
<pre><code>{{.global.task.input.&lt;ParameterName&gt;}}
</code></pre>
<p>Task input reference.</p>
<pre><code>{{.global.&lt;ExecutorRefName&gt;.output.&lt;ParameterName&gt;}}
</code></pre>
<p>Previous executor output reference. <strong>ExecutorRefName</strong> is the name of the previous executor having output <strong>ParameterName</strong>.</p>
<pre><code>{{.security.AccountMoid}}
</code></pre>
<p>Implicit parameter reference to Account MoID under which the workflow is running.</p>
<pre><code>{{.security.OrganizationMoid}}
</code></pre>
<p>Implicit parameter reference to Organization MoID under which the workflow is running.</p>
<h2 id="template-functions">Template Functions</h2>
<p>The template engine has in-built functions to transform values before they are populated in the request templates. The following table explains the functions supported in <strong>Invoke SSH Commands</strong> task.</p>
<p>Function</p>
<p>Description</p>
<p>TrimSpace</p>
<p>Returns a string after removing white spaces from a the string.</p>
<p>Example:</p>
<pre><code>{{TrimSpace .global.task.input.HostName}}
</code></pre>
<p>ContainsString</p>
<p>Returns a boolean if a substring is present in a given string.</p>
<p>Example:</p>
<pre><code>{{if (ContainsString .global.task.input.SizeAsString \”MB\”)}}Mega Bytes{{else}}Bytes{{end}}
</code></pre>
<p>FindAllString</p>
<p>Returns a slice of substrings matching the regular expression in a given string.</p>
<p>Example:</p>
<pre><code>{{(FindAllString .global.task.input.NumberString \”([0-9]+)\”)}}
</code></pre>
<p>The above example returns array [“123”, “456”] for input string “123 some text 456.”</p>
<p>ToJson</p>
<p>Converts a value to a JSON format.</p>
<p>Example:</p>
<pre><code>{{(FindAllString .global.task.input.NumberString \&quot;([0-9]+)\&quot;) | ToJson}}
</code></pre>
<p>The above example returns JSON array literal [“123”, “456”] for input string “123 some text 456.”</p>
<p>AsArray</p>
<p>Takes in an element and returns an array of one element.</p>
<p>Example:</p>
<pre><code>{{AsArray .global.task.output.serverMo}}
</code></pre>
<p>The above example returns an array of one server Mo.</p>
<p>Substring</p>
<p>Returns a substring within the given index bounds.</p>
<p>Example:</p>
<pre><code>{{Substring .global.task.input.StorageId 2 6}}
</code></pre>
<p>The above example returns “ABCD” for string “12ABCD3456.”</p>
<p>IpToCidr</p>
<p>Returns the classless inter-domain routing (CIDR) notation of an IPv4 address and subnet mask.</p>
<p>Example:</p>
<pre><code>{{IpToCidr .global.task.input.Ip .global.task.input.Netmask}}
</code></pre>
<p>The above example returns “10.10.10.10/24” for the input parameters “10.10.10.10” and “255.255.255.0.”</p>
<p>LookupInSlice</p>
<p>Checks if a given value is present in given slice or array and returns true if it exists. This function can be used for any value.</p>
<p>Example:</p>
<pre><code>{{LookupInSlice .global.task.input.IpAddressList \”10.10.10.10\”}}
</code></pre>
<p>The above example returns true for input [”10.10.10.10”, “20.20.20.20”].</p>
<p>Index</p>
<p>Returns a value from an array when an input index exists.</p>
<p>Example:</p>
<pre><code>{{ index .global.task.input.nodes .global.task.input.idx }} 
</code></pre>
<p>In the above example, if nodes is an array of devices and idx is 2, the index function returns the second device in the array.</p>
<p>Itob</p>
<p>Converts an integer to a boolean.</p>
<p>Example:</p>
<pre><code>{{ Itob global.task.input.OnOffFlip }} 
</code></pre>
<p>The above example returns true and false for inputs 1 and 0 respectively.</p>
<p>Itoa</p>
<p>Converts a given number to a string value.</p>
<p>Example:</p>
<pre><code>{{ Itoa global.task.input.Port }} 
</code></pre>
<p>The above example returns “12345” for input 12345.</p>
<p>Itof</p>
<p>Converts a given integer to a float value.</p>
<p>Example:</p>
<pre><code>{{ Itof global.task.input.Rate }}
</code></pre>
<p>The above example returns 15.0 for an input 15.</p>
<p>Btoa</p>
<p>Converts a given boolean to a string value.</p>
<p>Example:</p>
<pre><code>{{ Btoa global.task.input.OnOffFlip }}
</code></pre>
<p>The above example returns “true” for input true.</p>
<p>Btoi</p>
<p>Converts a given boolean to a integer value.</p>
<p>Example:</p>
<pre><code>{{ Btoi global.task.input.OnOffFlip }}
</code></pre>
<p>The above example returns 1 and 0 for inputs true and false respectively.</p>
<p>Atob</p>
<p>Converts the given string into a boolean value.</p>
<p>Example:</p>
<pre><code>{{ Atob global.task.input.OnOffFlip }}Returns true for input “true”
</code></pre>
<p>Atoi</p>
<p>Converts a given number in string format to the integer type.</p>
<p>Example:</p>
<pre><code>{{Atoi .global.task.input.SizeString}} returns integer 2048 for input string “2048”
</code></pre>
<p>Ftoa</p>
<p>Converts a given number into the string form based on the given precision.</p>
<p>Example:</p>
<pre><code>{{Ftoa .global.task.input.Size 2}} returns the following output: 123.456 =&gt; “123.45”, 1028 =&gt; “1028.00”
</code></pre>
<p>Ftoi</p>
<p>Converts a given float input to a integer value.</p>
<p>Example:</p>
<pre><code>{{ Ftoi global.task.input.Rate }}
</code></pre>
<p>The above example returns 15 for an input 15.833.</p>
<p>Eval</p>
<p>Supports an expression evaluation function. The below example returns 2GB for a input value of 2048. Note that the second argument is passed as ‘.’ in the template, which represents the map of all parameters.</p>
<pre><code>{{Eval \&quot;{{.global.task.input.Size}} / 1024\&quot; .}}GB
</code></pre>
<h2 id="template-engine-syntax">Template Engine Syntax</h2>
<p>The template engine uses <code>prefix</code> notation for the statements. In case of operational statements, the operators are specified before the operands. All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check), <strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the client error code range 400 – 500. Note that the template engine supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and <strong>lt</strong> are specified before their operands.</p>
<pre><code>{{and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}
</code></pre>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation syntax. This section has some examples of these conditional statements.</p>
<pre><code>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}

{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}

{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}
</code></pre>
<h2 id="invoke-ansible-playbook-reusable-task-example">Invoke Ansible Playbook Reusable Task Example</h2>
<p><strong>Example: <strong>Create a reusable task to run Ansible Playbook on the hosts</strong></strong></p>
<p>This example task runs on an Intersight Ansible Playbook controller. In this task, the Ansible Playbook path and host inventory list fields are provided by the task input fields.</p>
<p>The task properties required for this example are as following:</p>
<p>Property</p>
<p>Description</p>
<p>General</p>
<ul>
<li>
<p>Organization—The organization that you are creating the task in.</p>
</li>
<li>
<p>Display Name—A user friendly short name to identify the task definition.</p>
</li>
<li>
<p>Reference Name—The name of the Task definition.</p>
</li>
</ul>
<p>Inputs</p>
<ul>
<li>
<p>Ansible Controller—By default, the Ansible Controller task input is created for the task.</p>
<ul>
<li>
<p>Reference Name—AnsibleController</p>
</li>
<li>
<p>Type—Target Data Type</p>
</li>
</ul>
</li>
<li>
<p>Playbook Path—The user defined task input for the path of the Ansible Playbook.</p>
<ul>
<li>
<p>Reference Name—PlaybookPath</p>
</li>
<li>
<p>Type—String</p>
</li>
</ul>
</li>
<li>
<p>Host Inventory—The user defined task input for the path of the host inventory file.</p>
<ul>
<li>
<p>Reference Name—HostInventory</p>
</li>
<li>
<p>Type—String</p>
</li>
</ul>
</li>
</ul>
<p>Outputs</p>
<ul>
<li>
<p>ExitCode—Task output</p>
<ul>
<li>
<p>Reference Name—ExitCode</p>
</li>
<li>
<p>Type—String</p>
</li>
<li>
<p>Map to Task Output—<em>Exit Code | Invoke Ansible Playbook</em></p>
</li>
</ul>
</li>
<li>
<p>Summary—Task output</p>
<ul>
<li>
<p>Reference Name—Summary</p>
</li>
<li>
<p>Type—String</p>
</li>
<li>
<p>Map to Task Output—<em>Execution Summary | Invoke Ansible Playbook</em></p>
</li>
</ul>
</li>
<li>
<p>Logpath—Task output</p>
<ul>
<li>
<p>Reference Name—Logpath</p>
</li>
<li>
<p>Type—String</p>
</li>
<li>
<p>Map to Task Output—<em>Execution Log Path | Invoke Ansible Playbook</em></p>
</li>
</ul>
</li>
</ul>
<p>The following table explains the Invoke Ansible Playbook executor inputs:</p>
<p>Property</p>
<p>Description</p>
<p>Playbook Path</p>
<p>Direct Mapping—{{.global.task.input.PlaybookPath}}</p>
<p>Host Inventory</p>
<p>Direct Mapping—{{.global.task.input.HostInventory}}</p>
<p>Command Timeout</p>
<p>Default value.</p>
<p>Command Line Argument</p>
<p>Static—-vv</p>
<p>Command line argument &ndash;vv is for the Ansible execution log verbosity.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-ab1b24fab9dd0f0511926c1acc3c654f">4.8.3 - Powershell</h1>
    <div class="lead">Intersight Cloud Orchestrator allows workflow designers to run PowerShell Script on a PowerShell target endpoint using the Invoke PowerShell Script embedded task in the workflow.</div>
	<h1 id="overview">Overview</h1>
<p>The Invoke PowerShell Script task is an out-of-box solution that allows you to automate PowerShell operations on the PowerShell target that is added as a PowerShell endpoint target in Cisco Intersight. This feature allows a workflow designer to extend the automation capabilities of the workflow engine beyond what is natively available in the task library and interact with the PowerShell target endpoint.
For more information, see <a href="Docs_on_Intersight_Help_Center">Intersight Kubernetes Service</a></p>

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/MldPSHPYslU" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>

<h2 id="supported-targets">Supported Targets</h2>
<p>The Invoke PowerShell Script task can be run only on the targets that are added as a PowerShell endpoint target type in Cisco Intersight.</p>
<p>To run the PowerShell Script task on the PowerShell target endpoint from Cisco Intersight, ensure that:</p>
<ul>
<li>
<p>The endpoint is reachable through Intersight Assist.</p>
</li>
<li>
<p>The endpoint target is in the Connected state.</p>
</li>
<li>
<p>PowerShell Remoting is enabled on the target endpoint to allow the endpoint to receive PowerShell remote commands.</p>
</li>
</ul>
<p>To enable PowerShell Remoting on a PowerShell endpoint target, execute the following remoting script on the PowerShell target endpoint:</p>
<div class="td-card card">
  
  
    
  
  
  
  <div class="card-body code p-l0 m-0">
      <pre tabindex="0"><code class="language-none" data-lang="none">
Param (
    [switch]$EnableBasicAuth = $false,
    [switch]$SKipNetworkProfileCheck = $false,
    [switch]$ForceNewSSLCert = $false,
    [string]$SubjectName = $env:COMPUTERNAME,
    [int]$CertValidityDays = 1095
)

Function New-SelfSignedCert
{
    Param (
        [string]$SubjectName,
        [int]$ValidDays = 1095
    )

    $hostnonFQDN = $env:computerName
    $hostFQDN = [System.Net.Dns]::GetHostByName(($env:computerName)).Hostname
    $SignatureAlgorithm = &#34;SHA256&#34;

    $name = New-Object -COM &#34;X509Enrollment.CX500DistinguishedName.1&#34;
    $name.Encode(&#34;CN=$SubjectName&#34;, 0)

    $key = New-Object -COM &#34;X509Enrollment.CX509PrivateKey.1&#34;
    $key.ProviderName = &#34;Microsoft Enhanced RSA and AES Cryptographic Provider&#34;
    $key.KeySpec = 1
    $key.Length = 4096
    $key.SecurityDescriptor = &#34;D:PAI(A;;0xd01f01ff;;;SY)(A;;0xd01f01ff;;;BA)(A;;0x80120089;;;NS)&#34;
    $key.MachineContext = 1
    $key.Create()

    $serverauthoid = New-Object -COM &#34;X509Enrollment.CObjectId.1&#34;
    $serverauthoid.InitializeFromValue(&#34;1.3.6.1.5.5.7.3.1&#34;)
    $ekuoids = New-Object -COM &#34;X509Enrollment.CObjectIds.1&#34;
    $ekuoids.Add($serverauthoid)
    $ekuext = New-Object -COM &#34;X509Enrollment.CX509ExtensionEnhancedKeyUsage.1&#34;
    $ekuext.InitializeEncode($ekuoids)

    $cert = New-Object -COM &#34;X509Enrollment.CX509CertificateRequestCertificate.1&#34;
    $cert.InitializeFromPrivateKey(2, $key, &#34;&#34;)
    $cert.Subject = $name
    $cert.Issuer = $cert.Subject
    $cert.NotBefore = (Get-Date).AddDays(-1)
    $cert.NotAfter = $cert.NotBefore.AddDays($ValidDays)

    $SigOID = New-Object -ComObject X509Enrollment.CObjectId
    $SigOID.InitializeFromValue(([Security.Cryptography.Oid]$SignatureAlgorithm).Value)

    [string[]] $AlternativeName  += $hostnonFQDN
    $AlternativeName += $hostFQDN
    $IAlternativeNames = New-Object -ComObject X509Enrollment.CAlternativeNames

    foreach ($AN in $AlternativeName)
    {
        $AltName = New-Object -ComObject X509Enrollment.CAlternativeName
        $AltName.InitializeFromString(0x3,$AN)
        $IAlternativeNames.Add($AltName)
    }

    $SubjectAlternativeName = New-Object -ComObject X509Enrollment.CX509ExtensionAlternativeNames
    $SubjectAlternativeName.InitializeEncode($IAlternativeNames)

    [String[]]$KeyUsage = (&#34;DigitalSignature&#34;, &#34;KeyEncipherment&#34;)
    $KeyUsageObj = New-Object -ComObject X509Enrollment.CX509ExtensionKeyUsage
    $KeyUsageObj.InitializeEncode([int][Security.Cryptography.X509Certificates.X509KeyUsageFlags]($KeyUsage))
    $KeyUsageObj.Critical = $true

    $cert.X509Extensions.Add($KeyUsageObj)
    $cert.X509Extensions.Add($ekuext)
    $cert.SignatureInformation.HashAlgorithm = $SigOID
    $CERT.X509Extensions.Add($SubjectAlternativeName)
    $cert.Encode()

    $enrollment = New-Object -COM &#34;X509Enrollment.CX509Enrollment.1&#34;
    $enrollment.InitializeFromRequest($cert)
    $certdata = $enrollment.CreateRequest(0)
    $enrollment.InstallResponse(2, $certdata, 0, &#34;&#34;)

    # extract/return the thumbprint from the generated cert
    $parsed_cert = New-Object System.Security.Cryptography.X509Certificates.X509Certificate2
    $parsed_cert.Import([System.Text.Encoding]::UTF8.GetBytes($certdata))

    return $parsed_cert.Thumbprint
}

# Setup error handling
Trap
{
    $_
    Exit 1
}

# Treat non terminating erros as terminating errors
$ErrorActionPreference = &#34;Stop&#34;

# Get the ID and security principal of the current user account
$myWindowsID=[System.Security.Principal.WindowsIdentity]::GetCurrent()
$myWindowsPrincipal=new-object System.Security.Principal.WindowsPrincipal($myWindowsID)

# Get the security principal for the Administrator role
$adminRole=[System.Security.Principal.WindowsBuiltInRole]::Administrator

# Check to see if we are currently running &#34;as Administrator&#34;
if (-Not $myWindowsPrincipal.IsInRole($adminRole))
{
    Write-Output &#34;ERROR: You need elevated Administrator privileges in order to run this script.&#34;
    Write-Output &#34;       Start Windows PowerShell by using the Run as Administrator option.&#34;
    Exit 2
}


# Ensure PowerShell version is greater that 3.0
if ($PSVersionTable.PSVersion.Major -lt 3) {
    Throw &#34;Minimum required PowerShell version is 3.0&#34;
}

# Ensure WinRM is present on the machine
if (!(Get-Service &#34;WinRM&#34; -ErrorAction SilentlyContinue)) {
    Throw &#34;WinRM service is not present on the machine&#34;
}

# Ensure WinRM is running on the machine
if (!(Get-Service &#34;WinRM&#34; -ErrorAction SilentlyContinue | where {$_.Status -eq &#34;Running&#34;})) {
    Write-Output &#34;WinRM service is not running&#34;
    Write-Output &#34;Attempting to start WinRM service&#34;
    Start-Service &#34;WinRM&#34;
}

# Check if PS Remoting is already enabled, if not enable it
# WinRM should be running; check that we have a PS session config.
if (!(Get-PSSessionConfiguration -Verbose:$false) -or (!(Get-ChildItem WSMan:\localhost\Listener)))
{
  if ($SkipNetworkProfileCheck) {
    Write-Verbose &#34;Enabling PS Remoting without checking Network profile.&#34;
    Enable-PSRemoting -SkipNetworkProfileCheck -Force -ErrorAction Stop
    Write-Output &#34;Enabled PS Remoting.&#34;
  }
  else {
    Write-Verbose &#34;Enabling PS Remoting.&#34;
    Enable-PSRemoting -Force -ErrorAction Stop
    Write-Output &#34;Enabled PS Remoting.&#34;
  }
}
else
{
    Write-Verbose &#34;PS Remoting is already enabled.&#34;
}

# Ensure LocalAccountTokenFilterPolicy is set to 1
# https://github.com/ansible/ansible/issues/42978
# Needed for NTLM authentication
$token_path = &#34;HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System&#34;
$token_prop_name = &#34;LocalAccountTokenFilterPolicy&#34;
$token_key = Get-Item -Path $token_path
$token_value = $token_key.GetValue($token_prop_name, $null)
if ($token_value -ne 1) {
    Write-Verbose &#34;Setting LocalAccountTOkenFilterPolicy to 1&#34;
    if ($null -ne $token_value) {
        Remove-ItemProperty -Path $token_path -Name $token_prop_name
    }
    New-ItemProperty -Path $token_path -Name $token_prop_name -Value 1 -PropertyType DWORD &gt; $null
}


# Make sure there is a SSL listener.
$listeners = Get-ChildItem WSMan:\localhost\Listener
if (!($listeners | Where-Object {$_.Keys -like &#34;TRANSPORT=HTTPS&#34;}))
{
    # We cannot use New-SelfSignedCertificate on 2012R2 and earlier
    $thumbprint = New-SelfSignedCert -SubjectName $SubjectName -ValidDays $CertValidityDays
    Write-Output &#34;Self-signed SSL certificate generated; thumbprint: $thumbprint&#34;
    # Create the hashtables of settings to be used.
    $valueset = @{
        Hostname = $SubjectName
        CertificateThumbprint = $thumbprint
    }
    $selectorset = @{
        Transport = &#34;HTTPS&#34;
        Address = &#34;*&#34;
    }
    Write-Verbose &#34;Enabling SSL listener.&#34;
    New-WSManInstance -ResourceURI &#39;winrm/config/Listener&#39; -SelectorSet $selectorset -ValueSet $valueset
    Write-Verbose &#34;Enabled SSL listener.&#34;
}
else
{
    Write-Verbose &#34;SSL listener is already active.&#34;
    # Force a new SSL cert on Listener if the $ForceNewSSLCert
    if ($ForceNewSSLCert)
    {
        # We cannot use New-SelfSignedCertificate on 2012R2 and earlier
        $thumbprint = New-SelfSignedCert -SubjectName $SubjectName -ValidDays $CertValidityDays
        Write-Verbose &#34;Self-signed SSL certificate generated; thumbprint: $thumbprint&#34;
        $valueset = @{
            CertificateThumbprint = $thumbprint
            Hostname = $SubjectName
        }
        # Delete the listener for SSL
        $selectorset = @{
            Address = &#34;*&#34;
            Transport = &#34;HTTPS&#34;
        }
        Remove-WSManInstance -ResourceURI &#39;winrm/config/Listener&#39; -SelectorSet $selectorset
        # Add new Listener with new SSL cert
        New-WSManInstance -ResourceURI &#39;winrm/config/Listener&#39; -SelectorSet $selectorset -ValueSet $valueset
    }
}

# Enable/Disable basic authentication as needed
$basicAuth = Get-Item WSMan:\localhost\Service\Auth\Basic
if ($EnableBasicAuth) {
    if ($basicAuth.Value -eq &#34;true&#34;) {
        Write-Output &#34;Basic authentication is already enabled&#34;
    } else {
        Write-Output &#34;Basic authentication is currently disabled&#34;
        Set-Item WSMan:\localhost\Service\Auth\Basic -Value $true
        Write-Output &#34;Basic authentication has been enabled&#34;
    }
} else {
    if ($basicAuth.Value -eq &#34;true&#34;) {
        Write-Output &#34;Basic authentication is currently enabled&#34;
        Set-Item WSMan:\localhost\Service\Auth\Basic -Value $false
        Write-Output &#34;Basic authentication has been disabled&#34;
    } else {
        Write-Output &#34;Basic authentication is already disabled&#34;
    }
}

# Check firewall
$rule = Get-NetFirewallRule | where {$_.DisplayName -eq &#34;Allow WinRM HTTPS&#34;}
if ($rule) {
    if ($rule.Profile.ToString() -eq &#34;Any&#34;) {
        Write-Output &#34;Firewall rule already exists for WinRM&#34;
    } else {
        Set-NetFirewallRule -DisplayName &#34;Allow WinRM HTTPS&#34; -Profile Any
    }
} else {
   Write-Output &#34;Creating firewall rule for WinRM&#34;
   New-NetFirewallRule -Profile Any -Name &#34;Allow WinRM HTTPS&#34; -DisplayName &#34;Allow WinRM HTTPS&#34; -Direction Inbound -LocalPort 5986 -Protocol &#34;TCP&#34; -Action Allow -Enabled True | Out-Null
}

# Test a remoting connection to localhost, which should work.
$httpResult = Invoke-Command -ComputerName &#34;localhost&#34; -ScriptBlock {$env:COMPUTERNAME} -ErrorVariable httpError -ErrorAction SilentlyContinue
$httpsOptions = New-PSSessionOption -SkipCACheck -SkipCNCheck -SkipRevocationCheck
$httpsResult = New-PSSession -UseSSL -ComputerName &#34;localhost&#34; -SessionOption $httpsOptions -ErrorVariable httpsError -ErrorAction SilentlyContinue
if ($httpResult -and $httpsResult)
{
    Write-Verbose &#34;HTTP: Enabled | HTTPS: Enabled&#34;
}
elseif ($httpsResult -and !$httpResult)
{
    Write-Verbose &#34;HTTP: Disabled | HTTPS: Enabled&#34;
}
elseif ($httpResult -and !$httpsResult)
{
    Write-Verbose &#34;HTTP: Enabled | HTTPS: Disabled&#34;
}
else
{
    Write-Output &#34;Unable to establish an HTTP or HTTPS remoting session.&#34;
    Throw &#34;Unable to establish an HTTP or HTTPS remoting session.&#34;
}
Write-Output &#34;PS Remoting has been successfully configured for Intersight.&#34;
</code></pre>
  </div>
</div>

<h2 id="using-the-executor-powershell-script-embedded-task">Using the Executor PowerShell Script embedded task</h2>
<p>Use the <strong>Invoke PowerShell Script</strong> from the <strong>Executors</strong> section in
the Intersight Orchestrator Workflow Designer UI to create a task for a
PowerShell Script target endpoint.</p>
<table>
<thead>
<tr>
<th>Product</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>ABC</td>
<td>Sample Text</td>
</tr>
</tbody>
</table>
<p>The following table explains the PowerShell Script task properties:</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>External Target</td>
<td><p>The PowerShell endpoint on which the PowerShell Script task is run.</p>
<p>The PowerShell Script target must be in the connected state.</p>
<ul>
<li><p>Static Value—Click Select External Target to select the PowerShell endpoint target from the Cisco Intersight target inventory.</p></li>
<li><p>Direct Mapping—Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Script</td>
<td><p>The PowerShell script to be executed on the endpoint.</p>
<ul>
<li><p>Static Value—The PowerShell script.</p></li>
<li><p>Direct Mapping—Select an existing workflow input or Task output field.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input. For example, FindAllString function returns a slice of all substrings that match the given regular expression in the given string.</p></li>
</ul>
<p><strong>Note:</strong> When you specify the PowerShell script statement and enable the Response Parser Type as JSON, at the time of execution of the workflow, Intersight pipes <em>ConvertTo-Json</em> to the script to get the corresponding responses as JSON output. However, PowerShell script statements do not output to the pipe command, and the workflow may fail and return the error "An empty pipe element is not allowed.". For example, for a script foreach ($x in 1,2,3,4,5) {$x} with Response Parser Type as JSON, when the workflow is executed the workflow fails and returns the error "<em>An empty pipe element is not allowed</em>".</p>
<p>You must wrap the PowerShell script statement with the $() operator, such as $(foreach ($x in 1,2,3,4,5) {$x} ) for the PowerShell script to work.</p></td>
</tr>
<tr class="odd">
<td>Timeout</td>
<td><p>The duration in seconds for which the task waits for a response from the PowerShell target endpoint.</p>
<p>The field corresponds to the wsman:OperationTimeout field in the WinRM SOAP/XML message.</p>
<ul>
<li><p>Static Value—The timeout in seconds.</p></li>
<li><p>Direct Mapping—Select the command timeout from the Workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Response Parser</td>
<td><p>The response parser contains information about the required values, their types, and the location in the API responses. You specify the required values along with API request details. These details are used by the response parser to extract the values from the API responses.</p>
<ul>
<li><p>Static Value—Select the response type as JSON or Text.</p>
<ul>
<li><p>Enable JSON Parsing—Select enable to parse the script response and extract the data from it.</p></li>
</ul>
<ul>
<li><blockquote>
<p>Depth—The number of levels of the contained objects that must be included in the JSON representation.</p>
</blockquote></li>
<li><blockquote>
<p>Path—The content specific path information that identifies the parameter value within the content. The value is usually XPath or JSONPath.</p>
</blockquote></li>
<li><blockquote>
<p>Name—The name of the output under which the captured value is saved.</p>
</blockquote></li>
<li><blockquote>
<p>Type—The response parameter type—String, Integer, Float, or Boolean.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Enable Text Parsing—Select enable to parse the script response and extract data from it.</p></li>
</ul>
<ul>
<li><blockquote>
<p>Regular Expression—The regular expression of the line in the command response where the interested capture value resides. The format to specify the capture value in this input is $&lt;Name of the parameter&gt;. For example, if the value of the Regular Expression field is $&lt;ParameterName&gt;\@cisco\.com, then the Name field must be given the value - ParameterName.</p>
</blockquote></li>
<li><blockquote>
<p>Name—The name of the output under which the captured value is saved. This name should be the same that is provided in the Regular Expression—$&lt;Name&gt;.</p>
</blockquote></li>
<li><blockquote>
<p>Type—The response parameter type—String, Integer, Float, or Boolean.</p>
</blockquote></li>
</ul></li>
<li><p>Direct Mapping—Select the command timeout from the Workflow input or Task output.</p></li>
</ul>
<ul>
<li><blockquote>
<p>To create a new Workflow input, select Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the task Output properties:</p>
<table>
<thead>
<tr>
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Exit Code</td>
<td>The exit code after the execution of the PowerShell script against the given endpoint.</td>
</tr>
<tr>
<td>Response</td>
<td>The response returned by the script.</td>
</tr>
<tr>
<td>Extracted Parameters</td>
<td>The list of output parameters extracted from the response.</td>
</tr>
</tbody>
</table>
<p>The following table explains the task Outcomes properties:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Outcomes</td>
<td><p>To use the extracted values from the API response to determine the task status and set the status with an appropriate message, when the conditions match, do the following:</p>
<ol type="1">
<li><p>Click Add Outcome.</p></li>
<li><p>Name—The name for the outcome.</p></li>
<li><p>Outcome Type—Select the outcome type as Success, Error, or Skip Task Execution.</p></li>
</ol>
<ol type="1">
<li><p>For more information on Outcomes, see <a href="file://E:\\help\\resources\\Task_Designer">Outcomes</a></p></li>
</ol>
<ol start="4" type="1">
<li><p>Message—The message when the condition is met.</p></li>
<li><p>Condition—The condition for the outcome.</p></li>
</ol>
<ol start="2" type="1">
<li><p>For example, {{eq .local.response.ExitCode "0"}}.</p></li>
<li><p>This condition checks whether the response exit code of API is 0.</p></li>
</ol></td>
</tr>
</tbody>
</table>
<h2 id="using-the-executor-powershell-script-custom-task">Using the Executor PowerShell Script custom task</h2>
<p>Use the <strong>Invoke PowerShell Script</strong> from the <strong>Executors</strong> section in
the Intersight Orchestrator Task Designer UI .</p>
<p>For more information on custom tasks, see <a href="file://E:%5Chelp%5Cresources%5CTask_Designer">Defining a
Task</a></p>
<p>The following table explains the PowerShell Script custom task
properties:</p>
<table>
<colgroup>
<col style="width: 10%" />
<col style="width: 89%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>General</td>
<td><p>For more information, see <a href="file://E:\\help\\resources\\Task_Designer">Defining a Task</a></p>
<p>.</p></td>
</tr>
<tr class="even">
<td>Inputs</td>
<td>External Target—The PowerShell endpoint target on which the PowerShell script task is run.</td>
</tr>
<tr class="odd">
<td>Outputs</td>
<td><p>To extract the required values from the API responses and map it to task outputs, do the following:</p>
<ol type="1">
<li><p>Create Task Output—Specify the task output.</p></li>
<li><p>Map to Task Output—Check the check box to map the task output to an API response.</p></li>
<li><p>Task Output—Select the API response to which the task output is mapped. The options available are:</p></li>
</ol>
<ul>
<li><p><em>Exit Code | Invoke PowerShell Script</em></p></li>
<li><p><em>Response | Invoke PowerShell Script</em></p></li>
<li><p><em>Extracted Parameters | Invoke PowerShell Script</em></p></li>
</ul>
<p>For example, if you create a new task output <em>New Exit Code</em> and map it to <em>Exit Code | Invoke PowerShell Script</em>, after the workflow is executed, the output will show:</p>
<p>.<br />
└── Outputs/<br />
    ├── ConfigResults:[ 1 ]/<br />
    │   └── Object:{ 3 }/<br />
    │       ├── ConfigResCtx:{ 1 }/<br />
    │       │   └── EntityData:{ 1 }/<br />
    │       │       └── task:workflow.PowerShellApiTask<br />
    │       ├── State:Ok<br />
    │       └── Type:Config<br />
    ├── Custom_Task_Output:Handles NPM(K) PM(K) WS(K) CPU(s) Id SI ProcessName/<br />
    │                        ----- ------ ----- ----- ------ -- -- -----------<br />
    │                       264 16 4880 24808 1.11 2600 2 ApplicationFrameHost<br />
    │                       405 28 109036 5628 85.55 2112 2 chrome<br />
    │                       ...<br />
    └── New Exit Code:0</p></td>
</tr>
</tbody>
</table>
<p>The following table explains the PowerShell Script custom task input:</p>
<table>
<colgroup>
<col style="width: 12%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Script</td>
<td><p>The PowerShell script to be executed on the target endpoint.</p>
<ul>
<li><p>Static Value—The PowerShell Script.</p></li>
<li><p>Direct Mapping—Select an existing Task input or Task output field.</p></li>
</ul>
<blockquote>
<p><strong>Note:</strong> When you use Direct Mapping and select a task input, and then execute the workflow it fails and returns the error <em>map[Text:get-service : The term 'map[Text:get-service' is not recognized as the name of a cmdlet, function, script file, or operable program. Check the spelling of the name, or if a path was included, verify that the path is correct and try again.</em>.</p>
<p>You must prefix <em>.Text</em> to the Direct Mapping input in Advanced Mapping. For example, for a task input Script, the Advanced Mapping input should be{{.global.task.input.Script.Text}}</p>
</blockquote>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="even">
<td>Timeout</td>
<td><p>The duration in seconds for which the task waits for a response from the PowerShell target endpoint.</p>
<p>The field corresponds to the wsman:OperationTimeout field in the WinRM SOAP/XML message.</p>
<ul>
<li><p>Static Value—The timeout in seconds.</p></li>
<li><p>Direct Mapping—Select the command timeout from the Task input or Task output.</p></li>
<li><p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task's input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p></li>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
<tr class="odd">
<td>Response Parser</td>
<td><p>The response parser contains information about the required values, their types, and the location in the API responses. You specify the required values along with API request details. These details are used by the response parser to extract the values from the API responses.</p>
<ul>
<li><p>Static Value—Select the response type as JSON or Text.</p>
<ul>
<li><p>Enable JSON Parsing—Select enable to parse the script response and extract the data from it.</p></li>
</ul>
<ul>
<li><blockquote>
<p>Depth—The number of levels of the contained objects that must be included in the JSON representation.</p>
</blockquote></li>
<li><blockquote>
<p>Path—The content specific path information that identifies the parameter value within the content. The value is usually XPath or JSONPath.</p>
</blockquote></li>
<li><blockquote>
<p>Name—The name of the output under which the captured value is saved.</p>
</blockquote></li>
<li><blockquote>
<p>Type—The response parameter type—String, Integer, Float, or Boolean.</p>
</blockquote></li>
</ul>
<ul>
<li><p>Enable Text Parsing—Select enable to parse the script response and extract data from it.</p></li>
</ul>
<ul>
<li><blockquote>
<p>Regular Expression—The regular expression of the line in the command response where the interested capture value resides. The format to specify the capture value in this input is $&lt;Name of the parameter&gt;. For example, if the value of the Regular Expression field is $&lt;ParameterName&gt;\@cisco\.com, then the Name field must be given the value - ParameterName.</p>
</blockquote></li>
<li><blockquote>
<p>Name—The name of the output under which the captured value is saved. This name should be the same that is provided in the Regular Expression—$&lt;Name&gt;.</p>
</blockquote></li>
<li><blockquote>
<p>Type—The response parameter type—String, Integer, Float, or Boolean.</p>
</blockquote></li>
</ul></li>
<li><p>Direct Mapping—Select the input from the Task input or Task output.</p></li>
</ul>
<blockquote>
<p><strong>Note:</strong> When you use Direct Mapping and select a task input, and execute the workflow it fails and returns the error <em>Error in execution: API request cannot be populated: invalid character 'm' looking for beginning of value</em>.</p>
<p>You must pipe <em>ToJson</em> to Direct Mapping in Advanced Mapping. For example, for a task input ResponseParser, the Advanced Mapping input should be {{.global.task.input.ResponseParser| ToJson}}.</p>
</blockquote>
<ul>
<li><p>Advanced Mapping—Map a Golang template to the task input.</p></li>
</ul></td>
</tr>
</tbody>
</table>
<p>The following table explains the PowerShell Script custom task Outcomes:</p>
<table>
<colgroup>
<col style="width: 11%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="header">
<th>Property</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Outcomes</td>
<td><p>To use the extracted values from the API response to determine the task status and set the status with an appropriate message, when the conditions match, do the following:</p>
<ol type="1">
<li><p>Click Add Outcome.</p></li>
<li><p>Name—The name for the outcome.</p></li>
<li><p>Outcome Type—Select the outcome type. The options available are Success, Skip To Success, Error, Terminal Error, Skip Task Execution, or Status.</p></li>
</ol>
<ol start="4" type="1">
<li><p>For more information on Outcomes, see <a href="file://E:\\help\\resources\\Task_Designer">Outcomes</a></p></li>
</ol>
<ol start="4" type="1">
<li><p>Message—The message when the condition is met.</p></li>
<li><p>Condition—The condition for the outcome.</p></li>
</ol>
<ol start="5" type="1">
<li><p>For example, {{eq .global.InvokePowerShellScript1.output.ExitCode "0"}}.</p></li>
<li><p>This condition checks whether the response exit code of the API named ‘InvokePowerShellScript1’ used in a custom task is 0.</p></li>
</ol></td>
</tr>
</tbody>
</table>
<h2 id="template-parameters">Template Parameters</h2>
<p>The request body template can refer to values from workflow inputs,
previous task outputs, or implicit parameters for Intersight API calls.
The following table explains the template parameters.</p>
<table>
<colgroup>
<col style="width: 53%" />
<col style="width: 46%" />
</colgroup>
<thead>
<tr class="header">
<th>Prefix/Format</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>{{.global.workflow.input.&lt;ParameterName&gt;}}</td>
<td>Workflow input reference.</td>
</tr>
<tr class="even">
<td>{{.global.&lt;TaskRefName&gt;.output.<br />
Parameters.&lt;ParameterName&gt;}}</td>
<td>Previous task output reference. <strong>TaskRefName</strong> is the name of the previous task having output <strong>ParameterName</strong>.</td>
</tr>
<tr class="odd">
<td>{{.security.AccountMoid}}</td>
<td>Implicit parameter reference to Account MoID under which the workflow is running.</td>
</tr>
<tr class="even">
<td>{{.security.OrganizationMoid}}</td>
<td>Implicit parameter reference to Organization MoID under which the workflow is running.</td>
</tr>
</tbody>
</table>
<h2 id="template-engine-syntax">Template Engine Syntax</h2>
<p>The template engine uses prefix notation for the statements. In case of
operational statements, the operators are specified before the operands.
All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check),
<strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or
equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or
equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the
client error code range 400 – 500. Note that the template engine
supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and
<strong>lt</strong> are specified before their operands.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>{{<span style="color:#000">and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation
syntax. This section has some examples of these conditional statements.</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>{{<span style="color:#000">if \&lt;comparision_statement&gt;}} Template to be used {{end}}  </span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span>{{<span style="color:#000">if \&lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}  </span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span>{{<span style="color:#000">if \&lt;comparision_statement&gt;}} Template to be used {{else if \&lt;comparision_statement}} Tempalte to be used {{end}}</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div>
</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-0046162e1873ec9b264b5e8ca7cf2245">4.8.4 - SSH Commands</h1>
    <div class="lead">Intersight Cloud Orchestrator allows workflow designers to run commands over SSH by using the <strong>Invoke SSH Commands</strong> reusable task in the workflows.</div>
	<pre tabindex="0"><code>Test
</code></pre><p>Sample Text</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f9a3efd1d619b84748a90c844dfa331b">4.8.5 - SSH Commands - Reusable</h1>
    <div class="lead">Intersight Cloud Orchestrator allows workflow designers to run commands over SSH by using the <strong>Invoke SSH Commands</strong> reusable task in the workflows.</div>
	<h1 id="executors--invoke-ssh-commands---reusable-task">Executors – Invoke SSH Commands - Reusable Task</h1>
<p>The <strong>Invoke SSH Commands</strong> task executes SSH commands against the given Intersight SSH endpoint target.</p>
<h2 id="supported-targets">Supported Targets</h2>
<p>The Invoke SSH Commands task can be run only on the targets that are added as an SSH or Ansible endpoint target type in Cisco Intersight.</p>
<p>To run the SSH Command task on the SSH or Ansible endpoint target from Cisco Intersight, ensure that:</p>
<ul>
<li>
<p>The endpoint is reachable through Intersight Assist.</p>
</li>
<li>
<p>The endpoint target is in the Connected state.</p>
</li>
<li>
<p>The endpoint credentials are valid.</p>
</li>
</ul>
<p>For more information on Intersight Target Claim, see <a href="/help/getting_started/claim_targets#target_claim_using_intersight_assist">Target Claim Using Intersight Assist</a>.</p>
<h2 id="using-the-executor-ssh-commands-reusable-task">Using the Executor SSH Commands Reusable Task</h2>
<p>Use the <strong>Invoke SSH Commands</strong> from the <strong>Executors</strong> section in the Intersight Orchestrator Task Designer UI to create a Invoke SSH Commands reusable task.</p>
<p>For more information on tasks, see <a href="/help/resources/Task_Designer#defining_a_task">Defining a Task</a>.</p>
<p>The following table explains the Invoke SSH Commands task properties:</p>
<p>Property</p>
<p>Description</p>
<p>General</p>
<p>For more information, see <a href="/help/resources/Task_Designer#defining_a_task">Defining a Task</a>.</p>
<p>Inputs</p>
<p>External Target—The external target on which the SSH commands are run. By default, the External Target task input is created for the task.</p>
<p>The SSH commands can be run only on targets added as SSH or Ansible endpoint target in Intersight and are in the connected state.</p>
<p>Outputs</p>
<p>To extract the required values from the command responses and map it to task outputs, do the following:</p>
<ol>
<li>
<p>Create Task Output—Specify the task output.</p>
</li>
<li>
<p>Map to Task Output—Check the check box to map the task output to an command response.</p>
</li>
<li>
<p>Task Output—Select the command response to which the task output is mapped. The options available are:</p>
<ul>
<li>
<p><em>Exit Code | Invoke SSH Commands</em></p>
</li>
<li>
<p><em>Command Output | Invoke SSH Commands</em></p>
</li>
<li>
<p><em>Command Execution Error| Invoke SSH Commands</em></p>
</li>
<li>
<p><em>Extracted Parameters | Invoke SSH Commands</em></p>
</li>
</ul>
<p>For more information on task outputs, see Executor Output properties.</p>
</li>
</ol>
<p>The following table explains the Invoke SSH Commands executor input:</p>
<p>Property</p>
<p>Description</p>
<p>SSH Command</p>
<p>The SSH commands that need to be executed on the remote server along with the details of command type.</p>
<p>Command— The SSH command string to execute against the given target. You need to specify only the command string.</p>
<p>You can specify multiple commands that need to run on the given target. For more information, see <a href="/help/resources/Executor_SSH#using_ssh_commands">Using SSH Commands</a>.</p>
<p>Note:</p>
<p>The command chaining is allowed only when the command type is non-interactive.</p>
<ul>
<li>
<p>Static Value—The SSH commands that are to be run on the remote server.</p>
<ul>
<li>
<p>Non-Interactive Command—The SSH command that does not require user prompts.</p>
</li>
<li>
<p>Interactive Command—The SSH commands that require user prompts. For example, the Sudo or install packages command prompts for the user inputs. To specify the user inputs for the command, do the following:</p>
<ul>
<li>
<p>Expect —The regular expression of the expect prompt of the interactive command. You must provide the complete regular expression of the Expect string and the expression must end with the special character &lsquo;$&rsquo; to match the end of the Expect string.</p>
</li>
<li>
<p>Send—The answer string to the expect prompt. You can specify a string value.</p>
</li>
<li>
<p>End prompt—The regular expression of the Shell Prompt of the remote server or target. You must provide the complete regular expression of the Shell Prompt and it must end with special character &lsquo;$&rsquo; to match the end of the Shell Prompt string.</p>
</li>
</ul>
</li>
</ul>
</li>
<li>
<p>Direct Mapping—Select an existing task input or task output field.</p>
<p>You can map only a custom data type of type SSH Command.</p>
<p>Note:</p>
<p>Direct mapping of task input or output of string data type is not valid.</p>
</li>
<li>
<p>Advanced Mapping—You can use Go template expressions for advance use cases where data manipulation is required.</p>
<p>For example, to use substring of the task input StringInput in the SSH command, the advanced mapping can be:</p>
<pre><code>{Command: &quot;{{Substring .global.task.input.StringInput 5 15}}&quot;, 
CommandType: &quot;NonInteractiveCmd&quot;}
</code></pre>
<p>The <em>CommandType</em> can be `NonInteractiveCmd` and `InteractiveCmd`.</p>
<p>Following is an example for the &lsquo;InteractiveCmd&rsquo;:</p>
<pre><code>{
&quot;Command&quot;: &quot;{{Substring .global.task.input.StringInput 5 15}}&quot;,
&quot;CommandType&quot;: &quot;InteractiveCmd&quot;,
&quot;ExpectPrompts&quot;: [
{
&quot;Expect&quot;: &quot;Password:\\s+$&quot;,
&quot;Send&quot;: &quot;dummyValue&quot;
}
],
&quot;ShellPrompt&quot;: &quot;\\[root\\@onprem-appliance\\]\\s+$&quot;
}
</code></pre>
<p>For more information on template functions, see <a href="/help/resources/Executor_SSH_Reusable#template_functions">Template Functions</a>.</p>
</li>
</ul>
<p>Command Timeout</p>
<p>The command timeout in seconds for the execution of the command against the given endpoint. The range is 10 to 7200 seconds.</p>
<p>The default timeout value is 600 seconds.</p>
<ul>
<li>
<p>Static Value—The command timeout in seconds for the execution of the command against the given target.</p>
</li>
<li>
<p>Direct Mapping——Select an existing task input or task output field.</p>
</li>
<li>
<p>Transformed Mapping—Allows applying data transformation through a combination of one or more transformation stages for a task&rsquo;s input. In each transformation stage, you can select a transformation function along with its inputs. The transformation stages will be converted into a template.</p>
</li>
<li>
<p>Advanced Mapping—Map a Golang template to the task input. For example, <code>FindAllString</code> function returns a slice of all substrings that match the given regular expression in the given string.</p>
</li>
</ul>
<p>Expected Exit Codes</p>
<p>The list of expected exit codes for the SSH command that is run by the task. Task status is set to Success if the obtained exit code is present in the list of expected exit codes.</p>
<p>If this input is not specified, then the default exit code is 0 and is used to determine the status of command execution.</p>
<ul>
<li>
<p>Static Value—The exit code for the SSH command that is run by the task.</p>
</li>
<li>
<p>Direct Mapping—Select the expected exit codes from the task input or task output.</p>
</li>
<li>
<p>Advanced Mapping—Map a Golang template to the task input. For example, <code>FindAllString</code> function returns a slice of all substrings that match the given regular expression in the given string.</p>
</li>
</ul>
<p>Response Parser</p>
<p>The response parser specification which is used to extract the values from the command response.</p>
<ul>
<li>
<p>Static Value</p>
<ul>
<li>
<p>Regular Expression—The regular expression of the line in the command response where the interested capture value resides. The format to specify the capture value in this input is &lsquo;$<Name of the parameter>&rsquo;. For example, if we need to capture <em>&lsquo;intersight&rsquo;</em> in the sample response &lsquo;<a href="mailto:intersight@cisco.com">intersight@cisco.com</a>&rsquo;, the regular expression looks like $<Name>\@cisco\.com where &lsquo;<em>Name</em>&rsquo; is the name given to this captured parameter.</p>
</li>
<li>
<p>Name—The name of the output under which the captured value is saved. This name should be the same that is provided in the Regular Expression—$<Name>.</p>
</li>
<li>
<p>Type—The response parameter type—String, Integer, Float, or Boolean.</p>
<p>The default value is String.</p>
</li>
</ul>
</li>
<li>
<p>Direct Mapping—Select a task input or task output field.</p>
<p>To create a new Workflow input, select the Create Workflow Input from the drop-down. The Add Input screen appears with auto-populated fields.</p>
</li>
<li>
<p>Advanced Mapping—Map a Golang template to the task input. For example, <code>FindAllString</code> function returns a slice of all substrings that match the given regular expression in the given string.</p>
</li>
</ul>
<p>For more information, see <a href="/help/resources/Executor_SSH#response_parser">Response Parser</a>.</p>
<p>The following table explains the SSH Command executor Outputs :</p>
<p>Property</p>
<p>Description</p>
<p>Exit Code</p>
<p>The exit code after the execution of the command against the given endpoint.</p>
<p>Command Output</p>
<p>The complete response after the execution of the command against the given endpoint.</p>
<p>Command Execution Error</p>
<p>Captures the error encountered while executing the command.</p>
<p>Extracted Parameters</p>
<p>The response parser extracted outputs from the command execution response.</p>
<p>The following table explains the Invoke SSH Commands task Outcomes:</p>
<p>Property</p>
<p>Description</p>
<p>Outcomes</p>
<p>To set the custom execution status and status message based on the obtained outputs, do the following:</p>
<ol>
<li>
<p>Click Add Outcome.</p>
</li>
<li>
<p>Name—The name for the outcome.</p>
</li>
<li>
<p>Outcome Type—Select the outcome type. The options available are Success, Skip To Success, Error, Terminal Error, Skip Task Execution, or Status.</p>
<p>For more information on Outcomes, see <a href="/help/resources/Task_Designer#outcomes">Outcomes</a></p>
</li>
<li>
<p>Message—The message when the condition is met.</p>
</li>
<li>
<p>Condition—The condition for the outcome.</p>
<p>For example, {{eq .global.InvokeSshCommands1.output.ExitCode &ldquo;0&rdquo;}}.</p>
<p>This condition checks whether the output `ExitCode` of the executor named `InvokeSshCommands1` equals to 0. If the condition is true, the task status is set to the value provided in `Outcome Type` and task status message is set to value provided in `Message`.</p>
</li>
</ol>
<h2 id="using-ssh-commands">Using SSH Commands</h2>
<p>You can specify multiple commands that need to run on the given target by chaining the commands with special characters. The following table explains the operators.</p>
<p>Operators</p>
<p>Function</p>
<p>&amp;&amp; (Logical AND)</p>
<p>The command following this operator will only execute if the command preceding this operator has been successfully executed.</p>
<p>; (Semi-colon)</p>
<p>The command following this operator will execute even if the command preceding this operator is not successfully executed.</p>
<p>|| ( Logical OR)</p>
<p>The command succeeding this operator is only executed if the command preceding it has failed.</p>
<p>| (Pipe)</p>
<p>The output of the first command acts as input to the second command.</p>
<p>! (NOT)</p>
<p>Negates an expression within a command. It is much like an “except” statement.</p>
<p>&gt;,&raquo;, &lt; (Redirection)</p>
<p>Redirects the output of a command or a group of commands to a file or stream.</p>
<h2 id="template-parameters">Template Parameters</h2>
<p>The request body template can refer to values from task inputs, previous task outputs, or implicit parameters. The following table explains the template parameters.</p>
<p>Prefix/Format</p>
<p>Description</p>
<pre><code>{{.global.task.input.&lt;ParameterName&gt;}}
</code></pre>
<p>Task input reference.</p>
<pre><code>{{.global.&lt;ExecutorRefName&gt;.output.&lt;ParameterName&gt;}}
</code></pre>
<p>Previous executor output reference. <strong>ExecutorRefName</strong> is the name of the previous executor having output <strong>ParameterName</strong>.</p>
<pre><code>{{.security.AccountMoid}}
</code></pre>
<p>Implicit parameter reference to Account MoID under which the workflow is running.</p>
<pre><code>{{.security.OrganizationMoid}}
</code></pre>
<p>Implicit parameter reference to Organization MoID under which the workflow is running.</p>
<h2 id="template-functions">Template Functions</h2>
<p>The template engine has in-built functions to transform values before they are populated in the request templates. The following table explains the functions supported in <strong>Invoke SSH Commands</strong> task.</p>
<p>Function</p>
<p>Description</p>
<p>TrimSpace</p>
<p>Returns a string after removing white spaces from a the string.</p>
<p>Example:</p>
<pre><code>{{TrimSpace .global.task.input.HostName}}
</code></pre>
<p>ContainsString</p>
<p>Returns a boolean if a substring is present in a given string.</p>
<p>Example:</p>
<pre><code>{{if (ContainsString .global.task.input.SizeAsString \”MB\”)}}Mega Bytes{{else}}Bytes{{end}}
</code></pre>
<p>FindAllString</p>
<p>Returns a slice of substrings matching the regular expression in a given string.</p>
<p>Example:</p>
<pre><code>{{(FindAllString .global.task.input.NumberString \”([0-9]+)\”)}}
</code></pre>
<p>The above example returns array [“123”, “456”] for input string “123 some text 456.”</p>
<p>ToJson</p>
<p>Converts a value to a JSON format.</p>
<p>Example:</p>
<pre><code>{{(FindAllString .global.task.input.NumberString \&quot;([0-9]+)\&quot;) | ToJson}}
</code></pre>
<p>The above example returns JSON array literal [“123”, “456”] for input string “123 some text 456.”</p>
<p>AsArray</p>
<p>Takes in an element and returns an array of one element.</p>
<p>Example:</p>
<pre><code>{{AsArray .global.task.output.serverMo}}
</code></pre>
<p>The above example returns an array of one server Mo.</p>
<p>Substring</p>
<p>Returns a substring within the given index bounds.</p>
<p>Example:</p>
<pre><code>{{Substring .global.task.input.StorageId 2 6}}
</code></pre>
<p>The above example returns “ABCD” for string “12ABCD3456.”</p>
<p>IpToCidr</p>
<p>Returns the classless inter-domain routing (CIDR) notation of an IPv4 address and subnet mask.</p>
<p>Example:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span>{{<span style="color:#000">IpToCidr .global.task.input.Ip .global.task.input.Netmask}}</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><p>The above example returns “10.10.10.10/24” for the input parameters “10.10.10.10” and “255.255.255.0.”</p>
<p>LookupInSlice</p>
<p>Checks if a given value is present in given slice or array and returns true if it exists. This function can be used for any value.</p>
<p>Example:</p>
<pre><code>{{LookupInSlice .global.task.input.IpAddressList \”10.10.10.10\”}}
</code></pre>
<p>The above example returns true for input [”10.10.10.10”, “20.20.20.20”].</p>
<p>Index</p>
<p>Returns a value from an array when an input index exists.</p>
<p>Example:</p>
<pre><code>{{ index .global.task.input.nodes .global.task.input.idx }} 
</code></pre>
<p>In the above example, if nodes is an array of devices and idx is 2, the index function returns the second device in the array.</p>
<p>Itob</p>
<p>Converts an integer to a boolean.</p>
<p>Example:</p>
<pre><code>{{ Itob global.task.input.OnOffFlip }} 
</code></pre>
<p>The above example returns true and false for inputs 1 and 0 respectively.</p>
<p>Itoa</p>
<p>Converts a given number to a string value.</p>
<p>Example:</p>
<pre><code>{{ Itoa global.task.input.Port }} 
</code></pre>
<p>The above example returns “12345” for input 12345.</p>
<p>Itof</p>
<p>Converts a given integer to a float value.</p>
<p>Example:</p>
<pre><code>{{ Itof global.task.input.Rate }}
</code></pre>
<p>The above example returns 15.0 for an input 15.</p>
<p>Btoa</p>
<p>Converts a given boolean to a string value.</p>
<p>Example:</p>
<pre><code>{{ Btoa global.task.input.OnOffFlip }}
</code></pre>
<p>The above example returns “true” for input true.</p>
<p>Btoi</p>
<p>Converts a given boolean to a integer value.</p>
<p>Example:</p>
<pre><code>{{ Btoi global.task.input.OnOffFlip }}
</code></pre>
<p>The above example returns 1 and 0 for inputs true and false respectively.</p>
<p>Atob</p>
<p>Converts the given string into a boolean value.</p>
<p>Example:</p>
<pre><code>{{ Atob global.task.input.OnOffFlip }}Returns true for input “true”
</code></pre>
<p>Atoi</p>
<p>Converts a given number in string format to the integer type.</p>
<p>Example:</p>
<pre><code>{{Atoi .global.task.input.SizeString}} returns integer 2048 for input string “2048”
</code></pre>
<p>Ftoa</p>
<p>Converts a given number into the string form based on the given precision.</p>
<p>Example:</p>
<pre><code>{{Ftoa .global.task.input.Size 2}} returns the following output: 123.456 =&gt; “123.45”, 1028 =&gt; “1028.00”
</code></pre>
<p>Ftoi</p>
<p>Converts a given float input to a integer value.</p>
<p>Example:</p>
<pre><code>{{ Ftoi global.task.input.Rate }}
</code></pre>
<p>The above example returns 15 for an input 15.833.</p>
<p>Eval</p>
<p>Supports an expression evaluation function. The below example returns 2GB for a input value of 2048. Note that the second argument is passed as ‘.’ in the template, which represents the map of all parameters.</p>
<pre><code>{{Eval \&quot;{{.global.task.input.Size}} / 1024\&quot; .}}GB
</code></pre>
<h2 id="template-engine-syntax">Template Engine Syntax</h2>
<p>The template engine uses <code>prefix</code> notation for the statements. In case of operational statements, the operators are specified before the operands. All the operations are invoked after all the operands are evaluated.</p>
<p><strong>Comparison Statements</strong></p>
<p>The comparison statements can be written using <strong>eq</strong> (equal check), <strong>ne</strong> (not equal check), <strong>lt</strong> (less than check), <strong>le</strong> (less than or equal check), <strong>gt</strong> (greater than check), and <strong>ge</strong> (greater than or equal check).</p>
<p>Here is an example that checks the parameter HttpStatusCode is in the client error code range 400 – 500. Note that the template engine supports prefix notation and hence the operators <strong>and</strong>, <strong>ge</strong>, and <strong>lt</strong> are specified before their operands.</p>
<pre><code>{{and (ge .local.response.HttpStatusCode 400) (lt .local.response.HttpStatusCode 500)}}
</code></pre>
<p><strong>Conditional Statements</strong></p>
<p>The template engine supports conditional statements in prefix notation syntax. This section has some examples of these conditional statements.</p>
<pre><code>{{if &lt;comparision_statement&gt;}} Template to be used {{end}}

{{if &lt;comparision_statement&gt;}} Template to be used {{else}} Template to be used {{end}}

{{if &lt;comparision_statement&gt;}} Template to be used {{else if &lt;comparision_statement}} Tempalte to be used {{end}}
</code></pre>
<h2 id="response-parser">Response Parser</h2>
<p>A response parser is a collection of parameters that model values to be extracted from the SSH command response.</p>
<p><strong>Example: Create a response parser to get the IP address for a ping command</strong></p>
<p>To get the IP address for the host such as <em><a href="https://www.example.com">www.example.com</a></em>, you can use the ping command:</p>
<p><div class="td-card card">
  
  
  
  
  <div class="card-body code p-l0 m-0">
      <pre tabindex="0"><code>
    ping example.com -4
    Pinging example.com [93.184.216.34] with 32 bytes of data:
    Reply from 93.184.216.34: bytes=32 time=229ms TTL=53
    Reply from 93.184.216.34: bytes=32 time=230ms TTL=53
    Reply from 93.184.216.34: bytes=32 time=230ms TTL=53
    Reply from 93.184.216.34: bytes=32 time=229ms TTL=53ping example.com
</code></pre>
  </div>
</div>

To extract the IP address from the command output for an SSH Command task, you can configure the response parser as:</p>
<ul>
<li>
<p>Regular Expression—Pinging\s+example.com\s+\[$<IP>\]\s+.*</p>
</li>
<li>
<p>Name—IP</p>
<p>Note:</p>
<p>This name should be the same that is provided in the Regular Expression field. In the above example, the Regular Expression uses name $<IP> so the Name specified must be &ldquo;IP&rdquo;.</p>
<p>Type—String</p>
</li>
</ul>
<h2 id="invoke-ssh-command-reusable-task-examples">Invoke SSH Command Reusable Task Examples</h2>
<p><strong>Example 1: Create a reusable SSH Command task to list the current working directory on the host</strong></p>
<p>This example task runs on an Intersight SSH endpoint target. This task runs the <em>pwd</em> command on the SSH endpoint target and obtains the current working directory in the output.</p>
<p>Property</p>
<p>Description</p>
<p>General</p>
<ul>
<li>
<p>Organization—The organization that you are creating the task in.</p>
</li>
<li>
<p>Display Name—A user friendly short name to identify the task definition.</p>
</li>
<li>
<p>Reference Name—The name of the Task definition.</p>
</li>
</ul>
<p>Inputs</p>
<ul>
<li>
<p>External Target—By default, the External Target task input is created for the task.</p>
<ul>
<li>
<p>Reference Name—Target</p>
</li>
<li>
<p>Type—Target Data Type</p>
</li>
</ul>
</li>
</ul>
<p>Outputs</p>
<ul>
<li>
<p>ExitCode—Task output</p>
<ul>
<li>
<p>Reference Name—ExitCode</p>
</li>
<li>
<p>Type—String</p>
</li>
<li>
<p>Map to Task Output—<em>Exit Code | Invoke SSH Command</em></p>
</li>
</ul>
</li>
<li>
<p>Response—Task output</p>
<ul>
<li>
<p>Reference Name—Response</p>
</li>
<li>
<p>Type—String</p>
</li>
<li>
<p>Map to Task Output—<em>Command Output| Invoke SSH Command</em></p>
</li>
</ul>
</li>
<li>
<p>Lastline—Task output</p>
<ul>
<li>
<p>Reference Name—Response</p>
</li>
<li>
<p>Type—String</p>
</li>
<li>
<p>Map to Task Output—<em>Extracted Parameters | Invoke SSH Command</em> - <em>WorkingDirectory</em></p>
</li>
</ul>
</li>
<li>
<p>Error—Task output</p>
<ul>
<li>
<p>Reference Name—Error</p>
</li>
<li>
<p>Type—String</p>
</li>
<li>
<p>Map to Task Output—<em>Extracted Parameters | Invoke SSH Command</em> - <em>CommandExecutionError</em></p>
</li>
</ul>
</li>
</ul>
<p>The following table explains the Invoke SSH Command executor inputs:</p>
<p>Property</p>
<p>Description</p>
<p>SSH Command</p>
<p>Static | Non-interactive—Command—pwd</p>
<p>Command Timeout</p>
<p>Default value.</p>
<p>Expected Exit Codes</p>
<p>Default value.</p>
<p>Response Parser</p>
<p>When you run the pwd command, you get the following output:</p>
<pre><code>$pwd
/home/user
</code></pre>
<p>To extracts the path and display it, configure the response parser as:</p>
<ul>
<li>
<p>Regular Expression—$<WorkingDirectory></p>
</li>
<li>
<p>Name—WorkingDirectory</p>
</li>
<li>
<p>Type—String</p>
</li>
</ul>
<p>The configured response parser captures the entire response line.</p>
<p><strong>Example 2: Create a reusable SSH Command task to install jq Linux command line utility on a host using interactive SSH commands</strong></p>
<p>This example task runs on an Intersight SSH endpoint target. In this task, the <em>Sudo</em> password is provided by the command input field, and jq Linux command line utility is installed on the SSH endpoint target.</p>
<p>The task properties required for this example are as following:</p>
<p>Property</p>
<p>Description</p>
<p>General</p>
<ul>
<li>
<p>Organization—The organization that you are creating the task in.</p>
</li>
<li>
<p>Display Name—A user friendly short name to identify the task definition.</p>
</li>
<li>
<p>Reference Name—The name of the Task definition.</p>
</li>
</ul>
<p>Inputs</p>
<ul>
<li>
<p>External Target—By default, the External Target task input is created for the task.</p>
<ul>
<li>
<p>Reference Name—Target</p>
</li>
<li>
<p>Type—Target Data Type</p>
</li>
</ul>
</li>
</ul>
<p>Outputs</p>
<ul>
<li>
<p>ExitCode—Task output</p>
<ul>
<li>
<p>Reference Name—ExitCode</p>
</li>
<li>
<p>Type—String</p>
</li>
<li>
<p>Map to Task Output—<em>Exit Code | Invoke SSH Command</em></p>
</li>
</ul>
</li>
<li>
<p>Response—Task output</p>
<ul>
<li>
<p>Reference Name—Response</p>
</li>
<li>
<p>Type—String</p>
</li>
<li>
<p>Map to Task Output—<em>Command Output| Invoke SSH Command</em></p>
</li>
</ul>
</li>
</ul>
<p>The following table explains the Invoke SSH Command executor inputs:</p>
<p>Property</p>
<p>Description</p>
<p>SSH Command</p>
<p>Static | Interactive—Command—<em>sudo yum install -y jq</em> | Interactive</p>
<ul>
<li>
<p>Expect—The Expect string obtained while executing the SSH command is <em>[sudo]</em> password for <em>qali:</em>. You need to specify the Expect input as the regular expression of the Obtained prompt <em>\[sudo\]\spassword\sfor\sqali:\s$</em>.</p>
</li>
<li>
<p>Send—<em>testPasswd</em>.</p>
</li>
<li>
<p>Shell Prompt—The shell prompt obtained before executing the SSH command is <em>qali@automationvm-15:~$</em>. You need to specify the regular expression of the obtained shell prompt <em>qali\@automationvm-15:~\$\s?$</em>.</p>
</li>
</ul>
<p>Command Timeout</p>
<p>Default value.</p>
<p>Expected Exit Codes</p>
<p>Default value.</p>
<p>Response Parser</p>
<p>Default value.</p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-7b3c262dd7e4461a6491d762ea4d9103">4.8.6 - Sample File</h1>
    <div class="lead">Intersight Cloud Orchestrator allows workflow designers to run commands over SSH by using the <strong>Invoke SSH Commands</strong> reusable task in the workflows.</div>
	<h1 id="ariaid-title1" class="title topictitle1">Sample</h1>
<p>::: {.body .refbody}
::: section
The Workflow Designer helps you create new workflows (as well as tasks
and data types) and also edit existing workflows to manage targets in
Cisco Intersight.</p>
<p>::: {.note .note}
[Note:]{.notetitle}</p>
<p>To execute the new tasks for VMware vCenter networking operations, you
should upgrade to Intersight Assist version 1.0.9-278.
:::</p>
<p>::: {.note .important}
[Important:]{.importanttitle}</p>
<ul>
<li>
<p>The [Orchestration]{.ph .uicontrol} option is visible in the left
panel only if you have installed the Intersight Premier license.</p>
</li>
<li>
<p>Only an Account Administrator or a user with the Workflow Designer
privilege can use the Workflow Designer to create and edit
workflows.
:::</p>
</li>
</ul>
<p>To launch the Workflow Designer, choose [[Orchestration]{.ph .uicontrol}
&gt; [Workflows]{.ph .uicontrol}]{.ph .menucascade}. A dashboard displays
the following details under these tabs, namely, [My Workflows]{.ph
.uicontrol}, [Sample Workflows]{.ph .uicontrol}, and [All Workflows]{.ph
.uicontrol}:</p>
<ul>
<li>
<p>[Validation Status]{.ph .uicontrol}</p>
</li>
<li>
<p>[Last Execution Status]{.ph .uicontrol}</p>
</li>
<li>
<p>[Top Workflows by Execution Count]{.ph .uicontrol}</p>
</li>
<li>
<p>[Top Workflow Categories]{.ph .uicontrol}</p>
</li>
<li>
<p>[Number of System Defined Workflows]{.ph .uicontrol}</p>
</li>
<li>
<p>[Top Workflows by Targets]{.ph .uicontrol}</p>
</li>
</ul>
<p>Using the dashboard, you can create, edit, clone, or delete a tab. To
create your own custom view tab, click + and specify a name and then
choose the required parameters that need to be displayed in the columns,
tag columns, and widgets. You can rename the tabs if it does not have a
Lock icon.</p>
<p>Below the dashboard is a tabular list of workflows displaying the
following information:</p>
<ul>
<li>
<p>[Display Name]{.ph .uicontrol}</p>
</li>
<li>
<p>[Description]{.ph .uicontrol}</p>
</li>
<li>
<p>[System Defined]{.ph .uicontrol}</p>
</li>
<li>
<p>[Default Version]{.ph .uicontrol}</p>
</li>
<li>
<p>[Executions]{.ph .uicontrol}</p>
</li>
<li>
<p>[Last Execution Status]{.ph .uicontrol}</p>
</li>
<li>
<p>[Validation Status]{.ph .uicontrol}</p>
</li>
<li>
<p>[Last Update]{.ph .uicontrol}</p>
</li>
<li>
<p>[Organization]{.ph .uicontrol}</p>
</li>
</ul>
<p>The [Actions]{.ph .uicontrol} column allows you to do the following
actions:</p>
<ul>
<li>
<p>[Execute]{.ph .uicontrol}&mdash;Executes the workflow.</p>
</li>
<li>
<p>[History]{.ph .uicontrol}&mdash;Displays workflow execution history.</p>
</li>
<li>
<p>[Manage Versions]{.ph .uicontrol}&mdash;create and manage versions for
workflows. See <em>Managing Versions for Workflows</em> later in this
document.</p>
</li>
<li>
<p>[Delete]{.ph .uicontrol}&mdash;Delete a workflow.</p>
</li>
<li>
<p>[Retry]{.ph .uicontrol}&mdash;Retry a failed workflow.
:::</p>
</li>
</ul>
<p>::: section</p>
<h2 id="creating-a-workflow" class="title sectiontitle">Creating a Workflow</h2>
<p>Workflow creation can be broken down into the following sequence of
steps:</p>
<ol>
<li>
<p>[Defining a workflow]{.ph .uicontrol}&mdash;you specify the display
name, description, and other important attributes.</p>
</li>
<li>
<p>[Defining workflow inputs, workflow variables, and workflow
outputs]{.ph .uicontrol}&mdash;you can specify which input parameters
are mandatory for the workflow execution, define variable(s) for
workflow, and the output(s) generated on successful execution.</p>
</li>
<li>
<p>[Adding workflow tasks]{.ph .uicontrol}&mdash;you can add one or more
workflow tasks in the Workflow Designer that are needed for the
workflow to carry out its function.</p>
</li>
<li>
<p>[Validate the workflow]{.ph .uicontrol}&mdash;you can validate a
workflow to ensure that there are no errors in connecting task
inputs and outputs.
:::</p>
</li>
</ol>
<p>::: section</p>
<h2 id="defining-a-workflow" class="title sectiontitle">Defining a Workflow</h2>
<ol>
<li>
<p>Choose [Orchestration]{.ph .uicontrol} from the left navigation
pane.</p>
</li>
<li>
<p>Choose [Create Workflow]{.ph .uicontrol}. The [Create
Workflow]{.keyword .wintitle} screen is categorized into the
following areas to help you create a workflow:</p>
<p>The following table describes the options available to you while
creating a workflow:</p>
<p>::: tablenoborder
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| Workflow Designer    | Description          | Details              |
| Area/Option          |                      |                      |
+======================+======================+======================+
| [General Tab]{.ph    | Displays workflow    | You can add a        |
| .uicontrol}          | details, and also    | user-friendly short  |
|                      | inputs, variables,   | name, reference      |
|                      | and outputs of the   | name, description,   |
|                      | workflow.            | and assign an        |
|                      |                      | organization to the  |
|                      |                      | workflow. You can    |
|                      |                      | also specify a       |
|                      |                      | version or set a tag |
|                      |                      | to the workflow. In  |
|                      |                      | order to categorize  |
|                      |                      | your workflow, use   |
|                      |                      | the tag key          |
|                      |                      | [Category]{.ph       |
|                      |                      | .uicontrol} and      |
|                      |                      | provide an           |
|                      |                      | appropriate category |
|                      |                      | value. Use the       |
|                      |                      | following checkboxes |
|                      |                      | to:                  |
|                      |                      |                      |
|                      |                      | [Set as Default      |
|                      |                      | Version]{.ph         |
|                      |                      | .uicontrol}&mdash;Sets   |
|                      |                      | this version as the  |
|                      |                      | default version for  |
|                      |                      | the workflow.        |
|                      |                      |                      |
|                      |                      | [Retryable]{.ph      |
|                      |                      | .                    |
|                      |                      | uicontrol}&mdash;Execute |
|                      |                      | the workflow from    |
|                      |                      | the point of a       |
|                      |                      | failure or retry the |
|                      |                      | execution of the     |
|                      |                      | entire workflow. You |
|                      |                      | can retry the        |
|                      |                      | execution of the     |
|                      |                      | workflow for up to   |
|                      |                      | two weeks after the  |
|                      |                      | last update to the   |
|                      |                      | workflow.            |
|                      |                      |                      |
|                      |                      | [Enable Debug        |
|                      |                      | Logs]{.ph            |
|                      |                      | .u                   |
|                      |                      | icontrol}&mdash;Collects |
|                      |                      | the workflow logs    |
|                      |                      | for each tasks. You  |
|                      |                      | can analyze and      |
|                      |                      | debug the workflow   |
|                      |                      | execution.           |
|                      |                      |                      |
|                      |                      | [Workflow            |
|                      |                      | Inputs]{.ph          |
|                      |                      | .uicontrol}&mdash;You    |
|                      |                      | can click [Add       |
|                      |                      | Workflow Input]{.ph  |
|                      |                      | .uicontrol} and add  |
|                      |                      | workflow inputs.     |
|                      |                      | Each input has a     |
|                      |                      | user-friendly        |
|                      |                      | display name, a      |
|                      |                      | reference name,      |
|                      |                      | description,         |
|                      |                      | restrictions, and    |
|                      |                      | data type. Also, you |
|                      |                      | can set a default    |
|                      |                      | value and encrypt    |
|                      |                      | it. For more         |
|                      |                      | information, see     |
|                      |                      | [Defining Workflow   |
|                      |                      | Inputs, Variables,   |
|                      |                      | and                  |
|                      |                      | Outputs](/help/res   |
|                      |                      | ources/Workflow_Desi |
|                      |                      | gner#defining_workfl |
|                      |                      | ow_inputs_variables_ |
|                      |                      | and_outputs){.xref}. |
|                      |                      |                      |
|                      |                      | [Workflow            |
|                      |                      | Variable]{.ph        |
|                      |                      | .uicontrol}&mdash;You    |
|                      |                      | can click [Add       |
|                      |                      | Workflow             |
|                      |                      | Variable]{.ph        |
|                      |                      | .uicontrol} and add  |
|                      |                      | a workflow variable. |
|                      |                      | Each workflow        |
|                      |                      | variable has a       |
|                      |                      | reference name, data |
|                      |                      | type, and so on.     |
|                      |                      | Also, you can set a  |
|                      |                      | default value. For   |
|                      |                      | more information,    |
|                      |                      | see [Defining        |
|                      |                      | Workflow Inputs,     |
|                      |                      | Variables, and       |
|                      |                      | Outputs](/help/res   |
|                      |                      | ources/Workflow_Desi |
|                      |                      | gner#defining_workfl |
|                      |                      | ow_inputs_variables_ |
|                      |                      | and_outputs){.xref}. |
|                      |                      |                      |
|                      |                      | [Workflow            |
|                      |                      | Outputs]{.ph         |
|                      |                      | .uicontrol}&mdash;You    |
|                      |                      | can click [Add       |
|                      |                      | Workflow Output]{.ph |
|                      |                      | .uicontrol} and add  |
|                      |                      | workflow outputs.    |
|                      |                      | Each output has a    |
|                      |                      | user-friendly        |
|                      |                      | display name, a      |
|                      |                      | reference name,      |
|                      |                      | description,         |
|                      |                      | restrictions, and    |
|                      |                      | data type. Also, you |
|                      |                      | can encrypt a value  |
|                      |                      | and map it to task   |
|                      |                      | output.              |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| [Designer Tab]{.ph   | Displays the design  | Categorized into the |
| .uicontrol}          | area where you       | following areas to   |
|                      | synthesize your      | help you create a    |
|                      | workflow.            | workflow:            |
|                      |                      |                      |
|                      |                      | -   Tools            |
|                      |                      |     Area&mdash;lists all |
|                      |                      |     the tasks,       |
|                      |                      |     workflows, and   |
|                      |                      |     operations that  |
|                      |                      |     are currently    |
|                      |                      |     available in     |
|                      |                      |     Intersight. You  |
|                      |                      |     can drag and     |
|                      |                      |     drop a task or a |
|                      |                      |     workflow to the  |
|                      |                      |     canvas to create |
|                      |                      |     or edit the      |
|                      |                      |     workflow. You    |
|                      |                      |     can collapse or  |
|                      |                      |     expand the Tools |
|                      |                      |     area. You can    |
|                      |                      |     use the Search   |
|                      |                      |     feature to find  |
|                      |                      |     a specific task  |
|                      |                      |     or workflow.     |
|                      |                      |                      |
|                      |                      | -   Design           |
|                      |                      |     Area&mdash;where you |
|                      |                      |     can build your   |
|                      |                      |     workflow. Drag   |
|                      |                      |     and drop tasks   |
|                      |                      |     and workflows    |
|                      |                      |     from the Tools   |
|                      |                      |     area to this     |
|                      |                      |     area of the      |
|                      |                      |     screen. This     |
|                      |                      |     area includes    |
|                      |                      |     the following    |
|                      |                      |     options that you |
|                      |                      |     can use while    |
|                      |                      |     creating the     |
|                      |                      |     workflow:        |
|                      |                      |                      |
|                      |                      |     -   Zoom in and  |
|                      |                      |         Zoom         |
|                      |                      |                      |
|                      |                      |        out&mdash;Magnify |
|                      |                      |         or reduce    |
|                      |                      |         the view of  |
|                      |                      |         the          |
|                      |                      |         workflow.    |
|                      |                      |                      |
|                      |                      |     -   Auto Align   |
|                      |                      |         Work         |
|                      |                      | flow&mdash;Automatically |
|                      |                      |         align the    |
|                      |                      |         workflow     |
|                      |                      |         tasks in the |
|                      |                      |         design area. |
|                      |                      |                      |
|                      |                      |     -   Auto Align   |
|                      |                      |         Selected     |
|                      |                      |         Workflow     |
|                      |                      |                      |
|                      |                      |     Entities&mdash;Align |
|                      |                      |         selected     |
|                      |                      |         workflow     |
|                      |                      |         entities in  |
|                      |                      |         the design   |
|                      |                      |         area.        |
|                      |                      |                      |
|                      |                      |     -   Toggle Task  |
|                      |                      |                      |
|                      |                      |      Search&mdash;Search |
|                      |                      |         for a        |
|                      |                      |         specific     |
|                      |                      |         task within  |
|                      |                      |         the          |
|                      |                      |         workflow.    |
|                      |                      |         This is      |
|                      |                      |         useful when  |
|                      |                      |         you have     |
|                      |                      |         several      |
|                      |                      |         tasks within |
|                      |                      |         the          |
|                      |                      |         workflow.    |
|                      |                      |                      |
|                      |                      |     -   Auto Connect |
|                      |                      |         Selected     |
|                      |                      |         Workflow     |
|                      |                      |         Entity&mdash;Add |
|                      |                      |         the workflow |
|                      |                      |         entity in    |
|                      |                      |         the design   |
|                      |                      |         area. You    |
|                      |                      |         can drag and |
|                      |                      |         drop a task  |
|                      |                      |         in between   |
|                      |                      |         the tasks.   |
|                      |                      |         The possible |
|                      |                      |         locations    |
|                      |                      |         where the    |
|                      |                      |         selected     |
|                      |                      |         task can be  |
|                      |                      |         added is     |
|                      |                      |         denoted with |
|                      |                      |         [+ ]{.ph     |
|                      |                      |         .uicontrol}  |
|                      |                      |         icon.        |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| [Mapping Tab]{.ph    | Displays the         | Expand and collapse  |
| .uicontrol}          | relationship between | the [Task            |
|                      | the task inputs and  | Inputs]{.ph          |
|                      | the outputs of the   | .uicontrol} and      |
|                      | selected workflow.   | [Task Outputs]{.ph   |
|                      |                      | .uicontrol} pane.    |
|                      | Information on       |                      |
|                      | workflow inputs and  |                      |
|                      | workflow outputs is  |                      |
|                      | also displayed.      |                      |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| [Code Tab]{.ph       | Displays the code    | Read-only view of    |
| .uicontrol}          | view of the workflow | the workflow. You    |
|                      | definition           | can copy the code,   |
|                      |                      | use this as a sample |
|                      |                      | to create a workflow |
|                      |                      | using Intersight     |
|                      |                      | APIs.                |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| [History Tab]{.ph    | Status of the        | View workflow        |
| .uicontrol}          | executed/in-progress | execution history,   |
|                      | workflows. This tab  | retry or clone a     |
|                      | appears after        | previous execution.  |
|                      | executing a          | The system displays  |
|                      | workflow.            | a maximum of 100     |
|                      |                      | instances of the     |
|                      |                      | workflow execution.  |
|                      |                      | The workflow         |
|                      |                      | execution is         |
|                      |                      | populated for each   |
|                      |                      | version of the       |
|                      |                      | workflow.            |
|                      |                      |                      |
|                      |                      | ::: {.note .note}    |
|                      |                      | [Note:]{.notetitle}  |
|                      |                      | When a workflow is   |
|                      |                      | successfully         |
|                      |                      | executed, the        |
|                      |                      | options for retrying |
|                      |                      | the workflow are not |
|                      |                      | displayed. You can   |
|                      |                      | retry a failed       |
|                      |                      | workflow only when   |
|                      |                      | the [Retryable]{.ph  |
|                      |                      | .uicontrol} option   |
|                      |                      | is enabled in the    |
|                      |                      | [General]{.ph        |
|                      |                      | .uicontrol} tab.     |
|                      |                      | :::                  |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| [Execute]{.ph        | Launches the [Enter  | Choose the           |
| .uicontrol}          | Workflow             | Organization and the |
|                      | Inputs]{.keyword     | Workflow instance    |
|                      | .wintitle} window.   | name to execute the  |
|                      |                      | workflow.            |
|                      |                      |                      |
|                      |                      | For user-created     |
|                      |                      | workflows, the       |
|                      |                      | organization must    |
|                      |                      | match where it was   |
|                      |                      | created.             |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| [Save Workflow]{.ph  | Validates and saves  | Review validation    |
| .uicontrol}          | the workflow.        | errors, if any, and  |
|                      |                      | rectify them.        |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| [Close Designer]{.ph | Closes the Workflow  | Closes the Workflow  |
| .uicontrol}          | Designer.            | Designer and         |
|                      |                      | displays the table   |
|                      |                      | view of available    |
|                      |                      | workflows.           |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
:::
:::</p>
</li>
</ol>
<p>::: section</p>
<h2 id="requests" class="title sectiontitle">Requests</h2>
<p>Requests are closely related to workflows. You create requests by
running workflows; a request is generated every time you execute a
workflow in Cisco Intersight. A request is a process under the control
of Cisco Intersight.</p>
<p>You can schedule a workflow for later execution, and Cisco Intersight
stores details of completed requests. To view the detailed information
of a request, choose a request. The following information is displayed
in the <strong>Requests</strong> screen:</p>
<ul>
<li>
<p>Status&mdash;Displays the status of a workflow. Request can have one of
several states depending on its execution status:</p>
<ul>
<li>
<p>Running</p>
</li>
<li>
<p>Blocked (for example, awaiting an approval)</p>
</li>
<li>
<p>Completed</p>
</li>
<li>
<p>Failed (a request can fail when one of its component tasks fails
to execute properly)</p>
</li>
</ul>
</li>
<li>
<p>Details&mdash;Displays the request details such as name, request ID,
target name and type, source name and type, name of the user who has
executed the request along with the start time and end time, and
duration of the request.</p>
</li>
<li>
<p>Inputs&mdash;Displays the workflow input details</p>
</li>
<li>
<p>Outputs&mdash;Displays the workflow output details</p>
</li>
<li>
<p>Execution Flow&mdash;Enable [Show Additional Details]{.ph .uicontrol} to
view the logs, input, and output mapping details of the user-defined
workflows. Displays the workflow execution history details similar
to the details displayed in the [History]{.ph .uicontrol} tab.
:::</p>
</li>
</ul>
<p>::: {#id_131513__Defining_WF_IO .section}</p>
<h2 id="defining-workflow-inputs-variables-and-outputs" class="title sectiontitle">Defining Workflow Inputs, Variables, and Outputs</h2>
<p>Workflows can have any number of tasks, inputs, variables, and outputs.</p>
<p>Any task or workflow input can be either mandatory or optional. A task
or workflow cannot run without all of its mandatory inputs. You define
whether an input is mandatory or optional when you create the task or
workflow.</p>
<p>After specifying the generic properties for a task or workflow, you
define the input parameters and variables required for task or workflow
execution. In addition, you can set workflow input Parameter Set or
Progressive Disclosure rules. These rules control the availability of
workflow inputs or filter the data based on the preceding selection
during the workflow execution. The Task Designer uses the same
parameters and information types as the workflow designer to validate
the mappings of task input and output parameters when a task is used in
a workflow along with other tasks. Task designer uses the same form as
workflow designer to obtain the parameter and information type so as
provide same user experience between workflow designer and task
designer.</p>
<ol>
<li>
<p>Choose [Orchestration]{.ph .uicontrol} from the left navigation pane
and click [Create Workflow]{.ph .uicontrol}.</p>
</li>
<li>
<p>In the [General]{.ph .uicontrol} tab, click [Add Workflow Input]{.ph
.uicontrol} in the [Workflow Inputs]{.ph .uicontrol} tab.</p>
</li>
<li>
<p>In the [Add Workflow Input]{.ph .uicontrol} screen, enter the
following details:</p>
<p>a.  [Display Name]{.ph .uicontrol}&mdash;Enter user-friendly short name.</p>
<p>b.  [Reference Name]{.ph .uicontrol}</p>
<p>c.  [Description]{.ph .uicontrol}&mdash;Detailed description of the
input</p>
<p>d.  [Value Restrictions]{.ph .uicontrol}&mdash;Choose [Required]{.ph
.uicontrol}, [Collection/Multiple]{.ph .uicontrol}, or can be
left blank</p>
<p>e.  [Type]{.ph .uicontrol}&mdash;Select a data type. For example,
String, Integer, Float, Boolean, Json, Enum, MoReference, Target
Data Type, or a custom data type.</p>
<pre><code>The fields displayed depend on the value you select for the Type
field.
</code></pre>
<p>f.  If you select the data type as [Enum]{.ph .uicontrol}, specify
the following:</p>
<pre><code>i.  [Enum List]{.ph .uicontrol}---Label for the Enum value.

ii. [Widget type]{.ph .uicontrol}.

iii. [Set Default Value]{.ph .uicontrol}---Select the checkbox
     and select the corresponding default value.

iv. [Override]{.ph .uicontrol}---Allow the user to override the
    default value.
</code></pre>
<p>g.  If you select the data type as [String]{.ph .uicontrol}, specify
the following:</p>
<pre><code>i.  [Minimum]{.ph .uicontrol} and [Maximum Range]{.ph
    .uicontrol}

ii. [Regex]{.ph .uicontrol}---Validates the regular expression
    when you select [String]{.ph .uicontrol} in the [Type]{.ph
    .uicontrol} field.

iii. [Secure]{.ph .uicontrol}---Indicates that the values of
     these properties are encrypted and stored in Cisco
     Intersight.

iv. [Object Selector]{.ph .uicontrol}---Enable to configure the
    Intersight managed object selectors. This attribute is
    available only when the primitive data is [String]{.ph
    .uicontrol}.

    Specify the Intersight API Reference and selector attributes
    to feed the input from the table selection. Value will be
    passed according to the configuration set in the Value
    attribute.
</code></pre>
<p>h.  If you select the data type as [Integer]{.ph .uicontrol} or
[Float]{.ph .uicontrol}, specify the following:</p>
<pre><code>i.  [Minimum]{.ph .uicontrol} and [Maximum Range]{.ph
    .uicontrol}

ii. [Set Default Value]{.ph .uicontrol}---Select the checkbox
    and the corresponding default value.
</code></pre>
<p>i.  If you select the data type as [Target Data Type]{.ph
.uicontrol} or [MoReference]{.ph .uicontrol}, specify the
following:</p>
<pre><code>i.  [Intersight API Reference]{.ph .uicontrol}---Enter the URL
    of the Intersight API configured with parameters.

ii. [Selector Attribute]{.ph .uicontrol}---Enter the attribute
    name(s) that needs to be displayed in the input table
    column. You can add multiple selector attributes by clicking
    [+]{.ph .uicontrol}.
</code></pre>
<p>j.  If you select the data type as [Composite Data Type]{.ph
.uicontrol}, you can specify the field mapping for the input
field. With field mapping, you can pass the value of workflow
input to a composite data field.</p>
<pre><code>To pass the value from the parent composite data type to a child
composite data type, you must specify the field mapping in the
composite data type field. For more information, see [Creating a
Data
Type](../../../../../../../../help/resources/Data_Types#creating_a_data_type){.xref}.

To specify the field mapping, do the following:

i.  [Key]{.ph .uicontrol}---The input field that you want to
    hide.

ii. [Value Attribute]{.ph .uicontrol}---The value in a template
    style to be passed dynamically during the execution.

    If the data type is Object Selector, Enum, or Boolean then
    the input is referenced as
    `${workflow.input.InputReferenceName`{.ph .codeph}}.

    If the data type is MoReference or Target Data Type the
    input is referenced as
    `${workflow.input.InputReferenceName.AttributeName}`{.ph
    .codeph}.

    The `InputReferenceName`{.ph .codeph} is the Reference Name
    given to the input field and not the Display Name or Label.
</code></pre>
</li>
<li>
<p>Click [Add]{.ph .uicontrol}.</p>
</li>
<li>
<p>Repeat this procedure to create multiple inputs.</p>
</li>
<li>
<p>To add a Parameter Set rule, click [Add Rule]{.ph .uicontrol} &gt;
[Parameter Set]{.ph .uicontrol}.</p>
<p>For more information, see Workflow <a href="../../../../../../../../help/resources/Workflow_Designer#workflow_input_parameter_set_and_progressive_disclosure_rules">Workflow Input Parameter Set and
Progressive Disclosure
Rules</a>{.xref}.</p>
<p>a.  [Name]{.ph .uicontrol}&mdash;The name of the Parameter Set rule.</p>
<p>b.  [If Field]{.ph .uicontrol}&mdash;Select the input field and the
properties that will be used to define the Parameter Set rule.</p>
<pre><code>The inputs are referenced as *InputName* or
*InputName.Properties*.

::: {.note .note}
[Note:]{.notetitle}
The properties are applicable only if the data type is
[MoRefefence]{.ph .uicontrol} or [Target Data Type]{.ph
.uicontrol}. For example, for a Target Data Type input field
(DeviceRegistrations), you can specify *Hypervisor Manager.IP
Address*.
:::
</code></pre>
<p>c.  [Condition]{.ph .uicontrol}&mdash;The condition for the rule. The
condition can be Equal to, Not equal to, Contains, or Matches
Pattern.</p>
<p>d.  [Value]{.ph .uicontrol}&mdash;Select or enter the value. The
Parameter Set rule uses this value along with the Condition
specified to compare the value from the [If Field]{.ph
.uicontrol}.</p>
<p>e.  [Field to be shown]{.ph .uicontrol}&mdash;Select the input field(s)
that should be made available when the Parameter Set rule
condition is satisfied.</p>
<p>f.  Click [Save]{.ph .uicontrol}.</p>
</li>
<li>
<p>To add a Progressive Disclosure rule, click [Add Rule]{.ph
.uicontrol} &gt; [Progressive Disclosure]{.ph .uicontrol}.</p>
<p>For more information, see <a href="../../../../../../../../help/resources/Workflow_Designer#workflow_input_parameter_set_and_progressive_disclosure_rules">Workflow Input Parameter Set and
Progressive Disclosure
Rules</a>{.xref}.</p>
<p>a.  [Target Field]{.ph .uicontrol}&mdash;The target input field on which
the progressive disclosure is applied.</p>
<p>b.  [Attribute ]{.ph .uicontrol}&mdash;The inputs are referenced as
<em>AttributeName.ParameterName</em>. For example, for an input field,
Virtual Manager, you can specify the attribute name as
<em>RegisteredDevice.Moid</em> or <em>ConnectionStatus</em>.</p>
<p>c.  [Condition]{.ph .uicontrol}&mdash;The rule condition for the rule.
The condition can be Equal to, Not equal to, or Contains.</p>
<p>d.  [Value]{.ph .uicontrol}&mdash;The inputs are referenced as
<code>${InputReferenceName.Attribute</code>{.ph .codeph}} or
<code>${InputReferenceName.ParameterName}</code>{.ph .codeph}. For example,
for a VM input field, you can specify the value as
<code>${HypervisorManager.Moid}</code>{.ph .codeph} or
<code>${Target.ConnectionStatus}</code>{.ph .codeph}.</p>
<pre><code>::: {.note .note}
[Note:]{.notetitle}
For a [String]{.ph .uicontrol} input field, if you have selected
the Object Selector option then you need not specify the
Attribute or Parameter value.
:::
</code></pre>
</li>
<li>
<p>In the [General]{.ph .uicontrol} tab, click [Add Workflow
Variables]{.ph .uicontrol} in the [Workflow Variables]{.ph
.uicontrol} tab. For more information, see <a href="/help/resources/Workflow_Designer#workflow_variables">Workflow
Variables</a>{.xref}.</p>
</li>
<li>
<p>In the [Add Workflow Variable]{.ph .uicontrol} screen, enter the
following details:</p>
<p>a.  [Reference Name]{.ph .uicontrol}&mdash;Enter user-friendly short
name.</p>
<p>b.  [Type]{.ph .uicontrol}&mdash;Select the data type. For example,
String, Integer, Float, Boolean, Json, Enum, MoReference, or
Target Data Type.</p>
<pre><code>The fields displayed depend on the value you select for the Type
field.
</code></pre>
<p>c.  If you select the data type as [String]{.ph .uicontrol}, specify
the following:</p>
<pre><code>i.  [Object Selector]{.ph .uicontrol}---Enable to configure the
    Intersight managed object selectors.

    The Object Selector field is optional.

ii. Specify the Intersight API Reference and selector attributes
    to feed the input from the table selection. The value will
    be passed according to the configuration set in the Value
    attribute.
</code></pre>
<p>d.  If you select the data type as [Enum]{.ph .uicontrol}, specify
the following:</p>
<pre><code>i.  [Enum List]{.ph .uicontrol}---Label and value for the Enum
    list.

ii. [Widget type]{.ph .uicontrol}---The widget type as Radio or
    none.
</code></pre>
<p>e.  If you select the data type as [Target Data Type]{.ph
.uicontrol} or [MoReference]{.ph .uicontrol}, specify the
following:</p>
<pre><code>i.  [Intersight API Reference]{.ph .uicontrol}---Enter the URL
    of the Intersight API configured with parameters.

ii. [Selector Attribute]{.ph .uicontrol}---Enter the attribute
    name(s) that needs to be displayed in the input table
    column. You can add multiple selector attributes by clicking
    [+]{.ph .uicontrol}.
</code></pre>
<p>f.  Select the [Initial Mapping To]{.ph .uicontrol} type and specify
the corresponding variable value.</p>
<p>g.  Click [Add]{.ph .uicontrol}.</p>
</li>
<li>
<p>Click [Workflow Outputs]{.ph .uicontrol} and click [Add Workflow
Output]{.ph .uicontrol}.</p>
</li>
<li>
<p>Choose a parameter and click [Add]{.ph .uicontrol}.</p>
</li>
<li>
<p>Click [Save]{.ph .uicontrol}.
:::</p>
</li>
</ol>
<p>::: {#id_131513__section_z2q_jns_drb .section}</p>
<h2 id="workflow-input-parameter-set-and-progressive-disclosure-rules" class="title sectiontitle">Workflow Input Parameter Set and Progressive Disclosure Rules</h2>
<p>When you create a workflow, you can specify the inputs for the workflow
execution. After you define the workflow inputs, you can set Parameter
Set or Progressive Disclosure rules. These rules control the
availability of workflow inputs or filter the data based on the
preceding selection during the workflow execution.</p>
<p>::: {.note .note}
[Note:]{.notetitle}</p>
<p>You can define a Parameter Set or Progressive Disclosure rule only for a
workflow that has more than two input fields with the supported data
type.
:::</p>
<p><strong>Parameter Set Rule</strong></p>
<p>The Parameter Set rules control the availability of specific parameters
or inputs during the execution. After the first input is specified, the
Parameter Set rule controls which subsequent input fields are made
available during the workflow execution.</p>
<p><strong>Example:</strong> The following example shows how to create a Parameter Set
rule for a workflow with three input fields. The workflow input fields
are:</p>
<ul>
<li>
<p>[Enum]{.ph .uicontrol}&mdash;[Type]{.ph .uicontrol} is <em>Enum</em> and [Enum
list]{.ph .uicontrol} is <em>VM</em> and <em>HX</em>.</p>
</li>
<li>
<p>[Input1]{.ph .uicontrol}&mdash;[Type]{.ph .uicontrol} is <em>String</em>.</p>
</li>
<li>
<p>[Input2]{.ph .uicontrol}&mdash;[Type]{.ph .uicontrol} is <em>String</em>.</p>
</li>
</ul>
<p>You can create two workflow input Parameter Set rules. During the
workflow execution when the [Enum]{.ph .uicontrol} value is <em>VM</em> only
[Input1]{.ph .uicontrol} field is made available. Alternately, when the
[Enum]{.ph .uicontrol} value is <em>HX</em>, only [Input2]{.ph .uicontrol} is
made available. The details of the Parameter Set rules are:</p>
<ul>
<li>
<p>[Rule1]{.ph .uicontrol}&mdash;[If Field]{.ph .uicontrol} is <em>Enum</em>,
[Condition]{.ph .uicontrol} is <em>Equal to</em>, [Value ]{.ph
.uicontrol}is <em>VM</em>, and [Fields to be shown ]{.ph .uicontrol}is
<em>Input1.</em></p>
</li>
<li>
<p>[Rule2]{.ph .uicontrol}&mdash;[If Field]{.ph .uicontrol} is <em>Enum</em>,
[Condition]{.ph .uicontrol} is <em>Equal to</em>, [Value ]{.ph
.uicontrol}is <em>HX</em>, and [Fields to be shown ]{.ph .uicontrol}is
<em>Input2.</em></p>
</li>
</ul>
<p>The following is a sample of the API request.</p>
<pre tabindex="0"><code>  &#34;InputParameterSet&#34;: [
    {
      &#34;Condition&#34;: &#34;eq&#34;,
      &#34;ControlParameter&#34;: &#34;Enum&#34;,
      &#34;EnableParameters&#34;: [
        &#34;Input1&#34;
      ],
      &#34;Name&#34;: &#34;Rule1&#34;,
      &#34;ObjectType&#34;: &#34;workflow.ParameterSet&#34;,
      &#34;Value&#34;: &#34;VM&#34;
    },
    {
      &#34;Condition&#34;: &#34;eq&#34;,
      &#34;ControlParameter&#34;: &#34;Enum&#34;,
      &#34;EnableParameters&#34;: [
        &#34;Input2&#34;
      ],
      &#34;Name&#34;: &#34;Rule2&#34;,
      &#34;ObjectType&#34;: &#34;workflow.ParameterSet&#34;,
      &#34;Value&#34;: &#34;HX&#34;
    },
</code></pre><p>The supported data types for Parameter Set rules are:</p>
<ul>
<li>
<p>Boolean</p>
</li>
<li>
<p>Enum</p>
</li>
<li>
<p>String Object Selector</p>
</li>
<li>
<p>MoReference</p>
</li>
<li>
<p>Target</p>
</li>
</ul>
<p><strong>Progressive Disclosure Rule</strong></p>
<p>The Progressive Disclosure rules filter the data available in an input
field based on the preceding selection during a workflow execution. The
first input field is populated with broadest options. The subsequent
input fields are populated with options based on the previous selection.</p>
<p><strong>Example 1:</strong> The following example shows how to create a Progressive
Disclosure rule for a workflow with two input fields. Both these input
fields are MoReference data type. The workflow input fields are:</p>
<ul>
<li>
<p>[Field1]{.ph .uicontrol}&mdash;[Type]{.ph .uicontrol} is <em>MoReference</em>,
[Intersight API Reference]{.ph .uicontrol} is
<code>/api/v1/asset/DeviceRegistrations</code>{.ph .codeph}, and [Selector
attribute]{.ph .uicontrol} is <code>ConnectionStatus</code>{.ph .codeph}.</p>
</li>
<li>
<p>[Field2]{.ph .uicontrol}&mdash;[Type ]{.ph .uicontrol}is <em>MoReference</em>,
[Intersight API Reference]{.ph .uicontrol} is
<code>/api/v1/asset/DeviceRegistrations</code>{.ph .codeph}, and [Selector
attribute]{.ph .uicontrol} is <code>ConnectionStatus</code>{.ph .codeph}.</p>
</li>
</ul>
<p>You can create a Progressive Disclosure rule so that during the workflow
execution, the data is filtered for [Field2 ]{.ph .uicontrol}fields
based on value in the [Field1 ]{.ph .uicontrol}field. The details of the
Progressive Disclosure rule are:</p>
<ul>
<li>[Field2 Rule]{.ph .uicontrol}&mdash;[Target Field]{.ph .uicontrol} is
<code>Field2</code>{.ph .codeph}, [Attribute]{.ph .uicontrol} is
<code>ConnectionStatus</code>{.ph .codeph}, [Condition]{.ph .uicontrol} is
<em>Equal to</em>, and [Value]{.ph .uicontrol} is
<code>${Field1.ConnectionStatus}.</code>{.ph .codeph}</li>
</ul>
<p><strong>Example 2:</strong>: The following example shows how to create a Progressive
Disclosure rule for a workflow with two input fields. Both these input
fields are composite custom data type. The workflow input fields are:</p>
<ul>
<li>
<p>[Input1]{.ph .uicontrol}&mdash;Composite data type with two fields
(Field1 and Field2)</p>
<ul>
<li>
<p>[Field1]{.ph .uicontrol}&mdash;[Type]{.ph .uicontrol} is
<em>MoReference</em>, [Intersight API Reference]{.ph .uicontrol} is
<code>/api/v1/asset/DeviceRegistrations</code>{.ph .codeph}, and [Selector
attribute]{.ph .uicontrol} is <code>ConnectionStatus</code>{.ph .codeph}.</p>
</li>
<li>
<p>[Field2]{.ph .uicontrol}&mdash;[Type ]{.ph .uicontrol}is
<em>MoReference</em>, [Intersight API Reference]{.ph .uicontrol} is
<code>/api/v1/asset/DeviceRegistrations</code>{.ph .codeph}, and [Selector
attribute]{.ph .uicontrol} is <code>ConnectionStatus</code>{.ph .codeph}.</p>
</li>
</ul>
</li>
<li>
<p>[Input2]{.ph .uicontrol}&mdash;Composite data type with two fields
(Field3 and Field4)</p>
<ul>
<li>
<p>[Field3]{.ph .uicontrol}&mdash;[Type]{.ph .uicontrol} is
<em>MoReference</em>, [Intersight API Reference]{.ph .uicontrol} is
<code>/api/v1/asset/DeviceRegistrations</code>{.ph .codeph}, and [Selector
attribute]{.ph .uicontrol} is <code>ConnectionStatus</code>{.ph .codeph}.</p>
</li>
<li>
<p>[Field4]{.ph .uicontrol}&mdash;[Type ]{.ph .uicontrol}is
<em>MoReference</em>, [Intersight API Reference]{.ph .uicontrol} is
<code>/api/v1/asset/DeviceRegistrations</code>{.ph .codeph}, and [Selector
attribute]{.ph .uicontrol} is <code>ConnectionStatus</code>{.ph .codeph}.</p>
</li>
</ul>
</li>
</ul>
<p>You can create two Progressive Disclosure rules. During the workflow
execution, the data is filtered for [Input2 ]{.ph .uicontrol}fields
based on value in the [Input1]{.ph .uicontrol} fields. The details of
the two Progressive Disclosure rules are:</p>
<ul>
<li>
<p>[Input2.Field3 Rule]{.ph .uicontrol}&mdash;[Target Field]{.ph
.uicontrol} is <code>Input2.Field3</code>{.ph .codeph}, [Attribute]{.ph
.uicontrol} is <code>ConnectionStatus</code>{.ph .codeph}, [Condition]{.ph
.uicontrol} is <em>Equal to</em>, and [Value]{.ph .uicontrol} is
<code>${Input1.Field1.ConnectionStatus}.</code>{.ph .codeph}</p>
</li>
<li>
<p>[Input2.Field4 Rule]{.ph .uicontrol}&mdash;[Target Field]{.ph
.uicontrol} is <code>Input2.Field4</code>{.ph .codeph}, [Attribute]{.ph
.uicontrol} is <code>ConnectionStatus</code>{.ph .codeph}, [Condition]{.ph
.uicontrol} is <em>Equal to</em>, and [Value]{.ph .uicontrol} is
<code>${Input1.Field2.ConnectionStatus}.</code>{.ph .codeph}</p>
</li>
</ul>
<p>The following is a sample of the API request.</p>
<pre tabindex="0"><code>  &#34;UiInputFilters&#34;: [
    {
      &#34;Filters&#34;: [
        &#34;ConnectionStatus eq &#39;${Input1.Field1.ConnectionStatus}&#39;&#34;
      ],
      &#34;Name&#34;: &#34;Input2.Field3&#34;,
      &#34;ObjectType&#34;: &#34;workflow.UiInputFilter&#34;,
      &#34;UserHelpMessage&#34;: &#34;&#34;
    },
    {
      &#34;Filters&#34;: [
        &#34;ConnectionStatus eq &#39;${Input1.Field2.ConnectionStatus}&#39;&#34;
      ],
      &#34;Name&#34;: &#34;Input2.Field4&#34;,
      &#34;ObjectType&#34;: &#34;workflow.UiInputFilter&#34;,
      &#34;UserHelpMessage&#34;: &#34;&#34;
    }
  ]
</code></pre><p>The supported data types for the Progressive Disclosure rules are:</p>
<ul>
<li>
<p>MoReference</p>
</li>
<li>
<p>Target</p>
</li>
<li>
<p>String Object Selector
:::</p>
</li>
</ul>
<p>::: section</p>
<h2 id="workflow-variables" class="title sectiontitle">Workflow Variables</h2>
<p>Workflow variables are similar to local variables within functions of a
programming language. You define variables for workflows in Workflow
Designer, and the scope of the workflow variables lies within the
defined workflow. In a workflow, all tasks are bound to the scope of the
workflow and have access to the workflow variables that are defined for
the workflow. You can use the workflow variable to do the following:</p>
<ul>
<li>
<p>Simplify complex workflows which have multiple branches based on the
conditional operator. Save the output of tasks that get executed in
different branches of the workflow into a single variable. This
variable can then be mapped in the downstream tasks irrespective of
the branch from which it was taken.</p>
</li>
<li>
<p>Evaluate the workflow input using a complex expression, save the
result as a variable, and reuse the variable in the subsequent
tasks.</p>
</li>
<li>
<p>Transform the output of a task with the help of template functions
and map the value into a workflow variable. The variables can then
be used in multiple mappings without having to redo the
transformation in every mapping.</p>
</li>
</ul>
<p>To define the workflow variable and specify the corresponding value, you
can do the following:</p>
<ul>
<li>
<p>In the [General]{.ph .uicontrol} tab, click [Add Workflow
Variable]{.ph .uicontrol} and define the variable properties.</p>
</li>
<li>
<p>In the [Designer]{.ph .uicontrol} tab, click the task, and then
click the [Variables]{.ph .uicontrol} tab.</p>
<ul>
<li>
<p>To add a new workflow variable, click [Add Workflow
Variable]{.ph .uicontrol} and define the variable properties.</p>
</li>
<li>
<p>To add or edit a mapping to an existing variable, click [Edit
Mapping]{.ph .uicontrol} and specify the new value.</p>
<p>::: {.note .note}
[Note:]{.notetitle}
To view events for a workflow variable, click the [View]{.ph
.uicontrol} icon.
:::</p>
</li>
</ul>
</li>
</ul>
<p>The workflow variables can be assigned one of the following values:</p>
<ul>
<li>
<p>[Static value]{.ph .uicontrol}&mdash;Either the default value of the
variable or the value specified in the workflow tasks.</p>
</li>
<li>
<p>[Direct mapping ]{.ph .uicontrol}&mdash;Mapped to a workflow input, task
output, or another workflow variable.</p>
</li>
<li>
<p>[Advanced or Transformational mapping]{.ph .uicontrol}&mdash;Evaluate a
complex expression and save the result in a variable.</p>
</li>
</ul>
<p>After you define the workflow variable, you can map the workflow
variable to task input, workflow output, or as an input for another
variable. For more information, see <a href="file:/help/resources/Workflow_Designer#input_variable_and_output_mapping">Input, Variable, and Output
Mapping</a>{.xref}.</p>
<p>Following is a simple example which explains static mapping for a
workflow variable. A workflow has two tasks <em>Task1</em> and <em>Task2</em> and a
workflow variable <em>Variable1</em> is defined with a default value as <em>100</em>.
For <em>Task1</em>, in the [Variable]{.ph .uicontrol} tab for the task, you can
specify a static mapping for the workflow variable value as 90.
Similarly, for <em>Task2</em>, in the [Variable]{.ph .uicontrol} tab for the
task, you can specify the workflow variable value as 80 by mapping the
<em>Variable1</em> value.</p>
<p>When you execute the workflow, the start value of <em>Variable1</em> is the
default value <em>100</em> . After <em>Task1</em> is executed, the value of
<em>Variable1</em> is set to <em>90</em> based on the static value that is mapped for
the task. After <em>Task2</em> is executed, the value of <em>Variable1</em> is set to
<em>80</em> based on the static value that is mapped for the task.
:::</p>
<p>::: {#id_131513__section_ycb_mjr_4sb .section}</p>
<h2 id="input-variable-and-output-mapping" class="title sectiontitle">Input, Variable, and Output Mapping</h2>
<p>Workflows inputs, variables, and task outputs can be used for mapping
and they can be used as direct, transformed, or advanced mapping. The
syntax to refer to these will depend on the type of mapping.</p>
<ul>
<li>
<p>Workflow inputs are referenced as <code>${workflow.input.InputName}</code>{.ph
.codeph} where [InputName]{.ph .uicontrol} is the Reference Name
given to the workflow input and not the Display Name or Label.</p>
</li>
<li>
<p>Workflow variables are referenced as
<code>${workflow.variable.InputName}</code>{.ph .codeph} , where
[InputName]{.ph .uicontrol} is the Reference Name for the workflow
variable.</p>
</li>
<li>
<p>Task outputs are referenced as <code>${TaskName.output.OutputName}</code>{.ph
.codeph} where [TaskName]{.ph .uicontrol} is the Instance Name for
the task and not the Display Name or Label and [OutputName]{.ph
.uicontrol} is the Reference Name for the task output.</p>
</li>
</ul>
<p>To specify an input mapping, select a task and click [Edit]{.ph
.uicontrol} against a task input parameter.</p>
<p>To specify a workflow variable mapping, select a task and click
[Map]{.ph .uicontrol} against a workflow variable parameter.</p>
<p>Following are the available options:</p>
<ul>
<li>
<p>[Static Value]{.ph .uicontrol}&mdash;Enter a value that is assigned to
the task input or workflow variable field.</p>
</li>
<li>
<p>[Direct Mapping]{.ph .uicontrol}&mdash;Map an existing input, workflow
variable, or task output to the task input.</p>
</li>
<li>
<p>[Transformed Mapping]{.ph .uicontrol}&mdash;Allows applying data
transformation through a combination of one or more transformation
stages for a task's input. In each transformation stage, you can
select a transformation function along with its inputs. The
transformation stages will be converted into a template. You can
then preview the template and test the transformation with sample
values.</p>
<p>::: {.note .note}
[Note:]{.notetitle}
Transformed mapping is only supported for task inputs of primitive
data types, such as <em>string</em>, <em>integer</em>, <em>boolean</em>, and <em>float</em>.
:::</p>
</li>
<li>
<p>::: p
[Advanced Mapping]{.ph .uicontrol}&mdash;Map a Golang template to the
task input or workflow variable. For example, <code>FindAllString</code>{.ph
.codeph} function returns a slice of all substrings that match the
given regular expression in the given string.</p>
<pre tabindex="0"><code>FindAllString(s, regex string) ([]string, error)
Example: {{(FindAllString .global.task.input.NumberString \&#34;([0-9]+)\&#34;)}} 
returns array [“123”, “456”] for input string “123 some text 456”.
</code></pre><p>For example, <code>Atoi</code>{.ph .codeph} function converts the given number
in string format to integer type.</p>
<pre tabindex="0"><code>Atoi(s string) (int, error)
Example: {{Atoi .global.task.input.SizeString}} 
returns integer 2048 for input string “2048”
</code></pre><p>:::
:::</p>
</li>
</ul>
<p>::: section</p>
<h2 id="operations---conditional-task" class="title sectiontitle">Operations - Conditional Task</h2>
<p>Operations can be used to control the execution path of the workflows.
Orchestrator supports Condition tasks which can be used to control the
tasks that need to be executed.</p>
<p><strong>Tasks to Control Execution Flow of Workflows</strong></p>
<p>The [Conditional Task]{.ph .uicontrol} under [Operations]{.ph
.uicontrol} allows you to perform programmatic decisional expressions in
a conditional task during a workflow execution. The conditional
expression can be simple expression or a combined compound expression.</p>
<p>::: {.note .note}
[Note:]{.notetitle}</p>
<p>Only JSON style template is supported with conditional expressions.
:::</p>
<p>Conditional expressions support the following operators:</p>
<ul>
<li>
<p><strong>Comparison operators</strong> such as === (Equal to), != (Not equal to),
&gt; (Greater than), &lt; (Less than), &gt;= (Greater than or equal to),
&lt;= (Less than or equal to)</p>
</li>
<li>
<p><strong>Arithmetic operators</strong> such as =, -, * (Multiplication), /
(division), % (Modulo), ** (Logical AND)</p>
</li>
<li>
<p><strong>Logical operators</strong> such as &amp;&amp; (Logical AND), || (Logical OR), !
((Logical NOT)</p>
</li>
<li>
<p><strong>Ternary operator</strong> such as condition ? val1 : val2</p>
</li>
</ul>
<p>The syntax for workflow input is
<code>${workflow.input.&lt;workflow input ReferenceName&gt;}</code>{.ph .codeph} and the
syntax for task output is <code>${&lt;Task Name&gt;.output.&lt;Task Output Name&gt;}</code>{.ph
.codeph}. You can get the values for the task name and task output name
from the Code view.</p>
<p>::: p
Following is an example for conditional expressions:</p>
<pre tabindex="0"><code>if ( (${workflow.input.name} != &#39;test&#39; || ${workflow.input.name} != &#39;test123’)) &#39;bad input&#39;; else if((${workflow.input.id} != null &amp;&amp; ${workflow.input.id} % 2 == 0)) &#39;even&#39;; else &#39;odd&#39;;
if ( (${workflow.input.name} != &#39;test123’ || ${workflow.input.name} != &#39;test123’)) &#39;bad input&#39;; else if((${workflow.input.id} != null &amp;&amp; ${workflow.input.id} % 2 == 0)) &#39;even&#39;; else &#39;odd&#39;;
if ( (${workflow.input.name}.length === 12 || ${workflow.input.name} !== ‘test’ )) &#39;even&#39;; else &#39;odd&#39;; &lt;&lt; fgfgfgfgfgfg , even
if ( (${workflow.input.name}.length === 12 || ${workflow.input.name} !== ‘test’ )) &#39;even&#39;; else &#39;odd&#39;; &lt;&lt; test , odd
if ( (${workflow.input.name} != null &amp;&amp; &#39;decisionTest&#39;.indexOf(${workflow.input.name}) != -1 )) &#39;even&#39;; else &#39;odd&#39;;
if ( (${workflow.input.name}.toLowerCase() == ‘testing’)) &#39;even&#39;; else &#39;odd&#39;; &lt;&lt; used integers as input name to try odd path
if ( (${workflow.input.name}.search(/\s/g) != -1)) &#39;even&#39;; else &#39;odd&#39;;
if ( (${workflow.input.name}.match(/\s/g) != -1)) &#39;even&#39;; else &#39;odd&#39;;
if ( (${workflow.input.name}.startsWith(&#39;Not&#39;,0) || ${workflow.input.name}.endsWith(&#39;.&#39;))) &#39;even&#39;; else &#39;odd&#39;;
if ( (${workflow.input.name}.length &gt;= 3 &amp;&amp; ${workflow.input.name}.length &lt;= 20)) &#39;even&#39;; else &#39;odd&#39;;
if ( (${workflow.input.name}. === undefined)) ‘odd’; else ‘even’;
if ( (${workflow.input.name}.search(&#39;Failed&#39;) != -1)) &#39;even&#39;; else &#39;odd&#39;;
if ( (${workflow.input.name}.toLowerCase() != &#39;&#39; || ${workflow.input.name}.toUpperCase() != ‘Not-assigned’ )) &#39;even&#39;; else &#39;odd&#39;;
</code></pre><p>:::</p>
<p>The expression is executed during runtime and depending on the result,
the respective path is chosen. If none of the conditions match, the
default path is chosen.</p>
<p>For example, you can have a conditional task that follows a path of
execution depending on the profile state. You can create a condition in
a workflow to check the state of the profile. If the profile is in the
[Assigned]{.ph .uicontrol} state then you can deploy the profile, else
delete the profile.</p>
<p>After choosing the conditional task, use the [Conditions]{.ph
.uicontrol} tab to specify expressions in the [Condition]{.ph
.uicontrol} field of the tab. The values for the condition are specified
in the [Value]{.ph .uicontrol} field of the [Cases]{.ph .uicontrol}
area. Expressions are validated for syntax accuracy when workflow is
saved.</p>
<p>The following examples return the value of the condition.</p>
<p>::: p</p>
<pre tabindex="0"><code>${workflow.input.Names}.length
${workflow.input.ArrayOfIds}.length              (here ArrayOfIds represent an array)
${workflow.input.Names}.toLowerCase()
${workflow.input.Names}.toUpperCase()
</code></pre><p>:::</p>
<p>The following examples return the boolean value 'true' or 'false'.</p>
<p>::: p</p>
<pre tabindex="0"><code>${workflow.input.Names}.startsWith(&#39;Te&#39;)
${workflow.input.Names}.endsWith(&#39;st&#39;)
${workflow.input.Names} == null
${workflow.input.Names} != null
</code></pre><p>:::</p>
<p>In addition to workflow, task output can also be used. Here a boolean
value is used in a ternary operation. If True, branch1 executes,
otherwise branch2 executes <em>${task1.output.IsValid} ? branch1 :
branch2</em>.
:::</p>
<p>::: {#id_131513__section_j5c_qy5_rrb .section}</p>
<h2 id="operations---parallel-loop-task" class="title sectiontitle">Operations - Parallel Loop Task</h2>
<p>Operations can be used to control the execution path of the workflows.
Orchestrator supports the Parallel Loop operation task that can be used
to run a single task or sub-workflow, iteratively, based on a specified
count input.</p>
<p>The iteration count can either be a static value that is specified when
the workflow is created or a dynamic value that is derived from a
workflow input or task output.</p>
<p>When the task is executed, the count 'N' is determined, and the tasks
or sub-workflows are scheduled for execution in parallel. When all the
instances of the task or sub-workflow reach a final state, the parallel
loop operation completes, and the workflow execution moves on to the
next task.</p>
<p>::: {.note .note}
[Note:]{.notetitle}</p>
<p>If one of the tasks or sub-workflows fails then the entire parallel loop
task fails.
:::</p>
<p>The dynamic values for the count must be specified as a template
function. For example, if a loop must run for a count which matches the
length of a workflow input called [StringArray]{.ph .uicontrol}, then
the count must be specified using a template function <em>{{ len
.global.workflow.input.StringArray }}</em>.</p>
<p>In addition, you can use the keyword <em>.iteration</em> in a workflow template
input to control the inputs that feed into the task. For example, the
task within the loop needs to take one value from the workflow input
[StringArray]{.ph .uicontrol}, then the task string input can be mapped
to the template <em>HostGroupName{{.iteration}}</em> during the workflow
creation.</p>
<p>Use the <strong>Parallel Loop</strong> task from the <strong>Operations</strong> section in the
Intersight Orchestrator Workflow Designer UI to build the workflow.</p>
<p>To add a task or a sub-workflow to a Parallel Loop task, you must drag
and drop the single task or sub-workflow inside the Parallel Loop task
in the Workflow Designer UI.</p>
<p>The following table explains the Parallel Loop task input properties:</p>
<p>::: tablenoborder
+&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| Property | Description                                              |
+==========+==========================================================+
| Count    | The iteration count value for the parallel loop. The     |
|          | count can either be a static value defined as a constant |
|          | or a dynamic value defined as an expression that is      |
|          | evaluated to an integer value at execution time.         |
|          |                                                          |
|          | The dynamic values for the count must be specified as a  |
|          | template function. For example, if a loop must run for a |
|          | count which matches the length of a workflow input       |
|          | called <code>StringArray</code>{.ph .codeph}, then the count must   |
|          | be specified using a template function                   |
|          | <code>{{ len .global.workflow.input.StringArray }}</code>{.ph       |
|          | .codeph}.                                                |
|          |                                                          |
|          | The count must be less than or equal to 100.             |
+&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
:::</p>
<p><strong>Example: <strong>Create a workflow with the Parallel Loop task to create
multiple storage host groups</strong></strong></p>
<p>The following example workflow has two tasks&mdash;Parallel Loop and New
Storage Host Group. The first task runs the Parallel Loop task. In this
task, the Count input is a static value and is set to <em>2</em>. The second
task, New Storage Host Group, creates storage host groups with the host
group name as a workflow input.</p>
<p>When the workflow is executed, the count 'N' is determined as 2, and
two create storage host group tasks are executed in parallel. When all
the instances of the task reach a final state, the parallel loop
completes.</p>
<p>The workflow input field required for this example is as follows:</p>
<p>::: tablenoborder
+&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| Property       | Description                                        |
+================+====================================================+
| Storage Device | -   [Reference Name]{.ph                           |
|                |     .uicontrol}&mdash;<em>StorageDevice</em>                  |
|                |                                                    |
|                | -   [Type]{.ph .uicontrol}&mdash;<em>Target Data Type</em>    |
|                |                                                    |
|                | -   [Intersight API Reference]{.ph                 |
|                |     .uicontrol}&mdash;<em>/api/v1/storage/PureArrays</em>     |
|                |                                                    |
|                | -   [Selector Attribute]{.ph .uicontrol}&mdash;<em>Name</em>  |
|                |                                                    |
|                | -   [Selector Attribute]{.ph                       |
|                |     .uicontrol}&mdash;<em>Vendor</em>                         |
+&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
:::</p>
<p>The following table lists the properties for the Parallel Loop task:</p>
<p>::: tablenoborder
Property   Description</p>
<hr>
<p>Count      [Count]{.ph .uicontrol}&mdash;<em>2</em>
:::</p>
<p>The following table lists the properties for the New Storage Host Group
task:</p>
<p>::: tablenoborder
+&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| Property       | Description                                        |
+================+====================================================+
| Storage Device | [Workflow Input]{.ph                               |
|                | .uicontrol}&mdash;<em>${workflow.input.StorageDevice}</em>   |
+&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
| Host Group     | [Custom Value]{.ph                                 |
|                | .uicontrol}&mdash;<em>HostGroupName{{.iteration}}</em>        |
|                |                                                    |
|                | The keyword <em>.iteration</em> in a workflow template    |
|                | input to control the inputs that feed into the     |
|                | task.                                              |
+&mdash;&mdash;&mdash;&mdash;&mdash;-+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-+
:::</p>
<p>After you execute the workflow, you would see the following output:</p>
<pre tabindex="0"><code>├── New Storage Host Group
├── ...
│   ├── Inputs
│   │   └── Host Group: HostGroupName0
│   │       └── Storage Device:{ 2 }
│   │           ├── Moid: 619efa1d6e64612d317a248a
│   │           └── ObjectType: storage.PureArray
│   └── Outputs
│       ├── ConfigResults:[ 1 ]
│       │   └── Object: { 4 }
│       │       ├── ConfigResCtx: { 1 }
│       │       │   └── EntityData: { 1 }
│       │       │       └── task: workflow.ApiTask
│       │       ├── Message: Host group created successfully.
│       │       ├── State: Ok
│       │       └── Type: Config
│       └── Host Group: HostGroupName0
├── New Storage Host Group
└── ...
    ├── Inputs
    │   └── Host Group: HostGroupName1
    │       └── Storage Device:{ 2 }
    │           ├── Moid: 619efa1d6e64612d317a248a
    │           └── ObjectType: storage.PureArray
    └── Outputs
        ├── ConfigResults:[ 1 ]
        │   └── Object: { 4 }
        │       ├── ConfigResCtx: { 1 }
        │       │   └── EntityData: { 1 }
        │       │       └── task: workflow.ApiTask
        │       ├── Message: Host group created successfully.
        │       ├── State: Ok
        │       └── Type: Config
        └── Host Group: HostGroupName1
</code></pre><p>The following is a sample code view:</p>
<pre tabindex="0"><code>{
  &#34;Catalog&#34;: {
    &#34;Moid&#34;: &#34;5e6109bc696f6e2d31f856e5&#34;,
    &#34;ObjectType&#34;: &#34;workflow.Catalog&#34;,
    &#34;link&#34;: &#34;https://www.intersightcom/api/v1/workflow/Catalogs/5e6109bc696f6e2d31f856e5&#34;
  },
  &#34;DefaultVersion&#34;: true,
  &#34;Description&#34;: &#34;&#34;,
  &#34;InputDefinition&#34;: [
    {
      &#34;CustomDataTypeProperties&#34;: {
        &#34;CatalogMoid&#34;: &#34;&#34;,
        &#34;CustomDataTypeId&#34;: &#34;&#34;,
        &#34;CustomDataTypeName&#34;: &#34;&#34;,
        &#34;ObjectType&#34;: &#34;workflow.CustomDataProperty&#34;
      },
      &#34;Default&#34;: {
        &#34;IsValueSet&#34;: false,
        &#34;ObjectType&#34;: &#34;workflow.DefaultValue&#34;,
        &#34;Override&#34;: false,
        &#34;Value&#34;: null
      },
      &#34;Description&#34;: &#34;&#34;,
      &#34;DisplayMeta&#34;: {
        &#34;InventorySelector&#34;: true,
        &#34;ObjectType&#34;: &#34;workflow.DisplayMeta&#34;,
        &#34;WidgetType&#34;: &#34;None&#34;
      },
      &#34;InputParameters&#34;: null,
      &#34;IsArray&#34;: false,
      &#34;Label&#34;: &#34;Storage Device&#34;,
      &#34;Max&#34;: 0,
      &#34;Min&#34;: 0,
      &#34;Name&#34;: &#34;StorageDevice&#34;,
      &#34;ObjectType&#34;: &#34;workflow.TargetDataType&#34;,
      &#34;Properties&#34;: [
        {
          &#34;ConnectorAttribute&#34;: &#34;RegisteredDevice.Moid&#34;,
          &#34;ConstraintAttributes&#34;: [
            &#34;ObjectType&#34;
          ],
          &#34;DisplayAttributes&#34;: [
            &#34;Name&#34;,
            &#34;Vendor&#34;
          ],
          &#34;ObjectType&#34;: &#34;workflow.TargetProperty&#34;,
          &#34;Selector&#34;: &#34;/api/v1/storage/PureArrays&#34;,
          &#34;SelectorProperty&#34;: {
            &#34;Body&#34;: null,
            &#34;Method&#34;: &#34;GET&#34;,
            &#34;ObjectType&#34;: &#34;workflow.SelectorProperty&#34;
          },
          &#34;SupportedObjects&#34;: [
            &#34;storage.PureArray&#34;
          ]
        }
      ],
      &#34;Required&#34;: true
    }
  ],
  &#34;InputParameterSet&#34;: [],
  &#34;Label&#34;: &#34;Parallel Loop&#34;,
  &#34;Name&#34;: &#34;ParallelLoop&#34;,
  &#34;OutputDefinition&#34;: [],
  &#34;OutputParameters&#34;: null,
  &#34;Properties&#34;: {
    &#34;Cloneable&#34;: true,
    &#34;EnableDebug&#34;: false,
    &#34;ExternalMeta&#34;: true,
    &#34;ObjectType&#34;: &#34;workflow.WorkflowProperties&#34;,
    &#34;Retryable&#34;: false,
    &#34;SupportStatus&#34;: &#34;Supported&#34;
  },
  &#34;Tags&#34;: [],
  &#34;Tasks&#34;: [
    {
      &#34;Description&#34;: &#34;&#34;,
      &#34;Label&#34;: &#34;&#34;,
      &#34;Name&#34;: &#34;StartTask&#34;,
      &#34;NextTask&#34;: &#34;parallelLoop1&#34;,
      &#34;ObjectType&#34;: &#34;workflow.StartTask&#34;
    },
    {
      &#34;Description&#34;: &#34;&#34;,
      &#34;Label&#34;: &#34;&#34;,
      &#34;Name&#34;: &#34;SuccessEndTask&#34;,
      &#34;ObjectType&#34;: &#34;workflow.SuccessEndTask&#34;
    },
    {
      &#34;Description&#34;: &#34;&#34;,
      &#34;Label&#34;: &#34;&#34;,
      &#34;Name&#34;: &#34;FailureEndTask&#34;,
      &#34;ObjectType&#34;: &#34;workflow.FailureEndTask&#34;
    },
    {
      &#34;Count&#34;: &#34;2&#34;,
      &#34;Description&#34;: &#34;A Parallel Loop is a control task that runs one task or one sub-workflow multiple times based on a specified count.  The count can be a static value that is specified during design time or a dynamic value that is derived from workflow inputs or task outputs.  When the loop is executed, the count &#39;N&#39; is determined, N tasks or sub-workflows are scheduled for execution in parallel.  When all N instances of the task or sub-workflow reach a final state the parallel loop will complete and workflow execution will move on to the next task.  If any one of the tasks or sub-workflows fails, then the entire loop will fail.  Dynamic values for count must be specified as a template.  For example, if a loop must run for a count which matches the length of a workflow input called StringArray, then the count must be specified using a template &#39;{{ len .global.workflow.input.StringArray }}&#39;.  The iteration of the loop is available using the keyword &#39;.iteration&#39; and it can be used to control inputs that feed into the task.  For example, the task inside the loop needs to take one value from the workflow input StringArray, then the task string input can be mapped to the template &#39;{{ index .global.workflow.input.StringArray .iteration}}&#39; during design.&#34;,
      &#34;Label&#34;: &#34;Parallel Loop&#34;,
      &#34;LoopStartTask&#34;: &#34;NewStorageHostGroup1&#34;,
      &#34;Name&#34;: &#34;parallelLoop1&#34;,
      &#34;NumberOfBatches&#34;: 1,
      &#34;ObjectType&#34;: &#34;workflow.LoopTask&#34;,
      &#34;OnSuccess&#34;: &#34;SuccessEndTask&#34;,
      &#34;Parallel&#34;: true
    },
    {
      &#34;CatalogMoid&#34;: &#34;5c2fc884696f6e2d316c5d59&#34;,
      &#34;Description&#34;: &#34;Create a host group with host group name as input. On successful execution, the newly created host group name is generated as output.&#34;,
      &#34;InputParameters&#34;: {
        &#34;HostGroupName&#34;: &#34;HostGroupName{{.iteration}}&#34;,
        &#34;StorageDevice&#34;: &#34;${workflow.input.StorageDevice}&#34;
      },
      &#34;Label&#34;: &#34;New Storage Host Group&#34;,
      &#34;Name&#34;: &#34;NewStorageHostGroup1&#34;,
      &#34;ObjectType&#34;: &#34;workflow.WorkerTask&#34;,
      &#34;OnFailure&#34;: &#34;&#34;,
      &#34;OnSuccess&#34;: &#34;&#34;,
      &#34;RollbackDisabled&#34;: false,
      &#34;TaskDefinitionId&#34;: &#34;5f7ed8a2696f6e2d30eb388b&#34;,
      &#34;TaskDefinitionName&#34;: &#34;NewStorageHostGroup&#34;,
      &#34;UseDefault&#34;: false,
      &#34;Version&#34;: 2
    }
  ],
  &#34;UiInputFilters&#34;: [],
  &#34;UiRenderingData&#34;: {
    &#34;Positions&#34;: [
      {
        &#34;Name&#34;: &#34;StartTask&#34;,
        &#34;X&#34;: 269.5,
        &#34;Y&#34;: 45.5
      },
      {
        &#34;Name&#34;: &#34;SuccessEndTask&#34;,
        &#34;X&#34;: 269.5,
        &#34;Y&#34;: 303
      },
      {
        &#34;Name&#34;: &#34;FailureEndTask&#34;,
        &#34;X&#34;: 412.5,
        &#34;Y&#34;: 303
      },
      {
        &#34;Name&#34;: &#34;parallelLoop1&#34;,
        &#34;X&#34;: 149.01800537109375,
        &#34;Y&#34;: 116.75314331054688
      },
      {
        &#34;Name&#34;: &#34;NewStorageHostGroup1&#34;,
        &#34;X&#34;: 185,
        &#34;Y&#34;: 177
      }
    ]
  },
  &#34;Version&#34;: 1,
  &#34;WorkflowMetadata&#34;: null
}
</code></pre><p>:::</p>
<p>::: section</p>
<h2 id="managing-the-lifecycle-of-a-workflow" class="title sectiontitle">Managing the Lifecycle of a Workflow</h2>
<p>Workflow management consists of organizing, creating, updating, and
deletion of workflows. The following table describes the set of actions
that you can perform with workflows in Cisco Intersight.</p>
<p>::: tablenoborder
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Actions                           | Description                       |
+===================================+===================================+
| View Workflows                    | Choosing [Orchestration]{.ph      |
|                                   | .uicontrol} from the left         |
|                                   | navigation pane will display all  |
|                                   | workflows in a tabular format.    |
|                                   | You can view information such as  |
|                                   | the workflow name and             |
|                                   | description, the number of        |
|                                   | versions available, the number of |
|                                   | times the workflow has been       |
|                                   | executed, the last execution      |
|                                   | status, validation information    |
|                                   | and the last update time and      |
|                                   | date.                             |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Create a New Workflow             | Choose [Orchestration]{.ph        |
|                                   | .uicontrol} from the left         |
|                                   | navigation pane and click [Create |
|                                   | Workflow]{.ph .uicontrol}. This   |
|                                   | option opens up the Workflow      |
|                                   | Designer, using which you can     |
|                                   | create a new workflow.            |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Create a Version for a Workflow   | You can create multiple versions  |
|                                   | for a workflow. In addition, you  |
|                                   | can set a specific version of the |
|                                   | workflow as the default version   |
|                                   | for the workflow. See [Managing   |
|                                   | Versions for                      |
|                                   | Workflows                         |
|                                   | ](../../../../../../../../help/re |
|                                   | sources/Workflow_Designer#managin |
|                                   | g_versions_for_workflows){.xref}. |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Delete a Workflow                 | From the tabular list of          |
|                                   | workflows, you can select a       |
|                                   | workflow and click [Delete]{.ph   |
|                                   | .uicontrol}. This will remove the |
|                                   | workflow and all versions of the  |
|                                   | workflow.                         |
|                                   |                                   |
|                                   | You cannot delete a workflow when |
|                                   | :                                 |
|                                   |                                   |
|                                   | -   workflow is used as           |
|                                   |     sub-workflow task in another  |
|                                   |     workflow.                     |
|                                   |                                   |
|                                   | -   workflow is in running state. |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Execute a Workflow                | Select a workflow from the        |
|                                   | tabular list of workflows and     |
|                                   | choose [Execute]{.ph .uicontrol}. |
|                                   | Alternatively, you can click the  |
|                                   | workflow name, and then choose    |
|                                   | [Execute]{.ph .uicontrol} in the  |
|                                   | Workflow Designer.                |
|                                   |                                   |
|                                   | ::: {.note .important}            |
|                                   | [Important:]{.importanttitle}     |
|                                   |                                   |
|                                   | Workflow execution includes       |
|                                   | privilege-based validation for    |
|                                   | tasks. With the introduction of   |
|                                   | privilege-based validation for    |
|                                   | virtualization, compute and       |
|                                   | storage tasks, a user must have   |
|                                   | all the required privileges to    |
|                                   | execute all the domain tasks      |
|                                   | within a workflow. For example, a |
|                                   | user can successfully execute a   |
|                                   | workflow that includes storage    |
|                                   | and virtualization tasks only if  |
|                                   | the user has both Storage and     |
|                                   | Virtualization Administrator      |
|                                   | privileges. In the absence of     |
|                                   | either one of these privileges,   |
|                                   | the [Execute]{.ph .uicontrol}     |
|                                   | button will not be displayed and  |
|                                   | the user cannot execute the       |
|                                   | workflow.                         |
|                                   |                                   |
|                                   | However, an Account Administrator |
|                                   | can execute all workflow.         |
|                                   | :::                               |
|                                   |                                   |
|                                   | While configuring the properties  |
|                                   | of a workflow, if you selected    |
|                                   | the [Retryable]{.ph .uicontrol}   |
|                                   | option, then in the event of a    |
|                                   | workflow failure, you can either  |
|                                   | choose to execute the workflow    |
|                                   | again from the point of failure,  |
|                                   | or you can execute the entire     |
|                                   | workflow again.                   |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Clone a Workflow                  | From the tabular list of          |
|                                   | workflows, you can select a       |
|                                   | workflow and click [Clone]{.ph    |
|                                   | .uicontrol}. This will clone the  |
|                                   | selected workflow.                |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
| Save a Workflow as                | From the tabular list of          |
|                                   | workflows, you can choose a       |
|                                   | workflow and click. By default,   |
|                                   | the workflow details are          |
|                                   | displayed in the [Designer]{.ph   |
|                                   | .uicontrol} tab. You can choose   |
|                                   | [Save As]{.ph .uicontrol} option  |
|                                   | from the [Action]{.ph .uicontrol} |
|                                   | drop-down list to clone or create |
|                                   | a new version of the existing     |
|                                   | workflow.                         |
|                                   |                                   |
|                                   | You can also perform this         |
|                                   | operation in the [General]{.ph    |
|                                   | .uicontrol} tab.                  |
|                                   |                                   |
|                                   | In the [Save As]{.ph .uicontrol}  |
|                                   | screen, you can choose one of the |
|                                   | following:                        |
|                                   |                                   |
|                                   | -   [New Version]{.ph             |
|                                   |     .uicontrol}&mdash;Specify a new   |
|                                   |     version and related           |
|                                   |     description. Click [Save]{.ph |
|                                   |     .uicontrol}.                  |
|                                   |                                   |
|                                   |     This option is not available  |
|                                   |     for a system generated        |
|                                   |     workflow.                     |
|                                   |                                   |
|                                   | -   [Clone]{.ph                   |
|                                   |     .uicontrol}&mdash;Specify         |
|                                   |     user-friendly short name,     |
|                                   |     reference name, description,  |
|                                   |     and tag key. Click [Save]{.ph |
|                                   |     .uicontrol}. For more         |
|                                   |     information, see [Cloning a   |
|                                   |     Workflow](../../../../../../  |
|                                   | ../../help/resources/Workflow_Des |
|                                   | igner#cloning_a_workflow){.xref}. |
+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;+
:::
:::</p>
<p>::: {#id_131513__CloningWorkflow .section}</p>
<h2 id="cloning-a-workflow" class="title sectiontitle">Cloning a Workflow</h2>
<p>You can clone a workflow. The cloned workflow is identical to the
original workflow. You can edit the new workflow immediately. You might
do this, for example, to create a workflow that is similar to the source
workflow that can be edited based on your requirements. The new workflow
has a new, separate version history.</p>
<p>To clone a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose [Orchestration]{.ph .uicontrol} from the left navigation
pane.</p>
</li>
<li>
<p>From the tabular list of workflows, select a workflow and choose
[Clone]{.ph .uicontrol}.</p>
</li>
<li>
<p>In the [Clone Workflow]{.ph .uicontrol} screen, edit the
user-friendly short name, reference name, description, and
organization details. The organization mappings are displayed only
for pre-canned workflows and not for the custom workflows.</p>
</li>
<li>
<p>Check the [Open Clone in Editor]{.ph .uicontrol} check box if you
want to open the cloned workflow in the workflow designer and edit
the details.</p>
<p>::: {.note .note}
[Note:]{.notetitle}
[Open Clone in Editor]{.ph .uicontrol} check box is not displayed
when you clone a workflow using the [Save As]{.ph .uicontrol}
option.
:::</p>
</li>
<li>
<p>Click [Clone]{.ph .uicontrol}.
:::</p>
</li>
</ol>
<p>::: {#id_131513__section_azj_mg5_dpb .section}</p>
<h2 id="managing-versions-for-workflows" class="title sectiontitle">Managing Versions for Workflows</h2>
<p>Cisco Intersight allows you to create and manage versions for workflows.
In addition to creating versions, you can also set a specific version as
the default version for the workflow. You can create a version of a
workflow and execute it only if you are one of the following users:</p>
<ul>
<li>
<p>Account Administrator</p>
</li>
<li>
<p>User with Workflow Designer privileges</p>
</li>
</ul>
<p>Read-Only users can only view versions of a workflow. They cannot
create, edit, execute or delete versions. Users with Storage
Administrator and Virtualization Administrator privileges can only view
and execute specific versions of a workflow.</p>
<p>To create a version for a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose [Orchestration]{.ph .uicontrol} from the left navigation
pane.</p>
</li>
<li>
<p>From the tabular list of workflows, select a workflow and choose
[Manage Versions]{.ph .uicontrol}.</p>
</li>
<li>
<p>In the [Manage Versions]{.keyword .wintitle} screen, you can perform
the following tasks:</p>
<ul>
<li>
<p>Create a new version for the workflow</p>
</li>
<li>
<p>Execute a specific version of the workflow</p>
</li>
<li>
<p>Delete a specific version. You cannot directly delete the
default version of a workflow. To delete the default version,
perform the following:</p>
<ul>
<li>
<p>Make another version the default.</p>
</li>
<li>
<p>Change the workflow version to be deleted as non-default.</p>
</li>
<li>
<p>Delete the workflow version that was changes as non-default.</p>
</li>
</ul>
</li>
<li>
<p>Set a specific version of the workflow as the default version</p>
</li>
</ul>
</li>
<li>
<p>Choose [Create a New Version]{.ph .uicontrol} and enter the
following details:</p>
<ul>
<li>
<p>[Source Version]{.ph .uicontrol}&mdash;Choose a specific version
that will form the source for the new version that you are
creating.</p>
</li>
<li>
<p>[Version]{.ph .uicontrol}&mdash;Specify a version number for the
workflow.</p>
</li>
<li>
<p>[Description]{.ph .uicontrol}&mdash;Enter a description for the
version so that you can identify it.</p>
</li>
<li>
<p>[Set as Default Version]{.ph .uicontrol}&mdash;Check this check box
to set this new version as the default version for the workflow.</p>
</li>
</ul>
</li>
<li>
<p>Click [Create]{.ph .uicontrol}.</p>
<p>After creating a version for a workflow, clicking on the version
number on the [Manage Versions]{.keyword .wintitle} screen opens the
workflow in Workflow Designer.</p>
</li>
</ol>
<p>::: {.note .note}
[Note:]{.notetitle}</p>
<p>Deleting a workflow will delete all versions created for the workflow.
:::
:::</p>
<p>::: section</p>
<h2 id="exporting-a-workflow" class="title sectiontitle">Exporting a Workflow</h2>
<p>Intersight Cloud Orchestrator enables you to export workflows from an
account to your system and then import them to another account.</p>
<p>To export a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose [Orchestration]{.ph .uicontrol} from the left navigation
pane.</p>
</li>
<li>
<p>Click the [Workflow]{.ph .uicontrol} tab.</p>
</li>
<li>
<p>From the tabular list of workflows, do one of the following:</p>
<ul>
<li>
<p>Select a workflow, click the [Ellipsis (&hellip;)]{.ph .uicontrol}
icon in the same row, and then choose [Export Workflow]{.ph
.uicontrol}.</p>
</li>
<li>
<p>Select multiple workflows, click the [Ellipsis (&hellip;)]{.ph
.uicontrol} icon from the header or footer of the tabular list,
and then choose [Export Workflow]{.ph .uicontrol}.</p>
<p>::: {.note .note}
[Note:]{.notetitle} You can also export workflows from the
[Actions]{.ph .uicontrol} menu in the [Workflow
Designer]{.keyword .wintitle} window.
:::</p>
</li>
</ul>
</li>
<li>
<p>In the [Export Workflow]{.ph .uicontrol} screen:</p>
<p>a.  In the [JSON File Name]{.ph .uicontrol} field, use the default
filename or enter a filename of your choice for the JSON file
that stores the workflow components.</p>
<p>b.  Use the [Export Tags]{.ph .uicontrol} toggle button to include
or exclude the user-defined tags. ICO does not export the
system-defined tags.</p>
<p>c.  Click [Export]{.ph .uicontrol}.</p>
<p>d.  Save a local copy of the JSON file.</p>
</li>
</ol>
<h2 id="importing-a-workflow" class="title sectiontitle">Importing a Workflow</h2>
<p>Intersight Cloud Orchestrator enables you to import workflows to your
account by importing a JSON file that contains the workflow components.
You can create the JSON file by exporting the workflow components from
another account.</p>
<p>To import a workflow, complete the following steps:</p>
<ol>
<li>
<p>Choose [Orchestration]{.ph .uicontrol} from the left navigation
pane.</p>
</li>
<li>
<p>Click [Import]{.ph .uicontrol}.</p>
<p>The [Import]{.keyword .wintitle} wizard appears.</p>
</li>
<li>
<p>In the [Select File]{.keyword .wintitle} screen:</p>
<p>a.  From the [Organization]{.ph .uicontrol} drop-down list, choose
the organization to which you want to import the workflow(s).</p>
<p>b.  Click [Browse]{.ph .uicontrol}, and then select the JSON file
that contains the Workflow(s).</p>
<pre><code>::: {.note .note}
[Note:]{.notetitle} Ensure that the file size of the JSON file
is not more than 1MB. If the file size is more than 1MB, export
the workflow(s) in batches, and then try import.
:::
</code></pre>
<p>c.  Click [Next]{.ph .uicontrol}.</p>
<pre><code>Intersight Cloud Orchestrator validates the JSON file and
displays the workflow(s) in the [Details]{.keyword .wintitle}
screen.
</code></pre>
</li>
<li>
<p>In the [Details]{.keyword .wintitle} screen:</p>
<p>a.  To associate an additional tag to the components listed in the
table, enter the tag in the [Set Tags]{.ph .uicontrol} field.</p>
<pre><code>::: {.note .note}
[Note:]{.notetitle} [Set Tags]{.ph .uicontrol} is an optional
field. You must enter the tag in the `key:value`{.ph .codeph}
format.
:::
</code></pre>
<p>b.  If one or more workflow components are already available in the
system, choose a rule to replace or skip the duplicate
components.</p>
<p>c.  Click [Import]{.ph .uicontrol}.</p>
</li>
<li>
<p>In the [Import Result]{.keyword .wintitle} screen:</p>
<p>a.  Verify the status of the imported workflow.</p>
<p>b.  If you want to view the details of the import request:</p>
<pre><code>-   Click the link displayed above the table.

-   Alternatively, click the [Requests]{.ph .uicontrol} icon
    displayed in the menu bar.

    For more information, see
    [Requests](../../../../../../../../help/resources/Workflow_Designer#requests){.xref}.
</code></pre>
<p>c.  Click [Close]{.ph .uicontrol}.</p>
</li>
</ol>
<p>You can execute the imported workflow from the [Workflows]{.ph
.uicontrol} tab.
:::</p>
<p>::: section</p>
<h2 id="defining-workflow-input-rules" class="title sectiontitle">Defining Workflow Input Rules</h2>
<p>Intersight Cloud Orchestrator allows you to configure input rules that
control the display of fields in the workflow execution screen. You can
define these input rules for a workflow by using the Intersight API and
while creating a composite data type. By default, all input fields for a
workflow are displayed in the workflow execution screen. By configuring
input rules, the fields in this screen are displayed or hidden based on
the value selected for a previous input field.</p>
<p>After configuring input rules in the workflow definition using the
Intersight API, you can view the input rules using the [Code]{.ph
.uicontrol} tab in the Workflow Designer.</p>
<p>Following is a sample of a simple input rule set for a workflow:</p>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span><span style="color:#4e9a06">&#34;InputParameterSet&#34;</span><span style="color:#a40000">:</span><span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.ParameterSet&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;rule-1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&#34;ControlParameter&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;input-1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&#34;Condition&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;eq&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&#34;Value&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;true&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&#34;EnableParameters&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span><span style="color:#4e9a06">&#34;input-2&#34;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">},</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&#34;ObjectType&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;workflow.ParameterSet&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&#34;Name&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;rule-2&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&#34;ControlParameter&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;input-1&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&#34;Condition&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;ne&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&#34;Value&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#4e9a06">&#34;true&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">&#34;EnableParameters&#34;</span><span style="color:#000;font-weight:bold">:</span> <span style="color:#000;font-weight:bold">[</span>
</span></span><span style="display:flex;"><span><span style="color:#4e9a06">&#34;input-3&#34;</span><span style="color:#000;font-weight:bold">,</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">]</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">]</span>
</span></span></code></pre></div><p>Following is an example for the parameter sets defined at workflow
level:</p>
<pre tabindex="0"><code>{
  &#34;Label&#34;: &#34;Provision VM&#34;,
  &#34;Name&#34;: &#34;ProvisionVM&#34;,
  &#34;DefaultVersion&#34;: true,
  &#34;Description&#34;: &#34;&#34;,
  // Parameter set defintion 
  &#34;InputParameterSet&#34;: [
    {
      // rule-1 enables &#39;vmwarehost&#39; input when value of &#39;vmtype&#39; is &#39;vmware&#39;
      &#34;Name&#34;: &#34;rule-1&#34;,
      &#34;ControlParameter&#34;: &#34;vmtype&#34;,
      &#34;Condition&#34;: &#34;eq&#34;,
      &#34;Value&#34;: &#34;vmware&#34;,
      &#34;EnableParameters&#34;: [
        &#34;vmwarehost&#34;
      ]
    },
    {
      // rule-2 enables &#39;hxcluster&#39; input when value of &#39;vmtype&#39; is &#39;hx&#39;
      &#34;Name&#34;: &#34;rule-2&#34;,
      &#34;ControlParameter&#34;: &#34;vmtype&#34;,
      &#34;Condition&#34;: &#34;eq&#34;,
      &#34;Value&#34;: &#34;hx&#34;,
      &#34;EnableParameters&#34;: [
        &#34;hxcluster&#34;
      ]
    }
  ],
  &#34;InputDefinition&#34;: [
    {
      &#34;ObjectType&#34;: &#34;workflow.PrimitiveDataType&#34;,
      &#34;InputParameters&#34;: null,
      &#34;Label&#34;: &#34;VM Type&#34;,
      &#34;Name&#34;: &#34;vmtype&#34;,
      &#34;Required&#34;: false,
      &#34;Properties&#34;: {
        &#34;ClassId&#34;: &#34;workflow.PrimitiveDataProperty&#34;,
        &#34;ObjectType&#34;: &#34;workflow.PrimitiveDataProperty&#34;,
        &#34;Constraints&#34;: {
          &#34;ClassId&#34;: &#34;workflow.Constraints&#34;,
          &#34;ObjectType&#34;: &#34;workflow.Constraints&#34;,
          &#34;EnumList&#34;: [
            {
              &#34;ClassId&#34;: &#34;workflow.EnumEntry&#34;,
              &#34;ObjectType&#34;: &#34;workflow.EnumEntry&#34;,
              &#34;Label&#34;: &#34;VMWare&#34;,
              &#34;Value&#34;: &#34;vmware&#34;
            },
            {
              &#34;ClassId&#34;: &#34;workflow.EnumEntry&#34;,
              &#34;ObjectType&#34;: &#34;workflow.EnumEntry&#34;,
              &#34;Label&#34;: &#34;HX&#34;,
              &#34;Value&#34;: &#34;hx&#34;
            }
          ],
          &#34;Max&#34;: 0,
          &#34;Min&#34;: 0,
          &#34;Regex&#34;: &#34;&#34;
        },
        &#34;InventorySelector&#34;: [],
        &#34;Secure&#34;: false,
        &#34;Type&#34;: &#34;enum&#34;
      }
    },
    {
      &#34;Name&#34;: &#34;vmname&#34;,
      &#34;Label&#34;: &#34;VM Name&#34;,
      &#34;Required&#34;: false,
      &#34;Properties&#34;: {
        &#34;Type&#34;: &#34;string&#34;,
        &#34;Constraints&#34;: {
          &#34;Min&#34;: 0,
          &#34;Max&#34;: 0
        },
        &#34;Secure&#34;: false
      },
      &#34;ObjectType&#34;: &#34;workflow.PrimitiveDataType&#34;
    },
    {
      &#34;Name&#34;: &#34;vmwarehost&#34;,
      &#34;Label&#34;: &#34;Host&#34;,
      &#34;Required&#34;: false,
      &#34;Properties&#34;: {
        &#34;Type&#34;: &#34;string&#34;,
        &#34;Constraints&#34;: {
          &#34;Min&#34;: 0,
          &#34;Max&#34;: 0
        },
        &#34;Secure&#34;: false
      },
      &#34;Default&#34;: {
        &#34;Override&#34;: false,
        &#34;Value&#34;: null
      },
      &#34;ObjectType&#34;: &#34;workflow.PrimitiveDataType&#34;
    },
    {
      &#34;Name&#34;: &#34;hxcluster&#34;,
      &#34;Label&#34;: &#34;Cluster&#34;,
      &#34;Required&#34;: false,
      &#34;Properties&#34;: {
        &#34;Type&#34;: &#34;string&#34;,
        &#34;Constraints&#34;: {
          &#34;Min&#34;: 0,
          &#34;Max&#34;: 0
        },
        &#34;Secure&#34;: false
      },
      &#34;ObjectType&#34;: &#34;workflow.PrimitiveDataType&#34;
    }
  ],
  &#34;OutputDefinition&#34;: [],
  &#34;OutputParameters&#34;: null,
  &#34;Tasks&#34;: [
    {
      &#34;ClassId&#34;: &#34;workflow.StartTask&#34;,
      &#34;Description&#34;: &#34;&#34;,
      &#34;Label&#34;: &#34;&#34;,
      &#34;Name&#34;: &#34;StartTask&#34;,
      &#34;NextTask&#34;: &#34;NewProfile1596244596840&#34;,
      &#34;ObjectType&#34;: &#34;workflow.StartTask&#34;
    },
    {
      &#34;ClassId&#34;: &#34;workflow.SuccessEndTask&#34;,
      &#34;Description&#34;: &#34;&#34;,
      &#34;Label&#34;: &#34;&#34;,
      &#34;Name&#34;: &#34;SuccessEndTask&#34;,
      &#34;ObjectType&#34;: &#34;workflow.SuccessEndTask&#34;
    },
    {
      &#34;ClassId&#34;: &#34;workflow.FailureEndTask&#34;,
      &#34;Description&#34;: &#34;&#34;,
      &#34;Label&#34;: &#34;&#34;,
      &#34;Name&#34;: &#34;FailureEndTask&#34;,
      &#34;ObjectType&#34;: &#34;workflow.FailureEndTask&#34;
    },
    {
      &#34;CatalogMoid&#34;: &#34;5dd45ab6696f6e2d301e2df6&#34;,
      &#34;ClassId&#34;: &#34;workflow.WorkerTask&#34;,
      &#34;Description&#34;: &#34;Task to create a Profile&#34;,
      &#34;InputParameters&#34;: null,
      &#34;Label&#34;: &#34;Provision VM&#34;,
      &#34;Name&#34;: &#34;ProvisionVM1596244596840&#34;,
      &#34;ObjectType&#34;: &#34;workflow.WorkerTask&#34;,
      &#34;OnFailure&#34;: &#34;&#34;,
      &#34;OnSuccess&#34;: &#34;SuccessEndTask&#34;,
      &#34;TaskDefinitionId&#34;: &#34;5efd7c84696f6e2d309e6877&#34;,
      &#34;TaskDefinitionName&#34;: &#34;NewProfile&#34;,
      &#34;Version&#34;: 1
    }
  ],
  &#34;Version&#34;: 1
}
</code></pre><p>Following is an example for the parameter sets defined at custom data
type level:</p>
<pre tabindex="0"><code>{
  &#34;Label&#34;: &#34;ClusterType&#34;,
  &#34;Name&#34;: &#34;ClusterType&#34;,
  &#34;CompositeType&#34;: true,
  &#34;Description&#34;: &#34;Type definition for a cluster information.&#34;,
  &#34;TypeDefinition&#34;: [
    {
      &#34;ObjectType&#34;: &#34;workflow.PrimitiveDataType&#34;,
      &#34;Label&#34;: &#34;Cluster Type&#34;,
      &#34;Name&#34;: &#34;clustertype&#34;,
      &#34;Properties&#34;: {
        &#34;ObjectType&#34;: &#34;workflow.PrimitiveDataProperty&#34;,
        &#34;Constraints&#34;: {
          &#34;ObjectType&#34;: &#34;workflow.Constraints&#34;,
          &#34;EnumList&#34;: [
            {
              &#34;ObjectType&#34;: &#34;workflow.EnumEntry&#34;,
              &#34;Label&#34;: &#34;VM Ware&#34;,
              &#34;Value&#34;: &#34;vmware&#34;
            },
            {
              &#34;ObjectType&#34;: &#34;workflow.EnumEntry&#34;,
              &#34;Label&#34;: &#34;HX AP&#34;,
              &#34;Value&#34;: &#34;hxap&#34;
            }
          ]
        },
        &#34;Type&#34;: &#34;enum&#34;
      }
    },
    {
      &#34;ObjectType&#34;: &#34;workflow.PrimitiveDataType&#34;,
      &#34;Label&#34;: &#34;VMware Cluster&#34;,
      &#34;Name&#34;: &#34;vmwarecluster&#34;
    },
    {
      &#34;ObjectType&#34;: &#34;workflow.PrimitiveDataType&#34;,
      &#34;Label&#34;: &#34;HX Cluster&#34;,
      &#34;Name&#34;: &#34;hxcluster&#34;
    },
    {
      &#34;ObjectType&#34;: &#34;workflow.PrimitiveDataType&#34;,
      &#34;Label&#34;: &#34;Cluster Description&#34;,
      &#34;Name&#34;: &#34;clusterdescr&#34;
    }
  ],
  &#34;ParameterSet&#34;: [
    {
      &#34;Name&#34;: &#34;rule-1&#34;,
      &#34;Field&#34;: &#34;clustertype&#34;,
      &#34;Condition&#34;: &#34;eq&#34;,
      &#34;Value&#34;: &#34;vmware&#34;,
      &#34;ShowFields&#34;: [
        &#34;vmwarecluster&#34;
      ]
    },
    {
      &#34;Name&#34;: &#34;rule-2&#34;,
      &#34;Field&#34;: &#34;clustertype&#34;,
      &#34;Condition&#34;: &#34;eq&#34;,
      &#34;Value&#34;: &#34;hxap&#34;,
      &#34;ShowFields&#34;: [
        &#34;hxcluster&#34;
      ]
    }
  ]
}
</code></pre><p>:::</p>
<h2 id="supported-workflows-for-storage-targets">Supported Workflows for Storage Targets</h2>
<p>The following table lists workflows supported in the various storage
targets available on Intersight:</p>
<table>
<thead>
<tr>
<th>List of Storage Workflows</th>
<th style="text-align:center">Pure Storage</th>
<th style="text-align:center">NetApp</th>
<th style="text-align:center">Hitachi</th>
</tr>
</thead>
<tbody>
<tr>
<td>New Storage Host</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
</tr>
<tr>
<td>New Storage Host Group</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td>New VMFS Datastore</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
</tr>
<tr>
<td>New NAS Datastore</td>
<td style="text-align:center">N</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td>Remove NFS Datastore</td>
<td style="text-align:center">N</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td>Remove Storage Host</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
</tr>
<tr>
<td>Remove Storage Export Policy</td>
<td style="text-align:center">N</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td>Remove Storage Host Group</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td>Remove VMFS Datastore</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td>Update Storage Host</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">Y</td>
</tr>
<tr>
<td>Update NAS Datastore</td>
<td style="text-align:center">N</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td>Update VMFS Datastore</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td>New Storage Interface</td>
<td style="text-align:center">N</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td>New Storage Export Policy</td>
<td style="text-align:center">N</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
</tr>
<tr>
<td>New Storage Virtual Machine</td>
<td style="text-align:center">N</td>
<td style="text-align:center">Y</td>
<td style="text-align:center">N</td>
</tr>
</tbody>
</table>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-c69e288e27b8f8f2f2965c7f6b956d58">4.8.7 - WebAPI</h1>
    <div class="lead">Intersight Cloud Orchestrator allows workflow designers to run commands over SSH by using the <strong>Invoke SSH Commands</strong> reusable task in the workflows.</div>
	<h1 id="webapi">WebAPI</h1>
<p>Param (
[switch]$EnableBasicAuth = $false,
[switch]$SKipNetworkProfileCheck = $false,
[switch]$ForceNewSSLCert = $false,
[string]$SubjectName = $env:COMPUTERNAME,
[int]$CertValidityDays = 1095
)</p>
<p>Function New-SelfSignedCert
{
Param (
[string]$SubjectName,
[int]$ValidDays = 1095
)</p>

</div>



    
	
  

    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9e470549caf2c9c9987843201c17a631">5 - Hulk 2.0</h1>
    <div class="lead">New Features in Hulk 2.0</div>
	
</div>



    
      
  
  
  
  

  
  

  
    
    
	
    

<div class="td-content" style="">
    
	<h1 id="pg-de977687b193f14fb37dca60bc10d171">5.1 - New Features 1</h1>
    <div class="lead">New Features 1</div>
	<h2 id="tabs--syntax-highlighter--code-copy">Tabs + Syntax Highlighter + Code Copy</h2>

  
  
  
  
<ul class="nav nav-tabs" id="tabs-2" role="tablist">
  <li class="nav-item">
      <a class="nav-link active"
          id="tabs-02-00-tab" data-toggle="tab" href="#tabs-02-00" role="tab"
          aria-controls="tabs-02-00" aria-selected="false">
        <strong>YAML</strong>:
      </a>
    </li><li class="nav-item">
      <a class="nav-link"
          id="tabs-02-01-tab" data-toggle="tab" href="#tabs-02-01" role="tab"
          aria-controls="tabs-02-01" aria-selected="false">
        <strong>JSON</strong>
      </a>
    </li><li class="nav-item">
      <a class="nav-link"
          id="tabs-02-02-tab" data-toggle="tab" href="#tabs-02-02" role="tab"
          aria-controls="tabs-02-02" aria-selected="false">
        <strong>Markdown</strong>
      </a>
    </li><li class="nav-item">
      <a class="nav-link"
          id="tabs-02-03-tab" data-toggle="tab" href="#tabs-02-03" role="tab"
          aria-controls="tabs-02-03" aria-selected="false">
        <strong>HTML</strong>
      </a>
    </li>
</ul>

<div class="tab-content" id="tabs-2-content">
    <div class="tab-body tab-pane fade show active"
        id="tabs-02-00" role="tabpanel" aria-labelled-by="tabs-02-00-tab">
        <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	</span><span style="color:#204a87;font-weight:bold">books</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	</span>- <span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">The Hate U Give</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">author</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Angie Thomas</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">pages</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">392</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">publisher</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Balzer + Bray</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">date_read</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">2020-03-23</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">fiction</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">yes</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">female_author</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">yes</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">rating</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	</span>- <span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Good Book</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">author</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Uncle Sam</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">pages</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">100</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">publisher</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Cisco Press</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">date_read</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">2023-03-23</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">fiction</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">yes</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">female_author</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">yes</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">rating</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">4</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	</span>- <span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">ABC of XML</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">author</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Cisco Systems</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">pages</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">100</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">publisher</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Cisco Press</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">date_read</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">2023-03-23</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">fiction</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">no</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">female_author</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#204a87;font-weight:bold">yes</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">	  </span><span style="color:#204a87;font-weight:bold">rating</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">5</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div>
    </div>
    <div class="tab-body tab-pane fade"
        id="tabs-02-01" role="tabpanel" aria-labelled-by="tabs-02-01-tab">
        <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-java" data-lang="java"><span style="display:flex;"><span><span style="color:#a40000">  \</span><span style="color:#4e9a06">&#34;InputParameterSet\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ControlParameter\&#34;: \&#34;Enum\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;EnableParameters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Input1\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;Rule1\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.ParameterSet\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Value\&#34;: \&#34;VM\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    },\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">    {\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Condition\&#34;: \&#34;eq\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ControlParameter\&#34;: \&#34;Enum\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;EnableParameters\&#34;: \[\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">        \&#34;Input2\&#34;\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \],\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Name\&#34;: \&#34;Rule2\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;ObjectType\&#34;: \&#34;workflow.ParameterSet\&#34;,\
</span></span></span><span style="display:flex;"><span><span style="color:#4e9a06">      \&#34;Value\&#34;: \&#34;HX\&#34;</span><span style="color:#a40000">\</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">    </span><span style="color:#ce5c00;font-weight:bold">},</span>
</span></span></code></pre></div>
    </div>
    <div class="tab-body tab-pane fade"
        id="tabs-02-02" role="tabpanel" aria-labelled-by="tabs-02-02-tab">
        <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-markdown" data-lang="markdown"><span style="display:flex;"><span> 
</span></span><span style="display:flex;"><span> Help your user know if your project will help them. Useful information can include: 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">-</span>   <span style="color:#000;font-weight:bold">**What is it good for?**</span>: What types of problems does your project solve? What are the benefits of using it?
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">-</span>   <span style="color:#000;font-weight:bold">**What is it not good for?**</span>: For example, point out situations that might intuitively seem suited for your project, but aren&#39;t for some reason. Also mention known limitations, scaling issues, or anything else that might let your users know if the project is not for them.
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">-</span>   <span style="color:#000;font-weight:bold">**What is it _not yet_ good for?**</span>: Highlight any useful features that are coming soon.
</span></span></code></pre></div>
    </div>
    <div class="tab-body tab-pane fade"
        id="tabs-02-03" role="tabpanel" aria-labelled-by="tabs-02-03-tab">
        <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span> <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">li</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;li&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">p</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;p&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">span</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;ph uicontrol&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>Impacted Firmware/Version<span style="color:#000;font-weight:bold">&lt;/</span><span style="color:#204a87;font-weight:bold">span</span><span style="color:#000;font-weight:bold">&gt;</span>—The software version of UCS systems impacted.
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">&lt;/</span><span style="color:#204a87;font-weight:bold">p</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&lt;/</span><span style="color:#204a87;font-weight:bold">li</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">li</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;li&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">p</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;p&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#204a87;font-weight:bold">span</span> <span style="color:#c4a000">class</span><span style="color:#ce5c00;font-weight:bold">=</span><span style="color:#4e9a06">&#34;ph uicontrol&#34;</span><span style="color:#000;font-weight:bold">&gt;</span>Effective Date<span style="color:#000;font-weight:bold">&lt;/</span><span style="color:#204a87;font-weight:bold">span</span><span style="color:#000;font-weight:bold">&gt;</span>—Date when the EOL advisory milestone is reached. As an example, for UCS Manager Release 2.2 the effective date is either the date when the EOSM milestone of January 9, 2019 was reached or LDOS milestone is January 31, 2023 was reached.
</span></span><span style="display:flex;"><span>   <span style="color:#000;font-weight:bold">&lt;/</span><span style="color:#204a87;font-weight:bold">p</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">&lt;/</span><span style="color:#204a87;font-weight:bold">li</span><span style="color:#000;font-weight:bold">&gt;</span>
</span></span></code></pre></div>
    </div>
</div>

<h2 id="cards">Cards</h2>
<h3 id="card-panes">Card Panes</h3>
<div class="td-card card">
  
  
    
  
  
  <div class="card-header bg-white"><strong>C</strong></div>
  
  <div class="card-body code p-l0 m-0">
      <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">\#</span><span style="color:#000">include</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">lt</span><span style="color:#000;font-weight:bold">;</span><span style="color:#000">stdio</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">h</span><span style="color:#ce5c00;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#a40000">\#</span><span style="color:#000">include</span> <span style="color:#ce5c00;font-weight:bold">&amp;</span><span style="color:#000">lt</span><span style="color:#000;font-weight:bold">;</span><span style="color:#000">stdlib</span><span style="color:#000;font-weight:bold">.</span><span style="color:#000">h</span><span style="color:#ce5c00;font-weight:bold">&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">int</span> <span style="color:#000">main</span><span style="color:#000;font-weight:bold">(</span><span style="color:#204a87;font-weight:bold">void</span><span style="color:#000;font-weight:bold">)</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">{</span>
</span></span><span style="display:flex;"><span>  <span style="color:#000">puts</span><span style="color:#000;font-weight:bold">(</span><span style="color:#4e9a06">&#34;Hello World!&#34;</span><span style="color:#000;font-weight:bold">);</span>
</span></span><span style="display:flex;"><span>  <span style="color:#204a87;font-weight:bold">return</span> <span style="color:#000">EXIT_SUCCESS</span><span style="color:#000;font-weight:bold">;</span>
</span></span><span style="display:flex;"><span><span style="color:#000;font-weight:bold">}</span>
</span></span></code></pre></div>
  </div>
</div>

<HR>
<div class="td-card card mb-4">
  
    <div class="card-header">
      
        <strong>Imagine</strong>
      
    </div>
  
  <div class="card-body">
    
      <h5 class="card-title">
        
          Artist and songwriter: John Lennon
        
      </h5>
    
    
      <h6 class="card-title mb-2 text-muted">
        
          Co-writer: Yoko Ono
        
      </h6>
    
    
      <p class="card-text">
        
          <p>Imagine there&rsquo;s no heaven, It&rsquo;s easy if you try<br/>
No hell below us, above us only sky<br/>
Imagine all the people living for today&hellip;</p>
<p>&hellip;</p>

        
      </p>
    
  </div>
  
    <div class="card-footer">
      
        <img src="https://marinegeo.github.io/assets/img/MarineGEO_logo.png" alt="SignatureJohnLennon" title="Signature John Lennon">
      
    </div>
  
</div>

<h3 id="card-group">Card Group</h3>
<div class="td-card-deck card-deck mb-4">
  <div class="td-card card mb-4">
  
    <div class="card-header">
      
        <strong>Card 1</strong>
      
    </div>
  
  <div class="card-body">
    
    
    
      <p class="card-text">
        
          <pre><code>Content card 1
</code></pre>

        
      </p>
    
  </div>
  
</div>

  <div class="td-card card mb-4">
  
    <div class="card-header">
      
        <strong>Card 2</strong>
      
    </div>
  
  <div class="card-body">
    
    
    
      <p class="card-text">
        
          <pre><code>Content card 2
</code></pre>

        
      </p>
    
  </div>
  
</div>

  <div class="td-card card mb-4">
  
    <div class="card-header">
      
        <strong>Card 3</strong>
      
    </div>
  
  <div class="card-body">
    
    
    
      <p class="card-text">
        
          <pre><code>Content card 3
</code></pre>

        
      </p>
    
  </div>
  
</div>

</div>
<h2 id="hightlight">Hightlight</h2>
<h3 id="warning">Warning</h3>


<div class="alert alert-warning" role="alert">
<h4 class="alert-heading">Warning</h4>

    This is a warning.

</div>

<h3 id="note">Note</h3>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    This is a Note.

</div>

<h3 id="tip">Tip</h3>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Tip</h4>

    This is a Tip.

</div>

<h2 id="content-resuse-and-conditional-tag-shortcodes">Content Resuse and Conditional Tag Shortcodes</h2>
<h3 id="include-external-file">Include External File</h3>
<p>The following section explains how to install the database:</p>
  <p><strong>Installation</strong></p>
<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>
<pre><code>Check system compatibility before proceeding.
</code></pre>
</div>
<ol>
<li>
<p>Download the installation files.</p>
</li>
<li>
<p>Run the installation script</p>
<p><code>sudo sh install.sh</code></p>
</li>
<li>
<p>Test that your installation was successfully completed.</p>
</li>
</ol>
<h3 id="include-a-code-snippet-external-file">Include a code snippet (External File)</h3>
<p>To create a new pipeline, follow the next steps:</p>
<ol>
<li>
<p>Create a configuration file <code>config.yaml</code>:</p>

    
      
    
    
    
    
    	
    
    
    
    
    
    
      
      
      
    
    
    
    
    
    
      <div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#204a87;font-weight:bold">apiVersion</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">tekton.dev/v1beta1</span><span style="color:#f8f8f8;text-decoration:underline">
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">kind</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">Task</span><span style="color:#f8f8f8;text-decoration:underline">
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">metadata</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">hello</span><span style="color:#f8f8f8;text-decoration:underline">
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline"></span><span style="color:#204a87;font-weight:bold">spec</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">  </span><span style="color:#204a87;font-weight:bold">steps</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline">
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span>- <span style="color:#204a87;font-weight:bold">name</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">echo</span><span style="color:#f8f8f8;text-decoration:underline">
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">image</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000">alpine</span><span style="color:#f8f8f8;text-decoration:underline">
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    
    </span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">      </span><span style="color:#204a87;font-weight:bold">script</span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">|</span><span style="color:#8f5902;font-style:italic">
    </span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">    
    </span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">        #!/bin/sh
    </span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">    
    </span></span></span><span style="display:flex;"><span><span style="color:#8f5902;font-style:italic">        echo &#34;Hello World&#34;      </span><span style="color:#f8f8f8;text-decoration:underline">    </span></span></span></code></pre></div>
    

</li>
<li>
<p>Apply the file to your cluster <code>kubectl apply config.yaml</code></p>
</li>
</ol>
<h3 id="conditional-tag-processing">Conditional Tag Processing</h3>
<h2 id="blocks">Blocks</h2>



 
<a id="td-block-11" class="td-offset-anchor"></a>
<section class="row td-box td-box--dark td-box--gradient td-box--height-auto">
	<div class="col">
		<div class="row row">
			
				<div class="col-lg-4 mb-5 mb-lg-0 text-center">
<div class="mb-4 h1">
  <i class="fas fa-lightbulb"></i>
</div>
<h4 class="h3">Fastest OS <strong>on the planet</strong>!</h4>
<div class="mb-0">
<p>The new <strong>TechOS</strong> operating system is an open source project. It is a new project, but with grand ambitions.
Please follow this space for updates!</p>
</div>
</div>
<div class="col-lg-4 mb-5 mb-lg-0 text-center">
<div class="mb-4 h1">
  <i class="fas fa-brands fa-github"></i>
</div>
<h4 class="h3">Contributions welcome!</h4>
<div class="mb-0">
<p>We do a <a href="https://github.com/gohugoio/hugo/pulls">Pull Request</a> contributions workflow on <strong>GitHub</strong>. New users are always welcome!</p>
</div>
<p><a href="https://github.com/gohugoio/hugo">Read more …</a></p>
</div>
<div class="col-lg-4 mb-5 mb-lg-0 text-center">
<div class="mb-4 h1">
  <i class="fas fa-brands fa-twitter"></i>
</div>
<h4 class="h3">Follow us on Twitter!</h4>
<div class="mb-0">
<p>For announcement of latest features etc.</p>
</div>
<p><a href="https://twitter.com/GoHugoIO">Read more …</a></p>
</div>

			
		</div>
	</div>
</section>

<h2 id="swaggerui">swaggerui</h2>

<div id="ohpen_swagger_ui"></div>
<script>
  window.onload = function () {
    const ui = SwaggerUIBundle({
      url: "https://github.com/OAI/OpenAPI-Specification/blob/main/examples/v2.0/yaml/petstore.yaml",
      dom_id: '#ohpen_swagger_ui',
      presets: [
        SwaggerUIBundle.presets.apis,
        SwaggerUIStandalonePreset
      ]
    });
    window.ui = ui;
  };
</script>

<h2 id="redoc">redoc</h2>

        <style>
          #redoc input { height: 64px; }
          #redoc span[type="put"], span[type="get"], span[type="delete"], span[type="post"], span[type="options"], span[type="patch"], span[type="basic"], span[type="link"], span[type="head"] {
              border-radius: 4px;
            }
          #redoc h2 { margin-top: 0px;}
      </style>
  
    
    <style>
      #myBtn {
        display: none;
        position: fixed;
        bottom: 20px;
        right: 30px;
        z-index: 99;
        font-size: 18px;
        border: none;
        outline: none;
        background-color: #30638E;
        color: white;
        cursor: pointer;
        padding: 15px;
        border-radius: 4px;
      }
      
      #myBtn:hover {
        background-color: #555;
      }
  </style>
  <button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
  <script>
      
      var mybutton = document.getElementById("myBtn");
      
      
      window.onscroll = function() {scrollFunction()};
      
      function scrollFunction() {
        if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
          mybutton.style.display = "block";
        } else {
          mybutton.style.display = "none";
        }
      }
      
      
      function topFunction() {
        document.body.scrollTop = 0;
        document.documentElement.scrollTop = 0;
      }
  </script>
    

    
    <style>
      body {
        margin: 0;
        padding: 0;
      }
    </style>

    
   <div id="redoc-container">
   <redoc spec-url='https://raw.githubusercontent.com/OAI/OpenAPI-Specification/main/examples/v2.0/yaml/petstore.yaml' hide-hostname="true" suppress-warnings="true" lazy-rendering  native-scrollbars scroll-y-offset=".js-navbar-scroll" ZgotmplZ></redoc>
   </div>
    
    <script src="https://cdn.jsdelivr.net/npm/redoc@latest/bundles/redoc.standalone.js"></script>


</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-fbc9820f28944b92d7fd077b4dddecf9">5.2 - New Features 2</h1>
    <div class="lead">New Features 2</div>
	<h2 id="sliders---pics">Sliders - Pics</h2>








    
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">



    
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>



<style>
#slide-window {
    position: relative;
    width: 1200px;
    height: 650px;
    overflow: hidden;
    top: 0px;
    left: 0px;
}

#slides-list {
    width: 1200px;
    height: 650px;
    position: absolute;
    margin: 0px;
    padding: 0px;
    -webkit-transform: translate3d(0px, 0px, 0px);
    transform: translate3d(0px, 0px, 0px);
    transition: all 0.66s ease;
    -webkit-transition: all 0.66s ease;
}

.slide {
    list-style: none;
    position: relative;
    float: left;
    margin: 0;
    padding: 0;
    width: 1200px;
    height: 650px;
    background: #ccc;
    text-align: center;
    line-height: 100%;
    background-size: cover;
    background-position: 50% 50%;
    color: #fff;
    -webkit-transform: translate3d(0px, 0px, 0px);
    -webkit-transform-style: preserve-3d;
}

.nav {
    position: relative;
    z-index: 9;
    top: 45%;
    cursor: pointer;
    color: #fff;
    opacity: 0.7;
    transition: all 0.66s ease;
    -webkit-transition: all 0.66s ease;
}

.nav:hover {
    opacity: 1.0;
}

#left {
    left: 3%;
    float: left;
}

#right {
    right: 3%;
    float: right;
}
</style>


<div id="slide-window">
    <ol id="slides-list">
                <li class="slide" style="background-image:url(http://localhost:8080/slider/intersight-platform-.png);"></li>
                <li class="slide" style="background-image:url(http://localhost:8080/slider/intersight-platform-so.png);"></li>
    </ol>
    <span class="nav fa fa-chevron-left fa-3x" id="left"></span>
    <span class="nav fa fa-chevron-right fa-3x" id="right"></span>
</div>

<script>
sliderJQuery = jQuery.noConflict();
sliderJQuery(function( $ ) {
    $.global = new Object();
    $.global.total = 0;

    $(document).ready(function () {
        var slideWindowWidth = $('#slide-window').width();
        var slideCount = $('#slides-list li').length;
        var totalSlidesWidth = slideCount * slideWindowWidth;

        $.global.item = 0;
        $.global.total = slideCount;

        $('.slide').css('width', slideWindowWidth + 'px');
        $('#slides-list').css('width', totalSlidesWidth + 'px');

        $('#left').click(function () {
            resetAutoSlide();
            performSlide('back');
        });

        $('#right').click(function () {
            resetAutoSlide();
            performSlide('forward');
        });

    });

    function performSlide(direction) {
        if (direction == 'back') {
            var nextSlideId = $.global.item - 1;
        }
        if (direction == 'forward') {
            var nextSlideId = $.global.item + 1;
        }

        if (nextSlideId == -1) {
             
            moveCss($.global.total - 1);
        } else if (nextSlideId == $.global.total) {
             
            moveCss(0);
        } else {
             
            moveCss(nextSlideId);
        }
    }

    function moveCss(nextSlideId) {
        var slideWindowWidth = $('#slide-window').width();
        var margin = slideWindowWidth * nextSlideId;

        $('#slides-list').css('transform', 'translate3d(-' + margin + 'px,0px,0px)');

        $.global.item = nextSlideId;
    }

    
      var autoSlide = parseInt("0", 10);
      var autoSlideInterval;
      function resetAutoSlide(){
        if(autoSlide) {
          if(autoSlideInterval) {
            clearInterval(autoSlideInterval);
          }
          autoSlideInterval = setInterval(function(){
            performSlide('forward');
          }, autoSlide)
        }
      }
      resetAutoSlide();
});
</script>
<h2 id="sliders---text">Sliders - Text</h2>
<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
* {box-sizing: border-box}
body {font-family: Verdana, sans-serif; margin:0}

 
.slideshow-container {
  position: relative;
  background: linear-gradient(to bottom, lightblue 0%, white 100%);
}

 
.mySlides {
  display: none;
  padding: 80px;
  text-align: left;
}

 
.prev, .next {
  cursor: pointer;
  position: absolute;
  top: 50%;
  width: auto;
  margin-top: -30px;
  padding: 16px;
  color: #888;
  font-weight: bold;
  font-size: 20px;
  border-radius: 0 3px 3px 0;
  user-select: none;
}

 
.next {
  position: absolute;
  right: 0;
  border-radius: 3px 0 0 3px;
}

 
.prev:hover, .next:hover {
  background-color: rgba(0,0,0,0.8);
  color: white;
}

 
.dot-container {
    text-align: center;
    padding: 20px;
    background: #1e4471;
}

 
.dot {
  cursor: pointer;
  height: 15px;
  width: 15px;
  margin: 0 2px;
  background-color: lightblue;
  border-radius: 50%;
  display: inline-block;
  transition: background-color 0.6s ease;
}

 
.active1, .dot:hover {
  background-color: orange;
}

 
q {font-style: italic;}

 
.author {color: cornflowerblue;}
</style>
</head>
<body>

<div class="slideshow-container">

<div class="mySlides">
	<H1 align="center">Unified monitoring and management </H1>
   <ul>
   <li>Simplify the monitoring and management of Cisco and third-party compute, network, storage, integrated systems, virtualization, container, and public cloud resources and workloads, all from one unified hybrid IT operations platform.</li>
    <li>Increase scale across data centers, remote locations, and public cloud without additional complexity.</li>
	 <li>Use unified dashboards for at-a-glance insights across Cisco, third-party, and public cloud resources Cisco UCS Manager, Cisco IMC software, Cisco HyperFlex Connect, and Cisco UCS Director tunneling allow access to element managers that do not have local network access.</li>
   </ul>
</div>

<div class="mySlides">
  <H1 align="center">Configuration, provisioning, and installation</H1>
   <ul>
   <li>All Cisco, third-party, and public cloud resources can be allocated and reallocated among application workloads for more dynamic and efficient use of hybrid IT capacity.</li>
    <li>Policy-based profiles and templates for deployment and configuration enable you to consistently provision and operate your hybrid IT infrastructure and resources, maintain standardization, eliminate configuration errors, and minimize configuration drift.</li>
	 <li>Leverage policies and templates or clone profiles to quickly provision Cisco UCS or HyperFlex servers, regardless of where they are deployed.</li>
	 <li>Create, deploy, and manage Cisco HyperFlex configurations.</li>
   </ul>
</div>

<div class="mySlides">
  <H1 align="center">Orchestration and workflow designer</H1>
   <ul>
   <li>Cisco Intersight Cloud Orchestrator is a low/no-code framework to create and execute complex orchestrations across multiple infrastructure domains, applications, and external endpoints.</li>
    <li>Intersight Cloud Orchestrator includes a library of out-of-the-box automation tasks supporting operations across Cisco and third-party compute, network, storage, integrated systems, virtualization, container, public cloud platforms, and other automation engines such as HashiCorp Terraform Cloud.</li>
	 <li>Use the custom task designer to create your own library of automated operations using open standards such as HTTP/API, Ansible, PowerShell, SSH, and more.</li>
	 <li>Use out-of-the-box workflows or create your own workflows by assembling tasks along with logical controls and loops. Built-in data transformation features help you adapt the format and flow of information as it passes through different domain automation and tasks.</li>
	 <li>Both workflow designer and custom task designer provide a drag-and-drop UI to simplify authoring with a low/no-code user experience.</li>
   </ul>
</div>

<a class="prev" onclick="plusSlides(-1)">❮</a>
<a class="next" onclick="plusSlides(1)">❯</a>

</div>

<div class="dot-container">
  <span class="dot" onclick="currentSlide(1)"></span> 
  <span class="dot" onclick="currentSlide(2)"></span> 
  <span class="dot" onclick="currentSlide(3)"></span> 
</div>

<script>
var slideIndex = 1;
showSlides(slideIndex);

function plusSlides(n) {
  showSlides(slideIndex += n);
}

function currentSlide(n) {
  showSlides(slideIndex = n);
}

function showSlides(n) {
  var i;
  var slides = document.getElementsByClassName("mySlides");
  var dots = document.getElementsByClassName("dot");
  if (n > slides.length) {slideIndex = 1}    
  if (n < 1) {slideIndex = slides.length}
  for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";  
  }
  for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active1", "");
  }
  slides[slideIndex-1].style.display = "block";  
  dots[slideIndex-1].className += " active1";
}
</script>

</body>
</html> 
<h1 id="diagrams">Diagrams</h1>
<h2 id="goat">GOAT</h2>



<div class="goat svg-container ">
  
    <svg
      xmlns="http://www.w3.org/2000/svg"
      font-family="Menlo,Lucida Console,monospace"
      
        viewBox="0 0 680 121"
      >
      <g transform='translate(8,16)'>
<path d='M 440,0 L 464,0' fill='none' stroke='currentColor'></path>
<path d='M 576,0 L 584,0' fill='none' stroke='currentColor'></path>
<path d='M 408,16 L 440,16' fill='none' stroke='currentColor'></path>
<path d='M 552,16 L 560,16' fill='none' stroke='currentColor'></path>
<path d='M 144,32 L 176,32' fill='none' stroke='currentColor'></path>
<path d='M 176,32 L 208,32' fill='none' stroke='currentColor'></path>
<path d='M 296,32 L 312,32' fill='none' stroke='currentColor'></path>
<path d='M 312,32 L 328,32' fill='none' stroke='currentColor'></path>
<path d='M 440,32 L 464,32' fill='none' stroke='currentColor'></path>
<path d='M 576,32 L 584,32' fill='none' stroke='currentColor'></path>
<path d='M 384,48 L 408,48' fill='none' stroke='currentColor'></path>
<path d='M 512,48 L 536,48' fill='none' stroke='currentColor'></path>
<path d='M 128,64 L 144,64' fill='none' stroke='currentColor'></path>
<path d='M 144,64 L 160,64' fill='none' stroke='currentColor'></path>
<path d='M 192,64 L 208,64' fill='none' stroke='currentColor'></path>
<path d='M 208,64 L 224,64' fill='none' stroke='currentColor'></path>
<path d='M 440,64 L 464,64' fill='none' stroke='currentColor'></path>
<path d='M 576,64 L 584,64' fill='none' stroke='currentColor'></path>
<path d='M 408,80 L 440,80' fill='none' stroke='currentColor'></path>
<path d='M 552,80 L 560,80' fill='none' stroke='currentColor'></path>
<path d='M 440,96 L 464,96' fill='none' stroke='currentColor'></path>
<path d='M 576,96 L 584,96' fill='none' stroke='currentColor'></path>
<path d='M 128,64 L 128,80' fill='none' stroke='currentColor'></path>
<path d='M 144,32 L 144,64' fill='none' stroke='currentColor'></path>
<path d='M 160,64 L 160,80' fill='none' stroke='currentColor'></path>
<path d='M 176,0 L 176,32' fill='none' stroke='currentColor'></path>
<path d='M 192,64 L 192,80' fill='none' stroke='currentColor'></path>
<path d='M 208,32 L 208,64' fill='none' stroke='currentColor'></path>
<path d='M 224,64 L 224,80' fill='none' stroke='currentColor'></path>
<path d='M 280,48 L 280,64' fill='none' stroke='currentColor'></path>
<path d='M 312,0 L 312,32' fill='none' stroke='currentColor'></path>
<path d='M 344,48 L 344,64' fill='none' stroke='currentColor'></path>
<path d='M 408,16 L 408,48' fill='none' stroke='currentColor'></path>
<path d='M 408,48 L 408,80' fill='none' stroke='currentColor'></path>
<path d='M 440,0 L 440,16' fill='none' stroke='currentColor'></path>
<path d='M 440,16 L 440,32' fill='none' stroke='currentColor'></path>
<path d='M 440,64 L 440,80' fill='none' stroke='currentColor'></path>
<path d='M 440,80 L 440,96' fill='none' stroke='currentColor'></path>
<path d='M 536,32 L 536,48' fill='none' stroke='currentColor'></path>
<path d='M 536,48 L 536,64' fill='none' stroke='currentColor'></path>
<path d='M 8,80 L 24,48' fill='none' stroke='currentColor'></path>
<path d='M 24,48 L 48,0' fill='none' stroke='currentColor'></path>
<path d='M 56,80 L 72,48' fill='none' stroke='currentColor'></path>
<path d='M 624,48 L 640,16' fill='none' stroke='currentColor'></path>
<path d='M 640,16 L 648,0' fill='none' stroke='currentColor'></path>
<path d='M 640,80 L 648,64' fill='none' stroke='currentColor'></path>
<path d='M 24,48 L 40,80' fill='none' stroke='currentColor'></path>
<path d='M 48,0 L 72,48' fill='none' stroke='currentColor'></path>
<path d='M 72,48 L 88,80' fill='none' stroke='currentColor'></path>
<path d='M 624,48 L 640,80' fill='none' stroke='currentColor'></path>
<path d='M 640,80 L 648,96' fill='none' stroke='currentColor'></path>
<path d='M 640,16 L 648,32' fill='none' stroke='currentColor'></path>
<path d='M 576,0 A 16,16 0 0,0 560,16' fill='none' stroke='currentColor'></path>
<path d='M 552,16 A 16,16 0 0,0 536,32' fill='none' stroke='currentColor'></path>
<path d='M 296,32 A 16,16 0 0,0 280,48' fill='none' stroke='currentColor'></path>
<path d='M 328,32 A 16,16 0 0,1 344,48' fill='none' stroke='currentColor'></path>
<path d='M 560,16 A 16,16 0 0,0 576,32' fill='none' stroke='currentColor'></path>
<path d='M 280,64 A 16,16 0 0,0 264,80' fill='none' stroke='currentColor'></path>
<path d='M 280,64 A 16,16 0 0,1 296,80' fill='none' stroke='currentColor'></path>
<path d='M 344,64 A 16,16 0 0,0 328,80' fill='none' stroke='currentColor'></path>
<path d='M 344,64 A 16,16 0 0,1 360,80' fill='none' stroke='currentColor'></path>
<path d='M 576,64 A 16,16 0 0,0 560,80' fill='none' stroke='currentColor'></path>
<path d='M 536,64 A 16,16 0 0,0 552,80' fill='none' stroke='currentColor'></path>
<path d='M 560,80 A 16,16 0 0,0 576,96' fill='none' stroke='currentColor'></path>
<text text-anchor='middle' x='8' y='100' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='40' y='100' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='56' y='100' fill='currentColor' style='font-size:1em'>3</text>
<text text-anchor='middle' x='88' y='100' fill='currentColor' style='font-size:1em'>4</text>
<text text-anchor='middle' x='128' y='100' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='160' y='100' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='192' y='100' fill='currentColor' style='font-size:1em'>3</text>
<text text-anchor='middle' x='224' y='100' fill='currentColor' style='font-size:1em'>4</text>
<text text-anchor='middle' x='264' y='100' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='296' y='100' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='328' y='100' fill='currentColor' style='font-size:1em'>3</text>
<text text-anchor='middle' x='360' y='100' fill='currentColor' style='font-size:1em'>4</text>
<text text-anchor='middle' x='480' y='4' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='480' y='36' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='480' y='68' fill='currentColor' style='font-size:1em'>3</text>
<text text-anchor='middle' x='480' y='100' fill='currentColor' style='font-size:1em'>4</text>
<text text-anchor='middle' x='600' y='4' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='600' y='36' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='600' y='68' fill='currentColor' style='font-size:1em'>3</text>
<text text-anchor='middle' x='600' y='100' fill='currentColor' style='font-size:1em'>4</text>
<text text-anchor='middle' x='664' y='4' fill='currentColor' style='font-size:1em'>1</text>
<text text-anchor='middle' x='664' y='36' fill='currentColor' style='font-size:1em'>2</text>
<text text-anchor='middle' x='664' y='68' fill='currentColor' style='font-size:1em'>3</text>
<text text-anchor='middle' x='664' y='100' fill='currentColor' style='font-size:1em'>4</text>
</g>

    </svg>
  
</div>
<h2 id="mermaid">Mermaid</h2>
<h3 id="flowchart">Flowchart</h3>
<div class="mermaid">graph TD
  Start --> Need{"Hugo version >= 0.93.0"}
  Need -- No --> Off["Set params.mermaid.enable = true"]
  Off --> Author
  Need -- Yes --> Author[Insert mermaid codeblock]
</div>
<h3 id="sequence">Sequence</h3>
<div class="mermaid">sequenceDiagram
    participant Alice
    participant Bob
    Alice->>John: Hello John, how are you?
    loop Healthcheck
        John->>John: Fight against hypochondria
    end
    Note right of John: Rational thoughts <br/>prevail!
    John-->>Alice: Great!
    John->>Bob: How about you?
    Bob-->>John: Jolly good!
</div>
<h3 id="pie-chart">Pie Chart</h3>
<div class="mermaid">pie title What Voldemort doesn't have?
         "FRIENDS" : 20
         "FAMILY" : 30
         "NOSE" : 30
		 "Office" :15
		 "New Test" : 5
</div>
<div class="highlight"><pre tabindex="0" style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">    </span><span style="color:#000">pie title What Voldemort doesn&#39;t have?</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">             </span><span style="color:#4e9a06">&#34;FRIENDS&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">20</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">             </span><span style="color:#4e9a06">&#34;FAMILY&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">30</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span><span style="display:flex;"><span><span style="color:#f8f8f8;text-decoration:underline">             </span><span style="color:#4e9a06">&#34;NOSE&#34;</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#000;font-weight:bold">:</span><span style="color:#f8f8f8;text-decoration:underline"> </span><span style="color:#0000cf;font-weight:bold">50</span><span style="color:#f8f8f8;text-decoration:underline">
</span></span></span></code></pre></div><h3 id="graph">Graph</h3>
<div class="mermaid">graph LR
    A[Square Rect] -- Link text --> B((Circle))
    A --> C(Round Rect)
    B --> D{Rhombus}
    C --> D
</div>
<h3 id="git-graph">Git Graph</h3>
<div class="mermaid">gitGraph:
    commit "Ashish"
    branch newbranch
    checkout newbranch
    commit id:"1111"
    commit tag:"test"
    checkout main
    commit type: HIGHLIGHT
    commit
    merge newbranch
    commit
    branch b2
    commit
</div>
<h3 id="gantt-diagram">Gantt Diagram</h3>
<div class="mermaid"> gantt
    title A Gantt Diagram
    dateFormat  YYYY-MM-DD
    section Section
    A task           :a1, 2014-01-01, 30d
    Another task     :after a1  , 20d
    section Another
    Task in sec      :2014-01-12  , 12d
    another task      : 24d
</div>
<div class="mermaid">graph TB
    c1-->a2
    subgraph one
    a1-->a2
    end
    subgraph two
    b1-->b2
    end
    subgraph three
    c1-->c2
    end
</div>
<div class="mermaid">graph TD
    A[Christmas] -->|Get money| B(Go shopping)
    B --> C{Let me think}
    C -->|One| D[Laptop]
    C -->|Two| E[iPhone]
    C -->|Three| F[fa:fa-car Car]
</div>
<h2 id="uml-diagrams-with-plantuml">UML Diagrams with PlantUML</h2>
<pre tabindex="0"><code class="language-plantuml" data-lang="plantuml">participant participant as Foo
actor       actor       as Foo1
boundary    boundary    as Foo2
control     control     as Foo3
entity      entity      as Foo4
database    database    as Foo5
collections collections as Foo6
queue       queue       as Foo7
Foo -&gt; Foo1 : To actor
Foo -&gt; Foo2 : To boundary
Foo -&gt; Foo3 : To control
Foo -&gt; Foo4 : To entity
Foo -&gt; Foo5 : To database
Foo -&gt; Foo6 : To collections
Foo -&gt; Foo7: To queue
Foo -&gt; Foo8: Go to start
Foo -&gt; Foo9: Go to end
</code></pre><h2 id="mindmap-support-with-markmap">MindMap support with MarkMap</h2>
<pre tabindex="0"><code class="language-markmap" data-lang="markmap"># markmap

## Links

- &lt;https://markmap.js.org/&gt;
- [GitHub](https://github.com/gera2ld/markmap)

## Related

- [coc-markmap](https://github.com/gera2ld/coc-markmap)
- [gatsby-remark-markmap](https://github.com/gera2ld/gatsby-remark-markmap)

## Features

- links
- **inline** ~~text~~ *styles*
- multiline
  text
- `inline code`
-
    ```js
    console.log(&#39;code block&#39;);
    ```
- Katex - $x = {-b \pm \sqrt{b^2-4ac} \over 2a}$
</code></pre><pre class="mermaid">
<script type="module">
  import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
</script>
<p></pre></p>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-9cc44fa1c2f5f05c3c9083462372f9d8">5.3 - </h1>
    
	<p><strong>Installation</strong></p>


<div class="alert alert-primary" role="alert">
<h4 class="alert-heading">Note</h4>

    Check system compatibility before proceeding.

</div>

<ol>
<li>
<p>Download the installation files.</p>
</li>
<li>
<p>Run the installation script</p>
<p><code>sudo sh install.sh</code></p>
</li>
<li>
<p>Test that your installation was successfully completed.</p>
</li>
</ol>

</div>



    
	
  

    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-722d8a43dd56a6b08d3f26a23ad4fc53">6 - Caveats</h1>
    
	





<div>
    <h3> CSCwb90747 - Intersight Cloud Orchestrator: HSM Enabled field goes to disabled state even after enabling in the UI.</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> August 11, 2022</p>
    <p><b>Workaround:</b> For an Intersight Account with Intersight Workload Optimizer (IWO) license, the Hardware Support Manager (HSM) will go back to disabled state even after enabling HSM in the UI. However, the HSM functionality works as expected.</p>
    <hr>
</div>

<div>
    <h3> CSCwb45235 - Intersight Cloud Orchestrator: Support for variables mapping to and from serial loop tasks.</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> August 11, 2022</p>
    <p><b>Workaround:</b> Variable support is added for Serial Loop.</p>
    <hr>
</div>

<div>
    <h3> CSCwb30421 - Intersight Cloud Orchestrator: Workflow execution terminates if input array size is less than the loop count or condition.</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> August 11, 2022</p>
    <p><b>Workaround:</b> Workflow execution continues when input array size is less than the loop count or condition.</p>
    <hr>
</div>

<div>
    <h3> CSCwb20925  - Intersight Managed Mode: Server Inventory fails to display the latest Server Certificate.</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> August 25, 2022</p>
    <p><b>Workaround:</b> In Cisco UCS B-Series servers, the Server Inventory Page does not display the latest Server Certificate due to delayed Unified Endpoint Management (UEM) events.</p>
    <hr>
</div>

<div>
    <h3> CSCvz44489 - Intersight Managed Mode: The Not Deployed Changes message is not displayed when the UUID property is modified.</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 3, 2022</p>
    <p><b>Workaround:</b> When the UUID property is modified for a previously deployed Server Profile, the server profile status shows OK instead of Not Deployed Changes</p>
    <hr>
</div>

<div>
    <h3> CSCwa44246 - Intersight Managed Mode: Out-of-Band IP address on an Intersight Managed Mode server becomes unreachable after Fabric Interconnect reboot</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 3, 2022</p>
    <p><b>Workaround:</b> The Out-of-Band IP address configured on an Intersight Managed Mode server using the IMC Access policy becomes unreachable after Fabric Interconnect reboot.</p>
    <hr>
</div>

<div>
    <h3> CSCvz25126 - Intersight Managed Mode: The power consumption reading of UCSX-210C-M6 server is lower than the actual power that the server consumes.</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> December 2, 2021</p>
    <p><b>Workaround:</b> When the UCSX-210C-M6 server is powered on, the power consumption reading is lower than the actual power that the server consumes. The difference amount is -7% to -8% of the actual power.</p>
    <hr>
</div>

<div>
    <h3> CSCvz36957 - Intersight Managed Mode: The server UUID defined during server profile deployment is not displayed on the Server Inventory page for Cisco UCS C-series servers.</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> October 26, 2021</p>
    <p><b>Workaround:</b> When the server profile deployment is complete, the latest UUID is not displayed on the Server Inventory page, even after the server restart. This issue is specifically observed on Cisco UCS C-series servers.</p>
    <hr>
</div>

<div>
    <h3> CSCvz08702 - Intersight Managed Mode: NVMe controllers are not displayed on the HCL Validation page</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> October 14, 2021</p>
    <p><b>Workaround:</b> The Non-Volatile Memory Express (NVMe) controllers are not displayed in HCL Validation page. However, the controllers are displayed in the Server Inventory page. This will result in incorrect HCL evaluation.</p>
    <hr>
</div>

<div>
    <h3> CSCvv50863 – Intersight Managed Mode: ISO mapping fails when port numbers are explicitly mentioned in NI-HUU or NI-SCU config files</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> October 14, 2021</p>
    <p><b>Workaround:</b> Upgrade from a custom port is not supported for servers running software version earlier than Cisco IMC 4.0(4m).</p>
    <hr>
</div>

<div>
    <h3> CSCvz84786 - Infrastructure: On the Software Downloads page, the tabs are not clickable for the existing users</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> October 14, 2021</p>
    <p><b>Workaround:</b> The existing users are not able to click the tabs present on the Software Downloads page. New users do not face this issue.</p>
    <hr>
</div>

<div>
    <h3> CSCvz25321 - Intersight Managed Mode: Python OS Discovery Tool (ODT) fails on UCSX 210C M6 servers for Linux OS</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> October 7, 2021</p>
    <p><b>Workaround:</b> Python ODT is currently not supported on UCSX 210C M6 servers for the Linux OS that includes Red Hat Enterprise Linux (RHEL), SUSE Linux Enterprise Server(SLES), Ubuntu Sever, CentOS, and Oracle Linux. This will result in ODT script failure.</p>
    <hr>
</div>

<div>
    <h3> CSCvz72536 - Infrastructure: Organization edit operation is not working as expected</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> October 1, 2021</p>
    <p><b>Workaround:</b> While editing the Organization name results in removal of the Resource Groups and editing the Organization name along with unselecting/selecting the Resource Group, results in the Organization edit page becoming unresponsive.</p>
    <hr>
</div>

<div>
    <h3> CSCvy00846 - Intersight Managed Mode: The user configuration on blades may be lost when there is a power outage to a rack hosting the Fabric Interconnect and Chassis</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> September 30, 2021</p>
    <p><b>Workaround:</b> When there is a power outage to a rack, all user configuration on the blade servers may be lost.</p>
    <hr>
</div>

<div>
    <h3> CSCvz48955 - Intersight Virtual Appliance: The APIDocs for Storage Policy is not in sync with the UI and API</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> September 30, 2021</p>
    <p><b>Workaround:</b> You can now fetch and modify Storage policies using APIDocs URI</p>
    <hr>
</div>

<div>
    <h3> CSCvu88769 - Infrastructure: The embedded installation mode fails when using file server with domain name</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> September 23, 2020</p>
    <p><b>Workaround:</b> The embedded installation mode fails when using file server with domain name.</p>
    <hr>
</div>

<div>
    <h3> CSCvv61398 - Infrastructure: Target claim fails if the password for the admin login includes any of the XML reserved</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> September 23, 2020</p>
    <p><b>Workaround:</b> The issue of target claim failing if the password for the admin login includes any of the XML reserved characters (&amp;, &lt;, &gt;, “, ‘) has been resolved.</p>
    <hr>
</div>

<div>
    <h3> CSCvz46580 - Intersight Managed Mode: vKVM SSO login might show Login denied after the system time is changed on Cisco IMC</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> September 23, 2020</p>
    <p><b>Workaround:</b> vKVM SSO login might show Login denied after the system time is changed on the Cisco IMC version between 4.1(3a) and 4.1(3d).</p>
    <hr>
</div>

<div>
    <h3> CSCvz14268 – Intersight Managed Mode: For the cluster Fabric Interconnect, redeployment of the server profile fails on the rack server</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> September 23, 2020</p>
    <p><b>Workaround:</b> Redeployment of the server profile on the rack server fails with the error that the Domain Profile is not associated with the Fabric Interconnects to which the server is attached. This error appears even though the Domain Profile was deployed on the Fabric Interconnects</p>
    <hr>
</div>

<div>
    <h3> CSCvy77588 – Intersight Managed Mode: M6 servers in IMM do not show the local disks during server discovery</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> September 16, 2021</p>
    <p><b>Workaround:</b> The M6 servers in IMM do not show the local disks on server discovery after decommissioning/recommissioning.</p>
    <hr>
</div>

<div>
    <h3> CSCvz22743 - Intersight Managed Mode: Direct upgrade fails for M6 server when the proxy is not set in the Device Connector</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> September 2, 2021</p>
    <p><b>Workaround:</b> Direct upgrade of M6 standalone servers fails if the proxy is not set on the device connector.</p>
    <hr>
</div>

<div>
    <h3> CSCvz14208 – Intersight Managed Mode: The Replace option is not available in the Detailed View page of the Fabric Interconnect that is to be replaced</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> July 30, 2021</p>
    <p><b>Workaround:</b> Replace Fabric Interconnect and Replace UCS Domain options are added to the Actions menu in the Fabric Interconnect Detailed View page.</p>
    <hr>
</div>

<div>
    <h3> CSCvy65585 - Intersight Managed Mode: Physical disk and Virtual Drives states are not updated in Server inventory report</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> July 22, 2021</p>
    <p><b>Workaround:</b> For M6 standalone servers, the state of the physical drives and virtual disks is not updated even after the storage policy is deployed. The virtual drive creation and set state actions are carried out, and the drive state alone is not updated in Server inventory page. This behavior is observed with firmware 4.2(1a). The fix is expected in 4.2(1b).</p>
    <hr>
</div>

<div>
    <h3> CSCvy50227 – Intersight Managed Mode: Upgrade Impact Error is observed when EFT image is selected for an upgrade</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> June 10, 2021</p>
    <p><b>Workaround:</b> The selected image appears invalid when the user tries an upgrade using an EFT firmware bundle.</p>
    <hr>
</div>

<div>
    <h3> CSCvy21552 - Intersight Managed Mode: BIOS POST is pending during upgrade of Cisco UCS B200 M5 Blade Server for more than 12 minutes</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> June 9, 2021</p>
    <p><b>Workaround:</b> The upgrade of Cisco UCS B200 M5 Blade Server is failed with timeout error as the BIOS POST was in pending status for more than 12 minutes. This issue is resolved in the infrastructure B and C bundles 4.1(3e).</p>
    <hr>
</div>

<div>
    <h3> CSCvy31340 - Security: Migration of One Identity to the identity provider Okta is complete</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> June 3, 2021</p>
    <p><b>Workaround:</b> Multi-Factor Authentication now works for all Cisco domain users.</p>
    <hr>
</div>

<div>
    <h3> CSCvv35790 - Intersight Managed Mode: Tunneled vKVM fails when using server firmware version 4.1(2a)</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> May 25, 2021</p>
    <p><b>Workaround:</b> Tunneled vKVM fails when using server firmware version 4.1(2a).</p>
    <hr>
</div>

<div>
    <h3> CSCvx43924 – Intersight Managed Mode: The discovery workflow of rack server gets into a loop and fails</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> May 20, 2021</p>
    <p><b>Workaround:</b> When the firmware 4.1(3a) or 4.1(3b), is running on the endpoint, the discovery workflow of rack server may get into a loop and fails. </p>
    <hr>
</div>

<div>
    <h3> CSCvy35774 - Intersight Managed Mode: Launch of Tunneled vKVM fails with specific hostname format</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> May 18, 2021</p>
    <p><b>Workaround:</b> Tunneled vKVM fails to launch with hostnames in the format of www.intersight.com or {account_moid}.intersight.com.</p>
    <hr>
</div>

<div>
    <h3> CSCvx39905 – Intersight Managed Mode: All the assigned policies may not sync when template configured with all the supported policies is attached to a Server Profile</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> May 13, 2021</p>
    <p><b>Workaround:</b> When an imported standalone server profile is attached to a standalone server template configured with a completely different set of policies, then some of the server template policies may not sync to the server profile.</p>
    <hr>
</div>

<div>
    <h3> CSCvt20882 – Intersight Managed Mode: Chrome browser throws an error and does not let the user to proceed and launch KVM</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> May 13, 2021</p>
    <p><b>Workaround:</b> This failure is due to stronger security restrictions in the browser for a self-signed server certificate. Trying another browser that allows such exceptions, such as Firefox, can solve the issue.</p>
    <hr>
</div>

<div>
    <h3> CSCvy08053 – Intersight Managed Mode: The false HDD missing alarms are displayed on servers</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> May 5, 2021</p>
    <p><b>Workaround:</b> Though the HDD is not removed, the EquipmentFruMissing alarm is displayed.</p>
    <hr>
</div>

<div>
    <h3> CSCvx16605 - Infrastructure: The health status of a server or Fabric Interconnect is updated in the Cisco Intersight user interface, whereas the health status does not synchronize to the device console</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> May 6, 2021</p>
    <p><b>Workaround:</b> The health status of a server or Fabric Interconnect is updated in the Cisco Intersight user interface, whereas the health status does not synchronize to the device console.</p>
    <hr>
</div>

<div>
    <h3> CSCvx58446 - UCSM Managed Mode: The UMM server upgrade workflow fails at the firmware image download stage</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> April 29, 2021</p>
    <p><b>Workaround:</b> The UMM server upgrade workflow fails at the firmware image download stage.</p>
    <hr>
</div>

<div>
    <h3> CSCvx01686 - Infrastructure: State cannot be set for the physical drives on M.2 controller</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> April 22, 2021</p>
    <p><b>Workaround:</b> Set State action of MSTOR-RAID/M.2 controller on physical disk tab is disabled.</p>
    <hr>
</div>

<div>
    <h3> CSCwa77606 - Kubernetes: Error while deleting worker node groups</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 10, 2022</p>
    <p><b>Workaround:</b> An error occurs when you delete a Worker Node Group from the Worker Node Pools Configuration screen.</p>
    <hr>
</div>

<div>
    <h3> CSCvz66973 - Kubernetes: Unable to change a VM configuration</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 10, 2022</p>
    <p><b>Workaround:</b> VM resizing is not supported.</p>
    <hr>
</div>

<div>
    <h3> CSCvy59071 - Kubernetes: Missing privileges for the Kubernetes Operator role</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 10, 2022</p>
    <p><b>Workaround:</b> A user with the Kubernetes Operator role is not able to download the KubeConfig and deploy add-ons to an existing clusters.</p>
    <hr>
</div>

<div>
    <h3> CSCwa69598 - Kubernetes: Hyperlinks to the optional add-ons are disabled</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 03, 2022</p>
    <p><b>Workaround:</b> Hyperlinks to the optional add-ons such as Grafana, Kubernetes Dashboard, and SMM Dashboard, are disabled in the Operate tab of the Cluster Details page.</p>
    <hr>
</div>

<div>
    <h3> CSCwa51286 - Kubernetes: Prometheus crashes repeatedly when Persistent Volume exceeds the configured storage capacity</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 03, 2022</p>
    <p><b>Workaround:</b> Prometheus crashes repeatedly when you use Persistent Volume with the default size of 20 GB.</p>
    <hr>
</div>

<div>
    <h3> CSCwa25562 - Kubernetes: Add-on installation fails after an incomplete uninstall</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 03, 2022</p>
    <p><b>Workaround:</b> If an add-on is not completely uninstalled, a subsequent add-on installation will fail. Even though the ‘helm -n iks ls` list command does not list any add-on resources, it is possible that some of the resources are not removed. This issue causes a subsequent add-on installation to fail.</p>
    <hr>
</div>

<div>
    <h3> CSCvz24357 - Kubernetes: Add-on URLs do not work</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 03, 2022</p>
    <p><b>Workaround:</b> If more than 1 LoadBalancer IP address is assigned to a cluster, the add-on URL does not work.</p>
    <hr>
</div>

<div>
    <h3> CSCvz99130 - Kubernetes: Status and address information is missing from IKS inventory collection</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 03, 2022</p>
    <p><b>Workaround:</b> The IKS inventory collection is dropping data about the node status and IP addresses due to misconfiguration of the inventory yaml.</p>
    <hr>
</div>

<div>
    <h3> CSCvz88105 - Kubernetes: Add-on installations fail with custom Namespace and Overrides configuration</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 03, 2022</p>
    <p><b>Workaround:</b> Installation of the Dashboard, Monitor, and SMM add-on fails on tenant clusters that are configured with a custom Namespace or an Override settings.</p>
    <hr>
</div>

<div>
    <h3> CSCvy37909 - Kubernetes: essential-vsphere-csi custom resource fails</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 03, 2022</p>
    <p><b>Workaround:</b> Occasionally, the essential-vsphere-csi HelmChart custom resource fails due to a race condition.</p>
    <hr>
</div>

<div>
    <h3> CSCvz25142 - Kubernetes: Pagination issue in the Kubernetes cluster table</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> April 19, 2021</p>
    <p><b>Workaround:</b> The Kubernetes cluster table displays 10 clusters at a time. Selection of clusters for a bulk action is limited to 10 because the next page, and previous page buttons are disabled.</p>
    <hr>
</div>

<div>
    <h3> CSCvw81794 - Kubernetes: Unable to parse / in the network name</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> April 19, 2021</p>
    <p><b>Workaround:</b> While creating an Infrastructure Provider policy, IKS VM creation fails if you use the / in the input to the Interface field.</p>
    <hr>
</div>

<div>
    <h3> CSCvx27447 - Kubernetes: Push cached images to tenant registry</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> April 19, 2021</p>
    <p><b>Workaround:</b> When you import a new VM template into vCenter, it has a name format that is shorter because “ubuntu” is replaced with “u”. This consumes additional storage space.</p>
    <hr>
</div>

<div>
    <h3> CSCvw50943 - Kubernetes: Incorrect style applied to Create button in the Infra Provider Policy page</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> April 19, 2021</p>
    <p><b>Workaround:</b> The Create button in the Infra Provider Policy page is enabled even if the mandatory fields are not filled. Moreover, there are no error messages displayed when you click the Create button without entering the mandatory fields. This is a button styling issue.</p>
    <hr>
</div>

<div>
    <h3> CSCvx41865 - Intersight Managed Mode: The deployment of Server Profile fails with an error- UnconfigureSingleVeth failed with error : Commit request failed</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> April 13, 2021</p>
    <p><b>Workaround:</b> After recommission or decommission of chassis, the deployment of server profile on a server may fail with an error - - UnconfigureSingleVeth failed with error : Commit request failed. This issue is resolved in Release 4.1(3c).</p>
    <hr>
</div>

<div>
    <h3> CSCvv23834 – Intersight Managed Mode: vHBA bound vETH&#39;s VLAN do not change after modification of FCoE VLAN, resulting in hosts losing SAN connection</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> April 2, 2021</p>
    <p><b>Workaround:</b> When an FCoE VLAN of a VSAN is modified in the domain profile, the hosts that are using the VSAN lose SAN connectivity.</p>
    <hr>
</div>

<div>
    <h3> CSCwa76782 - Kubernetes: API DELETE of Kubernetes NodeGroup fails</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> May 18, 2022</p>
    <p><b>Workaround:</b> If you issue a REST API DELETE for a Kubernetes NodeGroupProfile that has NodeProfiles in the Nodes property, you will see a 202 HTTP response (delete accepted). A workflow will be initiated, and it will conclude with a COMPLETED status, however, the NodeGroupProfile is not deleted.</p>
    <hr>
</div>

<div>
    <h3> CSCvx72042 - Kubernetes: Add-on data is not displayed in the Cluster Details page</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> April 2, 2021</p>
    <p><b>Workaround:</b> The data of the deployed add-ons is not displayed in the Monitor and Operate tabs of the Cluster Details page.</p>
    <hr>
</div>

<div>
    <h3> CSCvx76462 - Kubernetes: Ingress IP address changes on scale or upgrade</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> April 2, 2021</p>
    <p><b>Workaround:</b> The virtual IP address of Nginx ingress might not be retained after a tenant upgrade.</p>
    <hr>
</div>

<div>
    <h3> CSCvx01762 - Intersight Managed Mode: Locator LED operation is not working for FEX</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> March 5, 2021</p>
    <p><b>Workaround:</b> The FEX LED operation is not working from both the API and the GUI.</p>
    <hr>
</div>

<div>
    <h3> CSCvv81281 - Cloud Orchestration: Hitachi - Missing Data Reduction and Provisioned fields in main view</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 25, 2021</p>
    <p><b>Workaround:</b> Data Reduction and Provisioned fields available under Intersight &gt; Operate &gt; Storage for Hitachi targets managed via Intersight display null values.</p>
    <hr>
</div>

<div>
    <h3> CSCvx40544 - HyperFlex: Server firmware upgrade for HyperFlex Edge clusters may fail when all servers in the cluster are not claimed in Intersight</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 25, 2021</p>
    <p><b>Workaround:</b> An error message is now available in the Intersight UI to indicate that all the servers must be claimed for a successful server firmware upgrade.</p>
    <hr>
</div>

<div>
    <h3> CSCvx36564 - Infrastructure: iSCSI Boot policy creation fails with Auto Target Source and Auto Initiator IP Source options</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 18, 2021</p>
    <p><b>Workaround:</b> When you create an iSCSI Boot policy with “Auto” target source type, policy creation fails with the following error “Failed to create a policy iSCSI Boot”. A similar error is seen when you create an iSCSI Boot policy with &#34;Static&#34; target source type with &#34;Auto&#34; Initiator IP Source.</p>
    <hr>
</div>

<div>
    <h3> CSCvx03750 - Infrastructure: Unable to create network connectivity policy with only IPv6 address</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> February 15, 2021</p>
    <p><b>Workaround:</b> The user is unable to create a network connectivity policy exclusively with IPv6 address. This issue is found both in the user interface and in the API.</p>
    <hr>
</div>

<div>
    <h3> CSCvx13383 - Intersight Managed Mode: The default value of Tunneled vKVM is toggled to the on state on resetting the device connector</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> January 26, 2021</p>
    <p><b>Workaround:</b> Tunneled vKVM is toggled to the off state for all servers to rectify this issue.</p>
    <hr>
</div>

<div>
    <h3> CSCvv64458 - Intersight Virtual Appliance: In the Cisco Intersight Virtual Appliance release, 1.0.9-164, UCS Firmware Upgrade images fail to display in the UI</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> December 9, 2020</p>
    <p><b>Workaround:</b> UCS Firmware Upgrade images fail to display in the UI in the Cisco Intersight Virtual Appliance release, 1.0.9-164.</p>
    <hr>
</div>

<div>
    <h3> CSCvt61722 - Infrastructure: Unexpected errors are seen if System QoS policy is not selected during UCS Domain profile creation</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> October 29, 2020</p>
    <p><b>Workaround:</b> UCS Domain profile creation for Intersight Managed targets are allowed without selecting System QoS Policy</p>
    <hr>
</div>

<div>
    <h3> CSCvv13330 - Infrastructure: User cannot NTP, Network Connectivity and Syslog policies for Domain Profile in an account at Cisco Intersight Base license</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> September 8, 2020</p>
    <p><b>Workaround:</b> User cannot use NTP, Network Connectivity and Syslog policies for Domain Profile in an account at Cisco Intersight Base license.</p>
    <hr>
</div>

<div>
    <h3> CSCvs96324 - Infrastructure: Port policy configuration option is shown for Server Administrators</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> September 4, 2020</p>
    <p><b>Workaround:</b> Although, a Server Administrator can edit and save a Port Policy, it will fail to deploy with  HTTP 403 forbidden error.</p>
    <hr>
</div>

<div>
    <h3> CSCvv12655 - HyperFlex: HyperFlex cluster deployment is not supported on Intersight Private Virtual Appliance</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> August 24, 2020</p>
    <p><b>Workaround:</b> HyperFlex cluster deployment is not supported on Intersight Private Virtual Appliance releases, 1.0.9-148 and 1.0.9-150.</p>
    <hr>
</div>

<div>
    <h3> CSCvt70211 - Infrastructure: The user label set does not work for blade servers</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> August 21, 2020</p>
    <p><b>Workaround:</b> The user label set does not work for blade servers.</p>
    <hr>
</div>

<div>
    <h3> CSCvv27196 - Intersight Private Virtual Appliance: Tech Support collection is not initiated for endpoints</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> August 13, 2020</p>
    <p><b>Workaround:</b> This caveat is applicable only for Intersight Private Virtual Appliance. Clicking on the UI action &#34;Collect Tech Support&#34; for Servers, Fabric Interconnects, and UCS Director targets does not initiate the tech support collection process.</p>
    <hr>
</div>

<div>
    <h3> CSCvv14616 - Intersight Managed Mode: Intersight Managed FI-attached rack server fails to discover in Intersight</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> August 10, 2020</p>
    <p><b>Workaround:</b> Intersight Managed FI-attached rack server fails to discover in Intersight. The failure is at the &#34;Enable Server Event Channel&#34; workflow stage.</p>
    <hr>
</div>

<div>
    <h3> CSCvu39006 - Infrastructure: IPv6 HTTP file share of custom port mapping with DNS name gives an error</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> May 28, 2020</p>
    <p><b>Workaround:</b> OS installations using an IPv6 HTTP file share with custom port mapping with the DNS name for vMedia mapping results in an error.</p>
    <hr>
</div>

<div>
    <h3> CSCvu01357 - Infrastructure: HTTP, HTTPS file shares to add support for non-default port number</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> May 18, 2020</p>
    <p><b>Workaround:</b> OS installations using IPv6-based HTTP and HTTPS file shares for vMedia mapping results in an error.</p>
    <hr>
</div>

<div>
    <h3> CSCvr69139 - Infrastructure: Persistent Memory security operations</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> May 11, 2020</p>
    <p><b>Workaround:</b> Persistent Memory security operations may fail when the passphrase contains the ’&amp;’ symbol.</p>
    <hr>
</div>

<div>
    <h3> CSCvr88988 - Infrastructure: Boot Policy does not support non-VIC adapters for PXE boot configuration</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> April 30, 2020</p>
    <p><b>Workaround:</b> Boot policy in Intersight requires an Interface name or MAC addresses for non-VIC adapters including the LOM and the adapters in PCI slots.</p>
    <hr>
</div>

<div>
    <h3> CSCvq80554 - Infrastructure: Stale or missing HCL data in Intersight</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> Apr 10, 2020</p>
    <p><b>Workaround:</b> Stale or missing HCL data in Intersight due to a failure in the communication between the Cisco IMC and Cisco UCS Manager.</p>
    <hr>
</div>

<div>
    <h3> CSCvp88912 - Infrastructure: Persistent Memory Inventory not updated</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> March 24, 2020</p>
    <p><b>Workaround:</b> In the Persistent Memory Inventory, Regions and Namespaces are not updated after configuration changes.</p>
    <hr>
</div>

<div>
    <h3> CSCvs49282 - HyperFlex: HX Cluster Capacity Runway is not displayed even when the servers are licensed under the Essentials tier</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> December 19, 2019</p>
    <p><b>Workaround:</b> After a server belonging to a Fabric Interconnect-attached HyperFlex cluster gets decommissioned and recommissioned from Cisco UCS Manager, the license validation for the cluster reports an incorrect result. Therefore, the HyperFlex Cluster Capacity Runway is not displayed even when the servers are licensed under the Essentials tier.</p>
    <hr>
</div>

<div>
    <h3> CSCvp28844 - Infrastructure: Deployment of LAN Connectivity Policy on Cisco UCS C240 M5 Rack Servers with Quad Port adapters running on Cisco IMC 4.0(x) fails</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> November 21, 2019</p>
    <p><b>Workaround:</b> Deployment of LAN Connectivity Policy on Cisco UCS C240 M5 Rack Servers with Quad Port adapters running on Cisco IMC 4.0(x) fails.</p>
    <hr>
</div>

<div>
    <h3> CSCvr88366 - Infrastructure: Cisco UCSC-MLOM-C25Q-04 driver is not listed in the Cisco UCS Hardware and Software Compatibility tool for Standalone UCS C240 M5S servers</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> November 15, 2019</p>
    <p><b>Workaround:</b> Cisco UCSC-MLOM-C25Q-04 driver is not listed in the UCS Hardware and Software Compatibility tool for Standalone UCS C240 M5S servers with Intel Xenon Processor Scalable Family running Oracle Linux UEK 4.1.4.35-1902.</p>
    <hr>
</div>

<div>
    <h3> CSCvr88381 - Infrastructure: 12G Modular SAS RAID Controller is not listed in the Cisco UCS Hardware and Software Compatibility tool for Standalone UCS C240 M5S servers</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> November 14, 2019</p>
    <p><b>Workaround:</b> Cisco 12G Modular SAS RAID Controller is not listed in the UCS Hardware and Software Compatibility tool for Standalone UCS C240 M5S servers with Intel Xenon Processor Scalable Family running Oracle Linux UEK 4.1.12-112 and Oracle Linux UEK 4.1.12-124, on Cisco IMC 4.0(4).</p>
    <hr>
</div>

<div>
    <h3> CSCvr26096 - Infrastructure: LSI Mega Raid SAS 3108 and UCSC-MLOM-C40Q-03 driver is not listed in the Cisco UCS Hardware and Software Compatibility tool for Standalone Cisco UCS C240 M5S servers</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> November 6, 2019</p>
    <p><b>Workaround:</b> LSI Mega Raid SAS 3108 and UCSC-MLOM-C40Q-03 driver is not listed in the in the UCS Hardware and Software Compatibility tool for Standalone UCS C240 M5S servers running Oracle Linux UEK 4.1.4.35-1902, on Cisco IMC 4.0(4).</p>
    <hr>
</div>

<div>
    <h3> CSCvo05293 - Infrastructure: Deployment of Network Policies fails intermittently on Cisco UCS C-Series Standalone M4 and M5 servers</h3>
    <p><b>Status:</b> Resolved</p>
    <p><b>Date:</b> April 23, 2019</p>
    <p><b>Workaround:</b> Deployment of LAN Connectivity, SAN Connectivity, and Adapter Configuration Policies on Cisco UCS C-Series Standalone M4 and M5 servers running Cisco IMC version 4.0(2c) fails intermittently. This condition is caused when there are more than 2 Cisco VIC (Virtual Interface Card) Adapters on the server, and the policies are deployed on all of them.</p>
    <hr>
</div>

<div>
    <h3> CSCwd14586 - For UCS-IOM-2304 and UCS-IOM-2304V2 IO Modules, after adding or deleting no-drop class, IOM reboot is required</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When the no-drop class in System QoS policy is changed after deploying the Domain Profile on the Fabric Interconnects,  all UCS-IOM-2304 IO Modules on both sides of the Fabric Interconnect need to be reset (IOM reset will reboot the IOM) for the QoS changes to be applied.</p>
    <hr>
</div>

<div>
    <h3> CSCwe08601 - Intersight Managed Mode: Chassis profile deployment fails after IOM reset, decommission, or recommission</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> After the reset, decommission, or recommission activity on the IOM (UCS-IOM-2304V or UCS-IOM-2304V2), the IOM displays online state, but the Chassis (UCSB-5108) profile deployment fails with this error message &#34;Unable to apply the configuration because the IOM-B is offline. Retry when the IOM is online. If the issue persists, contact Cisco TAC.</p>
    <hr>
</div>

<div>
    <h3> CSCwd53385 - Intersight Managed Mode: OS boot fails in Cisco UCS B200 M6 server after chassis power-cycle</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When power is lost and restored on a chassis, the server boot to the host OS fails when booting via FC LUN. It is due to a delay in configuring the HIF ports of the adapter. The host tries to boot but has no path, so it fails and boots into the UEFI shell instead.</p>
    <hr>
</div>

<div>
    <h3> CSCwc54734 - Intersight Managed Mode: vNIC status is not operational.</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Faults are not displayed for all vNICs after a reboot in Intersight Managed Mode. This is either due to the Server Profile that has vNICs are pinned to an uplink which is down or the vNICs are not pinned to any uplink or host OS down.</p>
    <hr>
</div>

<div>
    <h3> CSCwd14758 - Intersight Managed Mode: Cisco UCS VIC 1380 adapter does not get updated on moving a Cisco UCS B-Series M5 server from UMM to IMM</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> A Cisco UCS B-Series M5 server having firmware version 4.2(2a) is migrated from UMM to IMM. Cisco UCS 1400 Series adapters are replaced with Cisco UCS 1300 Series adapters. After the discovery of the server, Cisco UCS VIC 1340 adapter gets updated, but Cisco UCS VIC 1380 does not get updated.</p>
    <hr>
</div>

<div>
    <h3> CSCwd76511 - Intersight Managed Mode: Server discovery failure due to adapter issues</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Server discovery fails for a B-Series or C-Series M5 server with Cisco UCS VIC 1300 Series adapters. The GUI shows message as &#34;No Adapter Units found. Try a rediscovery of the server after sometime.&#34; The possible causes can be adapter not working, connectivity issues with the adapter, unsupported Cisco IMC firmware version.</p>
    <hr>
</div>

<div>
    <h3> CSCwd16403 - Intersight Managed Mode: The Hostname displays as Linux after SUSE Linux Enterprise Server (SLES) Operating System (OS) 12 SP5 version install</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> After SLES OS install, the Hostname is displayed as Linux by default instead of SLES. This is specifically observed on SLES OS 12 SP5 version</p>
    <hr>
</div>

<div>
    <h3> CSCwc91572 - Intersight Managed Mode: Modifications to domain profile PVLAN configuration are not reflected in the server profile PVLAN</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When a domain profile PVLAN is modified, for example, mapping the Isolated or Community VLAN to a different Primary VLAN, the changes are not reflected in the server profile PVLAN.</p>
    <hr>
</div>

<div>
    <h3> CSCwc40084 - Intersight Managed Mode: Domain profile deployment fails when a VLAN with the same ID as a residual FCoE VLAN is used in VLAN configuration</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Deployment of the domain profile fails, when a VLAN with the same ID as a residual FCoE VLAN, is used in VLAN configuration. Deployment of the domain profile fails when the FCoE VLAN, created during previous operations, is not cleared from the Fabric Interconnects.</p>
    <hr>
</div>

<div>
    <h3> CSCwd10649 - Intersight Managed Mode: When the Placement mode changes, the Server Profile goes to Pending Changes state</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> If you move the placement option from Simple to advanced or vice versa, the Server Profile moves to Not Deployed state. If the server has a single VIC, the Server Profile redeployment is not required. If the server has a multiple VICs and when the vNICs or vHBAs get assigned to a different VIC other than the one configured earlier, the Server Profile needs to be redeployed.</p>
    <hr>
</div>

<div>
    <h3> CSCwc96598 - Intersight Managed Mode: Bundle version is not seen for already claimed Fabric Interconnects</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Bundle version is not seen for already claimed Fabric Interconnects. However, the bundle version comes up once the upgrade firmware is successful.</p>
    <hr>
</div>

<div>
    <h3> CSCvz51265 - Intersight Managed Mode: Scale Issue: Internal error occurs while deleting policies</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> The operation to delete an Ethernet Network policy with 3000 VLANs leads to Internal Error in the first attempt. Deleting an Ethernet Network Policy with 3000 VLANs triggers a cascade delete and DB operations of the VLANs leading to Internal Error.</p>
    <hr>
</div>

<div>
    <h3> CSCwb68483 - Intersight Managed Mode: Scale Issue: Profiles fail to get assigned to multiple servers in parallel</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> The operation to assign profiles to a large number (greater than 100) of servers in parallel gets timed out.</p>
    <hr>
</div>

<div>
    <h3> CSCwc62086 - Intersight Managed Mode: UEFI Secure Boot not supported on ESXi Operating System for Standalone and IMM servers</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> In Cisco UCS C-Series Standalone and Intersight Managed Mode servers, the UEFI Secure Boot is not supported on ESXi Operating System Installation.</p>
    <hr>
</div>

<div>
    <h3> CSCwc35483 - Intersight Managed Mode: UEFI Secure Boot not supported on RHEL Operating System for IMM servers</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> For RHEL installation with UEFI Secure Boot on Intersight Managed Mode (IMM) servers, the keys used for signing LSI storage drivers are to be added manually in the Machine Owner Key (MOK) database for booting the OS after installation.</p>
    <hr>
</div>

<div>
    <h3> CSCwc26997: Intersight Managed Mode - Server upgrade to 4.2(1) patches fails on a few Micron and Samsung HDD models</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Server upgrade to 4.2(1) patches fails on a few Micron and Samsung HDD models including MTFDDAK120TDT.</p>
    <hr>
</div>

<div>
    <h3> CSCwb40651 - Intersight Managed Mode: SLDP login with FI Admin password fails for C-Series FI-attached servers</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> SLDP login with FI Admin password fails for C-Series FI-attached servers with breakout connection.</p>
    <hr>
</div>

<div>
    <h3> CSCwb25229 - Intersight Managed Mode: Disabling the proxy on the Device Connector causes the server to return an invalid JSON response</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When the proxy is disabled on the Device Connector, the server does not return a valid JSON response. However, this invalid response does not have any impact on any of the settings.</p>
    <hr>
</div>

<div>
    <h3> CSCwa85888 - Intersight Managed Mode: Domain Profile redeploy and port configuration fails after erase-configuration for Cisco UCS 6400 Series FI</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> On re-deploying a domain profile after performing the erase configuration, Ethernet related port configuration is not pushed to Fabric Interconnect device connector for 6400 Series FI.</p>
    <hr>
</div>

<div>
    <h3> CSCwa77455 - Intersight Managed Mode: Server discovery is not initiated on dynamically adding servers to N9K-C93180YC-FX3 Fabric Extender</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Re-claim and re-deploy the domain profile whose servers were discovered through N9K-C93180YC-FX3 FEX. FEX discovers both the Fabric Interconnects but the discovery of servers connected using 25G cables is not initiated.</p>
    <hr>
</div>

<div>
    <h3> CSCwa80829 - Intersight Managed Mode: VNIC/VHBA configuration is not restored for N9K-C93180YC-FX3 Fabric Extender connected server after decom/recom fex</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> N9K-C93180YC-FX3 Fabric Extender is first decommissioned, then re-commissioned and discovered. VNIC/VHBA configuration is not restored after FEX re-discovery.</p>
    <hr>
</div>

<div>
    <h3> CSCwa24768 - Intersight Managed Mode: Switch mode changes are not reflected in the Fabric Interconnect, when the Port Policy is not assigned to the Domain Profile</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When the switching mode is set using the Switch Control policy, and the Domain Profile is deployed with the Switch Control policy but without the Port policy, the Fabric Interconnects do not reboot, and the switch mode changes are not reflected in the Fabric Interconnect.</p>
    <hr>
</div>

<div>
    <h3> CSCwa34969 - Intersight Managed Mode: Switch mode changes are not reflected in the Fabric Interconnect inventory immediately after the Fabric Interconnect reboots</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When the switching mode is changed, the Fabric Interconnect reboots, but the switch mode changes are sometimes not reflected in the Fabric Interconnect inventory.</p>
    <hr>
</div>

<div>
    <h3> CSCvz41858 - Intersight Managed Mode: On rebooting a server after successful Windows installation with iSCSI Boot and UEFI, the server boot is getting stuck at the EFI shell.</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When a server profile is configured with UEFI &#43; iSCSI Boot and during the installation if the custom partitioning of LUN is selected, the boot loader is installed on the M.2 RAID controller disks or local disks, if present. The server boot after the Windows installation is getting stuck at the EFI shell.</p>
    <hr>
</div>

<div>
    <h3> CSCvy97064 - Intersight Managed Mode: Disk numbers cannot be swapped between different Drive Groups and between Drive Group and Global Hot Spare.</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Updating a Storage policy by swapping the disk numbers shows an update failure message.</p>
    <hr>
</div>

<div>
    <h3> CSCvy19447 - Intersight Managed Mode: The critical alarms are not getting cleared even after changing state of vHBA/vNIC from down to up state.</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> The critical alarms are not getting cleared even after changing state of vHBA/vNIC from down to up state. The adapter events are dropped.</p>
    <hr>
</div>

<div>
    <h3> CSCvz18604 - Intersight Managed Mode: Failure of login to BMC through the serial console, using the Fabric Interconnect new admin password</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When a user logs into BMC through the serial console using the Fabric Interconnect new admin password, the authentication is failed. Whereas, the login is successful with the old password.</p>
    <hr>
</div>

<div>
    <h3> CSCvz31237 - Intersight Managed Mode: Storage policy is not getting imported when virtual drive name is empty</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> In Intersight, storage policy is not getting imported when the virtual drive name is empty in the endpoint.</p>
    <hr>
</div>

<div>
    <h3> CSCvy00949 - Intersight Managed Mode: Unable to swap disk slots between Drive Group and Global Hot Spare, and between different Drive Groups</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> While editing a storage policy, an error occurs when the user tries to swap a disk slot from Drive Group to Global Hot Spare OR when they try to swap a disk slot from one Drive Group to another.</p>
    <hr>
</div>

<div>
    <h3> CSCvz14187 – Intersight Managed Mode: The Replace workflow status of the cluster Fabric Interconnect displays the workflow state as Unknown</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> The Replace workflow status of the cluster Fabric Interconnect is displayed as Unknown when the workflow is a success</p>
    <hr>
</div>

<div>
    <h3> CSCvx85657 – Intersight Managed Mode: Reset CMOS does not preserve the Boot policy and Bios policy settings</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> CMOS reset operation does not preserve the configuration settings of Boot and BIOS policies on the server.</p>
    <hr>
</div>

<div>
    <h3> CSCvz04956 – Intersight Managed Mode: Switch role is not supported in IdP initiated SSO</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Switching of user role is not supported when a user with multiple accounts or multiple roles is logged in using IdP initiated SSO.</p>
    <hr>
</div>

<div>
    <h3> CSCvn57742 – Intersight Managed Mode: The usage of sub-policies is not displayed in the policy view page</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> The usage of sub-policies like Ethernet adapter policy, Ethernet network policy, Ethernet QoS policy, FC QoS policy, FC Network policy, and FC adapter policy, is not displayed in the policy view page.</p>
    <hr>
</div>

<div>
    <h3> CSCvx70944 — Intersight Managed Mode: OS installation together on multiple servers fails intermittently</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When you select multiple servers together for OS install, then OS installation fails sometimes.</p>
    <hr>
</div>

<div>
    <h3> CSCvx73658 – Intersight Managed Mode: For IMM c240 rack servers, the field-replaceable-unit fan module 7 is shown as missing</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> c240 specification has six fan modules. Fan module 7 should not be shown as missing.</p>
    <hr>
</div>

<div>
    <h3> CSCvy09951 – Intersight Managed Mode: IMM expects both the Fabric interconnects to be available for implementing configuration changes through domain profile, chassis profile, and server profile</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> IMM expects both the Fabric interconnects to be available for implementing configuration changes through domain profile, chassis profile, and server profile.</p>
    <hr>
</div>

<div>
    <h3> CSCwb47181 - UCSM Managed Mode:  Intersight HCL shows incomplete for compliance with UCSM servers and Cisco Custom VMWare ESXi OS installed</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> UCSM servers are missing the host inventory annotations. Some of the values in the key-value pairs are mismatched or missing.</p>
    <hr>
</div>

<div>
    <h3> CSCvu70337 - UCSM Managed Mode: The user is unable to trigger any workflow if the UMM upgrade fails once</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Once the user starts an upgrade, the supported hardware becomes incompatible. Even after decommissioning the hardware, Cisco Intersight picks up the last failure state. Hence, it throws a validation error.</p>
    <hr>
</div>

<div>
    <h3> CSCwe22713 - HyperFlex: When adding a M6 compute node to a HyperFlex DC-No-FI cluster running HFDP 5.0(2b), the node personality is not set to compute on CIMC/IS.</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> After adding an M6 compute node to a HyperFlex DC-No-FI cluster running HyperFlex Data Platform 5.0(2b) in Intersight, the server will have a converged node personality set. The personality name shown in the CIMC web interface and Intersight may show as either &#34;HyperFlex Hybrid Server&#34;, &#34;HyperFlex All Flash Server&#34;, or &#34;HyperFlex All NVMe Server&#34; instead of the intended value of &#34;HyperFlex Compute Server&#34;. Additionally, the &#34;server-role&#34; property in the &#34;Additional Info&#34; field of the personality will be &#34;storage&#34; instead of &#34;compute&#34;.</p>
    <hr>
</div>

<div>
    <h3> CSCwc80899 - HyperFlex: hx_post_install fails on expanded NIC-based cluster</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> hx_post_install fails on expanded NIC-based custer with vMotion already configured. The vMotion switch cannot be found.</p>
    <hr>
</div>

<div>
    <h3> CSCwa79851 - HyperFlex: Upgrade ESXi on all nodes to 7.0U2 or above and retry</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> For FI-attached clusters, the following error may be seen during the Hypervisor management network configuration step, even if all of the nodes are running the same ESXi version: Please upgrade ESXi on all nodes to 7.0U2 or above and retry.</p>
    <hr>
</div>

<div>
    <h3> CSCvy94937 - HyperFlex: HyperFlex cluster expansion for compute nodes fails with error message: Insufficient Replication IPs</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> For a HyperFlex cluster in which Backup policy is deployed, cluster expansion may fail due to insufficient replication IPs.</p>
    <hr>
</div>

<div>
    <h3> CSCvz06219 - HyperFlex: After HyperFlex cluster expansion datastore displays ‘Mount Failure’ status</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> After HyperFlex cluster expansion when an existing backup target datastore is mounted on newly added node of the target HyperFlex cluster, the datastore displays ‘Mount Failure’ status.</p>
    <hr>
</div>

<div>
    <h3> CSCvy84658 - HyperFlex: Upgrading ESXi to 7.0 U2 may fail on servers running older generation CPUs</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> HyperFlex cluster upgrade initiated through Intersight or HX Connect will display the failure message &#34;CPU_SUPPORT WARNING: The CPU in this host may not be supported in future ESXi releases. Please plan accordingly.&#34;</p>
    <hr>
</div>

<div>
    <h3> CSCvu52248 - HyperFlex: HyperFlex Cluster Capacity Runway may be shown as locked in the HyperFlex cluster table view due to insufficient license</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> For some HyperFlex clusters in the Essentials or higher licensing tier claimed before May 28th, 2020, the Capacity Runway may be shown as locked in the HyperFlex cluster table view due to miscalculated license.</p>
    <hr>
</div>

<div>
    <h3> CSCvw85728 - HyperFlex: HX Controller VM actions are not disabled by default for vCenter Targets, or, internal HX Datastore actions are not disabled by default for vCenter Targets</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> HX Controller VM actions are not disabled by default for vCenter Targets, or, internal HX Datastore actions are not disabled by default for vCenter Targets</p>
    <hr>
</div>

<div>
    <h3> CSCvx46827 - HyperFlex: HX Upgrade with an update to the latest ESXi patch fails if server firmware is already at the desired version</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When you perform a combined HX upgrade with an update to the latest ESXi patch, the update node sub-workflow fails, if the server firmware is already at the desired version.</p>
    <hr>
</div>

<div>
    <h3> CSCvx61290 – HyperFlex: Cluster profile may not be automatically imported if a HyperFlex cluster has nodes with the same hostname</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> HyperFlex cluster import fails when the cluster deployed outside of the current account is claimed and if the cluster has nodes with duplicate hostnames.</p>
    <hr>
</div>

<div>
    <h3> CSCwc27500 - HPE ProLiant Servers: Some of the adapters are not shown in inventory</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> This issue is seen when the HPE ProLiant servers have HP or Broadcom adapters. Redfish API response from the server does not return the details for these adapters because of which Intersight server inventory is not able to display them.</p>
    <hr>
</div>

<div>
    <h3> CSCwc17410 - Dell PowerEdge Servers: Mismatch in the number of storage controllers between BMC UI and Intersight Server Inventory UI</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> This issue is seen due to the discrepancy in the number of storage controllers returned in the Redfish API response.</p>
    <hr>
</div>

<div>
    <h3> CSCwc17404 - Dell PowerEdge Servers: Mismatch in the number of PCIe devices between iDRAC UI and Intersight Server Inventory UI</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> This issue is seen due to the discrepancy in the number of PCIe devices returned in the Redfish API response.</p>
    <hr>
</div>

<div>
    <h3> CSCwc51914 - Third-Party Servers: Incorrect values shown for CPU in the inventory</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> This issue is seen in all servers claimed through Intersight Assist.</p>
    <hr>
</div>

<div>
    <h3> CSCwa47304 - Workload Optimizer: Log4j vulnerability</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Intersight Assist Version 1.0.9-361 addresses the Log4j vulnerability.</p>
    <hr>
</div>

<div>
    <h3> CSCvw48300 - Workload Optimizer: Editing a Dynatrace target does not pre-fill the current Environment ID parameter</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When editing a Dynatrace target, the Environment ID parameter that was filled during target claim is not displayed.</p>
    <hr>
</div>

<div>
    <h3> CSCvx72064 - Workload Optimizer: In the Workload Optimizer supply chain HyperFlex DiskArray and Hyper-V storage may not display some values</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> In the Workload Optimizer supply chain, HyperFlex DiskArray will not display Hyper-V storage, attached hosts, and virtual machine; likewise Hyper-V cluster will not display HyperFlex DiskArray.</p>
    <hr>
</div>

<div>
    <h3> CSCwa92321 - Intersight Cloud Orchestrator: Assigning a value to the workflow variable using the transformed mapping template option does not work</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When you use the transformed mapping template option to assign a value to the workflow variable, the transformed mapping rule does not get applied during workflow execution. Instead, the initial value of the variable is mapped.</p>
    <hr>
</div>

<div>
    <h3> CSCwb41333 - Intersight Cloud Orchestrator: Require proper validation of outputs/inputs used in condition</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When Condition is used as the loop mode in a Serial Loop task, the evaluation of the condition fails if the task name or input/output names are wrong, and the loop exits after the first iteration without honoring the condition.</p>
    <hr>
</div>

<div>
    <h3> CSCwb83887 - Kubernetes: Cluster profile deployment fails if the Port for the vCenter Target is set to 0</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> If the Port for the vCenter Target is set to 0, cluster profile deployment fails with the following error: Missing Port for vCenter target specified in VirtualMachineInfraConfigPolicy my-infra-policy. Check Target configuration and retry.</p>
    <hr>
</div>

<div>
    <h3> CSCwb32462 - Kubernetes: Nvidia-device-plugin pods fail to start after a cluster upgrade</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> IKS Images 1.20.14-iks.0 and later do not cache the container image required for the nvidia-device-plugin daemonset. Not caching the image results in the nvidia-device-plugin pods remaining in the ImagePullBackOff state and the pods failing to start.</p>
    <hr>
</div>

<div>
    <h3> CSCwa17374 - Kubernetes: Unable to reconfigure some of the IKS settings after initial cluster deployment</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> You can configure the following settings only during the initial cluster deployment: &lt;br&gt; - Container Runtime policy &lt;br&gt; - Virtual Machine Infra Config policy &lt;br&gt; - Virtual Machine Instance Type policy &lt;br&gt; - IP Pools &lt;br&gt; - Trusted Registries policy &lt;br&gt; - SSH keys &lt;br&gt; Any change to these settings thereafter will not be applied to the cluster.</p>
    <hr>
</div>

<div>
    <h3> CSCwa92460 - Kubernetes: Upgrading the Monitoring add-on to 0.4.11-cisco1 or later fails and creates multiple Monitoring jobs</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Upgrading the Monitoring add-on to 0.4.11-cisco1 or later fails and creates multiple Monitoring jobs.</p>
    <hr>
</div>

<div>
    <h3> CSCwa51692 - Kubernetes: Upgrading 1.19.15 IKS tenant with SMM addon times out and fails</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> 1.19.15 IKS tenant upgrade fails when you install the SMM add-on and then try to upgrade the tenant.</p>
    <hr>
</div>

<div>
    <h3> CSCvz89618 - Kubernetes: SMM add-on installation fails with Docker proxy configuration</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Installation of SMM add-on fails on tenant clusters that are configured with docker proxy settings.</p>
    <hr>
</div>

<div>
    <h3> CSCvz24357 - Kubernetes: Add-on URLs do not work</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> If more than 1 LoadBalancer IP address is assigned to a cluster, the add-on URL does not work.</p>
    <hr>
</div>

<div>
    <h3> CSCvy10553 - Kubernetes: Unable to configure VM of disk size greater than 40GB</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When you configure a VM of disk size greater than 40GB, the system defaults to a disk size of 40 GB.</p>
    <hr>
</div>

<div>
    <h3> CSCvx97900 - Kubernetes: Certs validation is not supported</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Validation for invalid and expired certs is not supported.</p>
    <hr>
</div>

<div>
    <h3> CSCvw96794 - Kubernetes: IKS cluster deployment fails if ESX clusters use a resource pool with the same name across multiple datacenters</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> In a given datacenter, if multiple ESX clusters use resource pools having the same name then deployment of IKS clusters that use this resource pool fails.</p>
    <hr>
</div>

<div>
    <h3> CSCwb19524 - Infrastructure: Image download fails when you trigger, from Intersight, an upgrade of the UCSM infrastructure to the 4.2(1l)A bundle</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> UCS firmware download fails for the 4.2(1l) packages.</p>
    <hr>
</div>

<div>
    <h3> CSCvz22743 - Infrastructure:Download of firmware upgrade image fails when the proxy is not set in CIMC for M6 Standalone Rack Servers</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> During the workflow of direct upgrade of rack servers, the download of the firmware upgrade image fails when the proxy is not set in CIMC.</p>
    <hr>
</div>

<div>
    <h3> CSCwa09515 - Infrastructure: Adapters, NIC and HBA interfaces count in server view might not be accurate for all hardware configurations</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> In the current implementation, the count for these interfaces is derived from CIMC ComputeRackUnit MO. The NIC and HBA interfaces count provides information only for VIC cards and does not include interfaces of non-Cisco adapters (NIC and FC HBA PCI cards).</p>
    <hr>
</div>

<div>
    <h3> CSCvz40348 - Infrastructure: The Resource Group count field shows incorrect count</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> In the Claim Target page, the Resource Group Count field shows incorrect count. It is expected to display only the count of Resource Groups associated with the Organization mapped against Device Administrator and Device Technician roles</p>
    <hr>
</div>

<div>
    <h3> CSCvy83825 - Infrastructure: An Organization user is unable to perform bulk target claim</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> In the Claim Target page, an Organization user is unable to perform bulk target claim using Set the Configuration via File option.</p>
    <hr>
</div>

<div>
    <h3> CSCvy65585 - Infrastructure: Drive State is not updated after policy deployment on M6 servers</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Physical drive state for the M6 server does not get updated after the deployment of the service profile containing the Storage policy.</p>
    <hr>
</div>

<div>
    <h3> CSCvm67025 - Infrastructure: Unable to install Windows on a JBOD or virtual disk if these targets contain an existing Windows version</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Unable to install Windows on a JBOD or virtual disk if these targets contain an existing Windows version.</p>
    <hr>
</div>

<div>
    <h3> CSCvo06115 - Infrastructure: OS Installation and Server Profile deployment cannot be performed simultaneously on the same server</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> OS installation and server profile deployment cannot be performed simultaneously on the same server. When the OS installation is in progress, power actions on the server are also disallowed.</p>
    <hr>
</div>

<div>
    <h3> CSCvq43037 - Infrastructure: Unable to install Windows Server OS, if the host already has a Windows Server OS installed on it</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Unable to redeploy or reinstall Windows Server OS using the embedded mode of installation without Server Configuration Utility (SCU), if another Windows Server OS is already deployed on the same host.</p>
    <hr>
</div>

<div>
    <h3> CSCvs09817 - Infrastructure: Persistent Memory shows 41 Namespaces only</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Persistent Memory Inventory shows 41 Namespaces only, out of the 64 Namespaces configured.</p>
    <hr>
</div>

<div>
    <h3> CSCvs34452 - Infrastructure: Unable to view vCenter in Device Connector Manager for custom organizations with specific privileges</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> vCenter is not visible in Device Connector Manager for a custom organization with Server Administrator, HyperFlex Administrator, and Read-Only privileges. However, vCenter appears in the devices list.</p>
    <hr>
</div>

<div>
    <h3> CSCvt21720 - Infrastructure: Deployed Secure Passphrase window shows up during Server Profile deployment</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When you change the Persistent Memory policy to a different one in the Server Profile and use the same Secure Passphrase for Persistent Memory Local Security, the Deployed Secure Passphrase window shows up during Server Profile deployment.</p>
    <hr>
</div>

<div>
    <h3> CSCvt39285 - Infrastructure: RHEL8 installation is not supported on C125 M5 server with 4.0(2h) BIOS and firmware</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When you install RHEL 8 with 4.0(2h) server firmware, the server becomes unresponsive.</p>
    <hr>
</div>

<div>
    <h3> CSCvt62202 - Infrastructure: User roles modified in the GUI do not update in the backend</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> User roles modified in the GUI do not update in the backend.</p>
    <hr>
</div>

<div>
    <h3> CSCvu84717 - Infrastructure: Special characters in file share like space and % can render a Bad Request format for OS installation</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Special characters in file share like space and % can render a Bad Request format for OS installation.</p>
    <hr>
</div>

<div>
    <h3> CSCvv16489 - Infrastructure: The API gateway returns a timeout error</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> August 13, 2020</p>
    <p><b>Workaround:</b> The API gateway returns a timeout error when 3000 VLANs are created at a time under the VLAN policy.</p>
    <hr>
</div>

<div>
    <h3> CSCvv81399 - Infrastructure: When using firmware 4.1(1x), the Install Target Selection page does not display a created virtual drive that is out of sync</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When using firmware 4.1(1x), the Install Target Selection page does not display a created virtual drive that is out of sync.</p>
    <hr>
</div>

<div>
    <h3> CSCvw02532 - Infrastructure: Login fails when the LDAP Policy is deployed on a server running firmware version 4.1(2a) and higher</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> Login fails when the LDAP Policy is deployed on a server running firmware version 4.1(2a) and higher.</p>
    <hr>
</div>

<div>
    <h3> CSCvw97203 - Infrastructure: The blade discovery workflow fails with the error message: Failed to send Http Request to Device</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> When a user replaces a blade, the blade discovery workflow gets triggered twice. The first blade discovery workflow that gets triggered for the old blade server, fails with the Failed to Send Http Request to Device error. This workflow can be ignored by the user. The second blade discovery workflow gets triggered for the newly replaced blade which is executed without any issue.</p>
    <hr>
</div>

<div>
    <h3> CSCvx03878 - Infrastructure: Unable to delete M.2 Virtual Drive</h3>
    <p><b>Status:</b> Open</p>
    <p><b>Date:</b> </p>
    <p><b>Workaround:</b> M.2 Virtual Drive does not get deleted from the Storage Controllers tab on the UI or through API. This happens because the virtual drive gets marked as bootable.</p>
    <hr>
</div>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-f8c39addb5d2f863afb2dfccf7c82b32">7 - FAQs</h1>
    
	









<div>
    <h2>General, Account Setup, Claim Target</h2>
    <p></p>
    <p></p>

    <hr>
</div>





<div>
    <h2>Browser Support, Supported Systems, and Multi-Language Support</h2>
    <p></p>
    <p></p>

    <hr>
</div>





<div>
    <h2>Licensing</h2>
    <p></p>
    <p></p>

    <hr>
</div>





<div>
    <h2>Data Traffic, Security</h2>
    <p></p>
    <p></p>

    <hr>
</div>





<div>
    <h2>Organizations and Roles in Intersight</h2>
    <p></p>
    <p></p>

    <hr>
</div>





<div>
    <h2>Single Sign-On</h2>
    <p></p>
    <p></p>

    <hr>
</div>





<div>
    <h2>Multi-Factor Authentication</h2>
    <p></p>
    <p></p>

    <hr>
</div>





<div>
    <h2>Automatic Generation of Tech Support Files by Cisco TAC</h2>
    <p></p>
    <p></p>

    <hr>
</div>





<div>
    <h2>Intersight Virtualization Service</h2>
    <p></p>
    <p></p>

    <hr>
</div>





<div>
    <h2>Others</h2>
    <p></p>
    <p></p>

    <hr>
</div>

</div>



    
	
  
    
    
	
    

<div class="td-content" style="page-break-before: always">
    
	<h1 id="pg-1953ab71c2b09eb2bae84a9b3d4c8ffd">8 - Videos</h1>
    
	







    
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">



    
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" crossorigin="anonymous"></script>



<style>
#slide-window {
    position: relative;
    width: 500px;
    height: 300px;
    overflow: hidden;
    top: 0px;
    left: 0px;
}

#slides-list {
    width: 500px;
    height: 300px;
    position: absolute;
    margin: 0px;
    padding: 0px;
    -webkit-transform: translate3d(0px, 0px, 0px);
    transform: translate3d(0px, 0px, 0px);
    transition: all 0.66s ease;
    -webkit-transition: all 0.66s ease;
}

.slide {
    list-style: none;
    position: relative;
    float: left;
    margin: 0;
    padding: 0;
    width: 500px;
    height: 300px;
    background: #ccc;
    text-align: center;
    line-height: 100%;
    background-size: cover;
    background-position: 50% 50%;
    color: #fff;
    -webkit-transform: translate3d(0px, 0px, 0px);
    -webkit-transform-style: preserve-3d;
}

.nav {
    position: relative;
    z-index: 9;
    top: 45%;
    cursor: pointer;
    color: #fff;
    opacity: 0.7;
    transition: all 0.66s ease;
    -webkit-transition: all 0.66s ease;
}

.nav:hover {
    opacity: 1.0;
}

#left {
    left: 3%;
    float: left;
}

#right {
    right: 3%;
    float: right;
}
</style>


<div id="slide-window">
    <ol id="slides-list">
                <li class="slide" style="background-image:url(http://localhost:8080/security/solution-overview-c22-744638_0.png);"></li>
                <li class="slide" style="background-image:url(http://localhost:8080/security/solution-overview-c22-744638_1.png);"></li>
    </ol>
    <span class="nav fa fa-chevron-left fa-3x" id="left"></span>
    <span class="nav fa fa-chevron-right fa-3x" id="right"></span>
</div>

<script>
sliderJQuery = jQuery.noConflict();
sliderJQuery(function( $ ) {
    $.global = new Object();
    $.global.total = 0;

    $(document).ready(function () {
        var slideWindowWidth = $('#slide-window').width();
        var slideCount = $('#slides-list li').length;
        var totalSlidesWidth = slideCount * slideWindowWidth;

        $.global.item = 0;
        $.global.total = slideCount;

        $('.slide').css('width', slideWindowWidth + 'px');
        $('#slides-list').css('width', totalSlidesWidth + 'px');

        $('#left').click(function () {
            resetAutoSlide();
            performSlide('back');
        });

        $('#right').click(function () {
            resetAutoSlide();
            performSlide('forward');
        });

    });

    function performSlide(direction) {
        if (direction == 'back') {
            var nextSlideId = $.global.item - 1;
        }
        if (direction == 'forward') {
            var nextSlideId = $.global.item + 1;
        }

        if (nextSlideId == -1) {
             
            moveCss($.global.total - 1);
        } else if (nextSlideId == $.global.total) {
             
            moveCss(0);
        } else {
             
            moveCss(nextSlideId);
        }
    }

    function moveCss(nextSlideId) {
        var slideWindowWidth = $('#slide-window').width();
        var margin = slideWindowWidth * nextSlideId;

        $('#slides-list').css('transform', 'translate3d(-' + margin + 'px,0px,0px)');

        $.global.item = nextSlideId;
    }

    
      var autoSlide = parseInt("0", 10);
      var autoSlideInterval;
      function resetAutoSlide(){
        if(autoSlide) {
          if(autoSlideInterval) {
            clearInterval(autoSlideInterval);
          }
          autoSlideInterval = setInterval(function(){
            performSlide('forward');
          }, autoSlide)
        }
      }
      resetAutoSlide();
});
</script>
<p>Cisco Intersight™ is a management platform delivered as a service with embedded analytics for your Cisco and 3rd party IT infrastructure. This platform offers an intelligent level of management that enables IT organizations to analyze, simplify, and automate their environments in more advanced ways than the prior generations of tools. These videos help you get started using Intersight, so you can quickly begin taking advantage of the functionality.</p>
<p>For the latest videos on new Intersight features and functionality, visit the Intersight Documentation videos playlist on YouTube.</p>
<p>Watch out for new videos that are being continuously added to the Managing UCS Infrastructure in Intersight and Managing Cisco X-Series Modular System in Intersight playlists.</p>
<div class="video">
<h2>Cisco Intersight - New User Interface Introduction</h2>

<div class="1050">
  <iframe src="https://www.youtube.com/embed/yP3-rlLx_Jg" allowfullscreen title="YouTube Video"></iframe>
</div>

<p class="description">This video explores the new user interface, additional features and updated organization designed to simplify the entire user experience with Cisco Intersight.</p>
</div>

<div class="1050">
  <iframe src="https://www.youtube.com/embed/w7Ft2ymGmfc" allowfullscreen title="YouTube Video"></iframe>
</div>







<div>
    <h2> Cisco Intersight - New User Interface Introduction</h2>
    <p><b>Youtube ID:</b> yP3-rlLx_Jg</p>
    <p><b>Description:</b> &lt;p&gt;This video explores the new user interface, additional features and updated organization designed to simplify the entire user experience with Cisco Intersight.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Getting Started with Cisco Intersight Infrastructure Services</h2>
    <p><b>Youtube ID:</b> YFUrNTN4SNk</p>
    <p><b>Description:</b> &lt;p&gt;This video helps you get started with Cisco Intersight Infrastructure Services. The Base edition is available at no charge. &lt;/br&gt;&lt;/br&gt;Explore in a few easy steps how you can sign-in, claim targets and add new users!&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Cisco Intersight Licensing Tiers and Registration</h2>
    <p><b>Youtube ID:</b> WJEbUMKBvPo</p>
    <p><b>Description:</b> &lt;p&gt;Cisco Intersight licensing tiers and registration process enables you to centralize configuration management through a unified policy engine, and initiate firmware updates. &lt;/br&gt;&lt;/br&gt;Watch this video to understand the licensing tiers available in Intersight and how you can configure the license registration in a few easy steps!&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Cisco Intersight Device Connector</h2>
    <p><b>Youtube ID:</b> </p>
    <p><b>Description:</b> &lt;p&gt;This video explains the various options to configure the device connector setting to support Cisco UCS C-Series servers using Cisco IMC.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Introduction to Organizations</h2>
    <p><b>Youtube ID:</b> BqyyYJTcNhc</p>
    <p><b>Description:</b> &lt;p&gt;An Organization is a logical entity that enables multi-tenancy through separation of targets. Organizations allow you to group the targets into logical groups and enable you to apply the required configuration settings on a subset of targets. In this video, you will learn how to create an organization, create custom roles that can be tied to one or more organizations, and define privileges for each organization.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Automated HyperFlex Deployment</h2>
    <p><b>Youtube ID:</b> vncGACwBCgc</p>
    <p><b>Description:</b> &lt;p&gt;Intersight can automate HyperFlex cluster deployments using the Ansible modules for Cisco Intersight. This demo explains how to use the Ansible playbook with Intersight.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Installing an Operating System</h2>
    <p><b>Youtube ID:</b> 5hwlDgtAR0E</p>
    <p><b>Description:</b> &lt;p&gt;Intersight enables you to perform an unattended OS installation on one or more Cisco UCS C-Series Standalone servers from your centralized data center. This video walks you through the installation workflow.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Intersight Single Sign-On</h2>
    <p><b>Youtube ID:</b> 4dWLWlAqWpk</p>
    <p><b>Description:</b> &lt;p&gt;Single Sign-On (SSO) authentication enables you to use a single set of credentials to log in to multiple applications.  With SSO authentication, you can log in to Intersight with your corporate credentials instead of your Cisco.com ID.  This video overview shows how to enable Intersight Single Sign-On (SSO) and setup a custom SAML 2.0 application in an external Identity Provider (IdP). &lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Setting Up Cisco Intersight Virtual Appliance</h2>
    <p><b>Youtube ID:</b> 6RJ_V96HePM</p>
    <p><b>Description:</b> &lt;p&gt;Cisco Intersight Virtual Appliance delivers the management features of Intersight in an easy to deploy VMware OVA, Microsoft Hyper-V Server VM, and KVM hypervisor on Linux, that allows you to control what system details leave your premises. The Virtual Appliance form factor enables additional data locality, security, or compliance needs that are not completely met by intersight.com. This video shows you how to install and set up Cisco Intersight Virtual Appliance.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Cisco Intersight Virtual Appliance LDAP/AD Setup</h2>
    <p><b>Youtube ID:</b> 9DUEO2xXszM</p>
    <p><b>Description:</b> &lt;p&gt;Intersight Virtual Appliance supports LDAP/AD-based remote authentication. You can configure the appliance to authenticate a user login using LDAP. This video show you how to integrate your virtual appliance with the LDAP/AD services in your organization.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Installing and Setting Up Intersight Private Virtual Appliance</h2>
    <p><b>Youtube ID:</b> xsMVgBtNXok</p>
    <p><b>Description:</b> &lt;p&gt;Intersight Private Virtual Appliance deployment is intended for an environment where you operate data centers in a disconnected (air gap) mode. Watch this video for information on downloading, installing, and setting up  Private Virtual Appliance, DNS pre-requisites, licensing, and more.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Upgrading Intersight Private Virtual Appliance</h2>
    <p><b>Youtube ID:</b> _QLBt9vTdiE</p>
    <p><b>Description:</b> &lt;p&gt;Watch this video for information on upgrading your Private Virtual Appliance.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Device Connector for UCS Director</h2>
    <p><b>Youtube ID:</b> RLrRdEABIyA</p>
    <p><b>Description:</b> &lt;p&gt;UCS Director can be updated automatically through Intersight. This demo describes how to connect Intersight to UCS Director.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Installing and Configuring Cisco Intersight Assist</h2>
    <p><b>Youtube ID:</b> _HSUNCZ2HmY</p>
    <p><b>Description:</b> &lt;p&gt;Cisco Intersight Assist helps you add endpoint targets to Cisco Intersight. Cisco Intersight Assist is typically a virtual machine (VM) running in your datacenter. You can install Intersight Assist using the bootstrap OVA that is available on Cisco.com. Currently, you can add Pure Storage targets and VMware vCenter targets into Intersight after claiming them using Cisco Intersight Assist. This video shows you how to install and configure Cisco Intersight Assist.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Cisco Intersight Managed Mode Series</h2>
    <p><b>Youtube ID:</b> WKx3DDGINdw</p>
    <p><b>Description:</b> &lt;p&gt;Part 1: Prerequisites and Setup - Intersight Managed Mode is a new architecture that unifies the capabilities of the UCS Systems and the cloud-based flexibility of Intersight, thus combining the management experience for the standalone and Fabric Interconnect attached systems. This video shows you how to set up and configure Intersight Managed Mode&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Cisco Intersight Managed Mode Series</h2>
    <p><b>Youtube ID:</b> rbCPJAlj4yA</p>
    <p><b>Description:</b> &lt;p&gt;Part 2: Configuring UCS Domain Profiles - In this video, you will learn how to create UCS Domain profiles in Intersight Managed Mode.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Cisco Intersight Managed Mode Series</h2>
    <p><b>Youtube ID:</b> nma9yhxkHSU</p>
    <p><b>Description:</b> &lt;p&gt;Part 3: Configuring Server Profiles - In this video, you will learn how to configure server profiles in Intersight Managed Mode.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Cisco Intersight Managed Mode Transition Tool, 1.0.1</h2>
    <p><b>Youtube ID:</b> Oqmf2CAPxtE</p>
    <p><b>Description:</b> &lt;p&gt;IMM Transition Tool - Version 1.0.1 - In this video, you will learn how to transition UCSM Pools, Policies, and Templates from legacy UCSM Domains to Intersight Managed Mode.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Cisco Intersight Managed Mode Transition Tool, 2.0.1</h2>
    <p><b>Youtube ID:</b> duczkcICYrk</p>
    <p><b>Description:</b> &lt;p&gt;IMM Transition Tool - Version 2.0.1 - In this video, you will learn how to transition Service Profile Templates from UCS Central to Intersight.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Cisco Intersight Managed Mode Transition Tool, 3.0.1</h2>
    <p><b>Youtube ID:</b> 6HB4uaSvpxw</p>
    <p><b>Description:</b> &lt;p&gt;IMM Transition Tool - Version 3.0.1 - In this video, you will  learn to migrate the Service Profile to Intersight keeping the IDs intact, clone an Intersight account, and map the source UCS orgs to the destination Intersight org.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Managing UCS Infrastructure in Intersight</h2>
    <p><b>Youtube ID:</b> videoseries?list=PLIlKAL_0d4EwF0Dn_UyIw40zkAx09H2Y2</p>
    <p><b>Description:</b> &lt;p&gt;Cisco Intersight infrastructure services include the deployment, monitoring, management, and support of your physical and virtual infrastructure. It supports Cisco Unified Computing System (Cisco UCS) and Cisco HyperFlex, other third-party Intersight-connected targets, and more. &lt;/br&gt;&lt;/br&gt;Watch this series of short videos to learn more about how to manage your UCS infrastructure with Intersight.&lt;/p&gt;</p>

    <hr>
</div>

<div>
    <h2> Managing Cisco X-Series Modular System in Intersight</h2>
    <p><b>Youtube ID:</b> videoseries?list=PLIlKAL_0d4EyI6UMPKuJFml-Hx7zWQgwt</p>
    <p><b>Description:</b> &lt;p&gt;The Cisco UCS X-Series Modular System powered by Intersight is an adaptable, future-ready system engineered to simplify IT and innovate at the speed of software. &lt;/br&gt;&lt;/br&gt;Watch this series of short videos to learn more about how to manage your Cisco X-Series Modular System in Intersight.&lt;/p&gt;</p>

    <hr>
</div>

</div>



    
	
  



          </main>
        </div>
      </div>
      
<footer class="bg-dark py-5 row d-print-none">
  <div class="container-fluid mx-sm-5">
    <div class="row">
      <div class="col-6 col-sm-4 text-xs-center order-sm-2">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="User mailing list" aria-label="User mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/mail" aria-label="User mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Twitter" aria-label="Twitter">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/twitter" aria-label="Twitter">
      <i class="fab fa-twitter"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Stack Overflow" aria-label="Stack Overflow">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/stack" aria-label="Stack Overflow">
      <i class="fab fa-stack-overflow"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-6 col-sm-4 text-right text-xs-center order-sm-3">
        
        
        
<ul class="list-inline mb-0">
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="GitHub" aria-label="GitHub">
    <a class="text-white" target="_blank" rel="noopener" href="https://github.com/google/docsy" aria-label="GitHub">
      <i class="fab fa-github"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Slack" aria-label="Slack">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/slack" aria-label="Slack">
      <i class="fab fa-slack"></i>
    </a>
  </li>
  
  <li class="list-inline-item mx-2 h3" data-toggle="tooltip" data-placement="top" title="Developer mailing list" aria-label="Developer mailing list">
    <a class="text-white" target="_blank" rel="noopener" href="https://example.org/mail" aria-label="Developer mailing list">
      <i class="fa fa-envelope"></i>
    </a>
  </li>
  
</ul>

        
        
      </div>
      <div class="col-12 col-sm-4 text-center py-2 order-sm-2">
        <small class="text-white">&copy; 2023 Cisco Systems All Rights Reserved</small>
        <small class="ml-1"><a href="https://policies.google.com/privacy" target="_blank" rel="noopener">Privacy Policy</a></small>
	
		<p class="mt-2"><a href="/about/">About Goldydocs</a></p>
	
      </div>
    </div>
  </div>
</footer>


    </div>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@9.1.3/dist/mermaid.min.js" integrity="sha512-E/owfVh8/U1xwhvIT4HSI064DRc1Eo/xf7AYax84rt9gVqA8tc/JNH/lvTl1tuw9PUHQIMGUtObkjYkgRjFqAA==" crossorigin="anonymous"></script>
<style>
.markmap > svg {
  width: 100%;
  height: 300px;
}
</style>
<script>
window.markmap = {
  autoLoader: {
      manual: true,
      onReady() {
        const { autoLoader, builtInPlugins } = window.markmap;
        autoLoader.transformPlugins = builtInPlugins.filter(plugin => plugin.name !== 'prism');
      },
  },
};
</script>
<script src="https://cdn.jsdelivr.net/npm/markmap-autoloader"></script>
<script src='/js/deflate.js'></script>
<script src="/js/main.min.0df8230201e8a69481dceaf8138a4187f74aaa2cbd4771f365bdf85869c9d57a.js" integrity="sha256-DfgjAgHoppSB3Or4E4pBh/dKqiy9R3HzZb34WGnJ1Xo=" crossorigin="anonymous"></script>
<script src='/js/prism.js'></script>
<script src='/js/tabpane-persist.js'></script>

  </body>
</html>
